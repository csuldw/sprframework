/**
 * eqShow - v5.0.1 - 2015-09-11
 *
 *
 * Copyright (c) 2015
 * Licensed MIT <>
 */
!
    function(a, b, c) {
        function d(a) {
            this.mode = n.MODE_8BIT_BYTE,
                this.data = a
        }
        function e(a, b) {
            this.typeNumber = a,
                this.errorCorrectLevel = b,
                this.modules = null,
                this.moduleCount = 0,
                this.dataCache = null,
                this.dataList = new Array
        }
        function f(a, b) {
            if (a.length == c) throw new Error(a.length + "/" + b);
            for (var d = 0; d < a.length && 0 == a[d];) d++;
            this.num = new Array(a.length - d + b);
            for (var e = 0; e < a.length - d; e++) this.num[e] = a[e + d]
        }
        function g(a, b) {
            this.totalCount = a,
                this.dataCount = b
        }
        function h() {
            this.buffer = new Array,
                this.length = 0
        }
        function i() {
            var b = !1;
            return function(a) { (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) && (b = !0)
            } (navigator.userAgent || navigator.vendor || a.opera),
                b
        }
        function j() {
            var a = navigator.userAgent.toLowerCase();
            return "micromessenger" == a.match(/MicroMessenger/i) ? !0 : !1
        }
        function k() {
            var a = navigator.userAgent,
                b = (navigator.appVersion, a.indexOf("Android") > -1 || a.indexOf("Linux") > -1);
            return b
        }
        function l() {
            var a = /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase());
            return a
        }
        function m(a) {
            for (var b = 0,
                     c = 0; c < a.length; c++) {
                var d = a.charCodeAt(c);
                d >= 1 && 126 >= d || d >= 65376 && 65439 >= d ? b++:b += 2
            }
            return b
        } !
            function(b) {
                function c(a) {
                    return a.classList ? a.classList: b(a).attr("class").match(/\S+/gi)
                }
                b.fn.ShareLink = function(d) {
                    function e(a) {
                        var b = h[a];
                        return b = b.replace("{url}", encodeURIComponent(d.url)),
                            b = b.replace("{title}", encodeURIComponent(d.title)),
                            b = b.replace("{text}", encodeURIComponent(d.text)),
                            b = b.replace("{image}", encodeURIComponent(d.image))
                    }
                    var f = {
                            title: "",
                            text: "",
                            image: "",
                            url: a.location.href,
                            class_prefix: "s_"
                        },
                        d = b.extend({},
                            f, d),
                        g = d.class_prefix.length,
                        h = {
                            twitter: "https://twitter.com/intent/tweet?url={url}&text={text}",
                            pinterest: "https://www.pinterest.com/pin/create/button/?media={image}&url={url}&description={text}",
                            facebook: "https://www.facebook.com/sharer.php?u={url}",
                            vk: "https://vkontakte.ru/share.php?url={url}&title={title}&description={text}&image={image}&noparse=true",
                            linkedin: "https://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={text}&source={url}",
                            myworld: "https://connect.mail.ru/share?url={url}&title={title}&description={text}&imageurl={image}",
                            odnoklassniki: "http://odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl={url}&st.comments={text}",
                            tumblr: "https://tumblr.com/share?s=&v=3&t={title}&u={url}",
                            blogger: "https://blogger.com/blog-this.g?t={text}&n={title}&u={url}",
                            delicious: "https://delicious.com/save?url={url}&title={title}",
                            plus: "https://plus.google.com/share?url={url}",
                            digg: "https://digg.com/submit?url={url}&title={title}",
                            reddit: "http://reddit.com/submit?url={url}&title={title}",
                            stumbleupon: "https://www.stumbleupon.com/submit?url={url}&title={title}",
                            pocket: "https://getpocket.com/edit?url={url}&title={title}",
                            chiq: "http://www.chiq.com/create/bookmarklet?u={url}&i={image}&d={title}&c={url}",
                            qrifier: "http://qrifier.com/q?inc=qr&type=url&size=350&string={url}",
                            qrsrc: "http://www.qrsrc.com/default.aspx?shareurl={url}",
                            qzone: "http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}",
                            tulinq: "http://www.tulinq.com/enviar?url={url}&title={title}",
                            misterwong: "http://www.mister-wong.com/index.php?action=addurl&bm_url={url}&bm_description={title}&bm_notice=",
                            sto_zakladok: "http://www.100zakladok.ru/save/?bmurl={url}&bmtitle={title}",
                            two_linkme: "http://www.2linkme.com/?collegamento={url}&id=2lbar",
                            adifni: "http://www.adifni.com/account/bookmark/?bookmark_url={url}",
                            amazonwishlist: "http://www.amazon.com/gp/wishlist/static-add?u={url}&t={title}",
                            amenme: "http://www.amenme.com/AmenMe/Amens/AmenToThis.aspx?url={url}&title={title}",
                            aim: "http://lifestream.aol.com/share/?url={url}&title={title}&description={text} ",
                            aolmail: "http://webmail.aol.com/25045/aol/en-us/Mail/compose-message.aspx?to=&subject={title}&body={{content}}",
                            arto: "http://www.arto.com/section/linkshare/?lu={url}&ln={title}",
                            baidu: "http://cang.baidu.com/do/add?it={title}&iu={url}&fr=ien&dc={text}",
                            bitly: "https://bitly.com/a/bitmarklet?u={url}",
                            bizsugar: "http://www.bizsugar.com/bizsugarthis.php?url={url}",
                            blinklist: "http://www.blinklist.com/blink?u={url}&t={title}&d={text}",
                            blip: "http://blip.pl/dashboard?body={title}%3A%20{url}",
                            blogmarks: "http://blogmarks.net/my/new.php?mini=1&simple=1&url={url}&title={title}&content={text}",
                            blurpalicious: "http://www.blurpalicious.com/submit/?url={url}&title={title}&desc={text}",
                            bobrdobr: "http://bobrdobr.ru/addext.html?url={url}&title={title}&desc={text}",
                            bonzobox: "http://bonzobox.com/toolbar/add?u={url}&t={title}&desc={text}",
                            bookmerkende: "http://www.bookmerken.de/?url={url}&title={title}",
                            box: "https://www.box.net/api/1.0/import?import_as=link&url={url}&name={title}&description={text}",
                            bryderi: "http://bryderi.se/add.html?u={url}",
                            buddymarks: "http://buddymarks.com/add_bookmark.php?bookmark_title={title}&bookmark_url={url}&bookmark_desc={text}",
                            camyoo: "http://www.camyoo.com/note.html?url={url}",
                            care2: "http://www.care2.com/news/compose?sharehint=news&share[share_type]news&bookmarklet=Y&share[title]={title}&share[link_url]={url}&share[content]={text}",
                            citeulike: "http://www.citeulike.org/posturl?url={url}&title={title}",
                            classicalplace: "http://www.classicalplace.com/?u={url}&t={title}&c={text}",
                            cosmiq: "http://www.cosmiq.de/lili/my/add?url={url}",
                            diggita: "http://www.diggita.it/submit.php?url={url}&title={title}",
                            diigo: "http://www.diigo.com/post?url={url}&title={title}&desc={text}",
                            domelhor: "http://domelhor.net/submit.php?url={url}&title={title}",
                            dotnetshoutout: "http://dotnetshoutout.com/Submit?url={url}&title={title}",
                            douban: "http://www.douban.com/recommend/?url={url}&title={title}",
                            dropjack: "http://www.dropjack.com/submit.php?url={url}",
                            edelight: "http://www.edelight.de/geschenk/neu?purl={url}",
                            ekudos: "http://www.ekudos.nl/artikel/nieuw?url={url}&title={title}&desc={text}",
                            elefantapl: "http://elefanta.pl/member/bookmarkNewPage.action?url={url}&title={title}&bookmarkVO.notes=",
                            embarkons: "http://www.embarkons.com/sharer.php?u={url}&t={title}",
                            evernote: "http://www.evernote.com/clip.action?url={url}&title={title}",
                            extraplay: "http://www.extraplay.com/members/share.php?url={url}&title={title}&desc={text}",
                            ezyspot: "http://www.ezyspot.com/submit?url={url}&title={title}",
                            fabulously40: "http://fabulously40.com/writeblog?subject={title}&body={url}",
                            informazione: "http://fai.informazione.it/submit.aspx?url={url}&title={title}&desc={text}",
                            fark: "http://www.fark.com/cgi/farkit.pl?u={url}&h={title}",
                            farkinda: "http://www.farkinda.com/submit?url={url}",
                            favable: "http://www.favable.com/oexchange?url={url}&title={title}&desc={text}",
                            favlogde: "http://www.favlog.de/submit.php?url={url}",
                            flaker: "http://flaker.pl/add2flaker.php?title={title}&url={url}",
                            folkd: "http://www.folkd.com/submit/{url}",
                            fresqui: "http://fresqui.com/enviar?url={url}",
                            friendfeed: "http://friendfeed.com/share?url={url}&title={title}",
                            funp: "http://funp.com/push/submit/?url={url}",
                            fwisp: "http://fwisp.com/submit.php?url={url}",
                            givealink: "http://givealink.org/bookmark/add?url={url}&title={title}",
                            gmail: "http://mail.google.com/mail/?view=cm&fs=1&to=&su={title}&body={text}&ui=1",
                            goodnoows: "http://goodnoows.com/add/?url={url}",
                            google: "http://www.google.com/bookmarks/mark?op=add&bkmk={url}&title={title}&annotation={text}",
                            googletranslate: "http://translate.google.com/translate?hl=en&u={url}&tl=en&sl=auto",
                            greaterdebater: "http://greaterdebater.com/submit/?url={url}&title={title}",
                            hackernews: "http://news.ycombinator.com/submitlink?u={url}&t={title}",
                            hatena: "http://b.hatena.ne.jp/bookmarklet?url={url}&btitle={title}",
                            hedgehogs: "http://www.hedgehogs.net/mod/bookmarks/add.php?address={url}&title={title}",
                            hotmail: "http://www.hotmail.msn.com/secure/start?action=compose&to=&subject={title}&body={{content}}",
                            w3validator: "http://validator.w3.org/check?uri={url}&charset=%28detect+automatically%29&doctype=Inline&group=0",
                            ihavegot: "http://www.ihavegot.com/share/?url={url}&title={title}&desc={text}",
                            instapaper: "http://www.instapaper.com/edit?url={url}&title={title}&summary={text}",
                            isociety: "http://isociety.be/share/?url={url}&title={title}&desc={text}",
                            iwiw: "http://iwiw.hu/pages/share/share.jsp?v=1&u={url}&t={title}",
                            jamespot: "http://www.jamespot.com/?action=spotit&u={url}&t={title}",
                            jumptags: "http://www.jumptags.com/add/?url={url}&title={title}",
                            kaboodle: "http://www.kaboodle.com/grab/addItemWithUrl?url={url}&pidOrRid=pid=&redirectToKPage=true",
                            kaevur: "http://kaevur.com/submit.php?url={url}",
                            kledy: "http://www.kledy.de/submit.php?url={url}&title={title}",
                            librerio: "http://www.librerio.com/inbox?u={url}&t={title}",
                            linkuj: "http://linkuj.cz?id=linkuj&url={url}&title={title}&description={text}&imgsrc=",
                            livejournal: "http://www.livejournal.com/update.bml?subject={title}&event={url}",
                            logger24: "http://logger24.com/?url={url}",
                            mashbord: "http://mashbord.com/plugin-add-bookmark?url={url}",
                            meinvz: "http://www.meinvz.net/Suggest/Selection/?u={url}&desc={title}&prov=addthis.com",
                            mekusharim: "http://mekusharim.walla.co.il/share/share.aspx?url={url}&title={title}",
                            memori: "http://memori.ru/link/?sm=1&u_data[url]={url}",
                            meneame: "http://www.meneame.net/submit.php?url={url}",
                            mixi: "http://mixi.jp/share.pl?u={url}",
                            moemesto: "http://moemesto.ru/post.php?url={url}&title={title}",
                            myspace: "http://www.myspace.com/Modules/PostTo/Pages/?u={url}&t={title}&c=",
                            n4g: "http://www.n4g.com/tips.aspx?url={url}&title={title}",
                            netlog: "http://www.netlog.com/go/manage/links/?view=save&origin=external&url={url}&title={title}&description={text}",
                            netvouz: "http://netvouz.com/action/submitBookmark?url={url}&title={title}&popup=no&description={text}",
                            newstrust: "http://newstrust.net/submit?url={url}&title={title}&ref=addthis",
                            newsvine: "http://www.newsvine.com/_tools/seed&save?u={url}&h={title}&s={text}",
                            nujij: "http://nujij.nl/jij.lynkx?u={url}&t={title}&b={text}",
                            oknotizie: "http://oknotizie.virgilio.it/post?title={title}&url={url}",
                            oyyla: "http://www.oyyla.com/gonder?phase=2&url={url}",
                            pdfonline: "http://savepageaspdf.pdfonline.com/pdfonline/pdfonline.asp?cURL={url}",
                            pdfmyurl: "http://pdfmyurl.com?url={url}",
                            phonefavs: "http://phonefavs.com/bookmarks?action=add&address={url}&title={title}",
                            plaxo: "http://www.plaxo.com/events?share_link={url}&desc={text}",
                            plurk: "http://www.plurk.com/m?content={url}+({title})&qualifier=shares ",
                            posteezy: "http://posteezy.com/node/add/story?title={title}&body={url}",
                            pusha: "http://www.pusha.se/posta?url={url}&title={title}&description={text}",
                            rediff: "http://share.rediff.com/bookmark/addbookmark?title={title}&bookmarkurl={url}",
                            redkum: "http://www.redkum.com/add?url={url}&step=1&title={title}",
                            scoopat: "http://scoop.at/submit?url={url}&title={title}&body={text}",
                            sekoman: "http://sekoman.lv/home?status={title}&url={url}",
                            shaveh: "http://shaveh.co.il/submit.php?url={url}&title={title}",
                            shetoldme: "http://shetoldme.com/publish?url={url}&title={title}&body={text}",
                            sinaweibo: "http://v.t.sina.com.cn/share/share.php?url={url}&title={title}",
                            sodahead: "http://www.sodahead.com/news/submit/?url={url}&title={title}",
                            sonico: "http://www.sonico.com/share.php?url={url}&title={title}",
                            springpad: "http://springpadit.com/s?type=lifemanagr.Bookmark&url={url}&name={title}",
                            startaid: "http://www.startaid.com/index.php?st=AddBrowserLink&type=Detail&v=3&urlname={url}&urltitle={title}&urldesc={text}",
                            startlap: "http://www.startlap.hu/sajat_linkek/addlink.php?url={url}&title={title}",
                            studivz: "http://www.studivz.net/Suggest/Selection/?u={url}&desc={title}&prov=addthis.com",
                            stuffpit: "http://www.stuffpit.com/add.php?produrl={url}",
                            stumpedia: "http://www.stumpedia.com/submit?url={url}",
                            svejo: "http://svejo.net/story/submit_by_url?url={url}&title={title}&summary={text}",
                            symbaloo: "http://www.symbaloo.com/en/add/?url={url}&title={title}",
                            thewebblend: "http://thewebblend.com/submit?url={url}&title={title}",
                            thinkfinity: "http://www.thinkfinity.org/favorite-bookmarklet.jspa?url={url}&subject={title}",
                            thisnext: "http://www.thisnext.com/pick/new/submit/url/?description={text}&name={title}&url={url}",
                            tuenti: "http://www.tuenti.com/share?url={url}",
                            typepad: "http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={title}&qp_href={url}&qp_text={text}",
                            viadeo: "http://www.viadeo.com/shareit/share/?url={url}&title={title}&urlaffiliate=32005&encoding=UTF-8",
                            virb: "http://virb.com/share?external&v=2&url={url}&title={title}",
                            visitezmonsite: "http://www.visitezmonsite.com/publier?url={url}&title={title}&body={text}",
                            vybralisme: "http://vybrali.sme.sk/sub.php?url={url}",
                            webnews: "http://www.webnews.de/einstellen?url={url}&title={title}",
                            wirefan: "http://www.wirefan.com/grpost.php?d=&u={url}&h={title}&d={text}",
                            wordpress: "http://wordpress.com/wp-admin/press-this.php?u={url}&t={title}&s={text}&v=2",
                            wowbored: "http://www.wowbored.com/submit.php?url={url}",
                            wykop: "http://www.wykop.pl/dodaj?url={url}&title={title}&desc={text}",
                            yahoobkm: "http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&u={url}&t={title}&d={text}",
                            yahoomail: "http://compose.mail.yahoo.com/?To=&Subject={title}&body={{content}}",
                            yammer: "https://www.yammer.com/home/bookmarklet?bookmarklet_pop=1&u={url}&t={title}",
                            yardbarker: "http://www.yardbarker.com/author/new/?pUrl={url}&pHead={title}",
                            yigg: "http://www.yigg.de/neu?exturl={url}&exttitle={title}&extdesc={text}",
                            yoolink: "http://go.yoolink.to/addorshare?url_value={url}&title={title}",
                            yorumcuyum: "http://www.yorumcuyum.com/?baslik={title}&link={url}",
                            youmob: "http://youmob.com/mobit.aspx?title={title}&mob={url}",
                            zakladoknet: "http://zakladok.net/link/?u={url}&t={title}",
                            ziczac: "http://ziczac.it/a/segnala/?gurl={url}&gtit={title}"
                        };
                    this.each(function(f, i) {
                        for (var j = c(i), f = 0; f < j.length; f++) {
                            var k = j[f];
                            if (k.substr(0, g) == d.class_prefix && h[k.substr(g)]) {
                                var l = e(k.substr(g));
                                b(i).attr("href", l).click(function() {
                                    var c = screen.width,
                                        e = screen.height,
                                        f = d.width ? d.width: c - .2 * c,
                                        g = d.height ? d.height: e - .2 * e,
                                        h = c / 2 - f / 2,
                                        i = e / 2 - g / 2,
                                        j = "toolbar=0,status=0,width=" + f + ",height=" + g + ",top=" + i + ",left=" + h;
                                    return a.open(b(this).attr("href"), "", j) && !1
                                })
                            }
                        }
                    })
                }
            } (jQuery),
            function(a, b) {
                function c(a) {
                    function b(a, b, c) {
                        return a[b] || (a[b] = c())
                    }
                    var c = b(a, "eqShow", Object);
                    return b(c, "templateParser",
                        function() {
                            var a = {};
                            return function(c, d) {
                                if ("hasOwnProperty" === c) throw new Error("hasOwnProperty is not a valid name");
                                return d && a.hasOwnProperty(c) && (a[c] = null),
                                    b(a, c, d)
                            }
                        })
                }
                function d(b) {
                    templateParser = c(a)
                }
                var e = a.eqShow || (a.eqShow = {});
                d(e)
            } (a, document),
            a.flux = {
                version: "1.4.4"
            },
            function(b) {
                flux.slider = function(c, d) {
                    flux.browser.init(),
                        flux.browser.supportsTransitions || a.console && a.console.error && console.error("Flux Slider requires a browser that supports CSS3 transitions");
                    var e = this;
                    this.element = b(c),
                        this.transitions = [];
                    for (var f in flux.transitions) this.transitions.push(f);
                    this.options = b.extend({
                            autoplay: !0,
                            transitions: this.transitions,
                            delay: 4e3,
                            pagination: !0,
                            controls: !1,
                            captions: !1,
                            width: null,
                            height: null,
                            onTransitionEnd: null,
                            onStartEnd: null,
                            bgColor: ""
                        },
                        d),
                        this.height = this.options.height ? this.options.height: null,
                        this.width = this.options.width ? this.options.width: null;
                    var g = [];
                    b(this.options.transitions).each(function(a, b) {
                        var c = new flux.transitions[b](this),
                            d = !0;
                        c.options.requires3d && !flux.browser.supports3d && (d = !1),
                            c.options.compatibilityCheck && (d = c.options.compatibilityCheck()),
                            d && g.push(b)
                    }),
                        this.options.transitions = g,
                        this.images = new Array,
                        this.imageLoadedCount = 0,
                        this.currentImageIndex = 0,
                        this.nextImageIndex = 1,
                        this.playing = !1,
                        this.container = b('<div class="fluxslider"></div>').appendTo(this.element),
                        this.surface = b('<div class="surface" style="position: relative"></div>').appendTo(this.container),
                        this.container.bind("click",
                            function(c) {
                                b(c.target).hasClass("hasLink") && (a.location = b(c.target).data("href"))
                            }),
                        this.imageContainer = b('<div class="images loading1"></div>').css({
                            position: "relative",
                            overflow: "hidden"
                        }).appendTo(this.surface),
                        this.width && this.height && this.imageContainer.css({
                        width: this.width + "px",
                        height: this.height + "px"
                    }),
                        this.image1 = b('<div class="image1" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),
                        this.image2 = b('<div class="image2" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),
                        b(this.image1).add(this.image2).css({
                            position: "absolute",
                            top: "0px",
                            left: "0px"
                        }),
                        this.element.find("img, a img").each(function(a, c) {
                            var d = c.cloneNode(!1),
                                f = b(c).parent();
                            f.is("a") && b(d).data("href", f.attr("href")),
                                e.images.push(d),
                                b(c).remove()
                        });
                    for (var h = 0; h < this.images.length; h++) {
                        var i = new Image;
                        i.onload = function() {
                            e.imageLoadedCount++,
                                e.width = e.width ? e.width: this.width,
                                e.height = e.height ? e.height: this.height,
                                e.imageLoadedCount >= e.images.length && (e.finishedLoading(), e.setupImages())
                        },
                            i.src = this.images[h].src
                    }
                    this.element.bind("fluxTransitionEnd",
                        function(a, b) {
                            e.options.onTransitionEnd && (a.preventDefault(), e.options.onTransitionEnd(b))
                        }),
                        this.options.autoplay && this.start();
                    var j = {},
                        k = {},
                        l = 20;
                    this.element.bind("mousedown touchstart",
                        function(a) {
                            "touchstart" == a.type ? j.left = a.originalEvent.touches[0].pageX: "mousedown" == a.type && (j.left = a.pageX)
                        }).bind("mouseup touchend",
                        function(a) {
                            "touchend" == a.type ? k.left = a.originalEvent.changedTouches[0].pageX: "mouseup" == a.type && (k.left = a.pageX),
                                    k.left - j.left > l ? e.prev(null, {
                                direction: "right"
                            }) : j.left - k.left > l && e.next(null, {
                                direction: "left"
                            }),
                                e.options.autoplay && (e.stop(), e.start())
                        }),
                        setTimeout(function() {
                                b(a).focus(function() {
                                    e.isPlaying() && e.next()
                                })
                            },
                            100)
                },
                    flux.slider.prototype = {
                        constructor: flux.slider,
                        playing: !1,
                        start: function() {
                            var a = this;
                            this.playing = !0,
                                this.interval = setInterval(function() {
                                        a.transition()
                                    },
                                    this.options.delay),
                                "function" == typeof this.options.onStartEnd && this.options.onStartEnd(this.interval)
                        },
                        stop: function() {
                            this.playing = !1,
                                clearInterval(this.interval),
                                this.interval = null
                        },
                        isPlaying: function() {
                            return this.playing
                        },
                        next: function(a, b) {
                            b = b || {},
                                b.direction = "left",
                                this.showImage(this.currentImageIndex + 1, a, b)
                        },
                        prev: function(a, b) {
                            b = b || {},
                                b.direction = "right",
                                this.showImage(this.currentImageIndex - 1, a, b)
                        },
                        showImage: function(a, b, c) {
                            this.setNextIndex(a),
                                this.setupImages(),
                                this.transition(b, c)
                        },
                        finishedLoading: function() {
                            var a = this;
                            if (this.container.css({
                                width: this.width + "px",
                                height: this.height + "px"
                            }), this.imageContainer.removeClass("loading1"), this.options.pagination && (this.pagination = b('<ul class="pagination"></ul>').css({
                                margin: "0px",
                                padding: "0px",
                                "text-align": "center"
                            }), this.pagination.bind("click",
                                function(c) {
                                    c.preventDefault(),
                                        a.showImage(b(c.target).data("index"))
                                }), b(this.images).each(function(c, d) {
                                var e = b('<li data-index="' + c + '">' + (c + 1) + "</li>").css({
                                    display: "inline-block",
                                    "margin-left": "0.5em",
                                    cursor: "pointer"
                                }).appendTo(a.pagination);
                                0 == c && e.css("margin-left", 0).addClass("current")
                            }), this.container.append(this.pagination)), b(this.imageContainer).css({
                                width: this.width + "px",
                                height: this.height + "px"
                            }), b(this.image1).css({
                                width: this.width + "px",
                                height: this.height + "px"
                            }), b(this.image2).css({
                                width: this.width + "px",
                                height: this.height + "px"
                            }), this.container.css({
                                width: this.width + "px",
                                height: this.height + (this.options.pagination ? this.pagination.height() : 0) + "px"
                            }), this.options.controls) {
                                var c = {
                                    padding: "4px 10px 10px",
                                    "font-size": "60px",
                                    "font-family": "arial, sans-serif",
                                    "line-height": "1em",
                                    "font-weight": "bold",
                                    color: "#FFF",
                                    "text-decoration": "none",
                                    background: "rgba(0,0,0,0.5)",
                                    position: "absolute",
                                    "z-index": 2e3
                                };
                                this.nextButton = b('<a href="#">»</a>').css(c).css3({
                                    "border-radius": "4px"
                                }).appendTo(this.surface).bind("click",
                                    function(b) {
                                        b.preventDefault(),
                                            a.next()
                                    }),
                                    this.prevButton = b('<a href="#">«</a>').css(c).css3({
                                        "border-radius": "4px"
                                    }).appendTo(this.surface).bind("click",
                                        function(b) {
                                            b.preventDefault(),
                                                a.prev()
                                        });
                                var d = (this.height - this.nextButton.height()) / 2;
                                this.nextButton.css({
                                    top: d + "px",
                                    right: "10px"
                                }),
                                    this.prevButton.css({
                                        top: d + "px",
                                        left: "10px"
                                    })
                            }
                            this.options.captions && (this.captionBar = b('<div class="caption"></div>').css({
                                background: "rgba(0,0,0,0.6)",
                                color: "#FFF",
                                "font-size": "16px",
                                "font-family": "helvetica, arial, sans-serif",
                                "text-decoration": "none",
                                "font-weight": "bold",
                                padding: "1.5em 1em",
                                opacity: 0,
                                position: "absolute",
                                "z-index": 110,
                                width: "100%",
                                bottom: 0
                            }).css3({
                                "transition-property": "opacity",
                                "transition-duration": "800ms",
                                "box-sizing": "border-box"
                            }).prependTo(this.surface)),
                                this.updateCaption()
                        },
                        setupImages: function() {
                            var a = this.getImage(this.currentImageIndex),
                                c = {
                                    background: 'url("' + a.src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
                                    zIndex: 101,
                                    cursor: "auto"
                                };
                            b(a).data("href") ? (c.cursor = "pointer", this.image1.addClass("hasLink"), this.image1.data("href", b(a).data("href"))) : (this.image1.removeClass("hasLink"), this.image1.data("href", null)),
                                this.image1.css(c).children().remove(),
                                this.image2.css({
                                    background: 'url("' + this.getImage(this.nextImageIndex).src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
                                    zIndex: 100
                                }),
                                this.options.pagination && this.pagination && (this.pagination.find("li.current").removeClass("current"), b(this.pagination.find("li")[this.currentImageIndex]).addClass("current"))
                        },
                        transition: function(a, d) {
                            if (a == c || !flux.transitions[a]) {
                                var e = Math.floor(Math.random() * this.options.transitions.length);
                                a = this.options.transitions[e]
                            }
                            var f = null;
                            try {
                                f = new flux.transitions[a](this, b.extend(this.options[a] ? this.options[a] : {},
                                    d))
                            } catch(g) {
                                f = new flux.transition(this, {
                                    fallback: !0
                                })
                            }
                            f.run(),
                                this.currentImageIndex = this.nextImageIndex,
                                this.setNextIndex(this.currentImageIndex + 1),
                                this.updateCaption()
                        },
                        updateCaption: function() {
                            var a = b(this.getImage(this.currentImageIndex)).attr("title");
                            this.options.captions && this.captionBar && ("" !== a && this.captionBar.html(a), this.captionBar.css("opacity", "" === a ? 0 : 1))
                        },
                        getImage: function(a) {
                            return a %= this.images.length,
                                this.images[a]
                        },
                        setNextIndex: function(a) {
                            a == c && (a = this.currentImageIndex + 1),
                                this.nextImageIndex = a,
                                this.nextImageIndex > this.images.length - 1 && (this.nextImageIndex = 0),
                                this.nextImageIndex < 0 && (this.nextImageIndex = this.images.length - 1)
                        },
                        increment: function() {
                            this.currentImageIndex++,
                                this.currentImageIndex > this.images.length - 1 && (this.currentImageIndex = 0)
                        }
                    }
            } (a.jQuery || a.Zepto),
            function(b) {
                flux.browser = {
                    init: function() {
                        if (flux.browser.supportsTransitions === c) {
                            var d = (document.createElement("div"), ["-webkit", "-moz", "-o", "-ms"]);
                            if (a.Modernizr && Modernizr.csstransitions !== c ? flux.browser.supportsTransitions = Modernizr.csstransitions: flux.browser.supportsTransitions = this.supportsCSSProperty("Transition"), a.Modernizr && Modernizr.csstransforms3d !== c) flux.browser.supports3d = Modernizr.csstransforms3d;
                            else if (flux.browser.supports3d = this.supportsCSSProperty("Perspective"), flux.browser.supports3d && "webkitPerspective" in b("body").get(0).style) {
                                var e = b('<div id="csstransform3d"></div>'),
                                    f = b('<style media="(transform-3d), (' + d.join("-transform-3d),(") + '-transform-3d)">div#csstransform3d { position: absolute; left: 9px }</style>');
                                b("body").append(e),
                                    b("head").append(f),
                                    flux.browser.supports3d = 9 == e.get(0).offsetLeft,
                                    e.remove(),
                                    f.remove()
                            }
                        }
                    },
                    supportsCSSProperty: function(a) {
                        for (var b = document.createElement("div"), c = ["Webkit", "Moz", "O", "Ms"], d = !1, e = 0; e < c.length; e++) c[e] + a in b.style && (d = d || !0);
                        return d
                    },
                    translate: function(a, b, d) {
                        return a = a != c ? a: 0,
                            b = b != c ? b: 0,
                            d = d != c ? d: 0,
                            "translate" + (flux.browser.supports3d ? "3d(": "(") + a + "px," + b + (flux.browser.supports3d ? "px," + d + "px)": "px)")
                    },
                    rotateX: function(a) {
                        return flux.browser.rotate("x", a)
                    },
                    rotateY: function(a) {
                        return flux.browser.rotate("y", a)
                    },
                    rotateZ: function(a) {
                        return flux.browser.rotate("z", a)
                    },
                    rotate: function(a, b) {
                        return ! a in {
                            x: "",
                            y: "",
                            z: ""
                        } && (a = "z"),
                            b = b != c ? b: 0,
                            flux.browser.supports3d ? "rotate3d(" + ("x" == a ? "1": "0") + ", " + ("y" == a ? "1": "0") + ", " + ("z" == a ? "1": "0") + ", " + b + "deg)": "z" == a ? "rotate(" + b + "deg)": ""
                    }
                },
                    b(function() {
                        flux.browser.init()
                    })
            } (a.jQuery || a.Zepto),
            function(a) {
                a.fn.css3 = function(a) {
                    var b = {},
                        c = ["webkit", "moz", "ms", "o"];
                    for (var d in a) {
                        for (var e = 0; e < c.length; e++) b["-" + c[e] + "-" + d] = a[d];
                        b[d] = a[d]
                    }
                    return this.css(b),
                        this
                },
                    a.fn.transitionEnd = function(b) {
                        for (var c = ["webkitTransitionEnd", "transitionend", "oTransitionEnd"], d = 0; d < c.length; d++) this.bind(c[d],
                            function(d) {
                                for (var e = 0; e < c.length; e++) a(this).unbind(c[e]);
                                b && b.call(this, d)
                            });
                        return this
                    },
                    flux.transition = function(b, d) {
                        if (this.options = a.extend({
                                requires3d: !1,
                                after: function() {}
                            },
                            d), this.slider = b, this.options.requires3d && !flux.browser.supports3d || !flux.browser.supportsTransitions || this.options.fallback === !0) {
                            var e = this;
                            this.options.after = c,
                                this.options.setup = function() {
                                    e.fallbackSetup()
                                },
                                this.options.execute = function() {
                                    e.fallbackExecute()
                                }
                        }
                    },
                    flux.transition.prototype = {
                        constructor: flux.transition,
                        hasFinished: !1,
                        run: function() {
                            var a = this;
                            this.options.setup !== c && this.options.setup.call(this),
                                this.slider.image1.css({
                                    "background-image": "none"
                                }),
                                this.slider.imageContainer.css("overflow", this.options.requires3d ? "visible": "hidden"),
                                setTimeout(function() {
                                        a.options.execute !== c && a.slider.image1.css("background-color", ""),
                                            a.options.execute.call(a)
                                    },
                                    5)
                        },
                        finished: function() {
                            this.hasFinished || (this.hasFinished = !0, this.options.after && this.options.after.call(this), this.slider.imageContainer.css("overflow", "hidden"), this.slider.setupImages(), this.slider.element.trigger("fluxTransitionEnd", {
                                currentImage: this.slider.getImage(this.slider.currentImageIndex)
                            }))
                        },
                        fallbackSetup: function() {},
                        fallbackExecute: function() {
                            this.finished()
                        }
                    },
                    flux.transitions = {},
                    flux.transition_grid = function(b, c) {
                        return new flux.transition(b, a.extend({
                                columns: 6,
                                rows: 6,
                                forceSquare: !1,
                                setup: function() {
                                    var b = this.slider.image1.width(),
                                        c = this.slider.image1.height(),
                                        d = Math.floor(b / this.options.columns),
                                        e = Math.floor(c / this.options.rows);
                                    this.options.forceSquare && (e = d, this.options.rows = Math.floor(c / e));
                                    for (var f = b - this.options.columns * d,
                                             g = Math.ceil(f / this.options.columns), h = c - this.options.rows * e, i = Math.ceil(h / this.options.rows), j = (this.slider.image1.height(), 0), k = 0, l = document.createDocumentFragment(), m = 0; m < this.options.columns; m++) {
                                        var n = d,
                                            k = 0;
                                        if (f > 0) {
                                            var o = f >= g ? g: f;
                                            n += o,
                                                f -= o
                                        }
                                        for (var p = 0; p < this.options.rows; p++) {
                                            var q = e,
                                                r = h;
                                            if (r > 0) {
                                                var o = r >= i ? i: r;
                                                q += o,
                                                    r -= o
                                            }
                                            var s = a('<div class="tile tile-' + m + "-" + p + '"></div>').css({
                                                width: n + "px",
                                                height: q + "px",
                                                position: "absolute",
                                                top: k + "px",
                                                left: j + "px"
                                            });
                                            this.options.renderTile.call(this, s, m, p, n, q, j, k),
                                                l.appendChild(s.get(0)),
                                                k += q
                                        }
                                        j += n
                                    }
                                    this.slider.image1.get(0).appendChild(l)
                                },
                                execute: function() {
                                    var a = this,
                                        b = this.slider.image1.height(),
                                        c = this.slider.image1.find("div.barcontainer");
                                    this.slider.image2.hide(),
                                        c.last().transitionEnd(function(b) {
                                            a.slider.image2.show(),
                                                a.finished()
                                        }),
                                        c.css3({
                                            transform: flux.browser.rotateX( - 90) + " " + flux.browser.translate(0, b / 2, b / 2)
                                        })
                                },
                                renderTile: function(a, b, c, d, e, f, g) {}
                            },
                            c))
                    }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.bars = function(b, c) {
                    return new flux.transition_grid(b, a.extend({
                            columns: 10,
                            rows: 1,
                            delayBetweenBars: 40,
                            renderTile: function(b, c, d, e, f, g, h) {
                                a(b).css({
                                    background: this.slider.image1.css("background"),
                                    "background-size": this.slider.width + "px " + this.slider.height + "px",
                                    "background-position": "-" + g + "px 0px"
                                }).css3({
                                    "transition-duration": "400ms",
                                    "transition-timing-function": "ease-in",
                                    "transition-property": "all",
                                    "transition-delay": c * this.options.delayBetweenBars + "ms"
                                })
                            },
                            execute: function() {
                                var b = this,
                                    c = this.slider.image1.height(),
                                    d = this.slider.image1.find("div.tile");
                                a(d[d.length - 1]).transitionEnd(function() {
                                    b.finished()
                                }),
                                    setTimeout(function() {
                                            d.css({
                                                opacity: "0.5"
                                            }).css3({
                                                transform: flux.browser.translate(0, c)
                                            })
                                        },
                                        50)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.bars3d = function(b, c) {
                    return new flux.transition_grid(b, a.extend({
                            requires3d: !0,
                            columns: 7,
                            rows: 1,
                            delayBetweenBars: 150,
                            perspective: 1e3,
                            renderTile: function(b, c, d, e, f, g, h) {
                                var i = a('<div class="bar-' + c + '"></div>').css({
                                        width: e + "px",
                                        height: "100%",
                                        position: "absolute",
                                        top: "0px",
                                        left: "0px",
                                        "z-index": 200,
                                        background: this.slider.image1.css("background"),
                                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                                        "background-position": "-" + g + "px 0px",
                                        "background-repeat": "no-repeat"
                                    }).css3({
                                        "backface-visibility": "hidden"
                                    }),
                                    j = a(i.get(0).cloneNode(!1)).css({
                                        "background-image": this.slider.image2.css("background-image")
                                    }).css3({
                                        transform: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -f / 2, f / 2)
                                    }),
                                    k = a('<div class="side bar-' + c + '"></div>').css({
                                        width: f + "px",
                                        height: f + "px",
                                        position: "absolute",
                                        top: "0px",
                                        left: "0px",
                                        background: "#222",
                                        "z-index": 190
                                    }).css3({
                                        transform: flux.browser.rotateY(90) + " " + flux.browser.translate(f / 2, 0, -f / 2) + " " + flux.browser.rotateY(180),
                                        "backface-visibility": "hidden"
                                    }),
                                    l = a(k.get(0).cloneNode(!1)).css3({
                                        transform: flux.browser.rotateY(90) + " " + flux.browser.translate(f / 2, 0, e - f / 2)
                                    });
                                a(b).css({
                                    width: e + "px",
                                    height: "100%",
                                    position: "absolute",
                                    top: "0px",
                                    left: g + "px",
                                    "z-index": c > this.options.columns / 2 ? 1e3 - c: 1e3
                                }).css3({
                                    "transition-duration": "800ms",
                                    "transition-timing-function": "linear",
                                    "transition-property": "all",
                                    "transition-delay": c * this.options.delayBetweenBars + "ms",
                                    "transform-style": "preserve-3d"
                                }).append(i).append(j).append(k).append(l)
                            },
                            execute: function() {
                                this.slider.image1.css3({
                                    perspective: this.options.perspective,
                                    "perspective-origin": "50% 50%"
                                }).css({
                                    "-moz-transform": "perspective(" + this.options.perspective + "px)",
                                    "-moz-perspective": "none",
                                    "-moz-transform-style": "preserve-3d"
                                });
                                var a = this,
                                    b = this.slider.image1.height(),
                                    c = this.slider.image1.find("div.tile");
                                this.slider.image2.hide(),
                                    c.last().transitionEnd(function(b) {
                                        a.slider.image1.css3({
                                            "transform-style": "flat"
                                        }),
                                            a.slider.image2.show(),
                                            a.finished()
                                    }),
                                    setTimeout(function() {
                                            c.css3({
                                                transform: flux.browser.rotateX( - 90) + " " + flux.browser.translate(0, b / 2, b / 2)
                                            })
                                        },
                                        50)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.blinds = function(b, c) {
                    return new flux.transitions.bars(b, a.extend({
                            execute: function() {
                                var b = this,
                                    c = (this.slider.image1.height(), this.slider.image1.find("div.tile"));
                                a(c[c.length - 1]).transitionEnd(function() {
                                    b.finished()
                                }),
                                    setTimeout(function() {
                                            c.css({
                                                opacity: "0.5"
                                            }).css3({
                                                transform: "scalex(0.0001)"
                                            })
                                        },
                                        50)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.zip = function(b, c) {
                    return new flux.transitions.bars(b, a.extend({
                            execute: function() {
                                var b = this,
                                    c = this.slider.image1.height(),
                                    d = this.slider.image1.find("div.tile");
                                a(d[d.length - 1]).transitionEnd(function() {
                                    b.finished()
                                }),
                                    setTimeout(function() {
                                            d.each(function(b, d) {
                                                a(d).css({
                                                    opacity: "0.3"
                                                }).css3({
                                                    transform: flux.browser.translate(0, b % 2 ? "-" + 2 * c: c)
                                                })
                                            })
                                        },
                                        20)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.blocks = function(b, d) {
                    return new flux.transition_grid(b, a.extend({
                            forceSquare: !0,
                            delayBetweenBars: 100,
                            renderTile: function(b, d, e, f, g, h, i) {
                                var j = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                                a(b).css({
                                    background: this.slider.image1.css("background"),
                                    "background-size": this.slider.width + "px " + this.slider.height + "px",
                                    "background-position": "-" + h + "px -" + i + "px"
                                }).css3({
                                    "transition-duration": "350ms",
                                    "transition-timing-function": "ease-in",
                                    "transition-property": "all",
                                    "transition-delay": j + "ms"
                                }),
                                    this.maxDelay === c && (this.maxDelay = 0),
                                    j > this.maxDelay && (this.maxDelay = j, this.maxDelayTile = b)
                            },
                            execute: function() {
                                var b = this,
                                    c = this.slider.image1.find("div.tile");
                                this.maxDelayTile.transitionEnd(function() {
                                    b.finished()
                                }),
                                    setTimeout(function() {
                                            c.each(function(b, c) {
                                                a(c).css({
                                                    opacity: "0"
                                                }).css3({
                                                    transform: "scale(0.8)"
                                                })
                                            })
                                        },
                                        50)
                            }
                        },
                        d))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.blocks2 = function(b, c) {
                    return new flux.transition_grid(b, a.extend({
                            cols: 12,
                            forceSquare: !0,
                            delayBetweenDiagnols: 150,
                            renderTile: function(b, c, d, e, f, g, h) {
                                Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                                a(b).css({
                                    background: this.slider.image1.css("background"),
                                    "background-size": this.slider.width + "px " + this.slider.height + "px",
                                    "background-position": "-" + g + "px -" + h + "px"
                                }).css3({
                                    "transition-duration": "350ms",
                                    "transition-timing-function": "ease-in",
                                    "transition-property": "all",
                                    "transition-delay": (c + d) * this.options.delayBetweenDiagnols + "ms",
                                    "backface-visibility": "hidden"
                                })
                            },
                            execute: function() {
                                var b = this,
                                    c = this.slider.image1.find("div.tile");
                                c.last().transitionEnd(function() {
                                    b.finished()
                                }),
                                    setTimeout(function() {
                                            c.each(function(b, c) {
                                                a(c).css({
                                                    opacity: "0"
                                                }).css3({
                                                    transform: "scale(0.8)"
                                                })
                                            })
                                        },
                                        50)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.cube = function(b, c) {
                    return new flux.transition(b, a.extend({
                            requires3d: !0,
                            barWidth: 100,
                            direction: "left",
                            perspective: 1e3,
                            setup: function() {
                                var b = this.slider.image1.width(),
                                    c = this.slider.image1.height();
                                this.slider.image1.css3({
                                    perspective: this.options.perspective,
                                    "perspective-origin": "50% 50%"
                                }),
                                    this.cubeContainer = a('<div class="cube"></div>').css({
                                        width: b + "px",
                                        height: c + "px",
                                        position: "relative"
                                    }).css3({
                                        "transition-duration": "800ms",
                                        "transition-timing-function": "linear",
                                        "transition-property": "all",
                                        "transform-style": "preserve-3d"
                                    });
                                var d = {
                                        height: "100%",
                                        width: "100%",
                                        position: "absolute",
                                        top: "0px",
                                        left: "0px"
                                    },
                                    e = a('<div class="face current"></div>').css(a.extend(d, {
                                        background: this.slider.image1.css("background"),
                                        "background-size": this.slider.width + "px " + this.slider.height + "px"
                                    })).css3({
                                        "backface-visibility": "hidden"
                                    });
                                this.cubeContainer.append(e);
                                var f = a('<div class="face next"></div>').css(a.extend(d, {
                                    background: this.slider.image2.css("background-image")
                                })).css3({
                                    transform: this.options.transitionStrings.call(this, this.options.direction, "nextFace"),
                                    "backface-visibility": "hidden"
                                });
                                this.cubeContainer.append(f),
                                    this.slider.image1.append(this.cubeContainer)
                            },
                            execute: function() {
                                var a = this;
                                this.slider.image1.width(),
                                    this.slider.image1.height();
                                this.slider.image2.hide(),
                                    this.cubeContainer.transitionEnd(function() {
                                        a.slider.image2.show(),
                                            a.finished()
                                    }),
                                    setTimeout(function() {
                                            a.cubeContainer.css3({
                                                transform: a.options.transitionStrings.call(a, a.options.direction, "container")
                                            })
                                        },
                                        50)
                            },
                            transitionStrings: function(a, b) {
                                var c = this.slider.image1.width(),
                                    d = this.slider.image1.height(),
                                    e = {
                                        up: {
                                            nextFace: flux.browser.rotateX( - 90) + " " + flux.browser.translate(0, d / 2, d / 2),
                                            container: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -d / 2, d / 2)
                                        },
                                        down: {
                                            nextFace: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -d / 2, d / 2),
                                            container: flux.browser.rotateX( - 90) + " " + flux.browser.translate(0, d / 2, d / 2)
                                        },
                                        left: {
                                            nextFace: flux.browser.rotateY(90) + " " + flux.browser.translate(c / 2, 0, c / 2),
                                            container: flux.browser.rotateY( - 90) + " " + flux.browser.translate( - c / 2, 0, c / 2)
                                        },
                                        right: {
                                            nextFace: flux.browser.rotateY( - 90) + " " + flux.browser.translate( - c / 2, 0, c / 2),
                                            container: flux.browser.rotateY(90) + " " + flux.browser.translate(c / 2, 0, c / 2)
                                        }
                                    };
                                return e[a] && e[a][b] ? e[a][b] : !1
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.tiles3d = function(b, c) {
                    return new flux.transition_grid(b, a.extend({
                            requires3d: !0,
                            forceSquare: !0,
                            columns: 5,
                            perspective: 600,
                            delayBetweenBarsX: 200,
                            delayBetweenBarsY: 150,
                            renderTile: function(b, c, d, e, f, g, h) {
                                var i = a("<div></div>").css({
                                        width: e + "px",
                                        height: f + "px",
                                        position: "absolute",
                                        top: "0px",
                                        left: "0px",
                                        background: this.slider.image1.css("background"),
                                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                                        "background-position": "-" + g + "px -" + h + "px",
                                        "background-repeat": "no-repeat",
                                        "-moz-transform": "translateZ(1px)"
                                    }).css3({
                                        "backface-visibility": "hidden"
                                    }),
                                    j = a(i.get(0).cloneNode(!1)).css({
                                        "background-image": this.slider.image2.css("background-image")
                                    }).css3({
                                        transform: flux.browser.rotateY(180),
                                        "backface-visibility": "hidden"
                                    });
                                a(b).css({
                                    "z-index": (c > this.options.columns / 2 ? 500 - c: 500) + (d > this.options.rows / 2 ? 500 - d: 500)
                                }).css3({
                                    "transition-duration": "800ms",
                                    "transition-timing-function": "ease-out",
                                    "transition-property": "all",
                                    "transition-delay": c * this.options.delayBetweenBarsX + d * this.options.delayBetweenBarsY + "ms",
                                    "transform-style": "preserve-3d"
                                }).append(i).append(j)
                            },
                            execute: function() {
                                this.slider.image1.css3({
                                    perspective: this.options.perspective,
                                    "perspective-origin": "50% 50%"
                                });
                                var a = this,
                                    b = this.slider.image1.find("div.tile");
                                this.slider.image2.hide(),
                                    b.last().transitionEnd(function(b) {
                                        a.slider.image2.show(),
                                            a.finished()
                                    }),
                                    setTimeout(function() {
                                            b.css3({
                                                transform: flux.browser.rotateY(180)
                                            })
                                        },
                                        50)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.turn = function(b, c) {
                    return new flux.transition(b, a.extend({
                            requires3d: !0,
                            perspective: 1300,
                            direction: "left",
                            setup: function() {
                                var b = a('<div class="tab"></div>').css({
                                        width: "50%",
                                        height: "100%",
                                        position: "absolute",
                                        top: "0px",
                                        left: "left" == this.options.direction ? "50%": "0%",
                                        "z-index": 101
                                    }).css3({
                                        "transform-style": "preserve-3d",
                                        "transition-duration": "1000ms",
                                        "transition-timing-function": "ease-out",
                                        "transition-property": "all",
                                        "transform-origin": "left" == this.options.direction ? "left center": "right center"
                                    }),
                                    c = (a("<div></div>").appendTo(b).css({
                                        background: this.slider.image1.css("background"),
                                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                                        "background-position": ("left" == this.options.direction ? "-" + this.slider.image1.width() / 2 : 0) + "px 0",
                                        width: "100%",
                                        height: "100%",
                                        position: "absolute",
                                        top: "0",
                                        left: "0",
                                        "-moz-transform": "translateZ(1px)"
                                    }).css3({
                                        "backface-visibility": "hidden"
                                    }), a("<div></div>").appendTo(b).css({
                                        background: this.slider.image2.css("background"),
                                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                                        "background-position": ("left" == this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
                                        width: "100%",
                                        height: "100%",
                                        position: "absolute",
                                        top: "0",
                                        left: "0"
                                    }).css3({
                                        transform: flux.browser.rotateY(180),
                                        "backface-visibility": "hidden"
                                    }), a("<div></div>").css({
                                        position: "absolute",
                                        top: "0",
                                        left: "left" == this.options.direction ? "0": "50%",
                                        width: "50%",
                                        height: "100%",
                                        background: this.slider.image1.css("background"),
                                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                                        "background-position": ("left" == this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
                                        "z-index": 100
                                    })),
                                    d = a('<div class="overlay"></div>').css({
                                        position: "absolute",
                                        top: "0",
                                        left: "left" == this.options.direction ? "50%": "0",
                                        width: "50%",
                                        height: "100%",
                                        background: "#000",
                                        opacity: 1
                                    }).css3({
                                        "transition-duration": "800ms",
                                        "transition-timing-function": "linear",
                                        "transition-property": "opacity"
                                    }),
                                    e = a("<div></div>").css3({
                                        width: "100%",
                                        height: "100%"
                                    }).css3({
                                        perspective: this.options.perspective,
                                        "perspective-origin": "50% 50%"
                                    }).append(b).append(c).append(d);
                                this.slider.image1.append(e)
                            },
                            execute: function() {
                                var a = this;
                                this.slider.image1.find("div.tab").first().transitionEnd(function() {
                                    a.finished()
                                }),
                                    setTimeout(function() {
                                            a.slider.image1.find("div.tab").css3({
                                                transform: flux.browser.rotateY("left" == a.options.direction ? -179 : 179)
                                            }),
                                                a.slider.image1.find("div.overlay").css({
                                                    opacity: 0
                                                })
                                        },
                                        50)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.slide = function(b, c) {
                    return new flux.transition(b, a.extend({
                            direction: "left",
                            setup: function() {
                                var b = this.slider.image1.width(),
                                    c = this.slider.image1.height(),
                                    d = a('<div class="current"></div>').css({
                                        height: c + "px",
                                        width: b + "px",
                                        position: "absolute",
                                        top: "0px",
                                        left: "0px",
                                        background: this.slider["left" == this.options.direction ? "image1": "image2"].css("background")
                                    }).css3({
                                        "backface-visibility": "hidden"
                                    }),
                                    e = a('<div class="next"></div>').css({
                                        height: c + "px",
                                        width: b + "px",
                                        position: "absolute",
                                        top: "0px",
                                        left: b + "px",
                                        background: this.slider["left" == this.options.direction ? "image2": "image1"].css("background")
                                    }).css3({
                                        "backface-visibility": "hidden"
                                    });
                                this.slideContainer = a('<div class="slide"></div>').css({
                                    width: 2 * b + "px",
                                    height: c + "px",
                                    position: "relative",
                                    left: "left" == this.options.direction ? "0px": -b + "px",
                                    "z-index": 101
                                }).css3({
                                    "transition-duration": "600ms",
                                    "transition-timing-function": "ease-in",
                                    "transition-property": "all"
                                }),
                                    this.slideContainer.append(d).append(e),
                                    this.slider.image1.append(this.slideContainer)
                            },
                            execute: function() {
                                var a = this,
                                    b = this.slider.image1.width();
                                "left" == this.options.direction && (b = -b),
                                    this.slideContainer.transitionEnd(function() {
                                        a.finished()
                                    }),
                                    setTimeout(function() {
                                            a.slideContainer.css3({
                                                transform: flux.browser.translate(b)
                                            })
                                        },
                                        50)
                            }
                        },
                        c))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                flux.transitions.explode = function(b, d) {
                    return new flux.transition_grid(b, a.extend({
                            columns: 6,
                            forceSquare: !0,
                            delayBetweenBars: 30,
                            perspective: 800,
                            requires3d: !0,
                            renderTile: function(b, d, e, f, g, h, i) {
                                var j = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                                a(b).css({
                                    background: this.slider.image1.css("background"),
                                    "background-size": this.slider.width + "px " + this.slider.height + "px",
                                    "background-position": "-" + h + "px -" + i + "px"
                                }).css3({
                                    "transition-duration": "500ms",
                                    "transition-timing-function": "ease-in",
                                    "transition-property": "all",
                                    "transition-delay": j + "ms"
                                }),
                                    this.maxDelay === c && (this.maxDelay = 0),
                                    j > this.maxDelay && (this.maxDelay = j, this.maxDelayTile = b)
                            },
                            execute: function() {
                                this.slider.image1.css3({
                                    perspective: this.options.perspective,
                                    "perspective-origin": "50% 50%"
                                }).css({
                                    "-moz-transform": "perspective(" + this.options.perspective + "px)",
                                    "-moz-perspective": "none",
                                    "-moz-transform-style": "preserve-3d"
                                });
                                var b = this,
                                    c = this.slider.image1.find("div.tile");
                                this.maxDelayTile.transitionEnd(function() {
                                    b.slider.image1.css3({
                                        "transform-style": "flat"
                                    }),
                                        b.finished()
                                }),
                                    setTimeout(function() {
                                            c.each(function(b, c) {
                                                a(c).css({
                                                    opacity: "0"
                                                }).css3({
                                                    transform: flux.browser.translate(0, 0, 700) + " rotate3d(" + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", 90deg) "
                                                })
                                            })
                                        },
                                        50)
                            }
                        },
                        d))
                }
            } (a.jQuery || a.Zepto),
            function(a) {
                a.fn.qrcode = function(b) {
                    "string" == typeof b && (b = {
                        text: b
                    }),
                        b = a.extend({},
                            {
                                render: "canvas",
                                width: 256,
                                height: 256,
                                typeNumber: -1,
                                correctLevel: o.H,
                                background: "#ffffff",
                                foreground: "#000000"
                            },
                            b);
                    var c = function() {
                            var a = new e(b.typeNumber, b.correctLevel);
                            a.addData(b.text),
                                a.make();
                            var c = document.createElement("canvas");
                            c.width = b.width,
                                c.height = b.height;
                            for (var d = c.getContext("2d"), f = b.width / a.getModuleCount(), g = b.height / a.getModuleCount(), h = 0; h < a.getModuleCount(); h++) for (var i = 0; i < a.getModuleCount(); i++) {
                                d.fillStyle = a.isDark(h, i) ? b.foreground: b.background;
                                var j = Math.ceil((i + 1) * f) - Math.floor(i * f),
                                    k = Math.ceil((h + 1) * f) - Math.floor(h * f);
                                d.fillRect(Math.round(i * f), Math.round(h * g), j, k)
                            }
                            return c
                        },
                        d = function() {
                            var c = new e(b.typeNumber, b.correctLevel);
                            c.addData(b.text),
                                c.make();
                            for (var d = a("<table></table>").css("width", b.width + "px").css("height", b.height + "px").css("border", "0px").css("border-collapse", "collapse").css("background-color", b.background), f = b.width / c.getModuleCount(), g = b.height / c.getModuleCount(), h = 0; h < c.getModuleCount(); h++) for (var i = a("<tr></tr>").css("height", g + "px").appendTo(d), j = 0; j < c.getModuleCount(); j++) a("<td></td>").css("width", f + "px").css("background-color", c.isDark(h, j) ? b.foreground: b.background).appendTo(i);
                            return d
                        };
                    return this.each(function() {
                        var e = "canvas" == b.render ? c() : d();
                        a(e).appendTo(this)
                    })
                }
            } (jQuery),
            d.prototype = {
                getLength: function(a) {
                    return this.data.length
                },
                write: function(a) {
                    for (var b = 0; b < this.data.length; b++) a.put(this.data.charCodeAt(b), 8)
                }
            },
            e.prototype = {
                addData: function(a) {
                    var b = new d(a);
                    this.dataList.push(b),
                        this.dataCache = null
                },
                isDark: function(a, b) {
                    if (0 > a || this.moduleCount <= a || 0 > b || this.moduleCount <= b) throw new Error(a + "," + b);
                    return this.modules[a][b]
                },
                getModuleCount: function() {
                    return this.moduleCount
                },
                make: function() {
                    if (this.typeNumber < 1) {
                        var a = 1;
                        for (a = 1; 40 > a; a++) {
                            for (var b = g.getRSBlocks(a, this.errorCorrectLevel), c = new h, d = 0, e = 0; e < b.length; e++) d += b[e].dataCount;
                            for (var e = 0; e < this.dataList.length; e++) {
                                var f = this.dataList[e];
                                c.put(f.mode, 4),
                                    c.put(f.getLength(), q.getLengthInBits(f.mode, a)),
                                    f.write(c)
                            }
                            if (c.getLengthInBits() <= 8 * d) break
                        }
                        this.typeNumber = a
                    }
                    this.makeImpl(!1, this.getBestMaskPattern())
                },
                makeImpl: function(a, b) {
                    this.moduleCount = 4 * this.typeNumber + 17,
                        this.modules = new Array(this.moduleCount);
                    for (var c = 0; c < this.moduleCount; c++) {
                        this.modules[c] = new Array(this.moduleCount);
                        for (var d = 0; d < this.moduleCount; d++) this.modules[c][d] = null
                    }
                    this.setupPositionProbePattern(0, 0),
                        this.setupPositionProbePattern(this.moduleCount - 7, 0),
                        this.setupPositionProbePattern(0, this.moduleCount - 7),
                        this.setupPositionAdjustPattern(),
                        this.setupTimingPattern(),
                        this.setupTypeInfo(a, b),
                        this.typeNumber >= 7 && this.setupTypeNumber(a),
                        null == this.dataCache && (this.dataCache = e.createData(this.typeNumber, this.errorCorrectLevel, this.dataList)),
                        this.mapData(this.dataCache, b)
                },
                setupPositionProbePattern: function(a, b) {
                    for (var c = -1; 7 >= c; c++) if (! ( - 1 >= a + c || this.moduleCount <= a + c)) for (var d = -1; 7 >= d; d++) - 1 >= b + d || this.moduleCount <= b + d || (c >= 0 && 6 >= c && (0 == d || 6 == d) || d >= 0 && 6 >= d && (0 == c || 6 == c) || c >= 2 && 4 >= c && d >= 2 && 4 >= d ? this.modules[a + c][b + d] = !0 : this.modules[a + c][b + d] = !1)
                },
                getBestMaskPattern: function() {
                    for (var a = 0,
                             b = 0,
                             c = 0; 8 > c; c++) {
                        this.makeImpl(!0, c);
                        var d = q.getLostPoint(this); (0 == c || a > d) && (a = d, b = c)
                    }
                    return b
                },
                createMovieClip: function(a, b, c) {
                    var d = a.createEmptyMovieClip(b, c),
                        e = 1;
                    this.make();
                    for (var f = 0; f < this.modules.length; f++) for (var g = f * e,
                                                                           h = 0; h < this.modules[f].length; h++) {
                        var i = h * e,
                            j = this.modules[f][h];
                        j && (d.beginFill(0, 100), d.moveTo(i, g), d.lineTo(i + e, g), d.lineTo(i + e, g + e), d.lineTo(i, g + e), d.endFill())
                    }
                    return d
                },
                setupTimingPattern: function() {
                    for (var a = 8; a < this.moduleCount - 8; a++) null == this.modules[a][6] && (this.modules[a][6] = a % 2 == 0);
                    for (var b = 8; b < this.moduleCount - 8; b++) null == this.modules[6][b] && (this.modules[6][b] = b % 2 == 0)
                },
                setupPositionAdjustPattern: function() {
                    for (var a = q.getPatternPosition(this.typeNumber), b = 0; b < a.length; b++) for (var c = 0; c < a.length; c++) {
                        var d = a[b],
                            e = a[c];
                        if (null == this.modules[d][e]) for (var f = -2; 2 >= f; f++) for (var g = -2; 2 >= g; g++) - 2 == f || 2 == f || -2 == g || 2 == g || 0 == f && 0 == g ? this.modules[d + f][e + g] = !0 : this.modules[d + f][e + g] = !1
                    }
                },
                setupTypeNumber: function(a) {
                    for (var b = q.getBCHTypeNumber(this.typeNumber), c = 0; 18 > c; c++) {
                        var d = !a && 1 == (b >> c & 1);
                        this.modules[Math.floor(c / 3)][c % 3 + this.moduleCount - 8 - 3] = d
                    }
                    for (var c = 0; 18 > c; c++) {
                        var d = !a && 1 == (b >> c & 1);
                        this.modules[c % 3 + this.moduleCount - 8 - 3][Math.floor(c / 3)] = d
                    }
                },
                setupTypeInfo: function(a, b) {
                    for (var c = this.errorCorrectLevel << 3 | b,
                             d = q.getBCHTypeInfo(c), e = 0; 15 > e; e++) {
                        var f = !a && 1 == (d >> e & 1);
                        6 > e ? this.modules[e][8] = f: 8 > e ? this.modules[e + 1][8] = f: this.modules[this.moduleCount - 15 + e][8] = f
                    }
                    for (var e = 0; 15 > e; e++) {
                        var f = !a && 1 == (d >> e & 1);
                        8 > e ? this.modules[8][this.moduleCount - e - 1] = f: 9 > e ? this.modules[8][15 - e - 1 + 1] = f: this.modules[8][15 - e - 1] = f
                    }
                    this.modules[this.moduleCount - 8][8] = !a
                },
                mapData: function(a, b) {
                    for (var c = -1,
                             d = this.moduleCount - 1,
                             e = 7,
                             f = 0,
                             g = this.moduleCount - 1; g > 0; g -= 2) for (6 == g && g--;;) {
                        for (var h = 0; 2 > h; h++) if (null == this.modules[d][g - h]) {
                            var i = !1;
                            f < a.length && (i = 1 == (a[f] >>> e & 1));
                            var j = q.getMask(b, d, g - h);
                            j && (i = !i),
                                this.modules[d][g - h] = i,
                                e--,
                                -1 == e && (f++, e = 7)
                        }
                        if (d += c, 0 > d || this.moduleCount <= d) {
                            d -= c,
                                c = -c;
                            break
                        }
                    }
                }
            },
            e.PAD0 = 236,
            e.PAD1 = 17,
            e.createData = function(a, b, c) {
                for (var d = g.getRSBlocks(a, b), f = new h, i = 0; i < c.length; i++) {
                    var j = c[i];
                    f.put(j.mode, 4),
                        f.put(j.getLength(), q.getLengthInBits(j.mode, a)),
                        j.write(f)
                }
                for (var k = 0,
                         i = 0; i < d.length; i++) k += d[i].dataCount;
                if (f.getLengthInBits() > 8 * k) throw new Error("code length overflow. (" + f.getLengthInBits() + ">" + 8 * k + ")");
                for (f.getLengthInBits() + 4 <= 8 * k && f.put(0, 4); f.getLengthInBits() % 8 != 0;) f.putBit(!1);
                for (;;) {
                    if (f.getLengthInBits() >= 8 * k) break;
                    if (f.put(e.PAD0, 8), f.getLengthInBits() >= 8 * k) break;
                    f.put(e.PAD1, 8)
                }
                return e.createBytes(f, d)
            },
            e.createBytes = function(a, b) {
                for (var c = 0,
                         d = 0,
                         e = 0,
                         g = new Array(b.length), h = new Array(b.length), i = 0; i < b.length; i++) {
                    var j = b[i].dataCount,
                        k = b[i].totalCount - j;
                    d = Math.max(d, j),
                        e = Math.max(e, k),
                        g[i] = new Array(j);
                    for (var l = 0; l < g[i].length; l++) g[i][l] = 255 & a.buffer[l + c];
                    c += j;
                    var m = q.getErrorCorrectPolynomial(k),
                        n = new f(g[i], m.getLength() - 1),
                        o = n.mod(m);
                    h[i] = new Array(m.getLength() - 1);
                    for (var l = 0; l < h[i].length; l++) {
                        var p = l + o.getLength() - h[i].length;
                        h[i][l] = p >= 0 ? o.get(p) : 0
                    }
                }
                for (var r = 0,
                         l = 0; l < b.length; l++) r += b[l].totalCount;
                for (var s = new Array(r), t = 0, l = 0; d > l; l++) for (var i = 0; i < b.length; i++) l < g[i].length && (s[t++] = g[i][l]);
                for (var l = 0; e > l; l++) for (var i = 0; i < b.length; i++) l < h[i].length && (s[t++] = h[i][l]);
                return s
            };
        for (var n = {
                MODE_NUMBER: 1,
                MODE_ALPHA_NUM: 2,
                MODE_8BIT_BYTE: 4,
                MODE_KANJI: 8
            },
                 o = {
                     L: 1,
                     M: 0,
                     Q: 3,
                     H: 2
                 },
                 p = {
                     PATTERN000: 0,
                     PATTERN001: 1,
                     PATTERN010: 2,
                     PATTERN011: 3,
                     PATTERN100: 4,
                     PATTERN101: 5,
                     PATTERN110: 6,
                     PATTERN111: 7
                 },
                 q = {
                     PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],
                     G15: 1335,
                     G18: 7973,
                     G15_MASK: 21522,
                     getBCHTypeInfo: function(a) {
                         for (var b = a << 10; q.getBCHDigit(b) - q.getBCHDigit(q.G15) >= 0;) b ^= q.G15 << q.getBCHDigit(b) - q.getBCHDigit(q.G15);
                         return (a << 10 | b) ^ q.G15_MASK
                     },
                     getBCHTypeNumber: function(a) {
                         for (var b = a << 12; q.getBCHDigit(b) - q.getBCHDigit(q.G18) >= 0;) b ^= q.G18 << q.getBCHDigit(b) - q.getBCHDigit(q.G18);
                         return a << 12 | b
                     },
                     getBCHDigit: function(a) {
                         for (var b = 0; 0 != a;) b++,
                             a >>>= 1;
                         return b
                     },
                     getPatternPosition: function(a) {
                         return q.PATTERN_POSITION_TABLE[a - 1]
                     },
                     getMask: function(a, b, c) {
                         switch (a) {
                             case p.PATTERN000:
                                 return (b + c) % 2 == 0;
                             case p.PATTERN001:
                                 return b % 2 == 0;
                             case p.PATTERN010:
                                 return c % 3 == 0;
                             case p.PATTERN011:
                                 return (b + c) % 3 == 0;
                             case p.PATTERN100:
                                 return (Math.floor(b / 2) + Math.floor(c / 3)) % 2 == 0;
                             case p.PATTERN101:
                                 return b * c % 2 + b * c % 3 == 0;
                             case p.PATTERN110:
                                 return (b * c % 2 + b * c % 3) % 2 == 0;
                             case p.PATTERN111:
                                 return (b * c % 3 + (b + c) % 2) % 2 == 0;
                             default:
                                 throw new Error("bad maskPattern:" + a)
                         }
                     },
                     getErrorCorrectPolynomial: function(a) {
                         for (var b = new f([1], 0), c = 0; a > c; c++) b = b.multiply(new f([1, r.gexp(c)], 0));
                         return b
                     },
                     getLengthInBits: function(a, b) {
                         if (b >= 1 && 10 > b) switch (a) {
                             case n.MODE_NUMBER:
                                 return 10;
                             case n.MODE_ALPHA_NUM:
                                 return 9;
                             case n.MODE_8BIT_BYTE:
                                 return 8;
                             case n.MODE_KANJI:
                                 return 8;
                             default:
                                 throw new Error("mode:" + a)
                         } else if (27 > b) switch (a) {
                             case n.MODE_NUMBER:
                                 return 12;
                             case n.MODE_ALPHA_NUM:
                                 return 11;
                             case n.MODE_8BIT_BYTE:
                                 return 16;
                             case n.MODE_KANJI:
                                 return 10;
                             default:
                                 throw new Error("mode:" + a)
                         } else {
                             if (! (41 > b)) throw new Error("type:" + b);
                             switch (a) {
                                 case n.MODE_NUMBER:
                                     return 14;
                                 case n.MODE_ALPHA_NUM:
                                     return 13;
                                 case n.MODE_8BIT_BYTE:
                                     return 16;
                                 case n.MODE_KANJI:
                                     return 12;
                                 default:
                                     throw new Error("mode:" + a)
                             }
                         }
                     },
                     getLostPoint: function(a) {
                         for (var b = a.getModuleCount(), c = 0, d = 0; b > d; d++) for (var e = 0; b > e; e++) {
                             for (var f = 0,
                                      g = a.isDark(d, e), h = -1; 1 >= h; h++) if (! (0 > d + h || d + h >= b)) for (var i = -1; 1 >= i; i++) 0 > e + i || e + i >= b || (0 != h || 0 != i) && g == a.isDark(d + h, e + i) && f++;
                             f > 5 && (c += 3 + f - 5)
                         }
                         for (var d = 0; b - 1 > d; d++) for (var e = 0; b - 1 > e; e++) {
                             var j = 0;
                             a.isDark(d, e) && j++,
                                 a.isDark(d + 1, e) && j++,
                                 a.isDark(d, e + 1) && j++,
                                 a.isDark(d + 1, e + 1) && j++,
                                 (0 == j || 4 == j) && (c += 3)
                         }
                         for (var d = 0; b > d; d++) for (var e = 0; b - 6 > e; e++) a.isDark(d, e) && !a.isDark(d, e + 1) && a.isDark(d, e + 2) && a.isDark(d, e + 3) && a.isDark(d, e + 4) && !a.isDark(d, e + 5) && a.isDark(d, e + 6) && (c += 40);
                         for (var e = 0; b > e; e++) for (var d = 0; b - 6 > d; d++) a.isDark(d, e) && !a.isDark(d + 1, e) && a.isDark(d + 2, e) && a.isDark(d + 3, e) && a.isDark(d + 4, e) && !a.isDark(d + 5, e) && a.isDark(d + 6, e) && (c += 40);
                         for (var k = 0,
                                  e = 0; b > e; e++) for (var d = 0; b > d; d++) a.isDark(d, e) && k++;
                         var l = Math.abs(100 * k / b / b - 50) / 5;
                         return c += 10 * l
                     }
                 },
                 r = {
                     glog: function(a) {
                         if (1 > a) throw new Error("glog(" + a + ")");
                         return r.LOG_TABLE[a]
                     },
                     gexp: function(a) {
                         for (; 0 > a;) a += 255;
                         for (; a >= 256;) a -= 255;
                         return r.EXP_TABLE[a]
                     },
                     EXP_TABLE: new Array(256),
                     LOG_TABLE: new Array(256)
                 },
                 u = 0; 8 > u; u++) r.EXP_TABLE[u] = 1 << u;
        for (var u = 8; 256 > u; u++) r.EXP_TABLE[u] = r.EXP_TABLE[u - 4] ^ r.EXP_TABLE[u - 5] ^ r.EXP_TABLE[u - 6] ^ r.EXP_TABLE[u - 8];
        for (var u = 0; 255 > u; u++) r.LOG_TABLE[r.EXP_TABLE[u]] = u;
        f.prototype = {
            get: function(a) {
                return this.num[a]
            },
            getLength: function() {
                return this.num.length
            },
            multiply: function(a) {
                for (var b = new Array(this.getLength() + a.getLength() - 1), c = 0; c < this.getLength(); c++) for (var d = 0; d < a.getLength(); d++) b[c + d] ^= r.gexp(r.glog(this.get(c)) + r.glog(a.get(d)));
                return new f(b, 0)
            },
            mod: function(a) {
                if (this.getLength() - a.getLength() < 0) return this;
                for (var b = r.glog(this.get(0)) - r.glog(a.get(0)), c = new Array(this.getLength()), d = 0; d < this.getLength(); d++) c[d] = this.get(d);
                for (var d = 0; d < a.getLength(); d++) c[d] ^= r.gexp(r.glog(a.get(d)) + b);
                return new f(c, 0).mod(a)
            }
        },
            g.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]],
            g.getRSBlocks = function(a, b) {
                var d = g.getRsBlockTable(a, b);
                if (d == c) throw new Error("bad rs block @ typeNumber:" + a + "/errorCorrectLevel:" + b);
                for (var e = d.length / 3,
                         f = new Array,
                         h = 0; e > h; h++) for (var i = d[3 * h + 0], j = d[3 * h + 1], k = d[3 * h + 2], l = 0; i > l; l++) f.push(new g(j, k));
                return f
            },
            g.getRsBlockTable = function(a, b) {
                switch (b) {
                    case o.L:
                        return g.RS_BLOCK_TABLE[4 * (a - 1) + 0];
                    case o.M:
                        return g.RS_BLOCK_TABLE[4 * (a - 1) + 1];
                    case o.Q:
                        return g.RS_BLOCK_TABLE[4 * (a - 1) + 2];
                    case o.H:
                        return g.RS_BLOCK_TABLE[4 * (a - 1) + 3];
                    default:
                        return c
                }
            },
            h.prototype = {
                get: function(a) {
                    var b = Math.floor(a / 8);
                    return 1 == (this.buffer[b] >>> 7 - a % 8 & 1)
                },
                put: function(a, b) {
                    for (var c = 0; b > c; c++) this.putBit(1 == (a >>> b - c - 1 & 1))
                },
                getLengthInBits: function() {
                    return this.length
                },
                putBit: function(a) {
                    var b = Math.floor(this.length / 8);
                    this.buffer.length <= b && this.buffer.push(0),
                        a && (this.buffer[b] |= 128 >>> this.length % 8),
                        this.length++
                }
            },
            function(a) {
                a.fn.slides = function(b) {
                    return b = a.extend({},
                        a.fn.slides.option, b),
                        this.each(function() {
                            function c() {
                                clearInterval(j.data("interval"))
                            }
                            function d() {
                                b.pause ? (clearTimeout(j.data("pause")), clearInterval(j.data("interval")), pauseTimeout = setTimeout(function() {
                                        clearTimeout(j.data("pause")),
                                            playInterval = setInterval(function() {
                                                    e("next", p)
                                                },
                                                b.play),
                                            j.data("interval", playInterval)
                                    },
                                    b.pause), j.data("pause", pauseTimeout)) : c()
                            }
                            function e(c, d, e) {
                                if (!g && f) {
                                    switch (g = !0, c) {
                                        case "next":
                                            s = u,
                                                r = u + 1,
                                                r = l === r ? 0 : r,
                                                i = 2 * m,
                                                c = 2 * -m,
                                                u = r;
                                            break;
                                        case "prev":
                                            s = u,
                                                r = u - 1,
                                                r = -1 === r ? l - 1 : r,
                                                i = 0,
                                                c = 0,
                                                u = r;
                                            break;
                                        case "pagination":
                                            r = parseInt(e, 10),
                                                s = a("." + b.paginationClass + " li.current a", j).attr("rel"),
                                                    r > s ? (i = 2 * m, c = 2 * -m) : (i = 0, c = 0),
                                                u = r
                                    }
                                    "fade" === d ? (b.animationStart(), b.crossfade ? k.children(":eq(" + r + ")", j).css({
                                        zIndex: 10
                                    }).fadeIn(b.fadeSpeed,
                                        function() {
                                            k.children(":eq(" + s + ")", j).css({
                                                display: "none",
                                                zIndex: 0
                                            }),
                                                a(this).css({
                                                    zIndex: 0
                                                }),
                                                b.animationComplete(r + 1),
                                                g = !1
                                        }) : (b.animationStart(), k.children(":eq(" + s + ")", j).fadeOut(b.fadeSpeed,
                                        function() {
                                            b.autoHeight ? k.animate({
                                                    height: k.children(":eq(" + r + ")", j).outerHeight()
                                                },
                                                b.autoHeightSpeed,
                                                function() {
                                                    k.children(":eq(" + r + ")", j).fadeIn(b.fadeSpeed)
                                                }) : k.children(":eq(" + r + ")", j).fadeIn(b.fadeSpeed,
                                                function() {
                                                    a.browser.msie && a(this).get(0).style.removeAttribute("filter")
                                                }),
                                                b.animationComplete(r + 1),
                                                g = !1
                                        }))) : (k.children(":eq(" + r + ")").css({
                                        left: i,
                                        display: "block"
                                    }), b.autoHeight ? (b.animationStart(), k.animate({
                                            left: c,
                                            height: k.children(":eq(" + r + ")").outerHeight()
                                        },
                                        b.slideSpeed,
                                        function() {
                                            k.css({
                                                left: -m
                                            }),
                                                k.children(":eq(" + r + ")").css({
                                                    left: m,
                                                    zIndex: 5
                                                }),
                                                k.children(":eq(" + s + ")").css({
                                                    left: m,
                                                    display: "none",
                                                    zIndex: 0
                                                }),
                                                b.animationComplete(r + 1),
                                                g = !1
                                        })) : (b.animationStart(), k.animate({
                                            left: c
                                        },
                                        b.slideSpeed,
                                        function() {
                                            k.css({
                                                left: -m
                                            }),
                                                k.children(":eq(" + r + ")").css({
                                                    left: m,
                                                    zIndex: 5
                                                }),
                                                k.children(":eq(" + s + ")").css({
                                                    left: m,
                                                    display: "none",
                                                    zIndex: 0
                                                }),
                                                b.animationComplete(r + 1),
                                                g = !1
                                        }))),
                                        b.pagination && (a("." + b.paginationClass + " li.current", j).removeClass("current"), a("." + b.paginationClass + " li a:eq(" + r + ")", j).parent().addClass("current"))
                                }
                            }
                            a("." + b.container, a(this)).children().wrapAll('<div class="slides_control"/>');
                            var f, g, h, i, j = a(this),
                                k = a(".slides_control", j),
                                l = k.children().size(),
                                m = k.children().outerWidth(),
                                n = k.children().outerHeight(),
                                o = b.start - 1,
                                p = b.effect.indexOf(",") < 0 ? b.effect: b.effect.replace(" ", "").split(",")[0],
                                q = b.effect.indexOf(",") < 0 ? p: b.effect.replace(" ", "").split(",")[1],
                                r = 0,
                                s = 0,
                                t = 0,
                                u = 0;
                            if (! (2 > l)) {
                                if (0 > o && (o = 0), o > l && (o = l - 1), b.start && (u = o), b.randomize && k.randomize(), a("." + b.container, j).css({
                                    overflow: "hidden",
                                    position: "relative"
                                }), k.css({
                                    position: "relative",
                                    width: 3 * m,
                                    height: n,
                                    left: -m
                                }), k.children().css({
                                    position: "absolute",
                                    top: 0,
                                    left: m,
                                    zIndex: 0,
                                    display: "none"
                                }), b.autoHeight && k.animate({
                                        height: k.children(":eq(" + o + ")").outerHeight()
                                    },
                                    b.autoHeightSpeed), b.preload && "IMG" == k.children()[0].tagName) {
                                    j.css({
                                        background: "url(" + b.preloadImage + ") no-repeat 50% 50%"
                                    });
                                    var v = a("img:eq(" + o + ")", j).attr("src") + "?" + (new Date).getTime();
                                    a("img:eq(" + o + ")", j).attr("src", v).load(function() {
                                        a(this).fadeIn(b.fadeSpeed,
                                            function() {
                                                a(this).css({
                                                    zIndex: 5
                                                }),
                                                    j.css({
                                                        background: ""
                                                    }),
                                                    f = !0
                                            })
                                    })
                                } else k.children(":eq(" + o + ")").fadeIn(b.fadeSpeed,
                                    function() {
                                        f = !0
                                    });
                                b.bigTarget && (k.children().css({
                                    cursor: "pointer"
                                }), k.children().click(function() {
                                    return e("next", p),
                                        !1
                                })),
                                    b.hoverPause && b.play && (k.children().bind("mouseover",
                                    function() {
                                        c()
                                    }), k.children().bind("mouseleave",
                                    function() {
                                        d()
                                    })),
                                    b.generateNextPrev && (a("." + b.container, j).after('<a href="#" class="' + b.prev + '">Prev</a>'), a("." + b.prev, j).after('<a href="#" class="' + b.next + '">Next</a>')),
                                    a("." + b.next, j).click(function(a) {
                                        a.preventDefault(),
                                            b.play && d(),
                                            e("next", p)
                                    }),
                                    a("." + b.prev, j).click(function(a) {
                                        a.preventDefault(),
                                            b.play && d(),
                                            e("prev", p)
                                    }),
                                    b.generatePagination ? (j.append("<ul class=" + b.paginationClass + "></ul>"), k.children().each(function() {
                                        a("." + b.paginationClass, j).append("<li><a rel=" + t + ' href="#">' + (t + 1) + "</a></li>"),
                                            t++
                                    })) : a("." + b.paginationClass + " li a", j).each(function() {
                                        a(this).attr("rel", t),
                                            t++
                                    }),
                                    a("." + b.paginationClass + " li a:eq(" + o + ")", j).parent().addClass("current"),
                                    a("." + b.paginationClass + " li a", j).click(function() {
                                        return b.play && d(),
                                            h = a(this).attr("rel"),
                                            u != h && e("pagination", q, h),
                                            !1
                                    }),
                                    b.play && (playInterval = setInterval(function() {
                                        e("next", p)
                                    },
                                    b.play), j.data("interval", playInterval))
                            }
                        })
                },
                    a.fn.slides.option = {
                        preload: !1,
                        preloadImage: "/img/loading.gif",
                        container: "slides_container",
                        generateNextPrev: !1,
                        next: "next",
                        prev: "prev",
                        pagination: !0,
                        generatePagination: !0,
                        paginationClass: "pagination",
                        fadeSpeed: 350,
                        slideSpeed: 350,
                        start: 1,
                        effect: "slide",
                        crossfade: !1,
                        randomize: !1,
                        play: 0,
                        pause: 0,
                        hoverPause: !1,
                        autoHeight: !1,
                        autoHeightSpeed: 350,
                        bigTarget: !1,
                        animationStart: function() {},
                        animationComplete: function() {}
                    },
                    a.fn.randomize = function(b) {
                        function d() {
                            return Math.round(Math.random()) - .5
                        }
                        return a(this).each(function() {
                            var e = a(this),
                                f = e.children(),
                                g = f.length;
                            if (g > 1) {
                                f.hide();
                                var h = [];
                                for (u = 0; g > u; u++) h[h.length] = u;
                                h = h.sort(d),
                                    a.each(h,
                                        function(a, d) {
                                            var g = f.eq(d),
                                                h = g.clone(!0);
                                            h.show().appendTo(e),
                                                b !== c && b(g, h),
                                                g.remove()
                                        })
                            }
                        })
                    }
            } (jQuery),
            function() {
                a.eqxiuSvg = {
                    NAMESPACE: "http://www.w3.org/2000/svg",
                    SYMBOLS: {
                        bolt: '<path d="M32 0l-24 16 6 4-14 12 24-12-6-4z"></path>',
                        camera: '<path d="M16 20c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4-2.209 0-4-1.791-4-4zM28 8l-3.289-6.643c-0.27-0.789-1.016-1.357-1.899-1.357h-5.492c-0.893 0-1.646 0.582-1.904 1.385l-3.412 6.615h-8.004c-2.209 0-4 1.791-4 4v20h32v-20c0-2.209-1.789-4-4-4zM6 16c-1.105 0-2-0.895-2-2s0.895-2 2-2 2 0.895 2 2-0.895 2-2 2zM20 28c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"></path>',
                        "checkmark-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM13.52 23.383l-7.362-7.363 2.828-2.828 4.533 4.535 9.617-9.617 2.828 2.828-12.444 12.445z"></path>',
                        clock: '<path d="M16 4c6.617 0 12 5.383 12 12s-5.383 12-12 12-12-5.383-12-12 5.383-12 12-12zM16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16v0zM21.422 18.578l-3.422-3.426v-7.152h-4.023v7.992c0 0.602 0.277 1.121 0.695 1.492l3.922 3.922 2.828-2.828z"></path>',
                        cloud: '<path d="M24 10c-0.379 0-0.738 0.061-1.102 0.111-1.394-2.465-3.972-4.111-6.898-4.111-2.988 0-5.566 1.666-6.941 4.1-0.352-0.047-0.704-0.1-1.059-0.1-4.41 0-8 3.588-8 8 0 4.414 3.59 8 8 8h16c4.41 0 8-3.586 8-8 0-4.412-3.59-8-8-8zM24 22h-16c-2.207 0-4-1.797-4-4 0-2.193 1.941-3.885 4.004-3.945 0.008 0.943 0.172 1.869 0.5 2.744l3.746-1.402c-0.168-0.444-0.25-0.915-0.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465 0.641 3.199 1.639-1.929 1.461-3.199 3.756-3.199 6.361h4c0-2.205 1.793-4 4-4s4 1.795 4 4c0 2.203-1.793 4-4 4z"></path>',
                        cog: '<path d="M32 17.969v-4l-4.781-1.992c-0.133-0.375-0.273-0.738-0.445-1.094l1.93-4.805-2.829-2.828-4.762 1.961c-0.363-0.176-0.734-0.324-1.117-0.461l-2.027-4.75h-4l-1.977 4.734c-0.398 0.141-0.781 0.289-1.16 0.469l-4.754-1.91-2.828 2.828 1.938 4.711c-0.188 0.387-0.34 0.781-0.485 1.188l-4.703 2.011v4l4.707 1.961c0.145 0.406 0.301 0.801 0.488 1.188l-1.902 4.742 2.828 2.828 4.723-1.945c0.379 0.18 0.766 0.324 1.164 0.461l2.023 4.734h4l1.98-4.758c0.379-0.141 0.754-0.289 1.113-0.461l4.797 1.922 2.828-2.828-1.969-4.773c0.168-0.359 0.305-0.723 0.438-1.094l4.782-2.039zM15.969 22c-3.312 0-6-2.688-6-6s2.688-6 6-6 6 2.688 6 6-2.688 6-6 6z"></path>',
                        denied: '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM16 4c2.59 0 4.973 0.844 6.934 2.242l-16.696 16.688c-1.398-1.961-2.238-4.344-2.238-6.93 0-6.617 5.383-12 12-12zM16 28c-2.59 0-4.973-0.844-6.934-2.242l16.696-16.688c1.398 1.961 2.238 4.344 2.238 6.93 0 6.617-5.383 12-12 12z"></path>',
                        earth: '<path d="M27.314 4.686c3.022 3.022 4.686 7.040 4.686 11.314s-1.664 8.292-4.686 11.314c-3.022 3.022-7.040 4.686-11.314 4.686s-8.292-1.664-11.314-4.686c-3.022-3.022-4.686-7.040-4.686-11.314s1.664-8.292 4.686-11.314c3.022-3.022 7.040-4.686 11.314-4.686s8.292 1.664 11.314 4.686zM25.899 25.9c1.971-1.971 3.281-4.425 3.821-7.096-0.421 0.62-0.824 0.85-1.073-0.538-0.257-2.262-2.335-0.817-3.641-1.621-1.375 0.927-4.466-1.802-3.941 1.276 0.81 1.388 4.375-1.858 2.598 1.079-1.134 2.050-4.145 6.592-3.753 8.946 0.049 3.43-3.504 0.715-4.729-0.422-0.824-2.279-0.281-6.262-2.434-7.378-2.338-0.102-4.344-0.314-5.25-2.927-0.545-1.87 0.58-4.653 2.584-5.083 2.933-1.843 3.98 2.158 6.731 2.232 0.854-0.894 3.182-1.178 3.375-2.18-1.805-0.318 2.29-1.517-0.173-2.199-1.358 0.16-2.234 1.409-1.512 2.467-2.632 0.614-2.717-3.809-5.247-2.414-0.064 2.206-4.132 0.715-1.407 0.268 0.936-0.409-1.527-1.594-0.196-1.379 0.654-0.036 2.854-0.807 2.259-1.325 1.225-0.761 2.255 1.822 3.454-0.059 0.866-1.446-0.363-1.713-1.448-0.98-0.612-0.685 1.080-2.165 2.573-2.804 0.497-0.213 0.973-0.329 1.336-0.296 0.752 0.868 2.142 1.019 2.215-0.104-1.862-0.892-3.915-1.363-6.040-1.363-3.051 0-5.952 0.969-8.353 2.762 0.645 0.296 1.012 0.664 0.39 1.134-0.483 1.439-2.443 3.371-4.163 3.098-0.893 1.54-1.482 3.238-1.733 5.017 1.441 0.477 1.773 1.42 1.464 1.736-0.734 0.64-1.185 1.548-1.418 2.541 0.469 2.87 1.818 5.515 3.915 7.612 2.644 2.644 6.16 4.1 9.899 4.1s7.255-1.456 9.899-4.1z"></path>',
                        eye: '<path d="M16 4c-8.836 0-16 11.844-16 11.844s7.164 12.156 16 12.156 16-12.156 16-12.156-7.164-11.844-16-11.844zM16 24c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8zM12 16c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4-2.209 0-4-1.791-4-4z"></path>',
                        facebook: '<path d="M17.996 32h-5.996v-16h-4v-5.514l4-0.002-0.007-3.248c0-4.498 1.22-7.236 6.519-7.236h4.412v5.515h-2.757c-2.064 0-2.163 0.771-2.163 2.209l-0.008 2.76h4.959l-0.584 5.514-4.37 0.002-0.004 16z"></path>',
                        fork: '<path d="M20 0v3.875c0 1.602-0.625 3.109-1.754 4.238l-11.316 11.254c-1.789 1.785-2.774 4.129-2.883 6.633h-4.047l6 6 6-6h-3.957c0.105-1.438 0.684-2.773 1.711-3.805l11.316-11.25c1.891-1.89 2.93-4.398 2.93-7.070v-3.875h-4zM23.953 26c-0.109-2.504-1.098-4.848-2.887-6.641l-2.23-2.215-2.836 2.821 2.242 2.23c1.031 1.027 1.609 2.367 1.715 3.805h-3.957l6 6 6-6h-4.047z"></path>',
                        globe: '<path d="M15 2c-8.284 0-15 6.716-15 15s6.716 15 15 15c8.284 0 15-6.716 15-15s-6.716-15-15-15zM23.487 22c0.268-1.264 0.437-2.606 0.492-4h3.983c-0.104 1.381-0.426 2.722-0.959 4h-3.516zM6.513 12c-0.268 1.264-0.437 2.606-0.492 4h-3.983c0.104-1.381 0.426-2.722 0.959-4h3.516zM21.439 12c0.3 1.28 0.481 2.62 0.54 4h-5.979v-4h5.439zM16 10v-5.854c0.456 0.133 0.908 0.355 1.351 0.668 0.831 0.586 1.625 1.488 2.298 2.609 0.465 0.775 0.867 1.638 1.203 2.578h-4.852zM10.351 7.422c0.673-1.121 1.467-2.023 2.298-2.609 0.443-0.313 0.895-0.535 1.351-0.668v5.854h-4.852c0.336-0.94 0.738-1.803 1.203-2.578zM14 12v4h-5.979c0.059-1.38 0.24-2.72 0.54-4h5.439zM2.997 22c-0.533-1.278-0.854-2.619-0.959-4h3.983c0.055 1.394 0.224 2.736 0.492 4h-3.516zM8.021 18h5.979v4h-5.439c-0.3-1.28-0.481-2.62-0.54-4zM14 24v5.854c-0.456-0.133-0.908-0.355-1.351-0.668-0.831-0.586-1.625-1.488-2.298-2.609-0.465-0.775-0.867-1.638-1.203-2.578h4.852zM19.649 26.578c-0.673 1.121-1.467 2.023-2.298 2.609-0.443 0.312-0.895 0.535-1.351 0.668v-5.854h4.852c-0.336 0.94-0.738 1.802-1.203 2.578zM16 22v-4h5.979c-0.059 1.38-0.24 2.72-0.54 4h-5.439zM23.98 16c-0.055-1.394-0.224-2.736-0.492-4h3.516c0.533 1.278 0.855 2.619 0.959 4h-3.983zM25.958 10h-2.997c-0.582-1.836-1.387-3.447-2.354-4.732 1.329 0.636 2.533 1.488 3.585 2.54 0.671 0.671 1.261 1.404 1.766 2.192zM5.808 7.808c1.052-1.052 2.256-1.904 3.585-2.54-0.967 1.285-1.771 2.896-2.354 4.732h-2.997c0.504-0.788 1.094-1.521 1.766-2.192zM4.042 24h2.997c0.583 1.836 1.387 3.447 2.354 4.732-1.329-0.636-2.533-1.488-3.585-2.54-0.671-0.671-1.261-1.404-1.766-2.192zM24.192 26.192c-1.052 1.052-2.256 1.904-3.585 2.54 0.967-1.285 1.771-2.896 2.354-4.732h2.997c-0.504 0.788-1.094 1.521-1.766 2.192z"></path>',
                        happy: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM16 18.711c3.623 0 7.070-0.963 10-2.654-0.455 5.576-4.785 9.942-10 9.942-5.215 0-9.544-4.371-10-9.947 2.93 1.691 6.377 2.658 10 2.658zM8 11c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3zM20 11c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3z"></path>',
                        "heart-fill": '<path d="M16 5.844c-1.613-2.266-4.129-3.844-7.113-3.844-4.903 0-8.887 3.992-8.887 8.891v0.734l16.008 18.375 15.992-18.375v-0.734c0-4.899-3.984-8.891-8.887-8.891-2.984 0-5.5 1.578-7.113 3.844z"></path>',
                        "heart-stroke": '<path d="M23.113 6c2.457 0 4.492 1.82 4.836 4.188l-11.945 13.718-11.953-13.718c0.344-2.368 2.379-4.188 4.836-4.188 2.016 0 3.855 2.164 3.855 2.164l3.258 3.461 3.258-3.461c0 0 1.84-2.164 3.855-2.164zM23.113 2c-2.984 0-5.5 1.578-7.113 3.844-1.613-2.266-4.129-3.844-7.113-3.844-4.903 0-8.887 3.992-8.887 8.891v0.734l16.008 18.375 15.992-18.375v-0.734c0-4.899-3.984-8.891-8.887-8.891v0z"></path>',
                        home: '<path d="M16 0l-16 16h4v16h24v-16h4l-16-16zM24 28h-6v-6h-4v6h-6v-14.344l8-5.656 8 5.656v14.344z"></path>',
                        iphone: '<path d="M16 0h-8c-4.418 0-8 3.582-8 8v16c0 4.418 3.582 8 8 8h8c4.418 0 8-3.582 8-8v-16c0-4.418-3.582-8-8-8zM12 30.062c-1.139 0-2.062-0.922-2.062-2.062s0.924-2.062 2.062-2.062 2.062 0.922 2.062 2.062-0.923 2.062-2.062 2.062zM20 24h-16v-16c0-2.203 1.795-4 4-4h8c2.203 0 4 1.797 4 4v16z"></path>',
                        lock: '<path d="M14 0c-5.508 0-9.996 4.484-9.996 10v2h-4.004v14c0 3.309 2.691 6 6 6h12c3.309 0 6-2.691 6-6v-16c0-5.516-4.488-10-10-10zM11.996 24c-1.101 0-1.996-0.895-1.996-2s0.895-2 1.996-2c1.105 0 2 0.895 2 2s-0.894 2-2 2zM20 12h-11.996v-2c0-3.309 2.691-6 5.996-6 3.309 0 6 2.691 6 6v2z"></path>',
                        mail: '<path d="M15.996 15.457l16.004-7.539v-3.918h-32v3.906zM16.004 19.879l-16.004-7.559v15.68h32v-15.656z"></path>',
                        "minus-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM24 18h-16v-4h16v4z"></path>',
                        moon: '<path d="M24.633 22.184c-8.188 0-14.82-6.637-14.82-14.82 0-2.695 0.773-5.188 2.031-7.363-6.824 1.968-11.844 8.187-11.844 15.644 0 9.031 7.32 16.355 16.352 16.355 7.457 0 13.68-5.023 15.648-11.844-2.18 1.254-4.672 2.028-7.367 2.028z"></path>',
                        paperclip: '<path d="M17.293 15.292l-2.829-2.829-4 4c-1.953 1.953-1.953 5.119 0 7.071 1.953 1.953 5.118 1.953 7.071 0l10.122-9.879c3.123-3.124 3.123-8.188 0-11.313-3.125-3.124-8.19-3.124-11.313 0l-11.121 10.88c-4.296 4.295-4.296 11.26 0 15.557 4.296 4.296 11.261 4.296 15.556 0l6-6-2.829-2.829-5.999 6c-2.733 2.732-7.166 2.732-9.9 0-2.733-2.732-2.733-7.166 0-9.899l11.121-10.881c1.562-1.562 4.095-1.562 5.656 0 1.563 1.563 1.563 4.097 0 5.657l-10.121 9.879c-0.391 0.391-1.023 0.391-1.414 0s-0.391-1.023 0-1.414l4-4z"></path>',
                        pin: '<path d="M17.070 2.93c-3.906-3.906-10.234-3.906-14.141 0-3.906 3.904-3.906 10.238 0 14.14 0.001 0 7.071 6.93 7.071 14.93 0-8 7.070-14.93 7.070-14.93 3.907-3.902 3.907-10.236 0-14.14zM10 14c-2.211 0-4-1.789-4-4s1.789-4 4-4 4 1.789 4 4-1.789 4-4 4z"></path>',
                        "plus-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM24 18h-6v6h-4v-6h-6v-4h6v-6h4v6h6v4z"></path>',
                        rain: '<path d="M23.998 6c-0.375 0-0.733 0.061-1.103 0.111-1.389-2.465-3.969-4.111-6.895-4.111-2.987 0-5.565 1.666-6.94 4.1-0.353-0.047-0.705-0.1-1.060-0.1-4.41 0-8 3.588-8 8s3.59 8 8 8h15.998c4.414 0 8-3.588 8-8s-3.586-8-8-8zM23.998 18h-15.998c-2.207 0-4-1.795-4-4 0-2.193 1.941-3.885 4.004-3.945 0.009 0.943 0.172 1.869 0.5 2.744l3.746-1.402c-0.168-0.444-0.25-0.915-0.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465 0.641 3.199 1.639-1.928 1.461-3.199 3.756-3.199 6.361h4c0-2.205 1.795-4 3.998-4 2.211 0 4 1.795 4 4s-1.789 4-4 4zM3.281 29.438c-0.75 0.75-1.969 0.75-2.719 0s-0.75-1.969 0-2.719 5.438-2.719 5.438-2.719-1.969 4.688-2.719 5.438zM11.285 29.438c-0.75 0.75-1.965 0.75-2.719 0-0.75-0.75-0.75-1.969 0-2.719 0.754-0.75 5.438-2.719 5.438-2.719s-1.965 4.688-2.719 5.438zM19.28 29.438c-0.75 0.75-1.969 0.75-2.719 0s-0.75-1.969 0-2.719 5.437-2.719 5.437-2.719-1.968 4.688-2.718 5.438z"></path>',
                        ribbon: '<path d="M8 20c-1.41 0-2.742-0.289-4-0.736v12.736l4-4 4 4v-12.736c-1.258 0.447-2.59 0.736-4 0.736zM0 8c0-4.418 3.582-8 8-8s8 3.582 8 8c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8z"></path>',
                        sad: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM9.997 24.398l-2.573-1.544c1.749-2.908 4.935-4.855 8.576-4.855 3.641 0 6.827 1.946 8.576 4.855l-2.573 1.544c-1.224-2.036-3.454-3.398-6.003-3.398-2.549 0-4.779 1.362-6.003 3.398z"></path>',
                        smiley: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM22.003 19.602l2.573 1.544c-1.749 2.908-4.935 4.855-8.576 4.855s-6.827-1.946-8.576-4.855l2.573-1.544c1.224 2.036 3.454 3.398 6.003 3.398s4.779-1.362 6.003-3.398z"></path>',
                        star: '<path d="M22.137 19.625l9.863-7.625h-12l-4-12-4 12h-12l9.875 7.594-3.875 12.406 10.016-7.68 9.992 7.68z"></path>',
                        sun: '<path d="M16.001 8c-4.418 0-8 3.582-8 8s3.582 8 8 8c4.418 0 7.999-3.582 7.999-8s-3.581-8-7.999-8v0zM14 2c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM4 6c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM2 14c1.105 0 2 0.895 2 2 0 1.107-0.895 2-2 2s-2-0.893-2-2c0-1.105 0.895-2 2-2zM4 26c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM14 30c0-1.109 0.895-2 2-2 1.108 0 2 0.891 2 2 0 1.102-0.892 2-2 2-1.105 0-2-0.898-2-2zM24 26c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM30 18c-1.104 0-2-0.896-2-2 0-1.107 0.896-2 2-2s2 0.893 2 2c0 1.104-0.896 2-2 2zM24 6c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2z"></path>',
                        "thin-arrow-down": '<path d="M4.586 19.414l10 10c0.781 0.781 2.047 0.781 2.828 0l10-10c0.781-0.781 0.781-2.047 0-2.828s-2.047-0.781-2.828 0l-6.586 6.586v-19.172c0-1.105-0.895-2-2-2s-2 0.895-2 2v19.172l-6.586-6.586c-0.391-0.39-0.902-0.586-1.414-0.586s-1.024 0.195-1.414 0.586c-0.781 0.781-0.781 2.047 0 2.828z"></path>',
                        "thin-arrow-down-left": '<path d="M18 28c1.105 0 2-0.895 2-2s-0.895-2-2-2h-7.172l16.586-16.586c0.781-0.781 0.781-2.047 0-2.828-0.391-0.391-0.902-0.586-1.414-0.586s-1.024 0.195-1.414 0.586l-16.586 16.586v-7.172c0-1.105-0.895-2-2-2s-2 0.895-2 2v14h14z"></path>',
                        "thin-arrow-down-right": '<path d="M28 14c0-1.105-0.895-2-2-2s-2 0.895-2 2v7.172l-16.586-16.586c-0.781-0.781-2.047-0.781-2.828 0-0.391 0.391-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414l16.586 16.586h-7.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h14v-14z"></path>',
                        "thin-arrow-left": '<path d="M12.586 4.586l-10 10c-0.781 0.781-0.781 2.047 0 2.828l10 10c0.781 0.781 2.047 0.781 2.828 0s0.781-2.047 0-2.828l-6.586-6.586h19.172c1.105 0 2-0.895 2-2s-0.895-2-2-2h-19.172l6.586-6.586c0.39-0.391 0.586-0.902 0.586-1.414s-0.195-1.024-0.586-1.414c-0.781-0.781-2.047-0.781-2.828 0z"></path>',
                        "thin-arrow-right": '<path d="M19.414 27.414l10-10c0.781-0.781 0.781-2.047 0-2.828l-10-10c-0.781-0.781-2.047-0.781-2.828 0s-0.781 2.047 0 2.828l6.586 6.586h-19.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h19.172l-6.586 6.586c-0.39 0.39-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414c0.781 0.781 2.047 0.781 2.828 0z"></path>',
                        "thin-arrow-up": '<path d="M27.414 12.586l-10-10c-0.781-0.781-2.047-0.781-2.828 0l-10 10c-0.781 0.781-0.781 2.047 0 2.828s2.047 0.781 2.828 0l6.586-6.586v19.172c0 1.105 0.895 2 2 2s2-0.895 2-2v-19.172l6.586 6.586c0.39 0.39 0.902 0.586 1.414 0.586s1.024-0.195 1.414-0.586c0.781-0.781 0.781-2.047 0-2.828z"></path>',
                        "thin-arrow-up-left": '<path d="M4 18c0 1.105 0.895 2 2 2s2-0.895 2-2v-7.172l16.586 16.586c0.781 0.781 2.047 0.781 2.828 0 0.391-0.391 0.586-0.902 0.586-1.414s-0.195-1.024-0.586-1.414l-16.586-16.586h7.172c1.105 0 2-0.895 2-2s-0.895-2-2-2h-14v14z"></path>',
                        "thin-arrow-up-right": '<path d="M26.001 4c-0 0-0.001 0-0.001 0h-11.999c-1.105 0-2 0.895-2 2s0.895 2 2 2h7.172l-16.586 16.586c-0.781 0.781-0.781 2.047 0 2.828 0.391 0.391 0.902 0.586 1.414 0.586s1.024-0.195 1.414-0.586l16.586-16.586v7.172c0 1.105 0.895 2 2 2s2-0.895 2-2v-14h-1.999z"></path>',
                        twitter: '<path d="M32 6.076c-1.177 0.522-2.443 0.875-3.771 1.034 1.355-0.813 2.396-2.099 2.887-3.632-1.269 0.752-2.674 1.299-4.169 1.593-1.198-1.276-2.904-2.073-4.792-2.073-3.626 0-6.565 2.939-6.565 6.565 0 0.515 0.058 1.016 0.17 1.496-5.456-0.274-10.294-2.888-13.532-6.86-0.565 0.97-0.889 2.097-0.889 3.301 0 2.278 1.159 4.287 2.921 5.465-1.076-0.034-2.088-0.329-2.974-0.821-0.001 0.027-0.001 0.055-0.001 0.083 0 3.181 2.263 5.834 5.266 6.437-0.551 0.15-1.131 0.23-1.73 0.23-0.423 0-0.834-0.041-1.235-0.118 0.835 2.608 3.26 4.506 6.133 4.559-2.247 1.761-5.078 2.81-8.154 2.81-0.53 0-1.052-0.031-1.566-0.092 2.905 1.863 6.356 2.95 10.064 2.95 12.076 0 18.679-10.004 18.679-18.68 0-0.285-0.006-0.568-0.019-0.849 1.283-0.926 2.396-2.082 3.276-3.398z"></path>',
                        umbrella: '<path d="M16 0c-8.82 0-16 7.178-16 16h4c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5h4c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5v10c0 1.102-0.895 2-2 2-1.102 0-2-0.898-2-2h-4c0 3.309 2.695 6 6 6 3.312 0 6-2.691 6-6v-10c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.498 0.674 1.498 1.5h4c0-0.826 0.68-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5h4c0-8.822-7.172-16-15.998-16z"></path>',
                        unlock: '<path d="M14.004 0c-5.516 0-9.996 4.484-9.996 10h3.996c0-3.309 2.688-6 6-6 3.305 0 5.996 2.691 5.996 6v2h-20v14c0 3.309 2.695 6 6 6h12c3.305 0 6-2.691 6-6v-16c0-5.516-4.488-10-9.996-10zM12 24c-1.102 0-2-0.895-2-2s0.898-2 2-2c1.109 0 2 0.895 2 2s-0.891 2-2 2z"></path>',
                        user: '<path d="M12 16c-6.625 0-12 5.375-12 12 0 2.211 1.789 4 4 4h16c2.211 0 4-1.789 4-4 0-6.625-5.375-12-12-12zM6 6c0-3.314 2.686-6 6-6s6 2.686 6 6c0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6z"></path>',
                        wondering: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM23.304 18.801l0.703 2.399-13.656 4-0.703-2.399zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2z"></path>',
                        "x-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM23.914 21.086l-2.828 2.828-5.086-5.086-5.086 5.086-2.828-2.828 5.086-5.086-5.086-5.086 2.828-2.828 5.086 5.086 5.086-5.086 2.828 2.828-5.086 5.086 5.086 5.086z"></path>',
                        android: '<path d="M50.143,45.057h-0.241c-2.13,0-3.857-1.735-3.857-3.875V24.713 c0-2.14,1.727-3.875,3.857-3.875h0.241c2.13,0,3.857,1.735,3.857,3.875v16.469C54,43.323,52.273,45.057,50.143,45.057z M39.777,51.112h-2.169v8.961c0,2.14-1.727,3.875-3.857,3.875h-0.241c-2.13,0-3.857-1.735-3.857-3.875v-8.961h-5.304v8.961 c0,2.14-1.727,3.875-3.857,3.875H20.25c-2.13,0-3.857-1.735-3.857-3.875v-8.961h-2.17c-2.663,0-4.821-2.169-4.821-4.844V21.565 h35.196v24.704C44.598,48.944,42.44,51.112,39.777,51.112z M18.451,5.498l-2.777-4.832c-0.1-0.174-0.041-0.396,0.132-0.496 l0.209-0.121c0.173-0.1,0.394-0.041,0.494,0.133l2.802,4.877c2.297-1.091,4.863-1.705,7.573-1.705c2.856,0,5.552,0.681,7.941,1.885 l2.906-5.056c0.1-0.174,0.321-0.233,0.494-0.133l0.209,0.121c0.173,0.1,0.232,0.322,0.132,0.496l-2.889,5.028 c4.989,2.866,8.459,8.094,8.901,14.169H9.191C9.643,13.645,13.271,8.316,18.451,5.498z M35.076,13.572 c0.865,0,1.567-0.705,1.567-1.574c0-0.87-0.702-1.574-1.567-1.574c-0.865,0-1.567,0.705-1.567,1.574 C33.509,12.867,34.21,13.572,35.076,13.572z M18.924,13.572c0.865,0,1.567-0.705,1.567-1.574c0-0.87-0.702-1.574-1.567-1.574 c-0.865,0-1.567,0.705-1.567,1.574C17.357,12.867,18.059,13.572,18.924,13.572z M4.098,45.057H3.857C1.727,45.057,0,43.323,0,41.182 V24.713c0-2.14,1.727-3.875,3.857-3.875h0.241c2.13,0,3.857,1.735,3.857,3.875v16.469C7.955,43.323,6.228,45.057,4.098,45.057z"/>',
                        apple: '<path d="M43.061,34.522c0,8.67,8.393,12.374,8.393,12.374 c-2.057,8.63-9.252,15.172-9.252,15.172c-1.613,1.607-4.567,1.852-4.567,1.852c-2.377,0-5.309-1.34-5.309-1.34 c-2.259-1.299-5.426-1.301-5.426-1.301c-2.792,0-5.309,1.261-5.309,1.261C19.334,63.835,16.399,64,16.399,64 c-2.568,0-3.982-1.498-3.982-1.498C-0.546,50.658,0.003,35.271,0.003,35.271c0-19.645,15.576-19.586,15.576-19.586 c3.626,0,4.919,0.827,4.919,0.827c3.866,1.882,5.777,1.892,5.777,1.892c1.5,0,5.816-1.931,5.816-1.931 c2.223-1.052,5.778-1.064,5.778-1.064c8.325,0,11.984,6.424,11.984,6.424C42.702,26.182,43.061,34.522,43.061,34.522z M25.729,14.818C25.729,1.075,38.377,0,38.377,0C38.377,14.797,25.729,14.818,25.729,14.818z"/>',
                        baidu: '<path d="M57.549,28.923c-0.219,7.717-6.714,8.677-6.714,8.677 c-8.176-0.648-7.673-8.677-7.673-8.677c-0.795-8.379,5.755-9.641,5.755-9.641C58,19.412,57.549,28.923,57.549,28.923z M37.407,20.246c-5.931,0-5.755-8.677-5.755-8.677c1.708-7.93,7.673-9.641,7.673-9.641c5.472,0.78,6.714,8.677,6.714,8.677 C44.174,21.255,37.407,20.246,37.407,20.246z M37.407,32.779c2.75,3.707,7.673,8.677,7.673,8.677 c7.267,4.21,7.673,10.605,7.673,10.605c0,13.939-14.387,10.605-14.387,10.605c-1.873-0.813-7.673-1.928-7.673-1.928h-4.796 c-2.325,0.456-10.551,1.928-10.551,1.928c-10.734,0-11.51-10.605-11.51-10.605c0-6.349,4.796-9.641,4.796-9.641 c6.151-4.696,9.592-9.641,9.592-9.641c5.137-7.284,9.591-6.749,9.591-6.749C33.569,25.744,37.407,32.779,37.407,32.779z M25.897,35.672H23.02v5.785h-6.714c-5.859,0.902-5.755,8.677-5.755,8.677c-0.551,5.375,5.755,7.713,5.755,7.713h9.591V35.672z M32.611,53.025V41.456h-4.796v12.533c-0.017,2.653,3.837,3.856,3.837,3.856h10.551v-16.39h-4.796v12.533h-2.877 C33.473,53.886,32.611,53.025,32.611,53.025z M17.265,46.277h5.755v7.713h-4.796c0,0-2.647-0.459-2.877-3.856 C15.346,50.133,15.452,46.899,17.265,46.277z M21.101,20.246c-6.799,0-6.714-10.605-6.714-10.605c0-9.31,6.714-9.641,6.714-9.641 c5.997,0,6.714,9.641,6.714,9.641C27.815,19.489,21.101,20.246,21.101,20.246z M6.714,33.743C0.544,33.743,0,24.102,0,24.102 c0-8.281,6.714-9.641,6.714-9.641c6.751,0,7.673,9.641,7.673,9.641C14.387,32.77,6.714,33.743,6.714,33.743z"/>',
                        douban: '<path d="M0,64v-5.818h20.945c0,0-4.899-9.901-8.145-11.636l8.145-3.491 c0,0,5.56,12.555,5.818,15.127h13.964c0,0,5.825-11.048,5.818-15.127l6.982,3.491c0,0-3.36,10.254-5.295,11.512 c-0.447,0.029-0.656,0.069-0.523,0.124c0.157,0.065,0.336-0.002,0.523-0.124C51.09,57.875,64,58.182,64,58.182V64H0z M5.818,40.727 v-25.6h52.364v25.6H5.818z M48.873,20.945H15.127v13.964h33.745V20.945z M3.491,0H64v5.818H3.491V0z"/>',
                        googleplay: '<path d="M55.532,34.556c-0.828,0.473-5.547,3.122-11.786,6.618 l-8.591-8.715l9.908-9.829c5.385,3.012,9.44,5.281,10.469,5.858C58,29.871,57.958,33.17,55.532,34.556z M3.177,0.02 c0.741-0.078,1.548,0.064,2.355,0.511c1.54,0.853,23.514,13.139,37.89,21.18l-9.536,9.46L3.177,0.02z M1.36,0.75l31.244,31.694 L2.074,62.731C0.89,62.224,0,61.115,0,59.574C0,56.662,0,5.559,0,3.55C0,2.412,0.532,1.401,1.36,0.75z M42.112,42.089 C27.972,50.01,7.556,61.427,5.419,62.575c-0.32,0.172-0.655,0.291-0.993,0.367l29.446-29.212L42.112,42.089z"/>',
                        kaixinwang: '<path d="M60.549,30.164c0,0-3.494,8.614-16.984,12.25c0,0-0.502,11.237,0,15.076c0,0,1.59,4.938-4.718,3.769c0,0-6.539-0.588-13.21-9.423c0,0-2.071-1.431-2.831,0c0,0-5.588,5.249-9.436,7.538c0,0-7.049,0.734-7.549-3.769c0,0-2.985-13.205,0.944-21.672c0,0-0.269-2.116-0.944-2.827c0,0-8.864-10.313-4.718-22.615c0,0,1.108-1.884,5.661-0.942c0,0,7.295,4.273,8.492,4.711c0,0,3.262,0.609,3.774-0.942c0,0,7.578-9.802,14.153-11.307c0,0,7.228-0.583,7.549,6.596c0,0,2.168,10.163,1.887,13.192c0,0,1.659,4.159,4.718,3.769c0,0,9.924-0.088,12.266,1.885C59.605,25.453,61.958,26.999,60.549,30.164z M13.371,27.337c0.013-2.519-1.887-2.827-1.887-2.827c-3.341,0-2.831,1.884-2.831,1.884c-0.146,2.405,2.831,2.827,2.831,2.827C13.764,28.831,13.371,27.337,13.371,27.337zM14.314,32.991c-1.477,8.602,6.605,11.307,6.605,11.307c6.04,0.515,11.323-4.711,11.323-4.711c-7.647,2.452-11.323,0.942-11.323,0.942C14.869,38.902,14.314,32.991,14.314,32.991z M36.016,18.857c0,0-3.136-1.152-5.661,0.942c0,0-0.944,0.585-0.944-0.942c0,0-3.121-5.667-7.549-1.885c0,0-6.72,5.505-2.831,13.192c0,0,1.414,3.005,6.605,0.942c0,0,0.403,2.079,1.887,3.769c0,0,4.505,3.149,7.549-3.769C35.073,31.107,38.588,24.505,36.016,18.857z M41.678,33.933c0,0-3.622-0.382-3.774,2.827c0,0-0.038,2.695,2.831,2.827c0,0,2.968-0.587,2.831-2.827C43.565,36.76,43.968,33.933,41.678,33.933zM33.186,28.28c-2.024-0.756-1.887-3.769-1.887-3.769c0.251-1.965,2.831-2.827,2.831-2.827c2.763,0.114,0.944,3.769,0.944,3.769C34.54,29.362,33.186,28.28,33.186,28.28z M23.75,25.453c-2.17-0.976,0-4.711,0-4.711c1.118-2.725,2.831-1.885,2.831-1.885c2.222,0.41,0.944,3.769,0.944,3.769C27.212,24.78,23.75,25.453,23.75,25.453z"/>',
                        laiwang: '<path d="M58.659,31.066V36.4h-5.618v-3.138h2.809v-4.707c3.787-6.594,2.185-13.179,2.185-13.179c-4.56-14.795-19.35-10.669-19.35-10.669c-0.413-0.661-4.057-2.51-4.057-2.51C38.404,0.023,43.679,0,43.679,0C59.986,1.348,61.78,14.748,61.78,14.748C64,25.266,58.659,31.066,58.659,31.066z M52.56,29.556c0,6.135-2.082,11.777-5.565,16.263v6.759h-7.79C35.388,54.753,30.98,56,26.28,56C11.766,56,0,44.16,0,29.556C0,14.951,11.766,3.111,26.28,3.111C40.794,3.111,52.56,14.951,52.56,29.556z M26.28,8.4c-11.611,0-21.024,9.472-21.024,21.156c0,11.684,9.413,21.156,21.024,21.156c3.336,0,6.489-0.786,9.291-2.178h7.405v-6.135c2.711-3.562,4.328-8.01,4.328-12.843C47.304,17.872,37.891,8.4,26.28,8.4z M37.411,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.708,0,3.092,1.393,3.092,3.111C40.502,31.274,39.118,32.667,37.411,32.667z M26.28,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.708,0,3.092,1.393,3.092,3.111C29.372,31.274,27.988,32.667,26.28,32.667z M15.15,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.707,0,3.092,1.393,3.092,3.111C18.242,31.274,16.857,32.667,15.15,32.667z"/>',
                        logo: '<path d="M148.981,8.452H153v2.684h-5.639c0,0-1.096-0.041-1.558-1.203l-1.246-2.468h-0.592V12h8.754l-1.277,3.455h1.464v5.059c0,0-0.127,1.542-2.305,1.542h-10.686v-2.468h9.191c0,0,0.222-0.072,0.218-0.216v-1.326h-2.617l0.779-3.085h-9.346l-1.215,5.152c0,0-0.526,2.224-2.742,1.944h-2.929v-2.684h1.589c0,0,0.487-0.065,0.592-0.494l0.935-3.918h-3.116V12h8.848V7.465h-0.498l-1.246,2.468c0,0-0.75,1.304-2.835,1.265h-4.175V8.452h3.801c0,0,0.486-0.029,0.685-0.432l0.187-0.555h-4.767v-2.56h8.848V3.918h-8.941V1.141h17.945c0,0,0.244-0.049,0.311-0.37V0.278h3.489v1.635c0,0-0.22,2.005-2.96,2.005h-5.982v0.956H153v2.591h-4.86l0.28,0.679C148.42,8.144,148.619,8.452,148.981,8.452zM132.313,29.738h-2.492c-0.235-1.372-1.34-1.234-1.34-1.234c-1.608,0-1.589,2.19-1.589,2.19c0,2.719,1.62,2.468,1.62,2.468c1.174,0,1.309-1.388,1.309-1.388h2.555c-0.293,3.657-3.832,3.517-3.832,3.517c-4.466,0-4.206-4.566-4.206-4.566c0-4.45,4.112-4.35,4.112-4.35C132.348,26.375,132.313,29.738,132.313,29.738z M124.525,4.997l-1.776-2.221h-10.811l-1.807,2.53c0,0-0.314,0.339-0.748,0.339h-3.147V2.869h1.34c0,0,0.099-0.001,0.187-0.154L109.633,0h15.266l1.9,2.622c0,0,0.13,0.167,0.374,0.154h1.09v2.776h-2.96C125.304,5.553,124.86,5.553,124.525,4.997z M103.807,30.54l3.084,4.535h-3.178l-1.495-2.529l-1.495,2.529H97.67l3.115-4.473l-2.804-4.01h3.084l1.277,2.344l1.277-2.344h2.96L103.807,30.54z M101.47,22.057h-4.735v-2.56h2.679c0.391,0,0.405-0.37,0.405-0.37v-4.35H86.111l-0.81,1.018c-0.476,0.574-1.277,0.494-1.277,0.494h-2.555v-2.931h0.716c0.4,0,0.53-0.247,0.53-0.247l1.277-2.098h-1.651V0.185h20.873v8.823c-0.05,2.132-2.118,2.098-2.118,2.098H88.074l-0.592,0.987h15.92v8.113C103.264,22.144,101.47,22.057,101.47,22.057z M99.258,2.961H85.924v1.45h13.334V2.961z M99.134,8.545c0,0,0.214-0.097,0.218-0.278V7.003H85.924v1.542H99.134z M84.18,18.91l2.337-3.177h4.268l-4.33,5.614c0,0-0.724,0.62-1.62,0.524h-3.458v-2.56h2.305C83.681,19.311,83.961,19.247,84.18,18.91z M87.388,28.751h-4.33v1.049h3.925v2.036h-3.925v1.08h4.455v2.159h-7.01v-8.483h6.885V28.751z M70.627,35.815l-1.776-3.085l1.807-3.054h3.552l1.807,3.085l-1.776,3.054H70.627z M17.197,17.954l1.807-3.054h3.552l1.807,3.085l-1.807,3.054h-3.583L17.197,17.954z M44.8,35.815l-5.016-8.637l3.614-6.108l5.016,8.576h13.677l6.761-11.661L62.06,6.324H48.414l-17.229,29.46l-20.78,0.062L0,17.923L10.375,0.154l20.811-0.031l5.016,8.637L32.619,14.9l-5.047-8.607H13.957L7.103,17.985l6.854,11.661h13.646l17.26-29.491h20.78l10.374,17.83l-10.406,17.83H44.8z M92.28,21.964h-3.521v-2.56h1.433c0.436,0.002,0.654-0.339,0.654-0.339l2.555-3.116h4.362l-4.299,5.553C93.035,21.922,92.28,21.964,92.28,21.964zM92.872,26.375c4.353,0,4.268,4.411,4.268,4.411c0,1.971-0.966,3.023-0.966,3.023l0.997,1.018L95.987,36l-1.122-1.172c-0.421,0.386-1.776,0.463-1.776,0.463c-4.572,0.019-4.393-4.473-4.393-4.473C88.83,26.208,92.872,26.375,92.872,26.375zM92.934,33.162c0,0,0.237-0.016,0.312-0.062l-0.717-0.71l1.184-1.141l0.685,0.709c0,0,0.187-0.29,0.187-1.08c0,0,0.181-2.375-1.682-2.375c0,0-1.651-0.176-1.651,2.406C91.252,30.91,91.207,33.162,92.934,33.162z M110.007,35.074h-2.555v-8.483h2.555V35.074z M111.222,26.591h2.555v5.306c0,1.379,1.34,1.265,1.34,1.265c1.259,0,1.309-1.296,1.309-1.296v-5.275h2.555v5.491c0,3.456-3.77,3.208-3.77,3.208c-4.308,0-3.988-3.27-3.988-3.27V26.591z M128.17,19.28v2.776h-21.746v-2.746h2.15V7.095h3.209V19.28h3.676V4.689h3.583V8.73h8.941v2.961h-8.941v7.589H128.17z M123.06,35.074h-2.43V32.73h2.43V35.074z M137.672,26.375c4.254,0,4.237,4.38,4.237,4.38c0,4.688-4.175,4.535-4.175,4.535c-4.524,0-4.268-4.658-4.268-4.658C133.699,26.191,137.672,26.375,137.672,26.375z M136.021,30.848c0,2.339,1.651,2.314,1.651,2.314c1.762,0,1.682-2.345,1.682-2.345c0.002-2.392-1.651-2.344-1.651-2.344C135.947,28.473,136.021,30.848,136.021,30.848z M148.109,31.589l1.215-4.997h3.645v8.483h-2.43v-5.553l-1.464,5.553h-1.932l-1.464-5.46v5.46h-2.43v-8.483h3.645L148.109,31.589z"/>',
                        logo2: '<path d="M23.103,24l2.397-4.216h4.795l2.397,4.108l-2.397,4.216H25.5L23.103,24z M60.154,48l-6.756-11.568l4.795-8.216l6.756,11.46h18.308L92.41,24L83.256,8.324H64.949L41.846,48H13.949L0,24L13.949,0h27.897l6.756,11.568l-4.795,8.216l-6.756-11.46H18.744L9.59,24l9.154,15.676h18.308L60.154,0h27.897L102,24L88.051,48H60.154zM99.494,39.676L102,43.784L99.603,48h-4.904l-2.397-4.216l2.397-4.108H99.494z"/>',
                        code: '<path d="M64,64h-7V50h7V64z M50,50v-7h7v7H50z M43,50h-7V36h14v7h-7V50zM64,36v7h-7v-7H64z M36,0h28v28H36V0z M40,24h20V4H40V24z M43,7h14v14H43V7z M0,36h28v28H0V36z M4,40v20h20V40H4z M7,43h14v14H7V43z M0,0h28v28H0V0z M4,24h20V4H4V24z M7,7h14v14H7V7z M50,57v7H36v-7H50z"/>',
                        computer: '<path d="M61,44H38.676l6.199,8.769c0,0,1.125,1.64,0,3.231h-9.289h-6.697h-9.733c-1.156-1.591,0-3.231,0-3.231L25.527,44H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h58c1.657,0,3,1.343,3,3v38C64,42.657,62.657,44,61,44z M32,42c1.105,0,2-0.895,2-2s-0.895-2-2-2c-1.105,0-2,0.895-2,2S30.895,42,32,42z M60,5H4v31h56V5z"/>',
                        dengpao: '<path d="M40,44.969V52c0,3.314-2.686,6-6,6h-1v3.5c0,1.381-1.119,2.5-2.5,2.5h-11c-1.381,0-2.5-1.119-2.5-2.5V58h-1c-3.314,0-6-2.686-6-6v-7.041C3.936,40.403,0,33.171,0,25C0,11.193,11.193,0,25,0s25,11.193,25,25C50,33.173,46.068,40.413,40,44.969z M25,7C15.059,7,7,15.059,7,25c0,0.585,0.033,1.162,0.088,1.733c0.02,0.206,0.056,0.407,0.082,0.611c0.047,0.357,0.095,0.714,0.162,1.064c0.048,0.251,0.11,0.496,0.168,0.743c0.069,0.29,0.139,0.58,0.222,0.864c0.079,0.273,0.168,0.542,0.26,0.809c0.083,0.242,0.17,0.482,0.263,0.719c0.113,0.29,0.232,0.575,0.359,0.858c0.089,0.195,0.183,0.386,0.278,0.577c0.152,0.307,0.307,0.611,0.475,0.907c0.078,0.137,0.163,0.268,0.244,0.402c0.202,0.334,0.406,0.667,0.629,0.987c0.006,0.009,0.014,0.018,0.02,0.027c1.674,2.393,3.914,4.354,6.527,5.699C16.3,41.532,16,42.228,16,43v6c0,1.657,1.343,3,3,3h12c1.657,0,3-1.343,3-3v-6c0-0.772-0.3-1.468-0.778-2c2.998-1.544,5.497-3.904,7.222-6.788c0.062-0.103,0.127-0.203,0.186-0.306c0.177-0.31,0.34-0.629,0.499-0.951c0.09-0.181,0.179-0.361,0.262-0.545c0.13-0.286,0.251-0.577,0.366-0.871c0.093-0.236,0.179-0.474,0.261-0.715c0.091-0.267,0.18-0.535,0.259-0.808c0.084-0.287,0.154-0.578,0.224-0.871c0.058-0.245,0.119-0.487,0.167-0.736c0.068-0.353,0.117-0.712,0.164-1.072c0.026-0.202,0.062-0.401,0.081-0.605C42.967,26.163,43,25.586,43,25C43,15.059,34.941,7,25,7z M28.5,48h-7c-1.381,0-2.5-1.119-2.5-2.5v-1c0-1.381,1.119-2.5,2.5-2.5h7c1.381,0,2.5,1.119,2.5,2.5v1C31,46.881,29.881,48,28.5,48z"/>',
                        normaluser: '<path d="M31.5,64C59.433,56.326,63,32.541,63,24.694C63,16.846,60.61,8.58,54.309,0C49.566,1.885,39.207,2.721,31.5,0C23.794,2.721,13.434,1.885,8.692,0C2.39,8.58,0,16.846,0,24.694C0,32.541,3.568,56.326,31.5,64z"/>',
                        pad: '<path d="M49,64H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h46c1.657,0,3,1.343,3,3v58C52,62.657,50.657,64,49,64z M26,62c1.657,0,3-1.343,3-3s-1.343-3-3-3s-3,1.343-3,3S24.343,62,26,62z M45,6H7v48h38V6z"/>',
                        pengyou: '<path d="M52.671,41.29c0,0,3.271,9.101-5.532,11.011c0,0-7.661,1.98-11.065-11.011c0,0-3.688-10.606-3.688-12.846c0,0,11.041-2.228,18.442-1.835c0,0,11.116,0.842,11.065,9.175C61.892,35.785,62.397,43.503,52.671,41.29z M52.671,22.939c-5.253,0.729-21.208,3.67-21.208,3.67V7.34C31.264,1.286,39.762,0,39.762,0c7.386,0.19,6.455,7.34,6.455,7.34c10.325-4.012,11.065,7.34,11.065,7.34C57.501,18.724,52.671,22.939,52.671,22.939z M7.488,28.444c0,0-8.17-0.479-7.377-8.258c0,0-1.714-6.644,8.299-6.423c0,0-3.114-11.531,11.065-11.011c0,0,6.523-0.627,8.299,7.34c0,0,3.449,12.205,2.766,16.516C30.541,26.609,18.663,27.596,7.488,28.444z M31.463,28.444c-0.872,4.484,1.844,12.846,1.844,12.846c3.235,6.336,0.922,11.011,0.922,11.011c-2.931,8.699-11.987,7.34-11.987,7.34c-6.323-1.717-6.455-8.258-6.455-8.258c-5.134-0.13-7.377-1.835-7.377-1.835c-5.279-1.891-2.766-11.011-2.766-11.011C14.528,26.962,31.463,28.444,31.463,28.444z"/>',
                        qq: '<path d="M173.94,152.517c0,0-7.239,0.531-15.89-15.949c0,0-7.897,20.246-13.904,24.921c0,0,15.89,5.883,15.89,17.943c0,0-2.979,19.937-36.746,19.937c0,0-22.406,0.632-30.787-13.956h-2.979v-0.309l-2.979,0.309C78.162,200,55.756,199.368,55.756,199.368c-33.767,0-36.746-19.937-36.746-19.937c0-12.06,15.89-17.943,15.89-17.943c-6.007-4.675-13.904-24.921-13.904-24.921c-8.651,16.48-15.89,15.949-15.89,15.949c-17.583-29.635,15.89-60.807,15.89-60.807c-5.712-18.322,5.959-26.915,5.959-26.915C29.54,0.66,89.523,0,89.523,0s59.983,0.66,62.568,64.795c0,0,11.671,8.593,5.959,26.915C158.05,91.709,191.523,122.882,173.94,152.517z"/>',
                        qqliulanqi: '<path d="M64,55.332c0,4.57-3.122,8.311-7.081,8.642V64H31.793c-0.02,0-0.039-0.007-0.059-0.007C14.184,63.849,0,49.584,0,32C0,14.327,14.327,0,32,0s32,14.327,32,32c0,5.69-1.492,11.029-4.096,15.66C62.338,49.11,64,51.999,64,55.332z M32,14.222c-9.818,0-17.778,7.959-17.778,17.778c0,7.131,4.208,13.262,10.268,16.092c1.219-2.013,3.562-3.394,6.287-3.394c0.893,0,1.743,0.156,2.533,0.424c1.731-5.002,6.017-8.551,11.047-8.551c1.599,0,3.12,0.368,4.512,1.017c0.583-1.759,0.91-3.634,0.91-5.588C49.778,22.182,41.818,14.222,32,14.222z"/>',
                        qqweibo: '<path d="M60.847,26.088c-8.08-2.418-13.422-13.494-13.422-13.494c-2.424,0-2.684-2.699-2.684-2.699c0-3.708,2.684-3.598,2.684-3.598c3.337,0,3.579,3.598,3.579,3.598c0.013,1.683-1.79,2.699-1.79,2.699c2.627,8.909,12.527,11.695,12.527,11.695C64,25.295,60.847,26.088,60.847,26.088z M54.583,16.192c0,0-1.339,0.621-0.895-0.9c0,0,1.906-1.828,1.79-5.398c0,0-0.266-8.096-8.053-8.096c0,0-7.158,0.059-7.158,8.096c0,0,0.001,8.096,7.158,8.096c0,0,1.785,1.974,0,1.799c0,0-8.948-0.952-8.948-9.895c0,0,0.135-9.895,9.843-9.895c0,0,8.948,1.557,8.948,9.895C57.267,9.895,56.836,14.713,54.583,16.192z M17.001,38.682h-3.579c0,0-2.586-0.992-0.895-2.699c0,0,17.896,2.971,17.896-14.393c0,0-0.252-13.494-13.422-13.494c0,0-14.317,1.116-14.317,14.393c0,0,0.037,4.655,1.79,6.297c0,0,0.568,3.071-1.79,0.9c0,0-2.521-3.105-2.684-7.197c0,0,1.061-17.092,17.001-17.092c0,0,16.107,0.699,16.107,16.193C33.108,21.59,32.527,38.682,17.001,38.682z M12.527,24.289c0,0-1.74-4.156,1.79-7.197c0,0,5.442-2.025,8.053,2.699c0,0,1.083,4.133-1.79,6.297c0,0-3.242,1.586-6.264,0c0,0-9.393,9.066-8.948,17.992c0.029,0.574,0,10.795,0,10.795S4.337,58,1.79,55.774V44.08C1.79,44.08,4.022,30.876,12.527,24.289z"/>',
                        qqzone: '<path d="M49.096,31.429L51.726,55L32.438,43.651L13.151,55l1.753-22.698L0,19.206h21.918L32.438,0l11.397,19.206H64L49.096,31.429z M47.342,21.825H21.041l15.781,2.619L17.534,41.032h29.808L29.808,37.54L47.342,21.825z"/>',
                        renren: '<path d="M26.667,0h12c0,0-5.9,40.406,25.333,51.726L58,63c0,0-20.229-14.581-24-29.179c0,0-12.018,22.795-27.333,28.516L0,54.379C0,54.379,31.489,46.61,26.667,0z"/>',
                        sendcompany: '<path d="M56,37L32,13L8,37H0v-6L31,0h2l31,31v6H56z M53,38v26H39V43H25v21H11V38l21-21L53,38z"/>',
                        scenegift: '<path d="M34.133,63.954V25.581H64v38.372H34.133z M0,12.791h14.821C8.033,11.603,8,4.996,8,4.996C8.056,0.071,13,0,13,0c9.28-0.03,15.986,11.202,16.888,12.791h4.237C35.125,11.201,42.504-0.046,51,0c0,0,5.046,0.083,5,4.996c0,0,0.061,6.606-6.823,7.794H64v8.527H0V12.791z M53,5.996c0.062-1.888-2-1.999-2-1.999c-8.038-0.049-13,8.993-13,8.993C50.389,13.03,53,5.996,53,5.996z M13,3.997c0,0-1.983,0.024-2,1.999s2.81,6.995,15,6.995C26,12.991,20.979,3.981,13,3.997z M29.867,63.954H0V25.581h29.867V63.954z"/>',
                        scenesend: '<path d="M0,24.889L64,0L46.222,64L24.889,46.222l24.889-32l-32,24.889L0,24.889z M10.667,39.111l14.222,10.667L14.222,60.444L10.667,39.111z"/>',
                        taobao: '<path d="M48.988,48.946c-4.903,0-7.901-1.579-7.901-1.579l0.79-3.947l7.111,0.789c6.122,0,6.321-5.526,6.321-5.526V14.21c0-7.378-7.901-7.895-7.901-7.895c-6.463,0-15.012,3.158-15.012,3.158l3.16,1.579c0.142,1.015-3.16,4.737-3.16,4.737h20.543v3.947H41.086v3.947h11.852v3.947H41.086v9.473l4.741-2.368l-0.79-3.947l4.741-1.579l3.951,10.263l-5.531,2.368l-1.58-3.947c-5.47,3.996-14.222,4.737-14.222,4.737h-7.111c-4.661,0-5.531-5.526-5.531-5.526v-7.105h7.111v3.158c-0.14,5.157,7.111,4.737,7.111,4.737V27.631H21.333v-3.947h12.642v-3.947h-5.531c-0.316,2.196-3.951,3.158-3.951,3.158s-2.819-0.519-3.16-1.579c2.749-1.888,6.321-9.473,6.321-9.473c-4.473,0.22-8.691,6.316-8.691,6.316l-4.741-3.947C19.296,12.449,22.914,0,22.914,0l7.111,1.579c0.106,1.229-1.58,4.737-1.58,4.737c11.708-3.875,23.704-3.158,23.704-3.158C63.475,4.407,64,15,64,15v21.315C64,49,48.988,48.946,48.988,48.946z M11.062,10.263c-5.479,0-5.531-4.737-5.531-4.737c0-5.404,5.531-4.737,5.531-4.737c5.138,0,5.531,4.737,5.531,4.737C16.593,10.074,11.062,10.263,11.062,10.263z M2.37,18.157l3.951-5.526c11.83,10.053,11.062,12.631,11.062,12.631c-0.264,5.059-9.482,22.105-9.482,22.105L0,41.841L11.852,29.21c1.392-1.303,0-3.947,0-3.947C11.562,22.982,2.37,18.157,2.37,18.157z"/>',
                        tieba: '<path d="M64,28.804v33.072H36.267c0,0-0.933,0.052-1.067-2.134V32.005c0,0-1.165-3.201,5.333-3.201V1.067h6.4v4.267H64v6.401H46.933v17.069H64z M42.667,36.272v19.203h13.867V36.272H42.667z M14.933,55.475c0,0-4.911,5.24-12.8,6.401l-1.067-4.267c0,0,8.079-3.243,9.6-7.468V13.869c0,0,0.682-2.067,4.267-2.134c0,0,3.289,0.126,3.2,2.134V46.94c0,0,0.469,6.066,11.733,10.668L28.8,62.943C28.8,62.943,22.857,64,14.933,55.475z M23.467,9.601c0,0,0.113-3.437-8.533-3.201c0,0-8.533,0.099-8.533,3.201V46.94H0V0h29.867v46.94h-6.4V9.601z"/>',
                        time: '<path d="M57.094,17.342L39.191,4.248c3.421-4.74,10.201-5.651,15.145-2.035C59.28,5.829,60.514,12.602,57.094,17.342z M56.896,34.986c0.016,15.224-12.23,27.578-27.352,27.594C14.421,62.597,2.149,50.268,2.133,35.044C2.117,19.821,14.363,7.466,29.485,7.45C44.608,7.434,56.88,19.762,56.896,34.986z M29.492,14.27c-10.206,0.011-18.663,7.491-20.294,17.297H8.966v6.895h0.231c1.633,9.824,10.118,17.308,20.339,17.297C39.742,55.75,48.2,48.269,49.83,38.463h0.232v-6.895h-0.23C48.199,21.743,39.713,14.26,29.492,14.27z M14.103,38.463v-6.895H26.09V16.915h6.849v14.653v6.895H26.09H14.103z M4.692,2.213c4.944-3.616,11.724-2.705,15.145,2.035L1.935,17.342C-1.486,12.602-0.251,5.829,4.692,2.213z"/>',
                        uc: '<path d="M53.093,32.265c-7.527-5.77-19.034-7.054-19.034-7.054c5.833-1.908,12.021-7.054,12.021-7.054c-0.333-6.053,2.003-8.061,2.003-8.061c1.492,1.376,3.005,6.046,3.005,6.046C64,21.39,61.107,32.265,61.107,32.265H53.093z M26.046,26.219c0,0-16.028,6.346-16.028,20.153c0,0,0.893,11.278,8.172,13.661C12.446,58.893,0,55.07,0,43.35c0-15.233,13.134-18.434,14.025-27.207c0,0-1.021-8.061-7.012-8.061c0,0-4.643,0.683-6.01,2.015c0,0,5.962-10.617,18.032-10.077c0,0,12.937,0.063,14.025,11.084C33.058,11.104,34.791,19.555,26.046,26.219z M18.189,60.034c1.721,0.342,2.848,0.446,2.848,0.446C19.991,60.48,19.048,60.315,18.189,60.034z M16.028,48.388c0,0,0.948-8.061,8.014-8.061c0,0,9.016,0.132,9.016,8.061c0,0-0.119,9.069-8.014,9.069C25.044,57.457,16.028,58.129,16.028,48.388z M20.035,48.388c0,4.649,4.007,5.038,4.007,5.038c4.47,0,5.009-4.031,5.009-4.031c0-4.625-5.009-5.038-5.009-5.038C19.821,44.233,20.035,48.388,20.035,48.388z M37.065,48.388c0,0-0.189-12.092-11.019-12.092c0,0-4.6-1.381-11.019,3.023c0,0,3.518-7.19,12.021-7.054c0,0,15.761,0.647,16.028,17.13c0,0-0.817,6.053-3.005,7.054c0,0,7.737-1.618,10.018,4.031H28.049C28.049,60.48,36.582,59.201,37.065,48.388z M46.081,41.334c0,0-4.805-11.215-21.037-12.092c0,0,8.813-2.856,17.03,1.008l8.014,5.038c0,0,1.677,0.997,5.009,1.008c0,0,6.234,0.472,7.012,4.031c0,0-5.923-1.36-8.014,0C54.095,40.327,50.536,44.644,46.081,41.334z"/>',
                        voice: '<path d="M38.246,32.653c0,9.68-7.396,17.645-16.902,18.686v8.482h8.451V64H8.667v-4.18h8.451v-8.482C7.612,50.298,0.216,42.333,0.216,32.653c0-1.815-0.485-2.548,0-4.209h4.111c-0.629,1.624,0.114,2.365,0.114,4.209c0,8.079,6.621,14.629,14.79,14.629S34.02,40.732,34.02,32.653c0-1.843,0.743-2.584,0.114-4.209h4.111C38.731,30.105,38.246,30.838,38.246,32.653z M19.231,42.667h-1.028c-5.393,0-9.764-4.321-9.764-9.651V9.651C8.438,4.321,12.81,0,18.203,0h1.028c5.393,0,9.764,4.321,9.764,9.651v23.365C28.995,38.346,24.623,42.667,19.231,42.667z"/>',
                        wechat: '<path d="M171.484,138.214l6.938,21.872l-26.761-14.913c-72.415-0.249-66.407-49.709-66.407-49.709c0-28.146,34.69-40.761,34.69-40.761c75.009-16.33,78.301,42.749,78.301,42.749C198.245,125.746,171.484,138.214,171.484,138.214z M122.245,78.086c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8c4.418,0,8-3.582,8-8C130.245,81.667,126.663,78.086,122.245,78.086z M165.245,78.086c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8c4.418,0,8-3.582,8-8C173.245,81.667,169.663,78.086,165.245,78.086z M90.209,69.616c-17.464,24.322-4.956,47.72-4.956,47.72c-2.767,2.24-7.929,1.988-7.929,1.988H61.466l-36.673,16.901l8.92-25.849C-1.755,92.678,0.015,60.668,0.015,60.668v-2.982C6.983-1.914,70.386,0.024,70.386,0.024c30.227-0.665,46.584,12.924,46.584,12.924c19.951,11.217,24.779,32.808,24.779,32.808C107.066,46.955,90.209,69.616,90.209,69.616z M41.245,30.086c-6.075,0-11,4.925-11,11s4.925,11,11,11s11-4.925,11-11S47.32,30.086,41.245,30.086z M108.245,41.086c0-6.075-4.925-11-11-11c-6.075,0-11,4.925-11,11s4.925,11,11,11C103.32,52.086,108.245,47.161,108.245,41.086z"/>',
                        weibo: '<path d="M199.389,65.394c0,0-0.493,9.988-10.011,9.988c0,0-10.252-1.807-7.007-11.985c0,0,11.965-41.924-36.038-47.942c0,0-17.018,5.194-17.018-6.991c0,0,1.506-7.99,8.008-7.99C137.322,0.473,204.096-9.8,199.389,65.394z M143.329,40.425c0,0-8.008,1.063-8.008-6.992c0,0,2.411-5.993,7.007-5.993c0,0,34.003-5.033,30.032,32.96c0,0-1.923,5.993-6.006,5.993c0,0-8.008,0.682-8.008-7.99C158.345,58.403,162.869,40.425,143.329,40.425z M133.318,45.419c0,0,17.018,0.911,17.018,16.979c0,0,0.245,9.102-4.004,12.984c0,0,29.031,6.811,29.031,28.965c0,0-0.251,56.931-91.097,56.931c0,0-84.09,0.922-84.09-52.936c0,0-4.081-25.111,27.029-54.933c31.109-29.822,48.801-30.962,57.061-30.962c0,0,16.017-0.976,16.017,15.98c0,0-0.412,11.219-3.003,14.982C97.28,53.409,116.344,45.419,133.318,45.419z M78.259,71.387c0,0-49.884,3.469-58.062,42.948c0,0-0.603,30.22,52.055,34.958c0,0,54.006,2.183,66.07-36.955C138.324,112.337,151.405,74.021,78.259,71.387z M73.12,142.2c-26.866-0.565-28.931-22.871-28.931-22.871c-1.094-30.22,32.921-32.815,32.921-32.815c31.985-0.314,30.926,25.854,30.926,25.854C106.16,142.199,73.12,142.2,73.12,142.2z M67.135,110.379c0,0-11.971,1.423-11.971,9.944c0,0-1.051,8.95,9.976,8.95c0,0,10.974-1.898,10.974-9.944C76.113,119.328,77.207,110.379,67.135,110.379z M83.097,106.401c0,0-3.99-0.664-3.99,2.983c0,0-0.929,2.983,2.993,2.983c0,0,3.99-0.785,3.99-3.978C86.089,108.39,85.751,106.401,83.097,106.401z"/>',
                        windows: '<path d="M28.984,59.594V33.416H63V64L28.984,59.594z M28.984,4.406L63,0v30.584H28.984V4.406z M0,33.416h26.149v25.487L0,55.231V33.416z M0,8.769l26.149-3.672v25.487H0V8.769z"/>',
                        yixin: '<path d="M45.364,58.38c4.124,2.52,10.259,2.797,10.259,2.797C44.551,65,36.341,63.943,30.867,61.901C13.807,61.829,0,48.002,0,30.952C0,13.858,13.879,0,31,0s31,13.858,31,30.952C62,42.869,55.251,53.207,45.364,58.38z M31,14.977c-8.837,0-16,7.153-16,15.975c0,5.364,2.656,10.098,6.718,12.996c-3.185,4.404-11.86,5.579-11.86,5.579c19.676,4.767,29.433-4.088,31.788-6.672C44.924,39.93,47,35.688,47,30.952C47,22.129,39.837,14.977,31,14.977z"/>',
                        zhifubao: '<path d="M63.021,50L36.949,36.957c-10.737,11.987-22.813,10.87-22.813,10.87c-15.115,0-14.122-11.957-14.122-11.957C-0.088,22.841,15.222,25,15.222,25c8.559,0.109,18.468,3.261,18.468,3.261c3.55-4.164,4.345-9.783,4.345-9.783H10.877v-2.174h13.036V10.87H7.618V8.696h16.295V0h8.691v8.696h16.295v2.174H32.604v5.435h14.122c0.153,3.882-5.432,15.217-5.432,15.217l21.727,6.522V50z M14.136,28.261c0,0-11.95-2.295-11.95,7.609c0,0-1.54,7.609,10.863,7.609c0,0,11.464,0.271,17.381-9.783C30.431,33.696,23.002,28.261,14.136,28.261z"/>'
                    },
                    boundingBox: function(a) {
                        var b, c = a.parentNode,
                            d = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
                        return d.setAttribute("width", "0"),
                            d.setAttribute("height", "0"),
                            d.setAttribute("style", "visibility: hidden; position: absolute; left: 0; top: 0;"),
                            d.appendChild(a),
                            document.body.appendChild(d),
                            b = a.getBBox(),
                            c ? c.appendChild(a) : d.removeChild(a),
                            document.body.removeChild(d),
                            b
                    },
                    pointsToPolygon: function(a) {
                        for (var b = []; a.length >= 2;) b.push(a.shift() + "," + a.shift());
                        return b.join(" ")
                    },
                    symbol: function(a) {
                        var b = document.createElementNS(eqxiuSvg.NAMESPACE, "g");
                        eqxiuSvg.SYMBOLS[a];
                        return b.innerHTML = eqxiuSvg.SYMBOLS[a],
                            b
                    },
                    ShapeFromType: function(a, b, c) {
                        return b || (b = 64),
                            c || (c = 64),
                            /symbols\-/.test(a) ? eqxiuSvg.symbol(a.replace(/^symbols\-/, "")) : "rect" == a ? eqxiuSvg.rect(b, c) : "circle" == a ? eqxiuSvg.ellipse(b, c) : "diamond" == a ? eqxiuSvg.polygon(b, c, 4) : "octagon" == a ? eqxiuSvg.polygon(b, c, 8) : "triangle-up" == a ? eqxiuSvg.triangleUp(b, c) : "triangle-down" == a ? eqxiuSvg.triangleDown(b, c) : "triangle-left" == a ? eqxiuSvg.triangleLeft(b, c) : "triangle-right" == a ? eqxiuSvg.triangleRight(b, c) : "arrow-up" == a ? eqxiuSvg.arrowUp(b, c) : "arrow-down" == a ? eqxiuSvg.arrowDown(b, c) : "arrow-left" == a ? eqxiuSvg.arrowLeft(b, c) : "arrow-right" == a ? eqxiuSvg.arrowRight(b, c) : void 0
                    },
                    rect: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "rect");
                        return c.setAttribute("width", a),
                            c.setAttribute("height", b),
                            c
                    },
                    ellipse: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "ellipse");
                        return c.setAttribute("rx", a / 2),
                            c.setAttribute("ry", b / 2),
                            c.setAttribute("cx", a / 2),
                            c.setAttribute("cy", b / 2),
                            c
                    },
                    triangleUp: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a / 2, 0, a, b, 0, b])),
                            c
                    },
                    triangleDown: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, 0, a, 0, a / 2, b])),
                            c
                    },
                    triangleLeft: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, b / 2, a, 0, a, b])),
                            c
                    },
                    triangleRight: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a, b / 2, 0, b, 0, 0])),
                            c
                    },
                    arrowUp: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([.5 * a, 0, a, .5 * b, .7 * a, .5 * b, .7 * a, b, .3 * a, b, .3 * a, .5 * b, 0, .5 * b, .5 * a, 0])),
                            c
                    },
                    arrowDown: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([.5 * a, b, a, .5 * b, .7 * a, .5 * b, .7 * a, 0, .3 * a, 0, .3 * a, .5 * b, 0, .5 * b, .5 * a, b])),
                            c
                    },
                    arrowLeft: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a, .3 * b, .5 * a, .3 * b, .5 * a, 0, 0, .5 * b, .5 * a, b, .5 * a, .7 * b, a, .7 * b, a, .3 * b])),
                            c
                    },
                    arrowRight: function(a, b) {
                        var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                        return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, .3 * b, .5 * a, .3 * b, .5 * a, 0, a, .5 * b, .5 * a, b, .5 * a, .7 * b, 0, .7 * b])),
                            c
                    },
                    polygon: function(a, b, c) {
                        var d = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon"),
                            e = [];
                        if (3 === c) e = [a / 2, 0, a, b, 0, b];
                        else if (c > 3) for (var f = a / 2,
                                                 g = b / 2,
                                                 h = 0; c > h; h++) {
                            var i = f + f * Math.cos(2 * Math.PI * h / c),
                                j = g + g * Math.sin(2 * Math.PI * h / c);
                            i = Math.round(10 * i) / 10,
                                j = Math.round(10 * j) / 10,
                                e.push(i),
                                e.push(j)
                        }
                        return d.setAttribute("points", eqxiuSvg.pointsToPolygon(e)),
                            d
                    }
                }
            } (),
            function(a) {
                "use strict";
                a.fn.swipeSlide = function(b, c) {
                    function d(a, b) {
                        a.css({
                            "-webkit-transition": "all " + b + "s " + C.transitionType,
                            transition: "all " + b + "s " + C.transitionType
                        })
                    }
                    function e(a, b) {
                        C.axisX ? a.css({
                            "-webkit-transform": "translate3d(" + b + "px,0,0)",
                            transform: "translate3d(" + b + "px,0,0)"
                        }) : a.css({
                            "-webkit-transform": "translate3d(0," + b + "px,0)",
                            transform: "translate3d(0," + b + "px,0)"
                        })
                    }
                    function f(a) {
                        if (C.lazyLoad) {
                            var b = C.ul.find("[data-src]");
                            if (b.length > 0) {
                                var c = b.eq(a);
                                c.data("src") && (c.is("img") ? c.attr("src", c.data("src")).data("src", "") : c.css({
                                    "background-image": "url(" + c.data("src") + ")"
                                }).data("src", ""))
                            }
                        }
                    }
                    function g(a) {
                        a.touches || (a.touches = a.originalEvent.touches)
                    }
                    function h(a) {
                        r = a.touches[0].pageX,
                            s = a.touches[0].pageY
                    }
                    function i(a) {
                        if (a.preventDefault(), C.autoSwipe && p && clearInterval(p), w = a.touches[0].pageX, x = a.touches[0].pageY, t = w - r, u = x - s, d(C.ul, 0), C.axisX) {
                            if (!C.continuousScroll) {
                                if (0 == q && t > 0) return t = 0,
                                    o();
                                if (q + 1 >= F && 0 > t) return t = 0,
                                    o()
                            }
                            e(C.ul, -(D * parseInt(q) - t))
                        } else {
                            if (!C.continuousScroll) {
                                if (0 == q && u > 0) return u = 0,
                                    o();
                                if (q + 1 >= F && 0 > u) return u = 0,
                                    o()
                            }
                            e(C.ul, -(E * parseInt(q) - u))
                        }
                    }
                    function j() {
                        v = C.axisX ? t: u,
                                Math.abs(v) <= y ? k(.3) : v > y ? n() : -y > v && m(),
                            o(),
                            t = 0,
                            u = 0
                    }
                    function k(a) {
                        d(C.ul, a),
                            C.axisX ? e(C.ul, -q * D) : e(C.ul, -q * E)
                    }
                    function l() {
                        C.continuousScroll ? q >= F ? (k(.3), q = 0, setTimeout(function() {
                                k(0)
                            },
                            300)) : 0 > q ? (k(.3), q = F - 1, setTimeout(function() {
                                k(0)
                            },
                            300)) : k(.3) : (q >= F ? q = 0 : 0 > q && (q = F - 1), k(.3)),
                            c(q)
                    }
                    function m() {
                        q++,
                            l(),
                            C.lazyLoad && f(C.continuousScroll ? q + 2 : q + 1)
                    }
                    function n() {
                        if (q--, l(), A && C.lazyLoad) {
                            var a = F - 1;
                            for (a; F + 1 >= a; a++) f(a);
                            return void(A = !1)
                        } ! A && C.lazyLoad && f(q)
                    }
                    function o() {
                        C.autoSwipe && (p = setInterval(function() {
                                m()
                            },
                            C.speed))
                    }
                    var p, q = 0,
                        r = 0,
                        s = 0,
                        t = 0,
                        u = 0,
                        v = 0,
                        w = 0,
                        x = 0,
                        y = 50,
                        z = 0,
                        A = !0,
                        B = a(this),
                        C = a.extend({},
                            {
                                ul: B.children("ul"),
                                li: B.children().children("li"),
                                continuousScroll: !1,
                                autoSwipe: !0,
                                speed: 4e3,
                                axisX: !0,
                                transitionType: "ease",
                                lazyLoad: !1,
                                clone: !0,
                                width: 0,
                                length: 0
                            },
                                b || {}),
                        D = C.width || C.li.width(),
                        E = C.li.height(),
                        F = C.length || C.li.length;
                    c = c ||
                        function() {},
                        function() {
                            if (C.continuousScroll && (C.clone && C.ul.prepend(C.li.last().clone()).append(C.li.first().clone()), C.axisX ? (e(C.ul.children().first(), -1 * D), e(C.ul.children().last(), D * F)) : (e(C.ul.children().first(), -1 * E), e(C.ul.children().last(), E * F))), C.lazyLoad) {
                                var b = 0;
                                for (z = C.continuousScroll ? 3 : 2, b; z > b; b++) f(b)
                            }
                            C.axisX ? C.li.each(function(b) {
                                e(a(this), D * b)
                            }) : C.li.each(function(b) {
                                e(a(this), E * b)
                            }),
                                o(),
                                c(q, p),
                                B.on("touchstart",
                                    function(a) {
                                        a.stopPropagation(),
                                            g(a),
                                            h(a)
                                    }),
                                B.on("touchmove",
                                    function(a) {
                                        a.stopPropagation(),
                                            g(a),
                                            i(a)
                                    }),
                                B.on("touchend",
                                    function(a) {
                                        a.stopPropagation(),
                                            j()
                                    })
                        } ()
                }
            } (a.Zepto || a.jQuery),
            function(b) {
                function c(a, b, c, d) {
                    var e = {},
                        f = a / b,
                        g = c / d;
                    return f > g ? (e.width = c, e.height = c / f) : (e.height = d, e.width = d * f),
                        e
                }
                function d(b, c) {
                    "view" == m.mode && c.properties.url && $(b).click(function(b) {
                        var d = c.properties.url;
                        isNaN(d) ? a.open(d) : eqxiu.pageScroll(d)
                    })
                }
                function e(a) {
                    $(a).bind("touchstart mousedown",
                        function(a) {
                            a.stopPropagation()
                        })
                }
                function f(a) {
                    a.focus(function(a) {
                        eqxiu.pauseAutoFlip()
                    }).blur(function(a) {
                        $(document).trigger("startAutoFlip")
                    })
                }
                function g(a) {
                    for (var b = $(a).find("a[data]"), c = 0; c < b.length; c++) if (b[c] && "view" == m.mode) {
                        $(b[c]).css("cursor", "pointer");
                        var d = $(b[c]).attr("data"); !
                            function(a) {
                                b[c].removeAttribute("href"),
                                    $(b[c]).click(function(b) {
                                        eqxiu.pageScroll(a)
                                    })
                            } (d)
                    }
                }
                function h(a, b) {
                    if (b.trigger) {
                        var c = $(a);
                        n && clearTimeout(n),
                            console.log(b.trigger.sends),
                            b.trigger.sends && b.trigger.sends.length && $.each(b.trigger.sends,
                            function(a, b) {
                                c.bind(utilTrigger.getSendType(b.type).name,
                                    function() {
                                        n = setTimeout(function() {
                                                $.each(b.handles,
                                                    function(a, b) {
                                                        var c = utilTrigger.getHandleType(b.type).name;
                                                        $.each(b.ids,
                                                            function(a, b) {
                                                                var d = $("#inside_" + b);
                                                                d.trigger(c)
                                                            })
                                                    })
                                            },
                                                1e3 * b.delay)
                                    })
                            })
                    }
                }
                function l(a, b) {
                    if (b.sound) {
                        var c = $(a),
                            d = $("#media").get(0);
                        0 == b.sound.src.indexOf("http://") ? b.sound.src = b.sound.src: b.sound.src = PREFIX_FILE_HOST + b.sound.src,
                            utilSound.addAudio(a, b.sound.src),
                            c.click(function() {
                                utilSound.play(a,
                                    function() {
                                        d && d.play()
                                    },
                                    function() {
                                        d && d.pause()
                                    })
                            })
                    }
                }
                var m = b.templateParser("jsonParser",
                    function() {
                        function a(a) {
                            return function(b, c) {
                                a[b] = c
                            }
                        }
                        function b(a, b) {
                            try {
                                var c = n[("" + a.type).charAt(0)](a)
                            } catch(d) {
                                return
                            }
                            if (c) {
                                var e = $('<li comp-drag comp-rotate class="comp-resize comp-rotate inside" id="inside_' + a.id + '" num="' + a.num + '" ctype="' + a.type + '"></li>');
                                if (3 != ("" + a.type).charAt(0) && 1 != ("" + a.type).charAt(0) && e.attr("comp-resize", ""), "p" == ("" + a.type).charAt(0) && e.removeAttr("comp-rotate"), 1 == ("" + a.type).charAt(0) && e.removeAttr("comp-drag"), 2 == ("" + a.type).charAt(0) && e.addClass("wsite-text"), "x" == ("" + a.type).charAt(0) && e.addClass("show-text"), 4 == ("" + a.type).charAt(0) && (a.properties.imgStyle && $(c).css(a.properties.imgStyle), e.addClass("wsite-image")), "n" == ("" + a.type).charAt(0) && e.addClass("wsite-image"), "h" == ("" + a.type).charAt(0) && e.addClass("wsite-shape"), 5 == ("" + a.type).charAt(0) && e.addClass("wsite-input"), 6 == ("" + a.type).charAt(0) && e.addClass("wsite-button"), 8 == ("" + a.type).charAt(0) && e.addClass("wsite-button"), "v" == ("" + a.type).charAt(0) && e.addClass("wsite-video"), e.mouseenter(function() {
                                    $(this).addClass("inside-hover")
                                }), e.mouseleave(function() {
                                    $(this).removeClass("inside-hover")
                                }), "edit" == m.mode || "x" != ("" + a.type).charAt(0)) {
                                    var f = $('<div class="element-box">').append($('<div class="element-box-contents">').append(c));
                                    e.append(f),
                                        5 != ("" + a.type).charAt(0) && 6 != ("" + a.type).charAt(0) && "r" != a.type && "c" != a.type && "a" != a.type && "8" != a.type && "l" != a.type && "s" != a.type && "i" != a.type && "h" != a.type || "edit" != b || $(c).before($('<div class="element" style="position: absolute; height: 100%; width: 100%;z-index: 1;">'))
                                }
                                if (a.css) {
                                    var g = 320 - parseInt(a.css.left);
                                    if (e.css({
                                        width: g
                                    }), e.css({
                                        width: a.css.width,
                                        height: a.css.height,
                                        left: a.css.left,
                                        top: a.css.top,
                                        zIndex: a.css.zIndex,
                                        bottom: a.css.bottom,
                                        transform: a.css.transform
                                    }), "edit" != m.mode && "x" == ("" + a.type).charAt(0)) return e.append(c),
                                        e.find(".element-box").css({
                                            borderStyle: a.css.borderStyle,
                                            borderWidth: a.css.borderWidth,
                                            borderColor: a.css.borderColor,
                                            borderTopLeftRadius: a.css.borderTopLeftRadius,
                                            borderTopRightRadius: a.css.borderTopRightRadius,
                                            borderBottomRightRadius: a.css.borderBottomRightRadius,
                                            borderBottomLeftRadius: a.css.borderBottomLeftRadius,
                                            boxShadow: a.css.boxShadow,
                                            backgroundColor: a.css.backgroundColor,
                                            opacity: a.css.opacity,
                                            width: "100%",
                                            height: "100%",
                                            overflow: "hidden"
                                        }),
                                        e.find("img").css({
                                            width: "100%"
                                        }),
                                        e;
                                    k() && j() && 4 == a.type && "0px" != a.css.borderRadius && 0 == a.css.borderWidth && a.properties.anim && (a.css.borderWidth = 1, a.css.borderColor = "rgba(0,0,0,0)"),
                                        f.css(a.css).css({
                                            width: "100%",
                                            height: "100%",
                                            transform: "none"
                                        }),
                                        f.children(".element-box-contents").css({
                                            width: "100%",
                                            height: "100%"
                                        }),
                                        4 != ("" + a.type).charAt(0) && "n" != ("" + a.type).charAt(0) && "p" != ("" + a.type).charAt(0) && "h" != ("" + a.type).charAt(0) && $(c).css({
                                        width: a.css.width,
                                        height: a.css.height
                                    }),
                                        "h" == ("" + a.type).charAt(0) && ($(c).find("g").length ? $(c).find("g").attr("fill", a.css.color) : $(c).children().attr("fill", a.css.color))
                                }
                                return e
                            }
                        }
                        function c(a) {
                            for (var b = 0; b < a.length - 1; b++) for (var c = b + 1; c < a.length; c++) if (parseInt(a[b].css.zIndex, 10) > parseInt(a[c].css.zIndex, 10)) {
                                var d = a[b];
                                a[b] = a[c],
                                    a[c] = d
                            }
                            for (var e = 0; e < a.length; e++) a[e].css.zIndex = e + 1 + "";
                            return a
                        }
                        function d(a, d, e) {
                            d = d.find(".edit_area").css({
                                overflow: "hidden"
                            });
                            var f, g = a.elements;
                            if (g) for (g = c(g), f = 0; f < g.length; f++) if (g[f].sceneId = a.sceneId, 3 == g[f].type) {
                                var i = n[("" + g[f].type).charAt(0)](g[f]);
                                "edit" == e && o[("" + g[f].type).charAt(0)] && o[("" + g[f].type).charAt(0)](i, g[f])
                            } else {
                                var j = b(g[f], e);
                                if (!j) continue;
                                d.append(j);
                                for (var k = 0; k < q.length; k++) q[k](j, g[f], e);
                                p[("" + g[f].type).charAt(0)] && (p[("" + g[f].type).charAt(0)](j, g[f]), "edit" != e && (h(j, g[f]), l(j, g[f]))),
                                    "edit" == e && o[("" + g[f].type).charAt(0)] && o[("" + g[f].type).charAt(0)](j, g[f])
                            }
                        }
                        function e() {
                            return o
                        }
                        function f() {
                            return n
                        }
                        function g(a) {
                            q.push(a)
                        }
                        function i() {
                            return q
                        }
                        var n = {},
                            o = {},
                            p = {},
                            q = [],
                            r = containerWidth = 320,
                            s = containerHeight = 486,
                            t = 1,
                            u = 1,
                            w = {
                                getComponents: f,
                                getEventHandlers: e,
                                addComponent: a(n),
                                bindEditEvent: a(o),
                                bindAfterRenderEvent: a(p),
                                addInterceptor: g,
                                getInterceptors: i,
                                wrapComp: b,
                                mode: "view",
                                parse: function(a) {
                                    var b = $('<div class="edit_wrapper" data-scene-id="' + a.def.sceneId + '"><ul eqx-edit-destroy id="edit_area' + a.def.id + '" comp-droppable paste-element class="edit_area weebly-content-area weebly-area-active"></div>'),
                                        c = this.mode = a.mode;
                                    this.def = a.def,
                                        "view" == c && v++;
                                    var e = $(a.appendTo);
                                    return containerWidth = e.width(),
                                        containerHeight = e.height(),
                                        t = r / containerWidth,
                                        u = s / containerHeight,
                                        d(a.def, b.appendTo($(a.appendTo)), c)
                                }
                            };
                        return w
                    });
                m.addInterceptor(function(a, b, c) {
                    w.animation(a, b, c)
                }),
                    m.addComponent("1",
                        function(a) {
                            var b = document.createElement("div");
                            if (b.id = a.id, b.setAttribute("class", "element comp_title"), a.content && (b.textContent = a.content), a.css) {
                                var c, d = a.css;
                                for (c in d) b.style[c] = d[c]
                            }
                            if (a.properties.labels) for (var e = a.properties.labels,
                                                              f = 0; f < e.length; f++) $('<a class = "label_content" style = "display: inline-block;">').appendTo($(b)).html(e[f].title).css(e[f].color).css("width", 100 / e.length + "%");
                            return b
                        }),
                    m.addComponent("2",
                        function(a) {
                            var b = document.createElement("div");
                            return b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                b.setAttribute("class", "element comp_paragraph editable-text"),
                                a.content && (b.innerHTML = a.content),
                                b.style.cursor = "default",
                                b
                        }),
                    m.addComponent("x",
                        function(a) {
                            var b;
                            if ("edit" == m.mode) b = document.createElement("div"),
                                b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                b.setAttribute("class", "element comp_paragraph editable-text"),
                                a.content && (b.innerHTML = a.content),
                                b.style.cursor = "default";
                            else var b = '<div class="element-box"><img src="' + a.properties.dataUrl + '"></div>';
                            return b
                        }),
                    m.addComponent("3",
                        function(a) {
                            var b, c = document.createElement("div");
                            "edit" == m.mode ? (b = $("#nr .edit_wrapper"), c.setAttribute("class", "wrapper-background"), c.setAttribute("id", a.id)) : "view" == m.mode && (b = $("#edit_area" + m.def.id).parent(".edit_wrapper"), c.setAttribute("id", "wrapper-background" + m.def.id)),
                                $(c).prependTo(b).css({
                                    width: "100%",
                                    height: "100%"
                                });
                            var d, e = new Image;
                            return a.properties.imgSrc ? (d = a.properties.imgSrc, /^http.*!/.test(d) ? (e.src = d, c.style.backgroundImage = "url(" + d + ")") : (e.src = PREFIX_FILE_HOST + "/" + d, c.style.backgroundImage = "url(" + PREFIX_FILE_HOST + "/" + d + ")"), c.style.backgroundOrigin = "element content-box", c.style.backgroundSize = "cover", c.style.backgroundPosition = "50% 50%", a.effect && ("scaleUp" == a.effect.type ? $(c).css({
                                animation: "scaleUp 7s ease 1s",
                                "animation-fill-mode": "both"
                            }) : "scaleDown" == a.effect.type && $(c).css({
                                animation: "scaleDown 7s ease 1s",
                                "animation-fill-mode": "both"
                            }))) : a.properties.bgColor && (c.style.backgroundColor = a.properties.bgColor),
                                c
                        }),
                    m.addComponent("4",
                        function(a) {
                            var b = document.createElement("img");
                            return b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                b.setAttribute("class", "element comp_image editable-image"),
                                /^http.*/.test(a.properties.src) ? b.src = a.properties.src: b.src = PREFIX_FILE_HOST + a.properties.src,
                                b
                        }),
                    m.addComponent("h",
                        function(a) {
                            var b = i(),
                                c = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
                            c.id = a.id,
                                c.setAttribute("xmlns", eqxiuSvg.NAMESPACE),
                                c.setAttribute("version", "1.1"),
                                c.setAttribute("width", "100%"),
                                c.setAttribute("height", "100%"),
                                c.setAttribute("preserveAspectRatio", "xMidYMid"),
                                c.setAttribute("preserveAspectRatio", "none"),
                                c.removeAttribute("style"),
                                c.setAttribute("class", "element svg-element");
                            var d = eqxiuSvg.ShapeFromType(a.properties.type, 100, 100);
                            if (d.setAttribute("fill", "#555"), !d.innerHTML || !b) {
                                c.appendChild(d);
                                var e = eqxiuSvg.boundingBox(d);
                                return c.setAttribute("viewBox", [Math.round(e.x) || 0, Math.round(e.y) || 0, Math.round(e.width) || 64, Math.round(e.height) || 64].join(" ")),
                                    c
                            }
                            var f = '<svg id="' + a.id + '" class="element svg-element" xmlns="' + eqxiuSvg.NAMESPACE + '" version="1.1" width="100%" height="100%" preserveAspectRatio="none" viewBox="' + a.properties.viewBox + '"><g fill="' + a.css.color + '">' + d.innerHTML + "</g></svg>";
                            return f
                        }),
                    m.addComponent("v",
                        function(a) {
                            var b = document.createElement("a");
                            return b.setAttribute("class", "element video_area"),
                                b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                a.properties.src && b.setAttribute("videourl", a.properties.src),
                                b
                        }),
                    m.addComponent("5",
                        function(a) {
                            var b = document.createElement("textarea");
                            return b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                b.setAttribute("class", "element comp_input editable-text"),
                                b.setAttribute("maxlength", "300"),
                                a.properties.required && b.setAttribute("required", a.properties.required),
                                a.properties.placeholder && b.setAttribute("placeholder", a.properties.placeholder),
                                b.setAttribute("name", "eq[f_" + a.id + "]"),
                                b.style.width = "100%",
                                b
                        }),
                    m.addComponent("r",
                        function(a) {
                            var b = $('<div class="element comp_radio editable-text" id="' + a.id + '"></div>');
                            b.attr("ctype", a.type),
                                b.attr("required", a.properties.required),
                                b.attr("title", a.title),
                                b.attr("name", "eq[f_" + a.id + "]");
                            var c = $('<div class="radio-title">' + a.title + "</div>");
                            a.properties.titleStyle && c.css(a.properties.titleStyle),
                                b.append(c);
                            var d = $('<div class="options"></div>'),
                                e = JSON.parse(a.choices);
                            return $.each(e.options,
                                function(b, c) {
                                    var f = $('<div class="option-group"><label class="option-label" for="' + (a.id + "" + (b + 1)) + '"><input class="option" id="' + (a.id + "" + (b + 1)) + '" type="radio" name="eq[f_' + a.id + ']" value="' + c.id + '">' + c.label + "</label></div>");
                                    a.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle),
                                        d.append(f)
                                }),
                                b.append(d),
                                b.width("100%"),
                                b.get(0)
                        }),
                    m.addComponent("c",
                        function(a) {
                            var b = $('<div class="element comp_radio editable-text" id="' + a.id + '"></div>');
                            b.attr("ctype", a.type),
                                b.attr("required", a.properties.required),
                                b.attr("title", a.title),
                                b.attr("name", "eq[f_" + a.id + "]");
                            var c = $('<div class="radio-title">' + a.title + "(可多选)</div>");
                            a.properties.titleStyle && c.css(a.properties.titleStyle),
                                b.append(c);
                            var d = $('<div class="options"></div>'),
                                e = JSON.parse(a.choices);
                            return $.each(e.options,
                                function(b, c) {
                                    var f = $('<div class="option-group"><label class="option-label" for="' + (a.id + "" + (b + 1)) + '"><input class="option" id="' + (a.id + "" + (b + 1)) + '" type="checkbox" name="eq[f_' + a.id + ']" value="' + c.id + '">' + c.label + "</label></div>");
                                    a.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle),
                                        d.append(f)
                                }),
                                b.append(d),
                                b.width("100%"),
                                b.get(0)
                        }),
                    m.addComponent("a",
                        function(a) {
                            var b = $('<div class="element comp_rating editable-text" id="' + a.id + '"></div>');
                            b.attr("ctype", a.type),
                                b.attr("required", a.properties.required),
                                b.attr("title", a.title),
                                b.attr("name", "eq[f_" + a.id + "]"),
                                b.append($('<div class="rating-title">' + a.title + "</div>"));
                            for (var c = $('<div class="rating-icons"></div>'), d = 0; 5 > d; d++) c.append($('<i class="' + a.properties.icon + "-line " + a.properties.size + '">').css("color", a.properties.color));
                            return b.append(c),
                                b.append($('<input type="hidden" name="eq[f_' + a.id + ']" value="">')),
                                b.width("100%"),
                                b.get(0)
                        }),
                    m.addComponent("p",
                        function(a) {
                            if (a.properties && a.properties.children) {
                                var b = a.css.width,
                                    d = a.css.height,
                                    e = $('<div id="' + a.id + '" class="slider element" ctype="' + a.type + '"></div>');
                                return a.properties.bgColor && e.css("backgroundColor", a.properties.bgColor),
                                    $.each(a.properties.children,
                                        function(a, f) {
                                            var g = c(f.width, f.height, b, d),
                                                h = $('<img src="' + PREFIX_FILE_HOST + f.src + '">');
                                            h.css({
                                                margin: (d - g.height) / 2 + "px " + (b - g.width) / 2 + "px",
                                                width: g.width,
                                                height: g.height
                                            }),
                                                e.append(h)
                                        }),
                                    utilPictures.deleteInterval(a.id),
                                    e.get(0)
                            }
                        }),
                    m.addComponent("n",
                        function(a) {
                            if (a.properties && a.properties.pics.length) {
                                var b = (a.css.width, a.css.height, $('<div id="' + a.id + '" class="random-event element comp_image editable-image" ctype="' + a.type + '"></div>'));
                                return $.each(a.properties.pics,
                                    function(a, c) {
                                        var d = $('<img src="' + PREFIX_FILE_HOST + c.src + '">');
                                        d.css({
                                            width: "100%",
                                            height: "100%",
                                            display: "none"
                                        }),
                                            0 === a && (d.css({
                                            display: "block"
                                        }), b.css({
                                            width: "100%",
                                            height: "100%"
                                        })),
                                            b.append(d)
                                    }),
                                    b.get(0)
                            }
                        }),
                    m.addComponent("6",
                        function(a) {
                            var b = document.createElement("button");
                            if (b.id = a.id, b.setAttribute("ctype", a.type), b.setAttribute("class", "element comp_button editable-text"), a.properties.title) {
                                var c = a.properties.title.replace(/ /g, "&nbsp;");
                                b.innerHTML = c
                            }
                            return b.style.width = "100%",
                                b
                        }),
                    m.addComponent("8",
                        function(a) {
                            var b = document.createElement("a");
                            b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                b.setAttribute("class", "element comp_anchor editable-text");
                            var c = null;
                            return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'), $(b).html(c), "view" == m.mode && $(b).attr("href", "tel:" + a.properties.number)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"), $(b).html(c), "view" == m.mode && $(b).attr("href", "tel:" + a.properties.number)),
                                b.style.cursor = "default",
                                b.style.width = "100%",
                                b
                        }),
                    m.addComponent("l",
                        function(a) {
                            var b = document.createElement("a");
                            b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                b.setAttribute("class", "element comp_anchor editable-text");
                            var c = null;
                            return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'), $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"), $(b).html(c)),
                                b.style.cursor = "default",
                                b.style.width = "100%",
                                b
                        }),
                    m.addComponent("s",
                        function(a) {
                            var b = document.createElement("a");
                            b.id = a.id,
                                b.setAttribute("ctype", a.type),
                                b.setAttribute("class", "element comp_anchor editable-text");
                            var c = null;
                            return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'), $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"), $(b).html(c)),
                                b.style.cursor = "default",
                                b.style.width = "100%",
                                b
                        }),
                    m.addComponent("i",
                        function(a) {
                            var c = $('<div class="element comp_counter not-voted editable-text" id="' + a.id + '"></div>');
                            c.attr("ctype", a.type),
                                c.attr("name", "eq[f_" + a.id + "]"),
                                c.addClass(a.properties.layout).addClass(a.properties.size);
                            var d = $('<div class="counter-container"></div>');
                            a.properties.imgSrc ? d.append($('<img class="counter-elem counter-icon" style="width: 115px; height: 115px; margin: 0 auto;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>')) : d.append($('<i class="counter-elem counter-icon ' + a.properties.icon + '">').css("color", a.properties.color));
                            var e = $('<span class="counter-elem counter-number">0</span>').css("color", a.properties.color);
                            if (d.append(e), "view" == m.mode ? b.counterValues && b.counterValues.then(function(c) {
                                var d = c.map[a.id] || 0,
                                    f = b.fixedNum(d);
                                e.text(f)
                            }) : c.removeClass("not-voted"), c.width("100%"), "counter-tb" === a.properties.layout) {
                                var f = 0;
                                f = a.properties.imgSrc ? "counter-l" == a.properties.size ? 77 : "counter-m" == a.properties.size ? 71 : 66 : "counter-l" == a.properties.size ? 40 : "counter-m" == a.properties.size ? 30 : 20,
                                    d.css("margin-top", -f)
                            }
                            return "edit" != m.mode && setTimeout(function() {
                                    var b = {
                                        width: "auto",
                                        "min-width": a.css.width
                                    };
                                    c.css(b),
                                        c.parents("li.comp-resize").css(b)
                                },
                                100),
                                c.append(d),
                                a.css.lineHeight && c.css("line-height", a.css.lineHeight),
                                c.get(0)
                        }),
                    m.addComponent("d",
                        function(a) {
                            var c = $('<div class="element comp_counter editable-text" id="' + a.id + '"></div>');
                            c.attr("ctype", a.type),
                                c.addClass(a.properties.layout).addClass(a.properties.size);
                            var d = $('<div class="counter-container"></div>');
                            d.append($('<i class="counter-elem counter-icon ' + a.properties.icon + '">').css("color", a.properties.color));
                            var e = $('<span class="counter-elem counter-number">0</span>').css("color", a.properties.color);
                            if (d.append(e), "view" == m.mode && b.showCount && b.showCount.then(function(a) {
                                var c = b.fixedNum(a),
                                    d = c || 0;
                                e.text(d)
                            }), c.width("100%"), "counter-tb" === a.properties.layout) {
                                var f = 0;
                                f = "counter-l" == a.properties.size ? 40 : "counter-m" == a.properties.size ? 30 : 20,
                                    d.css("margin-top", -f)
                            }
                            return c.append(d),
                                a.css.lineHeight && c.css("line-height", a.css.lineHeight),
                                c.get(0)
                        }),
                    m.addComponent("7",
                        function(a) {
                            var b = document.createElement("div");
                            if (b.id = "map_" + a.id, b.setAttribute("class", "element comp_map_wrapper"), a.content && (b.textContent = a.content), a.css) {
                                var c, d = a.css;
                                for (c in d) b.style[c] = d[c]
                            }
                            return b.style.height = "250px",
                                b
                        }),
                    m.bindAfterRenderEvent("1",
                        function(a, b) {
                            if (a = $("div", a)[0], "view" == m.mode && 1 == b.type) {
                                var c = b.properties.labels;
                                for (key in c) !
                                    function(b) {
                                        $($(a).find(".label_content")[b]).on("click",
                                            function() {
                                                pageScroll(c[b])
                                            })
                                    } (key)
                            }
                        }),
                    m.bindAfterRenderEvent("8",
                        function(a, b) {
                            a = $("a", a)[0];
                            var c = {
                                id: b.sceneId,
                                num: b.properties.number
                            };
                            if ("view" == m.mode) {
                                var d = function() {
                                    $.ajax({
                                        cache: !0,
                                        type: "POST",
                                        url: PREFIX_S1_URL + "eqs/dial",
                                        data: $.param(c),
                                        async: !1,
                                        error: function(a) {
                                            alert("Connection error")
                                        },
                                        success: function(a) {}
                                    })
                                };
                                a.addEventListener("click", d)
                            }
                        }),
                    m.bindAfterRenderEvent("l",
                        function(b, c) {
                            if (b = $("a", b)[0], "view" == m.mode) {
                                var d = c.properties.url;
                                $(b).click(function(b) {
                                    isNaN(d) ? a.open(d) : eqxiu.pageScroll(d)
                                })
                            }
                        }),
                    m.bindAfterRenderEvent("s",
                        function(a, b) {
                            a = $("a", a)[0],
                                "view" == m.mode && $(a).click(function(a) {})
                        }),
                    m.bindAfterRenderEvent("i",
                        function(a, b) {
                            if ("view" == m.mode) {
                                var c = $(a).find(".counter-icon");
                                c.click(function(d) {
                                    var e = {
                                            sceneId: b.sceneId,
                                            fieldId: b.id
                                        },
                                        f = $(a);
                                    $.ajax({
                                        cache: !0,
                                        type: "POST",
                                        url: PREFIX_S1_URL + "eqs/scene/counter",
                                        data: $.param(e),
                                        async: !1,
                                        error: function(a) {
                                            alert("Connection error")
                                        },
                                        success: function(a) {
                                            c.unbind("click"),
                                                f.find(".comp_counter").removeClass("not-voted");
                                            var b = parseInt($(".counter-number", f).text(), 10) || 0;
                                            $(".counter-number", f).text(b + 1)
                                        }
                                    })
                                })
                            }
                        }),
                    m.bindAfterRenderEvent("4",
                        function(a, b) {
                            d(a, b)
                        }),
                    m.bindAfterRenderEvent("x",
                        function(a, b) {
                            d(a, b)
                        }),
                    m.bindAfterRenderEvent("n",
                        function(a, b) {}),
                    m.bindAfterRenderEvent("h",
                        function(b, c) {
                            "view" == m.mode && c.properties.url && $(b).click(function(b) {
                                var d = c.properties.url;
                                isNaN(d) ? a.open(d) : eqxiu.pageScroll(d)
                            })
                        }),
                    m.bindAfterRenderEvent("5",
                        function(a, b) {
                            var c = i();
                            e($(a).find("textarea")),
                                f($(a).find("textarea")),
                                "view" == m.mode && c && parseFloat(b.css.top) >= 200 && ($(a).find("textarea").focus(function(b) {
                                $(a).closest(".edit_area").css({
                                    top: "-150px"
                                })
                            }), $(a).find("textarea").blur(function(b) {
                                $(a).closest(".edit_area").css({
                                    top: 0
                                })
                            }))
                        }),
                    m.bindAfterRenderEvent("r",
                        function(a, b) {
                            "view" == m.mode && e($(a).find("label"))
                        }),
                    m.bindAfterRenderEvent("c",
                        function(a, b) {
                            "view" == m.mode && e($(a).find("label"))
                        }),
                    m.bindAfterRenderEvent("v",
                        function(a, b) {
                            "view" == m.mode && $(a).click(function() {
                                $(a).hide(),
                                    $("#audio_btn").hasClass("video_exist") && ($("#audio_btn").hide(), $("#media")[0].pause()),
                                    utilSound.pause(),
                                    $('<div class="video_mask page_effect lock" id="mask_' + b.id + '"></div>').appendTo($(a).closest(".m-img")),
                                    $('<a class = "close_mask" id="close_' + b.id + '"></a>').appendTo($(a).closest(".m-img")),
                                    $(b.properties.src).appendTo($("#mask_" + b.id)).attr("style", "position: absolute;top:0; min-height: 45%; max-height: 100%; top: 20%;").attr("width", "100%").removeAttr("height"),
                                    $("#close_" + b.id).bind("click",
                                        function() {
                                            $(a).show(),
                                                $("#mask_" + b.id).remove(),
                                                $("#close_" + b.id).remove(),
                                                $("#audio_btn").hasClass("video_exist") && $("#audio_btn").show(function() {
                                                $("#media")[0].play()
                                            })
                                        })
                            })
                        }),
                    m.bindAfterRenderEvent("2",
                        function(a, b) {
                            g(a)
                        }),
                    m.bindAfterRenderEvent("6",
                        function(a, b) {
                            if (a = $("button", a)[0], "view" == m.mode) {
                                var c;
                                c = /zh/.test(w.getFirstBrowserLanguage()) ? {
                                    REQUIRED: "为必填项！",
                                    WRONG_PHONE_NUMBER_FORMAT: "手机号码格式错误！",
                                    WRONG_EMAIL_FORMAT: "邮箱格式错误！",
                                    FILL_OUT_THE_FORM: "请填写表单！",
                                    DUPLICATED_SUBMISSION: "请不要重复提交！",
                                    THANKS_FOR_PARTICIPATION: "谢谢您的参与！"
                                }: {
                                    REQUIRED: " is required!",
                                    WRONG_PHONE_NUMBER_FORMAT: "Wrong format of phone number!",
                                    WRONG_EMAIL_FORMAT: "Wrong format of email!",
                                    FILL_OUT_THE_FORM: "Please fill out the form!",
                                    DUPLICATED_SUBMISSION: "Duplicated submission!",
                                    THANKS_FOR_PARTICIPATION: "Thanks for your participation!"
                                };
                                var d = function(a, b, d) {
                                    var e = !0,
                                        f = {};
                                    if ($("textarea", d).each(function() {
                                        if (e) {
                                            if ("required" == $(this).attr("required") && "" == $(this).val().trim()) return alert($(this).attr("placeholder") + c.REQUIRED),
                                                void(e = !1);
                                            if ("502" == $(this).attr("ctype") && "" !== $(this).val().trim()) {
                                                var a = new RegExp(/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
                                                if (!a.test($(this).val())) return alert(c.WRONG_PHONE_NUMBER_FORMAT),
                                                    void(e = !1)
                                            }
                                            if ("503" == $(this).attr("ctype") && "" !== $(this).val().trim()) {
                                                var b = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g);
                                                if (!b.test($(this).val())) return alert(c.WRONG_EMAIL_FORMAT),
                                                    void(e = !1)
                                            }
                                            f[$(this).attr("name")] = $(this).val()
                                        }
                                    }), $("input:checked", d).each(function() {
                                        var a = $(this);
                                        f[a.attr("name")] ? f[a.attr("name")] += "," + a.val() : f[a.attr("name")] = a.val()
                                    }), $('.comp_radio[required="required"]', d).each(function() {
                                        var a = $(this);
                                        f[a.attr("name")] || (alert(a.attr("title") + c.REQUIRED), e = !1)
                                    }), $('input[type="hidden"]', d).each(function() {
                                        f[$(this).attr("name")] = $(this).val()
                                    }), $('.comp_rating[required="required"]', d).each(function() {
                                        var a = $(this);
                                        f[a.attr("name")] && "0" != f[a.attr("name")] || (alert(a.attr("title") + c.REQUIRED), e = !1)
                                    }), e) {
                                        var g = !1;
                                        if ($.isEmptyObject(f)) return void(g = !0);
                                        for (var h in f) if ("" !== f[h]) {
                                            g = !0;
                                            break
                                        }
                                        return g ? void $.ajax({
                                            cache: !0,
                                            type: "POST",
                                            url: PREFIX_S1_URL + "eqs/r/" + b,
                                            data: $.param(f),
                                            async: !1,
                                            error: function(a) {
                                                alert("Connection error")
                                            },
                                            success: function(b) {
                                                $(a).unbind("click").click(function() {
                                                    alert(c.DUPLICATED_SUBMISSION)
                                                }),
                                                    alert(c.THANKS_FOR_PARTICIPATION)
                                            }
                                        }) : void alert(c.FILL_OUT_THE_FORM)
                                    }
                                };
                                m.def.sceneId;
                                $(a).bind("click",
                                    function() {
                                        var b, c = $(a).parents(".edit_wrapper").attr("data-scene-id");
                                        b = c ? $(a).parents(".nr").find('.edit_wrapper[data-scene-id="' + c + '"]') : $(a).parents(".nr"),
                                            d(this, c, b)
                                    })
                            }
                        }),
                    m.bindAfterRenderEvent("7",
                        function(a, b) {
                            var c = new BMap.Map("map_" + b.id, {
                                    enableMapClick: !1
                                }),
                                d = new BMap.Point(b.properties.x, b.properties.y),
                                e = new BMap.Marker(d);
                            c.addOverlay(e);
                            var f = new BMap.Label(b.properties.markTitle, {
                                offset: new BMap.Size(20, -10)
                            });
                            e.setLabel(f),
                                c.disableDoubleClickZoom(),
                                c.centerAndZoom(d, 15)
                        }),
                    m.bindAfterRenderEvent("p",
                        function(a, b) {
                            $(a).closest(".page_tpl_container ").length || ($(a).children(".element-box").css("overflow", "visible"), utilPictures.deleteInterval(b.id), new flux.slider("#" + b.id, {
                                autoplay: b.properties.autoPlay,
                                delay: b.properties.interval,
                                pagination: !1,
                                transitions: [utilPictures.getPicStyle(b.properties.picStyle).name],
                                width: b.css.width,
                                height: b.css.height,
                                bgColor: b.properties.bgColor,
                                onStartEnd: function(a) {
                                    utilPictures.addInterval(b.id, a)
                                }
                            }))
                        }),
                    m.bindAfterRenderEvent("a",
                        function(a, b) {
                            function c(a) {
                                f.each(function(b, c) {
                                    $(c).removeClass(h).addClass(h + "-line"),
                                        a >= b && $(c).removeClass(h + "-line").addClass(h)
                                })
                            }
                            var d = $(a);
                            if ("view" == m.mode) {
                                var f = d.find("i"),
                                    g = d.find("input"),
                                    h = b.properties.icon;
                                f.each(function(a, b) {
                                    $(b).bind("click",
                                        function() {
                                            c(a),
                                                g.val(a + 1)
                                        }),
                                        $(b).bind("mouseenter",
                                            function() {
                                                c(a)
                                            })
                                }),
                                    d.find(".rating-icons").bind("mouseleave",
                                        function() {
                                            c(parseInt(g.val(), 10) - 1)
                                        }),
                                    e(d.find(".rating-icons"))
                            }
                        });
                var n
            } (a.eqShow),
            function(a) {
                function b() {
                    var a = {
                        "Allura-Regular": {
                            value: 1,
                            familyName: "Allura-Regular",
                            src: "assets/images/fonts/Allura-Regular.png",
                            blueSrc: "assets/images/fonts/Allura-Regular_blue.png"
                        },
                        "Amaranth-Regular": {
                            value: 2,
                            familyName: "Amaranth-Regular",
                            src: "assets/images/fonts/Amaranth-Regular.png",
                            blueSrc: "assets/images/fonts/Amaranth-Regular_blue.png"
                        },
                        "Anton-Regular": {
                            value: 3,
                            familyName: "Anton-Regular",
                            src: "assets/images/fonts/Anton-Regular.png",
                            blueSrc: "assets/images/fonts/Anton-Regular_blue.png"
                        },
                        "Arial-Regular": {
                            value: 4,
                            familyName: "Arial-Regular",
                            src: "assets/images/fonts/Arial-Regular.png",
                            blueSrc: "assets/images/fonts/Arial-Regular_blue.png"
                        },
                        "Arialnarrow-Regular": {
                            value: 5,
                            familyName: "Arialnarrow-Regular",
                            src: "assets/images/fonts/Arialnarrow-Regular.png",
                            blueSrc: "assets/images/fonts/Arialnarrow-Regular_blue.png"
                        },
                        "Arialroundedmtbold-Regular": {
                            value: 6,
                            familyName: "Arialroundedmtbold-Regular",
                            src: "assets/images/fonts/Arialroundedmtbold-Regular.png",
                            blueSrc: "assets/images/fonts/Arialroundedmtbold-Regular_blue.png"
                        },
                        "Banglasangammn-Regular": {
                            value: 7,
                            familyName: "Banglasangammn-Regular",
                            src: "assets/images/fonts/Banglasangammn-Regular.png",
                            blueSrc: "assets/images/fonts/Banglasangammn-Regular_blue.png"
                        },
                        "Blackopsone-Regular": {
                            value: 8,
                            familyName: "Blackopsone-Regular",
                            src: "assets/images/fonts/Blackopsone-Regular.png",
                            blueSrc: "assets/images/fonts/Blackopsone-Regular_blue.png"
                        },
                        "Bradleyhand-Bold": {
                            value: 9,
                            familyName: "Bradleyhand-Bold",
                            src: "assets/images/fonts/Bradleyhand-Bold.png",
                            blueSrc: "assets/images/fonts/Bradleyhand-Bold_blue.png"
                        },
                        "Cabinsketch-Bold": {
                            value: 10,
                            familyName: "Cabinsketch-Bold",
                            src: "assets/images/fonts/Cabinsketch-Bold.png",
                            blueSrc: "assets/images/fonts/Cabinsketch-Bold_blue.png"
                        },
                        songti: {
                            value: 11,
                            familyName: "宋体",
                            src: "assets/images/fonts/songti.png",
                            blueSrc: "assets/images/fonts/songti_blue.png"
                        },
                        songti: {
                            value: 12,
                            familyName: "宋体",
                            src: "assets/images/fonts/songti.png",
                            blueSrc: "assets/images/fonts/songti_blue.png"
                        },
                        weiruanyahei: {
                            value: 12,
                            familyName: "微软雅黑",
                            src: "assets/images/fonts/weiruanyahei.png",
                            blueSrc: "assets/images/fonts/weiruanyahei_blue.png"
                        },
                        mnjbwks: {
                            value: 13,
                            familyName: "迷你简笔魏楷书",
                            src: "assets/images/fonts/mnjbwks.png",
                            blueSrc: "assets/images/fonts/mnjbwks_blue.png"
                        },
                        fzjz: {
                            value: 14,
                            familyName: "方正剪纸简体",
                            src: "assets/images/fonts/fzjz.png",
                            blueSrc: "assets/images/fonts/fzjz_blue.png"
                        },
                        fzxy: {
                            value: 15,
                            familyName: "方正细圆简体",
                            src: "assets/images/fonts/fzxy.png",
                            blueSrc: "assets/images/fonts/fzxy_blue.png"
                        },
                        fzzy: {
                            value: 16,
                            familyName: "方正综艺简体",
                            src: "assets/images/fonts/fzzy.png",
                            blueSrc: "assets/images/fonts/fzzy_blue.png"
                        },
                        hzgb: {
                            value: 17,
                            familyName: "汉真广标",
                            src: "assets/images/fonts/hzgb.png",
                            blueSrc: "assets/images/fonts/hzgb_blue.png"
                        },
                        changyi: {
                            value: 18,
                            familyName: "迷你简长艺",
                            src: "assets/images/fonts/changyi.png",
                            blueSrc: "assets/images/fonts/changyi_blue.png"
                        }
                    };
                    this.getFontName = function(b) {
                        if (b === c) return a;
                        for (var d in a) if (b === d) return a[d];
                        return null
                    }
                }
                a.utilFont = new b
            } (a),
            function(a) {
                function b() {
                    var a = {};
                    this.addInterval = function(b, c) {
                        a[b] = c
                    },
                        this.deleteInterval = function(b) {
                            a[b] && (clearInterval(a[b]), delete a[b])
                        },
                        this.clearInterval = function() {
                            for (var b in a) this.deleteInterval(b)
                        };
                    var b = [{
                        value: 1,
                        desc: "轮播",
                        name: "slide"
                    },
                        {
                            value: 2,
                            desc: "下落",
                            name: "bars"
                        },
                        {
                            value: 3,
                            desc: "百页窗",
                            name: "blinds"
                        },
                        {
                            value: 4,
                            desc: "消隐",
                            name: "blocks"
                        },
                        {
                            value: 5,
                            desc: "渐变",
                            name: "blocks2"
                        },
                        {
                            value: 9,
                            desc: "梳理",
                            name: "zip"
                        },
                        {
                            value: 11,
                            desc: "翻转",
                            name: "bars3d"
                        },
                        {
                            value: 13,
                            desc: "立方体",
                            name: "cube"
                        },
                        {
                            value: 14,
                            desc: "棋盘",
                            name: "tiles3d"
                        },
                        {
                            value: 16,
                            desc: "飞出",
                            name: "explode"
                        }];
                    this.getPicStyle = function(a) {
                        if (a === c) return b;
                        for (var d = 0; d < b.length; d++) if (a === b[d].value) return b[d]
                    }
                }
                a.utilPictures = new b
            } (a),
            function(a, b) {
                function c() {
                    var a, c, d, e = [];
                    b("#media");
                    this.addAudio = function(a, f) {
                        var g = new Audio;
                        g.src = f,
                            e.push({
                                elem: a,
                                audio: g
                            }),
                            b(g).bind("ended",
                                function() {
                                    c = !1,
                                        d()
                                })
                    },
                        this.play = function(b, f, g) {
                            var h;
                            d = f;
                            for (var i = 0; i < e.length; i++) e[i].elem == b && (h = e[i].audio);
                            a == h && c ? (h.pause(), c = !1, f()) : a != h || c ? (a && a.pause(), h.currentTime = 0, h.play(), g(), c = !0, a = h) : (h.play(), c = !0, g())
                        },
                        this.pause = function() {
                            a && (a.pause(), c = !1)
                        }
                }
                a.utilSound = new c
            } (a, $),
            function(a) {
                function b() {
                    var a = {
                            CLICK: {
                                name: "click",
                                value: 1,
                                title: "点击"
                            }
                        },
                        b = {
                            SHOW: {
                                name: "show",
                                value: 1
                            },
                            HIDE: {
                                name: "hide",
                                value: 2
                            },
                            RANDOMEVENT: {
                                name: "randomEvent",
                                value: 3
                            }
                        };
                    this.getSendType = function(b) {
                        if (b === c) return a;
                        for (var d in a) if (b === a[d].value) return a[d];
                        return null
                    },
                        this.getHandleType = function(a) {
                            if (a === c) return b;
                            for (var d in b) if (a === b[d].value) return b[d];
                            return null
                        }
                }
                a.utilTrigger = new b
            } (a);
        var v = 0,
            w = function() {
                var b = function(a) {
                        var b, c, d = a.type;
                        return 0 === d && (b = "fadeIn"),
                            1 === d && (c = a.direction, 0 === c && (b = "fadeInLeft"), 1 === c && (b = "fadeInDown"), 2 === c && (b = "fadeInRight"), 3 === c && (b = "fadeInUp")),
                            6 === d && (b = "wobble"),
                            5 === d && (b = "rubberBand"),
                            7 === d && (b = "rotateIn"),
                            8 === d && (b = "flip"),
                            9 === d && (b = "swing"),
                            2 === d && (c = a.direction, 0 === c && (b = "bounceInLeft"), 1 === c && (b = "bounceInDown"), 2 === c && (b = "bounceInRight"), 3 === c && (b = "bounceInUp")),
                            3 === d && (b = "bounceIn"),
                            4 === d && (b = "zoomIn"),
                            10 === d && (b = "fadeOut"),
                            11 === d && (b = "flipOutY"),
                            12 === d && (b = "rollIn"),
                            13 === d && (b = "lightSpeedIn"),
                            14 === d && (b = "bounceOut"),
                            15 === d && (b = "rollOut"),
                            16 === d && (b = "lightSpeedOut"),
                            17 === d && (c = a.direction, 0 === c && (b = "fadeOutRight"), 1 === c && (b = "fadeOutDown"), 2 === c && (b = "fadeOutLeft"), 3 === c && (b = "fadeOutUp")),
                            18 === d && (b = "zoomOut"),
                            19 === d && (c = a.direction, 0 === c && (b = "bounceOutRight"), 1 === c && (b = "bounceOutDown"), 2 === c && (b = "bounceOutLeft"), 3 === c && (b = "bounceOutUp")),
                            20 === d && (b = "flipInY"),
                            21 === d && (b = "tada"),
                            22 === d && (b = "jello"),
                            23 === d && (b = "flash"),
                            24 === d && (b = "flipInX"),
                            25 === d && (b = "flipOutX"),
                            b
                    },
                    c = function(a, b, c) {
                        function d(a, b, f) {
                            if (f.length && e < f.length) {
                                a.css("animation", "");
                                a.get(0);
                                a.css("animation", b[e] + " " + f[e].duration + "s ease " + f[e].delay + "s " + (f[e].countNum ? f[e].countNum: "")),
                                        "view" == c ? (f[e].count && e == f.length - 1 && a.css("animation-iteration-count", "infinite"), a.css("animation-fill-mode", "both")) : (a.css("animation-iteration-count", "1"), a.css("animation-fill-mode", "backwards")),
                                    f[e].linear && a.css("animation-timing-function", "linear"),
                                    a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",
                                        function() {
                                            e++,
                                                d(a, b, f)
                                        })
                            }
                        }
                        var e = 0;
                        if (b.properties && b.properties.anim) {
                            var f = [];
                            b.properties.anim.length ? f = b.properties.anim: f.push(b.properties.anim);
                            var g = $(".element-box", a);
                            g.attr("element-anim", "");
                            for (var h, i = [], j = [], k = 0, l = f.length; l > k; k++) null != f[k].type && -1 != f[k].type && (h = w.convertType(f[k]), i.push(h), j.push(f[k]));
                            b.properties.anim.trigger ? a.click(function() {
                                d(g, h, b.properties.anim)
                            }) : d(g, i, j)
                        }
                    },
                    d = function(a, b) {
                        var c = $(a);
                        b.trigger && b.trigger.receives && b.trigger.receives.length && $.each(b.trigger.receives,
                            function(a, d) {
                                if (d.ids.length) {
                                    var e = utilTrigger.getHandleType(d.type).name; ("show" == e || "randomEvent" == e) && c.hide(),
                                        "hide" == e && c.show(),
                                        c.bind(e,
                                            function() {
                                                if ("show" == e) $(this).show();
                                                else if ("hide" == e) $(this).hide();
                                                else if ("randomEvent" == e) {
                                                    $(this).show();
                                                    var a = Math.floor(Math.random() * b.properties.pics.length);
                                                    $(this).find("img").css({
                                                        display: "none"
                                                    }),
                                                        $(this).find("img").eq(a).css({
                                                            display: "block"
                                                        })
                                                }
                                            })
                                }
                            })
                    },
                    e = function() {
                        var b, c, d = a.navigator,
                            e = ["language", "browserLanguage", "systemLanguage", "userLanguage"];
                        if ($.isArray(d.languages)) for (b = 0; b < d.languages.length; b++) if (c = d.languages[b], c && c.length) return c;
                        for (b = 0; b < e.length; b++) if (c = d[e[b]], c && c.length) return c;
                        return null
                    };
                return {
                    convertType: b,
                    animation: c,
                    bindTrigger: d,
                    getFirstBrowserLanguage: e
                }
            } ();
        eqShow.getShowCount = function(a) {
            return this.showCount = $.ajax({
                type: "GET",
                url: PREFIX_S1_URL + "eqs/scene/pv?sceneId=" + a,
                xhrFields: {
                    withCredentials: !0
                },
                error: function(a) {
                    alert("Connection error")
                },
                crossDomain: !0
            }),
                this.showCount
        },
            eqShow.fixedNum = function(a) {
                var b;
                return 1e4 > a ? b = a: a >= 1e4 && 1e8 > a ? b = (a / 1e4).toFixed(2) + "万": a >= 1e8 && (b = (a / 1e8).toFixed(2) + "亿"),
                    b
            },
            eqShow.showProgressBar = function(a, b) {
                if (a.obj.property.slideNumber) {
                    var c = $('<div class="progress"></div>'),
                        d = $("<span></span>"),
                        e = $('<em class="page-tip"></em>');
                    c.append(d).append(e),
                        $("#nr").append(c.css("display", "block"))
                }
                var f = function() {
                    a.obj.property.slideNumber && d && setTimeout(function() {
                            var a = $(".z-active").get(0) ? $(".z-active").get(0) : $(".z-current").get(0),
                                f = $(a).find(".m-img").attr("id").substring(4),
                                g = b.length,
                                h = f / g,
                                i = 100;
                            e.text(f + "/" + g),
                                d.css("width", parseFloat(c.width()) * h),
                                $(a).find(".lock").length && (i = 0),
                                c.css("z-index", i)
                        },
                        100)
                };
                f(),
                    b.eq(0).find(".u-arrow-bottom").css("bottom", "30px"),
                    setInterval(function() {
                            f()
                        },
                        300)
            },
            b.module("active", ["services.active"]),
            b.module("active").controller("ActiveCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "activeService", "MineService", "$routeParams",
                function(a, b, c, d, e, f, g, h, i) {
                    c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        c.PREFIX_SERVER_HOST = PREFIX_URL,
                        c.PREFIX_CLIENT_HOST = PREFIX_HOST
                }]),
            b.module("app", ["ngRoute", "home", "sample", "active", "show", "main", "reg", "scene", "my", "data.edit", "error", "usercenter", "ui.bootstrap", "ui.grid", "ui.grid.selection", "ngSanitize", "ui.select", "services.i18nNotifications", "services.httpRequestTracker", "services.sample", "services.active", "services.config", "services.configSer", "security", "app.upload", "templates-app", "templates-common", "ui.sortable", "I18N.MESSAGES", "app.directives.keymap", "app.directives.notification", "active1", "activeXq", "search", "category", "nav", "recommend", "visitor", "visitorXq", "pascalprecht.translate", "common.directives.dropDown"]),
            b.module("app").config(["$routeProvider", "$locationProvider", "securityAuthorizationProvider", "uiSelectConfig", "$translateProvider", "$provide", "$httpProvider",
                function(a, b, c, d, e, f, g) {
                    d.theme = "bootstrap",
                        a.when("/home", {
                            feedBackUrl: "http://eqxiu.com/s/vk2Ucz15",
                            templateUrl: "home/home.tpl.html",
                            controller: "HomeCtrl"
                        }).when("/home/:id", {
                            feedBackUrl: "http://eqxiu.com/s/vk2Ucz15",
                            templateUrl: "home/home.tpl.html",
                            controller: "HomeCtrl"
                        }).when("/reg", {
                            templateUrl: "reg/reg.tpl.html",
                            controller: "RegCtrl"
                        }).when("/otherRegister", {
                            templateUrl: "common/security/register/otherRegister.tpl.html"
                        }).when("/agreement", {
                            templateUrl: "reg/agreement.tpl.html"
                        }).when("/about", {
                            templateUrl: "about.tpl.html"
                        }).when("/error/:codeid", {
                            templateUrl: "error/error.tpl.html",
                            controller: "ErrorCtrl"
                        }).when("/sample", {
                            templateUrl: "sample/sample.tpl.html",
                            controller: "SampleCtrl"
                        }).when("/active", {
                            templateUrl: "active/active.tpl.html",
                            controller: "ActiveCtrl"
                        }).when("/main", {
                            feedBackUrl: "http://eqxiu.com/s/2qFiYzrc",
                            templateUrl: "main/main.tpl.html",
                            controller: "MainCtrl",
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/main/spread/:tabid", {
                            feedBackUrl: "http://eqxiu.com/s/euMcJX7J",
                            templateUrl: "main/spread.tpl.html",
                            controller: "SpreadCtrl",
                            reloadOnSearch: !0,
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/main/spread/:tabid/:sceneId", {
                            templateUrl: "main/spread.tpl.html",
                            controller: "SpreadCtrl",
                            reloadOnSearch: !0,
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/main/customer", {
                            feedBackUrl: "http://eqxiu.com/s/zJuTC6jT",
                            templateUrl: "main/customer.tpl.html",
                            controller: "CustomerCtrl",
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/main/customer/:sceneId", {
                            templateUrl: "data/editData.tpl.html",
                            controller: "EditDataCtrl",
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/scene", {
                            templateUrl: "scene/scene.tpl.html",
                            controller: "SceneCtrl",
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/scene/create/:sceneId", {
                            templateUrl: "scene/create.tpl.html",
                            controller: "CreateSceneCtrl",
                            reloadOnSearch: !1,
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/scene/support/", {
                            templateUrl: "scene/support/support.tpl.html",
                            controller: "SupportCtrl",
                            reloadOnSearch: !1
                        }).when("/my/scene/:sceneId", {
                            feedBackUrl: "http://eqxiu.com/s/QblumX2x",
                            templateUrl: "my/myscene.tpl.html",
                            controller: "MySceneCtrl",
                            reloadOnSearch: !1,
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/usercenter/:id", {
                            feedBackUrl: "http://eqxiu.com/s/eWdpV5XU",
                            templateUrl: "usercenter/usercenter.tpl.html",
                            controller: "UserCenterCtrl",
                            resolve: {
                                authenticatedUser: c.requireAuthenticatedUser
                            }
                        }).when("/show", {
                            templateUrl: "show/index.tpl.html",
                            controller: "ShowCtrl"
                        }).when("/show/active", {
                            templateUrl: "show/active/active.tpl.html",
                            controller: "Active1Ctrl"
                        }).when("/show/active/:id", {
                            templateUrl: "show/active/active-xq.tpl.html",
                            controller: "ActiveXqCtrl"
                        }).when("/show/search/:name", {
                            templateUrl: "show/search/search.tpl.html",
                            controller: "SearchCtrl"
                        }).when("/show/category/:id", {
                            templateUrl: "show/category/category.tpl.html",
                            controller: "CategoryCtrl"
                        }).when("/show/recommend", {
                            templateUrl: "show/recommend/recommend.tpl.html",
                            controller: "RecommendCtrl"
                        }).when("/show/visitor", {
                            templateUrl: "show/visitor/visitor.tpl.html",
                            controller: "VisitorCtrl"
                        }).when("/show/visitor/:id", {
                            templateUrl: "show/visitor/visitor-xq.tpl.html",
                            controller: "VisitorXqCtrl"
                        }).otherwise({
                            redirectTo: "/home"
                        }),
                        e.useStaticFilesLoader({
                            prefix: CLIENT_CDN + "assets/languages/",
                            suffix: ".json"
                        });
                    var h = "zh-CN";
                    "en-US" == h && $(document.body).addClass("en"),
                        e.preferredLanguage(h),
                        g.interceptors.push(["$translate", "$rootScope",
                            function(a, b) {
                                var c = h.replace("-", "_");
                                return b.$on("$translateChangeSuccess",
                                    function() {
                                        c = a.use(),
                                            c && (c = c.replace("-", "_"))
                                    }),
                                {
                                    request: function(a) {
                                        return c && (a.headers["Accept-Language"] = c),
                                            a || $q.when(a)
                                    },
                                    response: function(a) {
                                        return a || $q.when(a)
                                    }
                                }
                            }])
                }]),
            b.module("app").run(["security", "$rootScope", "configService", "$anchorScroll", "$location",
                function(a, b, c, d, e) {
                    b.CLIENT_CDN = CLIENT_CDN,
                        b.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        b.PREFIX_SERVER_HOST = PREFIX_URL,
                        b.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        b.PREFIX_S3_URL = PREFIX_S3_URL,
                        a.requestCurrentUser(),
                        c.getLogo().then(function(a) {
                                try {
                                    b.logoSrc = a.data
                                } catch(c) {
                                    b.logoSrc = CLIENT_CDN + "assets/images/logo.png"
                                }
                            },
                            function() {
                                b.logoSrc = CLIENT_CDN + "assets/images/logo.png"
                            }),
                        b.load2 = function() {
                            $("#eq_main").scroll(function() {
                                s = $("#eq_main").scrollTop(),
                                        s > 100 ? $(".scroll").css("display", "block") : $(".scroll").css("display", "none")
                            })
                        },
                        b.appIconDown = !0,
                        b.downApp = function() {
                            b.appIconDown = !1
                        },
                        b.closeDown = function() {
                            b.appIconDown = !0
                        },
                        b.appIconDown = !0,
                        b.downApp = function() {
                            b.appIconDown = !1
                        },
                        b.closeDown = function() {
                            b.appIconDown = !0
                        },
                        b.appIconDown = !0,
                        b.downApp = function() {
                            b.appIconDown = !1
                        },
                        b.closeDown = function() {
                            b.appIconDown = !0
                        },
                        b.goTop = function() {
                            $("#eq_main").scrollTop(0)
                        },
                        b.$on("$routeChangeSuccess",
                            function(a, c) {
                                c.$$route && (b.feedBackUrl = c.$$route.feedBackUrl)
                            })
                }]),
            b.module("app").run(["$route", "$rootScope", "$location",
                function(a, b, c) {
                    b.$on("$locationChangeStart",
                        function() {
                            b.branchid && c.search("branchid", b.branchid),
                                $(".modal").remove(),
                                $(".modal-backdrop").remove()
                        });
                    var d = c.path;
                    c.path = function(e, f) {
                        if (f === !1) var g = a.current,
                            h = b.$on("$locationChangeSuccess",
                                function() {
                                    a.current = g,
                                        h()
                                });
                        return d.apply(c, [e])
                    }
                }]),
            b.module("app").controller("AppCtrl", ["$translate", "SpreadService", "$window", "$scope", "$rootScope", "$location", "$route", "$modal", "security", "sceneService", "$routeParams", "$timeout", "i18nNotifications", "usercenterService", "thirdpartyService",
                function(c, d, e, f, g, h, i, j, k, l, m, n, o, p, q) {
                    function r() {
                        var a = 1,
                            c = 100;
                        p.getBranches(c, a).then(function(a) {
                                f.userbranches = a.data.list;
                                var c = h.search().branchid;
                                c && b.forEach(f.userbranches,
                                    function(a, b) {
                                        a.id == c && (g.global.branch = a)
                                    })
                            },
                            function(a) {})
                    }
                    f.notifications = o,
                        f.removeNotification = function(a) {
                            o.remove(a)
                        },
                        e.setValue = function(a) {
                            f.thirdpartyLoginParam = a,
                                f.$apply()
                        },
                        f.$watch("thirdpartyLoginParam",
                            function(a, b) {
                                a && (a.state && /WECHAT_STATE/.test(a.state) ? q.weiChatLogin(a.code).then(function(a) {
                                    200 == a.data.code && (h.path("main"), k.setLoginSuccess(!0))
                                }) : q.qqLogin(a.access_token, a.expires_in))
                            }),
                        f.$on("$locationChangeStart",
                            function(a) {
                                if ("/home/login" != h.path() || k.currentUser ? 0 !== h.path().indexOf("/home/register") || k.currentUser || k.showRegister(s) : k.showLogin(), k.isAuthenticated() && ("/home" == h.path() || "/home/login" == h.path()) && h.path("main"), h.search().resetToken) {
                                    var b = h.search().resetToken;
                                    k.requestResetPassword(b)
                                }
                            }),
                        f.openLogin = function() {
                            h.path("/home/login", !1)
                        };
                    var s;
                    f.openRegister = function(a) {
                        s = a,
                            h.path("/home/register", !1)
                    },
                        f.isAuthenticated = k.isAuthenticated,
                        h.search().branchid && (g.branchid = h.search().branchid),
                        f.$watch(function() {
                                return k.currentUser
                            },
                            function(a) {
                                a && (f.user = a, g.user = a, f.userProperty = a, f.isEditor = k.isEditor(), g.isEditor = k.isEditor(), f.isAdvancedUser = k.isAdvancedUser(), g.isAdvancedUser = k.isAdvancedUser(), f.isVendorUser = k.isVendorUser(), g.isVendorUser = k.isVendorUser(), f.$broadcast("currentUser", a), k.isAuthenticated() && ("/home" == h.path() || "/home/login" == h.path()) && h.path("main"), 2 == g.user.type && r())
                            },
                            !0),
                        f.$on("addBranch",
                            function(a, b) {
                                for (var c = 0; c < f.userbranches.length; c++) if (b.id == f.userbranches[c].id) return;
                                f.userbranches.unshift(b)
                            }),
                        g.global = {},
                        f.selectBranch = function() {
                            g.global.branch ? (g.branchid = g.global.branch.id, h.search({
                                branchid: g.branchid
                            })) : (g.branchid = "", h.search("branchid", null))
                        },
                        f.$watch("branchid",
                            function() {
                                f.hideOpea = !!g.branchid
                            }),
                        f.openReg = function() {
                            j.open({
                                windowClass: "request_contain",
                                templateUrl: "usercenter/request_reg.tpl.html",
                                controller: "UsercenterrequestCtrl",
                                resolve: {}
                            }).result.then(function() {},
                                function() {})
                        },
                        f.login = function() {
                            k.showLogin()
                        },
                        f.register = function() {
                            k.showRegister()
                        },
                        f.showToolBar = function() {
                            return h.$$path.indexOf("/scene/create") < 0
                        },
                        f.showPanel = function() {
                            $("#helpPanel").stop().animate({
                                    right: "0"
                                },
                                500)
                        },
                        f.hidePanel = function() {
                            $("#helpPanel").stop().animate({
                                    right: "-120"
                                },
                                500)
                        },
                        f.suggestionUrl = "http://bbs.eqxiu.com/forum.php?mod=forumdisplay&fid=45",
                        f.feedbackUrl = "http://bbs.eqxiu.com/forum.php?mod=forumdisplay&fid=46",
                        f.qqChatUrl = "http://shang.qq.com/wpa/qunwpa?idkey=4a2d63670009360b878aa9a1e1437ef4caec132f74a0e2c4df4a686168cc73dc",
                        f.helpUrl = "http://bbs.eqxiu.com/forum.php",
                        f.createSkillUrl = "http://bbs.eqxiu.com/forum.php?gid=37",
                        f.safeApply = function(a) {
                            var b = this.$root.$$phase;
                            "$apply" == b || "$digest" == b ? a && "function" == typeof a && a() : this.$apply(a)
                        },
                        f.changeLanguage = function(b) {
                            c.use(b),
                                a.localStorage.setItem("preferredLanguage", b),
                                i.reload(),
                                    "en-US" === b ? $(document.body).addClass("en") : $(document.body).removeClass("en")
                        }
                }]).filter("fixnum", ["$translate",
                function(a) {
                    return function(b) {
                        var c = b;
                        return b >= 1e4 && 1e8 > b ? c = (b / 1e4).toFixed(1) + a.instant("UNIT1") : b >= 1e8 && (c = (b / 1e8).toFixed(1) + a.instant("UNIT2")),
                            c
                    }
                }]),
            b.module("app").run(["$templateCache",
                function(a) {
                    a.put("template/carousel/carousel.html", '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="prev eqf-chevron-small-left" ng-click="prev()" ng-show="slides.length > 1"></a>\n    <a class="next eqf-chevron-small-right" ng-click="next()" ng-show="slides.length > 1"></a>\n</div>\n')
                }]),
            b.module("data.edit", ["services.usercenter", "services.i18nNotifications"]),
            b.module("data.edit").controller("EditDataCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "dataService", "i18nNotifications", "$translate",
                function(a, b, c, d, e, f, g, h, i, j, k, l) {
                    b.sceneId = d.sceneId,
                        b.sexOptions = [{
                            id: 0,
                            name: l.instant("main.customer.SELECT_SEX")
                        },
                            {
                                id: 1,
                                name: l.instant("main.customer.MALE")
                            },
                            {
                                id: 2,
                                name: l.instant("main.customer.FEMALE")
                            }],
                        b.sex = b.sexOptions[0],
                        b.isAllowedToAccessGrouping = f.isAllowToAccess(f.accessDef.GROUP_CUSTOMER);
                    var m = a.branchid,
                        n = {};
                    b.getDataDetail = function(a) {
                        j.getDataDetail(b.sceneId, m).then(function(a) {
                            b.dataDetail = a.data.obj,
                                n = a.data.obj,
                                b.groupNames = b.dataDetail.group;
                            var c = b.dataDetail.email,
                                d = b.dataDetail.sex,
                                e = b.dataDetail.mobile,
                                f = b.dataDetail.tel;
                            c ? b.formEmails = c.split(",") : b.formEmails = [""],
                                e ? b.formMobiles = e.split(",") : b.formMobiles = [""],
                                f ? b.formTels = f.split(",") : b.formTels = [""],
                                d && (d == l.instant("main.customer.MALE") ? b.sex = b.sexOptions[1] : b.sex = b.sexOptions[2])
                        })
                    },
                        b.getDataDetail(b.sceneId),
                        b.updateData = function(a, c, d) {
                            var e = a.name,
                                f = {};
                            if ("email" == e || "mobile" == e || "tel" == e) {
                                f[e] = "";
                                var g, h = [];
                                for (g = 0; g < c.length; g++) c[g] && h.push(c[g]);
                                for (g = 0; g < h.length - 1; g++) f[e] += h[g] + ",";
                                f[e] += h[g]
                            } else f[e] = b.dataDetail[e];
                            n[e] = f[e]
                        },
                        b.updateSex = function(a) {
                            var c = {};
                            c.id = b.sceneId,
                                    0 !== a.id ? c.sex = a.name: c.sex = "",
                                n.sex = c.sex
                        },
                        b.formEmails = [""],
                        b.formMobiles = [""],
                        b.formTels = [""],
                        b.removeInputs = function(a, c, d) {
                            if (d.length > 1) {
                                if (!d[a]) return void d.splice(a, 1);
                                d.splice(a, 1),
                                    b.updateData({
                                            name: c
                                        },
                                        d)
                            } else 1 === d.length && "" !== d[0] && (d[a] = "", b.updateData({
                                    name: c
                                },
                                d))
                        },
                        b.addInputs = function(a) {
                            a.push("")
                        },
                        b.saveData = function(a) {
                            delete a.group,
                                a && $.each(a,
                                function(b, c) {
                                    "undefined" == c && (a[b] = null)
                                }),
                                j.saveData($.param(a)).then(function(a) {
                                    a.data.success && (alert(l.instant("main.customer.SAVE_SUCCESS")), i.path("/main/customer"))
                                })
                        },
                        b.cancel = function() {
                            i.path("/main/customer")
                        },
                        b.groups = [],
                        b.getGroups = function() {
                            b.groups.length > 0 || j.getGroups().then(function(a) {
                                    b.groups = a.data.list
                                },
                                function(a) {
                                    alert(l.instant("main.customer.SERVER_ERROR"))
                                })
                        },
                        b.getGroups(),
                        b.deleteAssociation = function(a, c, d) {
                            var e = {
                                cId: a,
                                gId: c
                            };
                            h.openConfirmDialog({
                                    msg: l.instant("main.customer.ENSURE_RELIEVE")
                                },
                                function() {
                                    j.deleteAssociation(e).then(function(a) {
                                            if (a.data.success) for (var d = 0; d < b.groupNames.length; d++) b.groupNames[d].id == c && b.groupNames.splice(d, 1)
                                        },
                                        function(a) {
                                            alert(l.instant("main.customer.SERVER_ERROR"))
                                        })
                                })
                        },
                        b.addGroup = function() {
                            g.open({
                                windowClass: "group-console",
                                templateUrl: "main/console/group.tpl.html",
                                controller: "AddGroupCtrl"
                            }).result.then(function(a) {
                                    b.groups.push(a)
                                },
                                function() {})
                        };
                    var o = [];
                    b.assignGroup = function() {
                        for (var a = [], c = 0, d = b.groups.length; d > c; c++) if (b.groups[c].selected) {
                            o.push(b.groups[c].id);
                            var e = {
                                id: b.groups[c].id,
                                name: b.groups[c].name
                            };
                            a.push(e)
                        }
                        if (!o.length) return void alert(l.instant("main.customer.SELECT_GROUP"));
                        var f = {
                            cIds: b.dataDetail.id,
                            gIds: o
                        };
                        j.assignGroup(f).then(function(c) {
                                if (c.data.success) {
                                    p();
                                    for (var d = 0; d < a.length; d++) if (b.groupNames.length > 0) for (var e = 0; e < b.groupNames.length && b.groupNames[e].id != a[d].id; e++) e == b.groupNames.length - 1 && b.groupNames.push(a[d]);
                                    else b.groupNames.push(a[d]);
                                    k.pushForCurrentRoute("data.assign.success", "notify.success")
                                }
                            },
                            function() {})
                    },
                        b.deleteGroup = function(a, c) {
                            h.openConfirmDialog({
                                    msg: l.instant("main.customer.ENSURE_DEL")
                                },
                                function() {
                                    j.deleteGroup(a.id).then(function(d) {
                                            if (d.data.success) {
                                                p(),
                                                    b.groups.splice(c, 1);
                                                for (var e = 0; e < b.groupNames.length; e++) b.groupNames[e].id == a.id && b.groupNames.splice(e, 1)
                                            }
                                        },
                                        function(a) {
                                            alert(l.instant("main.customer.SERVER_ERROR"))
                                        })
                                })
                        };
                    var p = function() {
                        for (var a = 0,
                                 c = b.groups.length; c > a; a++) b.groups[a].selected = !1
                    }
                }]),
            b.module("bindemail-dialog", []).controller("BindEmailDialogCtrl", ["$scope",
                function(a) {}]),
            b.module("confirm-dialog", []).controller("ConfirmDialogCtrl", ["$scope", "confirmObj",
                function(a, b) {
                    a.confirmObj = b,
                        a.ok = function() {
                            a.$close()
                        },
                        a.cancel = function() {
                            a.$dismiss()
                        }
                }]),
            b.module("message-dialog", []).controller("MessageDialogCtrl", ["$scope", "msgObj",
                function(a, b) {
                    a.msgObj = b,
                        a.close = function() {
                            a.$close()
                        },
                        a.cancel = function() {
                            a.$dismiss()
                        }
                }]),
            b.module("error", ["services.sample"]),
            b.module("error").controller("ErrorCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "sampleService",
                function(a, b, c, d, e, f, g) {}]),
            b.module("home", ["services.sample", "app.directives.addelement", "services.scene", "app.directives.qrcode", "app.directives.loading", "security.thirdparty"]),
            b.module("home").controller("HomeCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "sampleService", "sceneService", "$routeParams", "$route", "$location", "configService", "thirdpartyService",
                function(a, b, c, d, e, f, g, h, i, j, k, l, m) {
                    c.showCode = !1,
                        c.isAuthenticated = e.isAuthenticated,
                        c.registerMsg = {},
                        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        c.PREFIX_SERVER_HOST = PREFIX_URL,
                        c.scene || (c.scene = {}),
                        c.typeindex = "all",
                        c.pageSize = 8,
                        c.pageNo = 1,
                        c.getHomes = function(a, b, d, e) {
                            c.typeindex = a,
                                g.getSamples(b, d, e).then(function(a) {
                                        c.homes = a.data.list
                                    },
                                    function(a) {})
                        },
                        c.getSceneType = function() {
                            h.getSceneType().then(function(a) {
                                c.sceneTypes = a.data.list
                            })
                        },
                        c.getSceneType(),
                        c.getHomes("all", null, 1, 8);
                    c.getSamplesPV = function() {
                        g.getSamplesPV().then(function(a) {
                                c.SamplesPVs = a.data,
                                    c.dayTop = c.SamplesPVs.obj.dayTop,
                                    c.monthTop = c.SamplesPVs.obj.monthTop,
                                    c.weekTop = c.SamplesPVs.obj.weekTop,
                                    c.page = "month"
                            },
                            function(a) {})
                    },
                        l.getFriendLinks().then(function(a) {
                            c.friendLinks = a.data.list,
                                c.friendLinks.length > 15 && (c.friendLinks.length = 15)
                        })
                }]).directive("iframeImgSwitch",
                function() {
                    return {
                        compile: function(a, b) { (document.documentMode || navigator.userAgent.indexOf("Edge") > 0) && (a.find(".svg-animation").css("display", "none"), a.find(".noSvg").css("display", "block"))
                        }
                    }
                }),
            b.module("customer.group", ["services.data", "services.i18nNotifications"]),
            b.module("customer.group").controller("AddGroupCtrl", ["$rootScope", "$scope", "dataService", "i18nNotifications", "$translate",
                function(a, b, c, d, e) {
                    b.group = {},
                        b.authError = "",
                        b.confirm = function() {
                            if (!b.group.name) return void(b.authError = e.instant("main.customer.GROUP_NAME_ERROR1"));
                            var a = m(b.group.name);
                            if (a > 12) return void(b.authError = e.instant("main.customer.GROUP_NAME_ERROR2"));
                            var f = {
                                name: b.group.name
                            };
                            c.createGroup(f).then(function(a) {
                                    a.data.success && (d.pushForCurrentRoute("group.create.success", "notify.success"), b.$close({
                                        id: a.data.obj,
                                        name: b.group.name
                                    }))
                                },
                                function() {})
                        },
                        b.cancel = function() {
                            b.$dismiss()
                        }
                }]),
            b.module("main.transferScene", ["services.usercenter"]),
            b.module("main.transferScene").controller("TransferSceneCtrl", ["$scope", "$rootScope", "sceneService", "sceneId", "$translate",
                function(a, b, c, d, e) {
                    a.model = {
                        toUser: ""
                    },
                        a.transferScene = !0,
                        a.confirm = function() {
                            return a.model.toUser ? a.model.toUser == b.user.loginName ? void(a.actionerror = e.instant("main.TRANSFER_SELF")) : void c.transferScene(d.sceneId, a.model.toUser).then(function(b) {
                                200 == b.data.code ? a.transferScene = !1 : a.actionerror = b.data.msg;
                            }) : void(a.actionerror = e.instant("main.EMPTY_ACCOUTN"))
                        },
                        a.cancel = function() {
                            a.$close()
                        }
                }]),
            b.module("main.data", ["app.directives.dataDraggable", "customer.group", "services.i18nNotifications", "app.directives.customer"]),
            b.module("main.data").controller("CustomerCtrl", ["$translate", "$rootScope", "$scope", "$route", "$location", "$timeout", "dataService", "$modal", "ModalService", "i18nNotifications", "security",
                function(a, b, c, d, e, f, g, h, i, j, k) {
                    c.PREFIX_URL = PREFIX_URL,
                        c.isActive = "customer",
                        c.select = 0,
                        c.showBranchSelect = !0;
                    var l = b.branchid;
                    c.toPage = 1,
                        c.model = {},
                        c.dataShow = "message",
                        g.getCustomDatas(l),
                        c.$on("customDatas",
                            function(a, b) {
                                c.customCount = b
                            }),
                        c.customer = {
                            group: null,
                            origin: null
                        },
                        c.branchEdit = !0,
                        c.branchDelete = !0,
                        c.branchExport = !0,
                        f(function() {
                                21 == c.user.type && (c.user.extPermi ? (/^([\d,]+,)?1(,[\d,]*)?$/.test(c.user.extPermi) ? c.branchEdit = !0 : c.branchEdit = !1, /^([\d,]+,)?2(,[\d,]*)?$/.test(c.user.extPermi) ? c.branchDelete = !0 : c.branchDelete = !1, /^([\d,]+,)?3(,[\d,]*)?$/.test(c.user.extPermi) ? c.branchExport = !0 : c.branchExport = !1) : (c.branchEdit = !1, c.branchDelete = !1, c.branchExport = !1))
                            },
                            100),
                        c.downLoad = function(a, b) {
                            var c;
                            c = PREFIX_S3_URL + "m/c/exp" + (l ? "?user=" + l: ""),
                                b && (c += (/\?/.test(c) ? "&": "?") + "origin=" + b),
                                a && (c += (/\?/.test(c) ? "&": "?") + "groupId=" + a),
                                location.href = c
                        },
                        c.staticFileds = [],
                        a(["main.customer.CUSTOMER_NAME", "main.customer.CUSTOMER_MOBILE", "main.customer.CUSTOMER_EMAIL", "main.customer.CUSTOMER_SEX", "main.customer.CUSTOMER_COMPANY", "main.customer.CUSTOMER_JOB", "main.customer.CUSTOMER_ADDRESS", "main.customer.CUSTOMER_TELEPHONE", "main.customer.CUSTOMER_WEBSITE", "main.customer.CUSTOMER_QQ", "main.customer.CUSTOMER_WECHAT", "main.customer.CUSTOMER_REMARK"]).then(function(a) {
                            c.staticFileds = [{
                                id: "name",
                                name: a["main.customer.CUSTOMER_NAME"]
                            },
                                {
                                    id: "mobile",
                                    name: a["main.customer.CUSTOMER_MOBILE"]
                                },
                                {
                                    id: "email",
                                    name: a["main.customer.CUSTOMER_EMAIL"]
                                },
                                {
                                    id: "sex",
                                    name: a["main.customer.CUSTOMER_SEX"]
                                },
                                {
                                    id: "company",
                                    name: a["main.customer.CUSTOMER_COMPANY"]
                                },
                                {
                                    id: "job",
                                    name: a["main.customer.CUSTOMER_JOB"]
                                },
                                {
                                    id: "address",
                                    name: a["main.customer.CUSTOMER_ADDRESS"]
                                },
                                {
                                    id: "tel",
                                    name: a["main.customer.CUSTOMER_TELEPHONE"]
                                },
                                {
                                    id: "website",
                                    name: a["main.customer.CUSTOMER_WEBSITE"]
                                },
                                {
                                    id: "qq",
                                    name: a["main.customer.CUSTOMER_QQ"]
                                },
                                {
                                    id: "weixin",
                                    name: a["main.customer.CUSTOMER_WECHAT"]
                                },
                                {
                                    id: "remark",
                                    name: a["main.customer.CUSTOMER_REMARK"]
                                }]
                        }),
                        c.selectScene = function(b, d) {
                            c.selectedSceneId = b,
                                g.getSceneField(b).then(function(b) {
                                    c.fields = b.data.list,
                                        c.select = d,
                                        $(".list_attribute").html(a.instant("main.customer.DRAG_HERE"))
                                })
                        },
                        c.clickScene = function() {
                            e.path("main")
                        },
                        c.clickSpread = function() {
                            e.path("main/spread")
                        },
                        c.clickCustomer = function() {
                            e.path("main/customer")
                        },
                        c.editCustomer = function(a) {
                            c.getDataDetail(a.id),
                                c.editData = !0
                        },
                        c.removeCustomer = function(b) {
                            i.openConfirmDialog({
                                    msg: a.instant("main.customer.CONFIRM_TO_DELETE_DATA")
                                },
                                function() {
                                    g.deleteDataById(b.id).then(function(a) {
                                        200 == a.data.code && j.pushForCurrentRoute("custom.data.delete", "notify.success"),
                                                1 === c.customerDatas.length && c.model.currentPage > 1 ? c.getDataBySceneId(c.model.currentPage - 1) : c.getDataBySceneId(c.model.currentPage),
                                            g.getCustomDatas(l)
                                    })
                                })
                        },
                        c.addColor = function(a) {
                            c.trIndex = a
                        },
                        c.removeColor = function() {
                            c.trIndex = -1
                        },
                        c.totalItems = 0,
                        c.model.currentPage = 0,
                        c.toPage = "",
                        c.pageChanged = function(b, d, e, f) {
                            return 1 > b || b > c.totalItems / 10 + 1 ? void alert(a.instant("main.customer.PAGE_OVERFLOW")) : (c.model.currentPage = b, void c.getDataBySceneId(b, d, e, f))
                        },
                        c.getDataBySceneId = function(a, b, d, e) {
                            a || (a = 1),
                                g.getAllData(a, b, d, e).then(function(a) {
                                    c.customerDatas = a.data.list,
                                        c.totalItems = a.data.map.count,
                                        c.model.currentPage = a.data.map.pageNo,
                                        c.toPage = "",
                                        c.totalNum = Math.ceil(c.totalItems / a.data.map.pageSize)
                                })
                        },
                        c.getDataBySceneId(1, l, null, null),
                        c.editCustom = function(a, b) {
                            e.path("/main/customer/" + a.id)
                        };
                    var m = function() {
                        g.getDataMessage(l).then(function(a) {
                            c.dataMessage = a.data.list
                        })
                    };
                    m(),
                        c.sceneLoad = function(a) {
                            var b = PREFIX_S3_URL + "m/scene/excel/noheader?id=" + a + (l ? "&user=" + l: "");
                            location.href = b
                        },
                        c.importDatas = function() {
                            g.getPremergeScenes(l).then(function(a) {
                                c.importDatas = a.data.list,
                                    a.data.list.length > 0 && c.selectScene(a.data.list[0].ID, 0)
                            })
                        },
                        c.associateData = {};
                    var n = !0;
                    if (c.confirm = function() {
                        n ? jQuery.isEmptyObject(c.associateData, {}) ? (alert(a.instant("main.customer.PLEASE_IMPORT_DATA")), n = !0) : (g.mergeSceneData(c.selectedSceneId, c.associateData).then(function() {
                                alert(a.instant("main.customer.IMPORT_CUSTOMER_SUCCESS")),
                                    d.reload()
                            },
                            function() {}), n = !1) : alert(a.instant("main.customer.DUPLICATE_CONFIRM"))
                    },
                        c.importDatas(), c.isAllowedToAccessGrouping = k.isAllowToAccess(k.accessDef.GROUP_CUSTOMER), c.isAllowedToAccessGrouping) {
                        c.allImages = {
                            selected: !1
                        },
                            c.selectAll = function() {
                                for (var a = 0,
                                         b = c.customerDatas.length; b > a; a++) c.customerDatas[a].selected = c.allImages.selected
                            },
                            c.selectCustomer = function(a) {
                                a.selected || (c.allImages.selected = !1)
                            },
                            c.groups = [],
                            c.getGroups = function() {
                                c.groups.length > 0 || g.getGroups(l).then(function(a, b) {
                                        c.groups = a.data.list
                                    },
                                    function(a) {})
                            },
                            c.getGroups(),
                            c.getOrigins = function() {
                                g.getOrigin(l).then(function(a) {
                                        c.origins = a.data.list
                                    },
                                    function(b) {
                                        alert(a.instant("main.customer.SERVER_ERROR"))
                                    })
                            },
                            c.getOrigins(),
                            c.addGroup = function() {
                                h.open({
                                    windowClass: "group-console console",
                                    templateUrl: "main/console/group.tpl.html",
                                    controller: "AddGroupCtrl"
                                }).result.then(function(a) {
                                        c.groups.push(a),
                                            r(),
                                            j.pushForCurrentRoute("group.create.success", "notify.success")
                                    },
                                    function() {})
                            };
                        var o = [],
                            p = [];
                        c.assignGroup = function() {
                            o = [],
                                p = [];
                            for (var b = 0,
                                     d = c.customerDatas.length; d > b; b++) c.customerDatas[b].selected && o.push(c.customerDatas[b].id);
                            for (b = 0, d = c.groups.length; d > b; b++) c.groups[b].selected && p.push(c.groups[b].id);
                            if (!o.length) return void alert(a.instant("main.customer.NO_CUSTOMER_SELECTED"));
                            if (!p.length) return void alert(a.instant("main.customer.NO_GROUP_SELECTED"));
                            var e = {
                                cIds: o,
                                gIds: p
                            };
                            g.assignGroup(e).then(function(a) {
                                    a.data.success && (r(), c.allImages.selected = !1, q(), j.pushForCurrentRoute("data.assign.success", "notify.success"))
                                },
                                function() {})
                        },
                            c.deleteCustomer = function(b) {
                                o = [];
                                var d, e;
                                if (b) d = {
                                    ids: b.id
                                },
                                    e = a.instant("main.customer.CONFIRM_TO_DELETE_DATA");
                                else {
                                    for (var f = 0,
                                             h = c.customerDatas.length; h > f; f++) c.customerDatas[f].selected && o.push(c.customerDatas[f].id);
                                    if (!o.length) return void alert(a.instant("main.customer.NO_CUSTOMER_SELECTED"));
                                    d = {
                                        ids: o
                                    },
                                        e = a.instant("main.customer.CONFIRM_TO_DELETE_DATA")
                                }
                                i.openConfirmDialog({
                                        msg: e
                                    },
                                    function() {
                                        g.deleteCustomer(d).then(function(a) {
                                                a.data.success && (c.allImages.selected = !1, q(), r(), j.pushForCurrentRoute("data.delete.success", "notify.success"))
                                            },
                                            function(b) {
                                                alert(a.instant("main.customer.SERVER_ERROR"))
                                            })
                                    })
                            },
                            c.deleteGroup = function(b, d) {
                                i.openConfirmDialog({
                                        msg: a.instant("main.customer.CONFIRM_TO_DELETE_GROUP")
                                    },
                                    function() {
                                        g.deleteGroup(b.id).then(function(a) {
                                                a.data.success && (c.groups.splice(d, 1), r(), j.pushForCurrentRoute("group.delete.success", "notify.success"))
                                            },
                                            function(b) {
                                                alert(a.instant("main.customer.SERVER_ERROR"))
                                            })
                                    })
                            };
                        var q = function() {
                                1 === c.customerDatas.length && c.model.currentPage > 1 ? c.getDataBySceneId(c.model.currentPage - 1) : c.getDataBySceneId(c.model.currentPage)
                            },
                            r = function() {
                                for (var a = 0,
                                         b = c.groups.length; b > a; a++) c.groups[a].selected = !1
                            }
                    }
                    c.$watch("model.currentPage",
                        function(a, b) {
                            a && a != b && (c.model.toPage = a)
                        },
                        !0)
                }]),
            b.module("main", ["services.mine", "services.data", "app.directives.pageTplTypes", "app.directives.addelement", "main.spread", "main.data", "main.transferScene", "services.usercenter", "main.userGuide", "app.directives.qrcode", "services.i18nNotifications", "common.directives.scroll"]),
            b.module("main").controller("MainCtrl", ["$rootScope", "$scope", "$location", "$translate", "security", "MineService", "dataService", "sceneService", "ModalService", "$modal", "usercenterService", "i18nNotifications", "configSerService", "SpreadService", "$filter",
                function(b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
                    function q() {
                        return sessionStorage.getItem("sysMsgHasRead")
                    }
                    function r(a, b, d, e) {
                        l.getNewMessage(a, b, d, e).then(function(a) {
                            c.sysMsgs = a.data.list
                        })
                    }
                    c.PREFIX_URL = PREFIX_URL,
                        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        c.client_cdn = CLIENT_CDN,
                        c.scene = {
                            type: null
                        },
                        c.pageSize = 12,
                        c.isAllowedHistory = f.isAllowToAccess(f.accessDef.USERCENTER_HISTORY),
                        c.showCloseStatus = [],
                        c.showOpenStatus = [],
                        c.isActive = "main",
                        c.loginSuccess = f.isLoginSuccess,
                        c.showBranchSelect = !0,
                        c.$watch("user.loginName",
                            function(a, b) {
                                if (a) {
                                    var d = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                                    c.loginSuccess && "eqs" == a.substr(0, 3) && !d.test(a) && m.pushForCurrentRoute("rel.tip", "notify.tip")
                                }
                            });
                    var s = b.branchid;
                    c.editScene = function(a, b) {
                        a && a.stopPropagation(),
                            d.path("scene/create/" + b).search("pageId", 1)
                    },
                            a.localStorage && "false" == localStorage.getItem("myScenesListType") ? c.listType = !1 : c.listType = !0,
                        c.listToggle = function() {
                            c.listType = !c.listType,
                                a.localStorage && localStorage.setItem("myScenesListType", c.listType)
                        },
                        c.openScene = function(a, b) {
                            s || (b ? i.openScene(a.id).then(function(b) {
                                b.data.success && (a.status = 1)
                            }) : i.closeScene(a.id).then(function(b) {
                                b.data.success && (a.status = 2)
                            }))
                        },
                        c.addColor = function(a) {
                            c.trIndex = a
                        },
                        c.removeColor = function() {
                            c.trIndex = -1
                        },
                        c.sceneSettings = function(a, b) {
                            a && a.stopPropagation(),
                                d.path("scene/create/" + b).search({
                                    pageId: 1,
                                    openSetting: "show"
                                })
                        },
                        c.clickScene = function() {
                            d.path("main")
                        },
                        c.clickSpread = function() {
                            d.path("main/spread")
                        },
                        c.creatCompanyTpl = function(a, b, d) {
                            a && a.stopPropagation(),
                                i.createCompanyTpls(b).then(function(a) {
                                    a.data.success && (c.myScenes[d].isTpl = 3, m.pushForCurrentRoute("scene.save.success.companyTpl", "notify.success"))
                                })
                        },
                        c.clearCompanyTpl = function(a, b, d) {
                            a && a.stopPropagation(),
                                i.clearCompanyTpls(b).then(function(a) {
                                    a.data.success && (c.myScenes[d].isTpl = 0, m.pushForCurrentRoute("scene.clear.success.companyTpl", "notify.success"))
                                })
                        },
                        c.clickCustomer = function() {
                            d.path("main/customer")
                        },
                        c.register = f.getRegisterInfo(),
                        c.logout = function() {
                            f.logout()
                        },
                        c.copyScene = function(a, b) {
                            a && a.stopPropagation(),
                                j.openConfirmDialog({
                                        msg: "确定复制此场景?"
                                    },
                                    function() {
                                        i.copySceneById(b).then(function(a) {
                                            d.path("scene/create/" + a.data.obj).search("pageId", 1)
                                        })
                                    })
                        },
                        c.isAllowedToAccessTransfer = f.isAllowToAccess(f.accessDef.TRANSFER_SCENE),
                        c.isAllowedToAccessTransfer && (c.transferScene = function(a, d) {
                        a && a.stopPropagation(),
                                "eqs" == b.user.loginName.substr(0, 3) && null == b.user.email ? j.openBindEmailDialog() : k.open({
                            windowClass: "six-contain",
                            templateUrl: "main/console/transferscene.tpl.html",
                            controller: "TransferSceneCtrl",
                            resolve: {
                                sceneId: function() {
                                    return {
                                        sceneId: d
                                    }
                                }
                            }
                        }).result.then(function() {
                                c.getMyScenes()
                            },
                            function() {
                                c.getMyScenes()
                            })
                    }),
                        c.deleteScene = function(a, b) {
                            a && a.stopPropagation();
                            var d;
                            d = c.isAllowedHistory ? "确定删除此场景?删除后，该场景将在回收站保留3天": "确定删除此场景?",
                                j.openConfirmDialog({
                                        msg: d
                                    },
                                    function() {
                                        i.deleteSceneById(b).then(function() {
                                            1 == c.myScenes.length && c.currentPage > 1 && c.currentPage--,
                                                c.getMyScenes(c.currentPage)
                                        })
                                    })
                        },
                        c.getStyle = function(a) {
                            return {
                                "background-image": "url(" + PREFIX_FILE_HOST + a + ")"
                            }
                        },
                        c.totalItems = 0,
                        c.page = {
                            currentPage: 1
                        },
                        c.toPage = "",
                        c.getMyScenes = function(a) {
                            g.getMyScenes(c.scene.type ? c.scene.type.value: null, a, c.pageSize, s).then(function(a) {
                                a.data.list && a.data.list.length > 0 ? (c.myScenes = a.data.list, c.totalItems = a.data.map.count, c.page.currentPage = a.data.map.pageNo, c.allPageCount = a.data.map.count, c.toPage = a.data.map.pageNo, b.user && b.user.domain ? (c.url = b.user.domain, c.canvasUrl = "http://" + c.url) : (c.url = c.PREFIX_CLIENT_HOST, c.canvasUrl = c.url)) : (c.totalItems = 0, c.currentPage > 1 ? c.getMyScenes(--c.currentPage) : (c.myScenes = [], c.allPageCount = 0))
                            })
                        },
                        c.pageChanged = function(a) {
                            return 1 > a || a > c.totalItems / 10 + 1 ? void alert("此页超出范围") : (c.currentPage = a, void c.getMyScenes(a))
                        },
                        c.getTdStyle = function(a) {
                            var b = $(".header_table td:eq(" + a + ")").outerWidth();
                            return {
                                width: b + "px",
                                maxWidth: b + "px"
                            }
                        },
                        c.getMyScenes(),
                        i.getSceneType().then(function(a) {
                            c.scene.types = a.data.list
                        }),
                        c.dataDetail = {},
                        h.getDatas(s),
                        h.getCustomDatas(s),
                        c.$on("sceneDatas",
                            function(a, b) {
                                c.datasCount = b
                            }),
                        c.$on("customDatas",
                            function(a, b) {
                                c.customCount = b
                            }),
                        c.showDetail = function(a) {
                            d.path("my/scene/" + a)
                        },
                        c.$on("$destroy",
                            function() {
                                f.setLoginSuccess(!1)
                            }),
                        c.publishScene = function(a, b) {
                            a && a.stopPropagation(),
                                i.publishScene(b.id).then(function(a) {
                                    a.data.success && (b.publishTime = (new Date).getTime(), m.pushForCurrentRoute("scene.publish.success", "notify.success"))
                                })
                        },
                        c.openSysMsg = !1,
                        c.openSysMsgDialog = !q(),
                        c.closeSysMsgDialog = function() {
                            c.openSysMsgDialog = !c.openSysMsgDialog,
                                sessionStorage.setItem("sysMsgHasRead", "true")
                        },
                        c.sysMsgs = [],
                        r(1, 4, !0, !0),
                        c.getRejectDetail = function(a) {
                            a.stopPropagation(),
                                d.path("/usercenter/message")
                        };
                    var s = b.branchid;
                    c.viewDetail = function(a) {
                        b.showSpreadTable = !1,
                            c.$parent.showBranchSelect = !1,
                            d.path("/main/spread/statistics/" + a),
                            o.getSceneDetail(a, s),
                            o.getSceneData(a, -6, 1, s),
                            o.getWebList(a, !0, s);
                        var e = new Date;
                        e = new Date(e.getTime() - 864e5),
                            o.queryRegion(a, p("date")(e))
                    }
                }]).directive("sysMsgAdjust",
                function() {
                    return {
                        restrict: "EA",
                        link: function(a, b, c) {
                            a.isSysMsgVeryShort = !1;
                            var d = a.$watch(function() {
                                    return $(".messages", b).css("height")
                                },
                                function(b) {
                                    "44px" === b && (a.isSysMsgVeryShort = !0)
                                });
                            b.bind("$destroy",
                                function() {
                                    d()
                                })
                        }
                    }
                }).directive("selectPicker",
                function() {
                    return {
                        restrict: "EA",
                        link: function(a, b, c) {
                            b.selectpicker()
                        }
                    }
                }),
            b.module("main.spread", ["app.directives.pieChart", "app.directives.numChangeAnim", "main.scene.statistic", "main.spread.Method"]),
            b.module("main.spread").controller("SpreadCtrl", ["$scope", "$rootScope", "$location", "$routeParams", "MineService", "dataService", "security",
                function(a, c, d, e, f, g, h) {
                    a.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        a.isActive = "spread",
                        c.showSpreadTable = !0,
                        a.page = {},
                        a.toPage = 1,
                        a.tabid = e.tabid,
                        a.showBranchSelect = !0,
                        a.spreadStatic = function() {
                            c.showSpreadTable = !0,
                                d.path("main/spread/statistics", !1),
                                a.tabid = "statistics",
                                a.showBranchSelect = !0,
                                a.getMyScenes(1)
                        },
                        a.spreadExpand = function() {
                            d.path("main/spread/expand", !1),
                                a.tabid = "expand",
                                a.showBranchSelect = !0
                        };
                    var i = c.branchid;
                    g.getDatas(i),
                        g.getCustomDatas(i),
                        a.$on("sceneDatas",
                            function(b, c) {
                                a.datasCount = c
                            }),
                        a.$on("customDatas",
                            function(b, c) {
                                a.customCount = c
                            }),
                        setTimeout(function() {
                                c.user && c.user.domain ? a.url = "http://" + c.user.domain: a.url = a.PREFIX_CLIENT_HOST,
                                    a.getMyScenes()
                            },
                            0),
                        a.getMyScenes = function(c) {
                            f.getMyScenes(null, c, 10, i).then(function(c) {
                                c.data.list && c.data.list.length > 0 ? (a.allPageCount = c.data.map.count, (!c.data.list || c.data.list.length <= 0) && d.path("scene"), b.forEach(c.data.list,
                                    function(b, c) {
                                        b.link = a.url + "/s/" + b.code
                                    }), a.spreadDatas = c.data.list, a.totalItems = c.data.map.count, a.page.currentPage = c.data.map.pageNo, a.toPage = c.data.map.pageNo) : a.totalItems = 0
                            })
                        },
                        a.pageChanged = function(b) {
                            return 1 > b || b > a.totalItems / 10 + 1 ? void alert($translate.instant("main.spread.expand.PAGE_OVERFLOW")) : (a.getMyScenes(b), void(a.page.currentPage = b))
                        },
                        a.totalItems = 0,
                        a.toPage = ""
                }]),
            b.module("main.spread.detail", ["services.spread", "app.directives.lineChart", "app.directives.pieChart", "app.directives.numChangeAnim"]),
            b.module("main.spread.detail").controller("SpreadDetailCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService",
                function(a, b, c, d, e, f, g) {
                    a.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        a.PREFIX_SERVER_HOST = PREFIX_URL;
                    f.branchid,
                        c.sceneId
                }]),
            b.module("main.spread.detail", ["services.spread", "app.directives.lineChart", "app.directives.pieChart", "app.directives.numChangeAnim"]),
            b.module("main.spread.detail").controller("DataDetailCtrl", ["$translate", "$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", "security", "$filter",
                function(a, b, c, d, e, f, g, h, i, j) {
                    b.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        b.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        b.PREFIX_SERVER_HOST = PREFIX_URL,
                        b.spreadViewGridOptions = {},
                        b.spreadMobileGridOptions = {},
                        b.spreadClickGridOptions = {},
                        b.sceneDeviceData = [],
                        b.expandWebs = [],
                        b.totalItems = 0,
                        b.page = {
                            currentPage: 1
                        },
                        b.startDay = 1,
                        b.toPage = "",
                        b.dataPieChart = [],
                        b.pageChanged = function(a) {
                            return 1 > a || a > b.totalItems / 10 + 1 ? void alert("此页超出范围") : (b.pageData = b.mapOption.data.slice(10 * (a - 1), 10 * a - 1), void(b.currentPage = a))
                        };
                    var k = g.branchid;
                    b.isAllowedToAccessExpandWebsite = i.isAllowToAccess(i.accessDef.EXPAND_WEBSITE),
                        b.viewStyle = "line",
                        b.dataLineChartDataOption = {
                            data: [[], []],
                            xAxis: []
                        },
                        b.dataMobileChartOption = {
                            data: [[], [], [], []],
                            xAxis: []
                        },
                        b.contentDataOption = {
                            data: [[], []],
                            xAxis: []
                        },
                        b.showLine = function() {
                            b.viewStyle = "line"
                        },
                        b.showPie = function() {
                            b.viewStyle = "pie"
                        },
                        b.$on("scene.detail",
                            function(c, d, e) {
                                b.scene = d,
                                    b.scene && (101 == b.scene.type ? b.sceneType = a.instant("main.spread.expand.SCENE_TYPE1") : 102 == b.scene.type ? b.sceneType = a.instant("main.spread.expand.SCENE_TYPE2") : 103 == b.scene.type ? b.sceneType = a.instant("main.spread.expand.SCENE_TYPE3") : 104 == b.scene.type ? b.sceneType = a.instant("main.spread.expand.SCENE_TYPE4") : 105 == b.scene.type && (b.sceneType = a.instant("main.spread.expand.SCENE_TYPE5")))
                            }),
                        b.devicePie = !1,
                        b.$on("scene.device",
                            function(a, c, d, e, f) {
                                0 === c.total ? b.sceneDeviceData = [] : b.sceneDeviceData = c.data
                            }),
                        b.getDeviceDate = function(a, b, c) {
                            f.getDevicePv(a, b, c)
                        },
                        b.$on("scene.data",
                            function(a, c, d, e, f, g) {
                                b.stats = c,
                                    l(d, e, f, g)
                            });
                    var l = function(a, c, d, e) {
                        b.pageView = 0,
                            b.spreadClickGridOptions.data = b.stats,
                            b.xAxisData = [],
                            b.viewLineChartData = [],
                            b.dataLineChartData = [],
                            b.dataLineChartFriendGroup = [],
                            b.dataLineChartFriends = [],
                            b.dataLineChartFriend = [],
                            b.dataLineChartOther = [],
                            b.viewLineTel = [],
                            b.viewLineTab = [],
                            b.dataPieChart = [];
                        for (var f = 0,
                                 g = 0,
                                 h = 0,
                                 i = 0,
                                 j = 0,
                                 k = 0; k < b.stats.length; k++) b.xAxisData.push(b.stats[k].STAT_DATE),
                            b.viewLineChartData.push(b.stats[k].SHOW),
                            b.dataLineChartData.push(b.stats[k].DATA),
                            b.dataLineChartFriendGroup.push(b.stats[k].S_WX_TIMELINE),
                            b.dataLineChartFriends.push(b.stats[k].S_WX_GROUP),
                            b.dataLineChartFriend.push(b.stats[k].S_WX_SINGLE),
                            b.viewLineTel.push(b.stats[k].TEL),
                            b.viewLineTab.push(b.stats[k].LINK),
                            b.dataOthers = b.stats[k].S_MOBILE - b.stats[k].S_WX_TIMELINE - b.stats[k].S_WX_SINGLE - b.stats[k].S_WX_GROUP,
                            b.dataLineChartOther.push(b.dataOthers),
                            b.pageView += b.stats[k].SHOW,
                            f += b.stats[k].S_MOBILE,
                            g += b.stats[k].S_WX_TIMELINE,
                            h += b.stats[k].S_WX_SINGLE,
                            i += b.stats[k].S_WX_GROUP;
                        b.spreadMobile = !0,
                            f = 1,
                                f > 0 ? (j = f - g - h - i, b.dataPieChart = [{
                            value: g,
                            name: "微信朋友圈"
                        },
                            {
                                value: i,
                                name: "微信群"
                            },
                            {
                                value: h,
                                name: "微信朋友"
                            },
                            {
                                value: j,
                                name: "其他访问"
                            }]) : b.spreadMobile = !1,
                            b.dataLineChartDataOption = {
                                data: [b.viewLineChartData, b.dataLineChartData],
                                xAxis: b.xAxisData
                            },
                            b.dataMobileChartOption = {
                                data: [b.dataLineChartFriendGroup, b.dataLineChartFriends, b.dataLineChartFriend, b.dataLineChartOther],
                                xAxis: b.xAxisData
                            },
                            b.contentDataOption = {
                                data: [b.viewLineTel, b.viewLineTab],
                                xAxis: b.xAxisData
                            },
                            $(".myGrid1").height(50 * (b.stats.length + 1) + 1),
                            $(".myGrid1 .ui-grid-viewport").height(50 * b.stats.length + 1)
                    };
                    if (b.getAllStats = function(a, c, d) {
                        b.model = {
                            startTime: c,
                            endTime: d
                        },
                            f.getSceneData(a, c, d, k, b.expandId)
                    },
                        b.$on("webs.update",
                            function(a) {
                                b.expandWebs = f.expandWebs
                            }), b.viewExpandDetail = function(a, c) {
                        b.selectIndex = c,
                            b.expandId = a,
                            b.model ? b.getAllStats(b.scene.id, b.model.startTime, b.model.endTime) : b.getAllStats(b.scene.id, -6, 1)
                    },
                        d.sceneId) {
                        f.getWebList(d.sceneId, !0, k);
                        var m = new Date;
                        m = new Date(m.getTime() - 864e5)
                    }
                    b.$on("region.update",
                        function(a, c) {
                            for (var d = 0; d < c.data.length; d++)(c.data[d].name.indexOf("省") > -1 || c.data[d].name.indexOf("市") > -1) && (c.data[d].name = c.data[d].name.substr(0, c.data[d].name.length - 1)),
                                "内蒙古自治区" == c.data[d].name && (c.data[d].name = "内蒙古"),
                                "广西壮族自治区" == c.data[d].name && (c.data[d].name = "广西"),
                                "西藏自治区" == c.data[d].name && (c.data[d].name = "西藏"),
                                "新疆维吾尔自治区" == c.data[d].name && (c.data[d].name = "新疆"),
                                "香港特别行政区" == c.data[d].name && (c.data[d].name = "香港"),
                                "宁夏回族自治区" == c.data[d].name && (c.data[d].name = "宁夏"),
                                "澳门特别行政区" == c.data[d].name && (c.data[d].name = "澳门");
                            if (c.max > 0) {
                                var e = c.max.toString();
                                c.max = (parseInt(e[0], 10) + 1) * Math.pow(10, e.length - 1)
                            }
                            b.mapOption = {
                                data: c.data,
                                maxValue: c.max
                            },
                                b.totalItems = c.data.length,
                                    b.totalItems > 10 ? b.pageData = b.mapOption.data.slice(0, 9) : b.pageData = c.data
                        }),
                        b.changeMap = function(a) {
                            if (a != b.startDay) {
                                b.startDay = a;
                                var c = new Date;
                                c = new Date(c.getTime() - 864e5 * a),
                                    f.queryRegion("11858950", j("date")(c))
                            }
                        }
                }]).directive("eqdMap", ["$parse",
                function(a) {
                    return {
                        restrict: "E",
                        scope: {
                            option: "@"
                        },
                        template: '<div class="echartView"></div>',
                        link: function(a, b, c) {
                            a.echart = echarts.init(b.find("div")[0], "gray");
                            var d = {
                                title: {
                                    text: "",
                                    subtext: "",
                                    x: "center"
                                },
                                tooltip: {
                                    trigger: "item"
                                },
                                legend: {
                                    orient: "vertical",
                                    x: "right",
                                    data: ["pv"]
                                },
                                dataRange: {
                                    min: 0,
                                    max: 2500,
                                    text: ["高", "低"],
                                    calculable: !0,
                                    precision: 0
                                },
                                series: [{
                                    name: "pv",
                                    type: "map",
                                    mapType: "china",
                                    itemStyle: {
                                        normal: {
                                            label: {
                                                show: !0
                                            }
                                        },
                                        emphasis: {
                                            color: "#59c3f9",
                                            label: {
                                                show: !0
                                            }
                                        }
                                    },
                                    data: a.data
                                }]
                            };
                            a.$watch("option",
                                function(b, c) {
                                    if (b != c) {
                                        var e = JSON.parse(b);
                                        d.series[0].data = e.data,
                                            d.dataRange.max = e.maxValue,
                                            a.echart.clear(),
                                            a.echart.setOption(d)
                                    }
                                })
                        }
                    }
                }]).directive("eqdLineChart", [function() {
                return {
                    restrict: "E",
                    scope: {
                        option: "@",
                        legend: "@"
                    },
                    template: '<div class="lineChartView"></div>',
                    link: function(a, c, d) {
                        a.echart = echarts.init(c.find("div")[0], "macarons");
                        var e = JSON.parse(d.legend),
                            f = {
                                title: {
                                    text: "访问次数",
                                    x: "center"
                                },
                                legend: {
                                    data: e,
                                    x: "left"
                                },
                                calculable: !0,
                                tooltip: {
                                    trigger: "axis"
                                },
                                xAxis: [{
                                    type: "category",
                                    boundaryGap: !1,
                                    data: []
                                }],
                                yAxis: [{
                                    type: "value"
                                }],
                                series: [{
                                    name: "",
                                    type: "line",
                                    smooth: !0,
                                    itemStyle: {
                                        normal: {
                                            areaStyle: {
                                                type: "default"
                                            }
                                        }
                                    },
                                    data: []
                                }]
                            },
                            g = JSON.parse(d.option);
                        f.xAxis[0].data = g.xAxis;
                        for (var h = 1; h < g.data.length; h++) f.series[h] = b.copy(f.series[0]);
                        for (var i = 0; i < g.data.length; i++) f.series[i].name = e[i],
                            f.series[i].data = g.data[i];
                        a.echart.setOption(f),
                            a.$watch("option",
                                function(b, c) {
                                    if (b != c) {
                                        var d = JSON.parse(b);
                                        f.xAxis[0].data = d.xAxis;
                                        for (var e = 0; e < d.data.length; e++) f.series[e].data = d.data[e];
                                        a.echart.showLoading(),
                                            a.echart.hideLoading(),
                                            a.echart.setOption(f, !0)
                                    }
                                })
                    }
                }
            }]).directive("eqdPieChart", [function() {
                return {
                    restrict: "E",
                    scope: {
                        data: "@",
                        name: "@"
                    },
                    template: '<div class="pieChartView"></div>',
                    link: function(a, b, c) {
                        a.echart = echarts.init(b.find("div")[0], "macarons");
                        for (var d = JSON.parse(c.data), e = [], f = 0; f < d.length; f++) e.push(d[f].name);
                        var g = {
                            tooltip: {
                                trigger: "item",
                                formatter: "{a} <br/>{b} : {c} ({d}%)"
                            },
                            legend: {
                                orient: "vertical",
                                x: "left",
                                data: e
                            },
                            calculable: !0,
                            series: [{
                                name: c.name,
                                type: "pie",
                                radius: "55%",
                                center: ["50%", "60%"],
                                data: d
                            }]
                        };
                        a.echart.setOption(g),
                            a.$watch("data",
                                function(b, c) {
                                    if (b != c) {
                                        var d = JSON.parse(b);
                                        g.series[0].data = d;
                                        for (var e = [], f = 0; f < d.length; f++) e.push(d[f].name);
                                        g.legend.data = e,
                                            a.echart.showLoading(),
                                            a.echart.hideLoading(),
                                            a.echart.setOption(g)
                                    }
                                })
                    }
                }
            }]),
            b.module("main.spread.detail.ercode", ["services.spread", "services.scene", "services.mine"]),
            b.module("main.spread.detail.ercode").controller("ErCodeCtrl", ["$scope", "$rootScope", "SpreadService", "sceneService", "MineService",
                function(a, b, c, d, e) {
                    a.expandWebs = [];
                    var f, g, h = b.branchid;
                    a.selectScene = function() {
                        a.getMyScenes(null, 1, 10, h)
                    },
                        a.select = function(b) {
                            a.open = !1,
                                f = a.selectedUrl = b.link,
                                g = a.selectedCode = b.code,
                                sceneId = b.id
                        }
                }]),
            b.module("main.spread.detail.qrcode", ["services.spread", "services.scene", "services.mine"]),
            b.module("main.spread.detail.qrcode").controller("QrCodeCtrl", ["$translate", "$scope", "$rootScope", "SpreadService", "sceneService", "MineService", "ModalService",
                function(a, c, d, e, f, g, h) {
                    c.expandWebs = [];
                    var i, j, k = 10,
                        l = d.branchid;
                    c.page = {};
                    var m = function(a, d) {
                        g.getMyScenes(a, d, k, l, !0).then(function(a) {
                                b.forEach(a.data.list,
                                    function(a, b) {
                                        a.link = c.url + "/s/" + a.code,
                                            0 === a.dataCount && (a.converPerctange = 0)
                                    }),
                                    c.myScenes = a.data.list,
                                    c.page.currentPage = c.toPage = d
                            },
                            function(a) {})
                    };
                    setTimeout(function() {
                            d.user && d.user.domain ? c.url = "http://" + d.user.domain: c.url = c.PREFIX_CLIENT_HOST,
                                m(null, 1)
                        },
                        0),
                        c.showExpandList = function(b) {
                            c.showExpandWebs = !0,
                                c.selectScene = b,
                                    101 == c.selectScene.type ? c.sceneType = a.instant("main.spread.expand.SCENE_TYPE1") : 102 == c.selectScene.type ? c.sceneType = a.instant("main.spread.expand.SCENE_TYPE2") : 103 == c.selectScene.type ? c.sceneType = a.instant("main.spread.expand.SCENE_TYPE3") : 104 == c.selectScene.type ? c.sceneType = a.instant("main.spread.expand.SCENE_TYPE4") : 105 == c.selectScene.type && (c.sceneType = a.instant("main.spread.expand.SCENE_TYPE5")),
                                i = c.selectedUrl = b.link,
                                j = c.selectedCode = b.code,
                                sceneId = b.id,
                                o()
                        },
                        c.addExpandWeb = function(b) {
                            b.unshift({
                                name: c.selectScene.name + "_" + a.instant("main.spread.expand.EXPAND") + (b.length + 1),
                                url: i,
                                showCount: 0,
                                downloadSize: "small"
                            }),
                                d.$broadcast("make.input.focus")
                        };
                    var n;
                    c.checkChange = function(a) {
                        n = a
                    };
                    c.updateName = function(b) {
                        var c = {
                            sceneId: sceneId,
                            name: b.name
                        };
                        b.id && (c.id = b.id),
                            e.updateName(c).then(function(a) {
                                    a.data.success && (b.id || (b.id = a.data.obj.id, b.url = i + "?qrc=" + b.id))
                                },
                                function(b) {
                                    alert(a.instant("main.spread.expand.SERVER_ERROR"))
                                })
                    };
                    var o = function() {
                        e.getWebList(sceneId, !1, l)
                    };
                    c.deleteWeb = function(b, d) {
                        h.openConfirmDialog({
                                msg: a.instant("main.spread.expand.DEL_MSG")
                            },
                            function() {
                                var a = {
                                    id: d.id,
                                    index: b
                                };
                                d.id ? e.deleteWeb(a) : c.expandWebs.splice(b, 1)
                            })
                    },
                        c.$on("webs.update",
                            function(a) {
                                b.forEach(e.expandWebs,
                                    function(a, b) {
                                        a.url = i + "?qrc=" + a.id,
                                            a.downloadSize = "small"
                                    }),
                                    c.expandWebs = e.expandWebs
                            }),
                        c.pageChanged = function(b) {
                            return 1 > b || b > c.totalItems / 10 + 1 ? void alert(a.instant("main.spread.expand.PAGE_OVERFLOW")) : void m(null, b)
                        }
                }]).directive("autoFocusSelected",
                function() {
                    function a(a, b, c) {
                        a.$on("make.input.focus",
                            function(a) {
                                setTimeout(function() {
                                        var a = b.find("li").find(".expand-name").eq(0);
                                        a.focus(),
                                            a.select()
                                    },
                                    0)
                            })
                    }
                    return {
                        restrice: "EA",
                        link: a
                    }
                }).directive("disableEdit",
                function() {
                    function a(a, b, c) {
                        var d = {
                            37 : "arrow-left",
                            38 : "arrow-up",
                            39 : "arrow-right",
                            40 : "arrow-down",
                            9 : "tab",
                            27 : "esc"
                        };
                        b.keydown(function(a) {
                            d[a.which] || a.preventDefault()
                        })
                    }
                    return {
                        restrice: "EA",
                        link: a
                    }
                }),
            b.module("main.scene.statistic", ["services.spread", "main.spread.detail"]),
            b.module("main.scene.statistic").controller("SceneStatisticCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", "security", "$filter",
                function(a, b, c, d, e, f, g, h, i) {
                    a.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        a.PREFIX_SERVER_HOST = PREFIX_URL;
                    var j = f.branchid;
                    a.viewDetail = function(c) {
                        f.showSpreadTable = !1,
                            a.$parent.showBranchSelect = !1,
                            b.path("/main/spread/statistics/" + c.id, !1),
                            e.getSceneDetail(c.id, j),
                            e.getSceneData(c.id, -6, 1, j),
                            e.getWebList(c.id, !0, j);
                        var d = new Date;
                        d = new Date(d.getTime() - 864e5)
                    };
                    var k = c.sceneId;
                    k && (f.showSpreadTable = !1, a.$parent.showBranchSelect = !1, e.getSceneDetail(k, j)),
                        a.addColor = function(b) {
                            a.trIndex = b
                        },
                        a.removeColor = function() {
                            a.trIndex = -1
                        }
                }]),
            b.module("main.spread.Method", ["services.spread", "app.directives.lineChart", "app.directives.pieChart", "app.directives.numChangeAnim", "main.spread.detail.qrcode", "main.spread.detail.ercode"]),
            b.module("main.spread.Method").controller("SpreadMethodCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", "security",
                function(a, b, c, d, e, f, g, h) {
                    a.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        a.PREFIX_SERVER_HOST = PREFIX_URL,
                        a.isAllowedToAccessExpandWebsite = h.isAllowToAccess(h.accessDef.EXPAND_WEBSITE),
                        a.spreadclass = "mobileSpread",
                        a.selectIndex = -1,
                        a.selectThisIndex = function(b, c) {
                            a.selectIndex = b,
                                c.stopPropagation()
                        }
                }]),
            function() {
                b.module("main.userGuide", ["usercenter.relAccount"]).controller("userGuideCtrl", ["$rootScope", "$scope", "dateFilter",
                    function(b, c, d) {
                        var e;
                        if (a.localStorage) {
                            var f = JSON.parse(localStorage.getItem("loginInfo"));
                            f && f[b.user.id] ? !f.isShow || c.user.checkEmail ? c.firstLogin = !1 : sessionStorage.getItem("emailGuide") ? c.firstLogin = !1 : (f.isShow = !0, e = !0, c.firstLogin = !0) : (c.firstLogin = !0, f = f || {},
                                f[b.user.id] = 1, f.isShow = !0, localStorage.setItem("loginInfo", JSON.stringify(f)))
                        }
                        c.currentGuide = "bindEmailGuide",
                            c.showNextGuide = function() {
                                sessionStorage.setItem("emailGuide", "true"),
                                    e ? c.firstLogin = !1 : (c.currentGuide = "createGuide", c.firstLogin = !0)
                            };
                        var g = 0;
                        c.showGuide = function() {
                            "createGuide" == c.currentGuide && (c.firstLogin = 1 === ++g)
                        },
                            c.isShow = function() {
                                if (a.localStorage) {
                                    var b = JSON.parse(localStorage.getItem("loginInfo"));
                                    b.isShow = !b.isShow,
                                        localStorage.setItem("loginInfo", JSON.stringify(b))
                                }
                            }
                    }])
            } (),
            b.module("my", ["my.scene"]),
            b.module("my.scene", ["services.scene", "services.mine", "services.data", "scene.create.console", "app.directives.addelement", "services.usercenter", "app.directives.qrcode", "services.i18nNotifications"]),
            b.module("my.scene").controller("MySceneCtrl", ["$anchorScroll", "$route", "$location", "$timeout", "$rootScope", "$window", "$scope", "$routeParams", "sceneService", "MineService", "dataService", "$sce", "$modal", "usercenterService", "security", "pageTplService", "ModalService", "i18nNotifications", "$translate",
                function(b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t) {
                    function v(a, b, c) {
                        l.getDataBySceneId(a, b, c, x).then(function(a) {
                            a.data.list.length > 0 && (C = a.data.list.shift().slice(1));
                            for (var b = 0; b < a.data.list.length; b++) a.data.list[b].$$id = a.data.list[b][0],
                                a.data.list[b].splice(0, 1);
                            if (B.length < 1) for (b = 0; b < C.length; b++) B.push({
                                title: C[b],
                                selected: !1,
                                id: b
                            });
                            if (h.dataShow.length > 0) for (h.dataShowList.length = 0, b = 0; b < h.dataShow.length; b++) for (var c = 0; c < h.dataHeaders.length; c++) h.dataShow[b].id == h.dataHeaders[c].id && (h.dataHeaders[c].selected = !0);
                            else if (B.length > 0 && B.length < 8) for (b = 0; b < B.length; b++) B[b].selected = !0,
                                isTimeColumnSelected = !0;
                            else if (B.length > 7) for (var d = 0; 8 > d; d++) B[d].selected = !0;
                            h.dataList = a.data.list,
                                h.totalItems = a.data.map.count,
                                h.page.currentPage = a.data.map.pageNo,
                                h.toPage = a.data.map.pageNo,
                                w(),
                                    h.totalItems < 1e3 ? h.showUp = !1 : (h.showUp = !0, F())
                        })
                    }
                    function w() {
                        h.dataShow.length = 0;
                        for (var a = 0; a < B.length; a++) B[a].selected && (h.dataShow.push({
                            title: B[a].title,
                            selected: !0,
                            id: B[a].id
                        }), h.dataContain = !0);
                        if (h.dataShow.length < 1) h.dataShowList.length = 0;
                        else for (var b = 0; b < h.dataList.length; b++) {
                            var c = h.dataShowList[b] = [];
                            for (c.push(h.dataList[b].$$id), c.$$id = c[0], c.splice(0, 1), a = 0; a < h.dataShow.length; a++) {
                                var d = h.dataShow[a].id;
                                c.push(h.dataList[b][d])
                            }
                        }
                        0 === h.dataShow.length ? h.dataContain = !1 : 1 == h.dataShow.length ? h.tdW = "100%": 2 == h.dataShow.length ? h.tdW = "50%": 3 == h.dataShow.length ? h.tdW = "33.3%": 4 == h.dataShow.length ? h.tdW = "25%": 5 == h.dataShow.length ? h.tdW = "20%": 6 == h.dataShow.length ? h.tdW = "16.5%": 7 == h.dataShow.length && (h.tdW = "14.5%")
                    }
                    h.loading = !1,
                        h.url = "",
                        h.sceneId = i.sceneId,
                        h.isVendorUser = f.isVendorUser,
                        h.isAllowToAccessLastPageSetting = p.isAllowToAccess(p.accessDef.SCENE_HIDE_LASTPAGE_SETTING),
                        h.isAllowedToAccessExpandWebsite = p.isAllowToAccess(p.accessDef.EXPAND_WEBSITE);
                    var x = f.branchid,
                        y = 0;
                    h.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        h.PREFIX_URL = PREFIX_URL,
                        h.alwaysOpen = !0,
                        h.branchEdit = !0,
                        h.branchDelete = !0,
                        h.branchExport = !0,
                        e(function() {
                                21 == h.user.type && (h.user.extPermi ? (/^([\d,]+,)?1(,[\d,]*)?$/.test(h.user.extPermi) ? h.branchEdit = !0 : h.branchEdit = !1, /^([\d,]+,)?2(,[\d,]*)?$/.test(h.user.extPermi) ? h.branchDelete = !0 : h.branchDelete = !1, /^([\d,]+,)?3(,[\d,]*)?$/.test(h.user.extPermi) ? h.branchExport = !0 : h.branchExport = !1) : (h.branchEdit = !1, h.branchDelete = !1, h.branchExport = !1))
                            },
                            100);
                    h.scene || (h.scene = {});
                    var z, A;
                    document.getElementById("sharescript") ? ($("#sharescript").remove(), z = document.getElementsByTagName("head")[0], A = document.createElement("script"), A.id = "sharescript", A.src = "http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=" + ~ ( - new Date / 36e5), z.appendChild(A)) : (z = document.getElementsByTagName("head")[0], A = document.createElement("script"), A.id = "sharescript", A.src = "http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=" + ~ ( - new Date / 36e5), z.appendChild(A)),
                        h.sceneInto = function() {
                            h.intoContent = !0
                        },
                        h.close = function() {
                            h.intoContent = !1
                        },
                        h.copyCode = function() {
                            var b, c, d, e = function(a) {
                                return "string" == typeof a ? document.getElementById(a) : a
                            };
                            if (c = e("into-url"), d = c.value, b = d.length, -[1]) alert(t.instant("my.scene.NO_SUPPORT")),
                                c.setSelectionRange(0, b),
                                c.focus();
                            else {
                                var f = a.clipboardData.setData("text", d);
                                f === !0 ? alert(t.instant("my.scene.COPY_SUCCESS_TIP")) : alert(t.instant("my.scene.COPY_FAILE"));
                                var g = c.createTextRange();
                                g.moveEnd("character", b),
                                    g.moveStart("character", 0),
                                    g.select()
                            }
                        },
                        h.openUrl = function() {
                            a.open(h.canvasUrl, "_blank")
                        },
                        h.getSceneDetail = function() {
                            j.getSceneDetail(h.sceneId, x).then(function(b) {
                                h.scene = b.data.obj,
                                    h.scene.applyPromotion = "" + h.scene.applyPromotion,
                                    h.scene.applyTemplate = "" + h.scene.applyTemplate,
                                        -1 == h.scene.status ? h.sceneMsg = t.instant("my.scene.EXAMINE_NO_PASS") : -2 == h.scene.status ? h.sceneMsg = t.instant("my.scene.EXAMINING") : (1 == h.scene.status || 2 == h.scene.status) && (h.scene.publishTime && h.scene.publishTime >= h.scene.updateTime ? h.sceneMsg = t.instant("my.scene.PUBLISHED") : h.sceneMsg = ""),
                                    h.code = PREFIX_URL + "eqs/qrcode/" + h.scene.code + ".png",
                                        f.user && f.user.domain ? (h.url = f.user.domain + "/s/" + h.scene.code, h.canvasUrl = "http://" + h.url) : (h.url = PREFIX_HOST + "/s/" + h.scene.code, h.canvasUrl = h.url),
                                    h.customUrl = m.trustAsResourceUrl(PREFIX_URL + "m/scene/preview/" + h.scene.id + ".html"),
                                    x && (h.customUrl += "?user=" + x + "&branchid=" + x, h.customUrl = m.trustAsResourceUrl(h.customUrl)),
                                    a._bd_share_config = {
                                        common: {
                                            bdText: h.scene.name,
                                            bdDesc: h.scene.name,
                                            bdUrl: h.url,
                                            bdSign: "on",
                                            bdSnsKey: {}
                                        },
                                        share: [{
                                            bdSize: 32
                                        }],
                                        slide: [{
                                            bdImg: 0,
                                            bdPos: "right",
                                            bdTop: 100
                                        }]
                                    },
                                    y = h.scene.pageCount
                            })
                        },
                        h.getSceneDetail(),
                        h.publishScene = function(a) {
                            j.publishScene(a.id).then(function(b) {
                                b.data.success && (h.sceneMsg = t.instant("my.scene.PUBLISHED"), a.publishTime = (new Date).getTime(), alert(t.instant("my.scene.PUBLISH_SUCCESS")))
                            })
                        },
                        h.openScene = function(a, b) {
                            x || (b ? j.openScene(a.id).then(function(b) {
                                b.data.success && (a.status = 1)
                            }) : j.closeScene(a.id).then(function(b) {
                                b.data.success && (a.status = 2)
                            }))
                        },
                        h.totalItems = 0,
                        h.page = {
                            currentPage: 1
                        },
                        h.toPage = "",
                        h.dataList = [];
                    var B = h.dataHeaders = [],
                        C = [];
                    h.dataShow = [],
                        h.dataShowList = [],
                        h.selectHeader = function(a, b, c) {
                            w()
                        };
                    var D = PREFIX_S3_URL + "m/scene/excel/noheader?id=" + h.sceneId + (x ? "&user=" + x: ""),
                        E = PREFIX_S3_URL + "m/scene/excel?sceneId=" + h.sceneId + (x ? "&user=" + x: "");
                    h.dataOutNoHeader = function() {
                        location.href = D
                    },
                        h.dataOutNoHeaderPage = function(a, b) {
                            var c;
                            c = D + (/\?/.test(D) ? "&": "?") + "start=" + a + "&end=" + b,
                                location.href = c,
                                h.dataPageList = !1
                        },
                        h.dataOutDirect = function() {
                            location.href = E
                        },
                        h.dataOutPage = function(a, b) {
                            var c;
                            c = E + (/\?/.test(E) ? "&": "?") + "start=" + a + "&end=" + b,
                                location.href = c,
                                h.dataPageList = !1
                        };
                    var F = function(a, b) {
                        h.dataPageNums = [],
                            h.dataPageobg = {};
                        for (var c = Math.ceil(h.totalItems / 10, 16), d = Math.ceil(c / 100, 16), e = 1; d + 1 > e; e++) h.start = 100 * (e - 1) + 1,
                            h.end = 100 * e,
                            e == d && (h.end = c),
                            h.dataPageobg = {
                                start: h.start,
                                end: h.end
                            },
                            h.dataPageNums.push(h.dataPageobg)
                    };
                    h.dataDelete = function(a, b) {
                        var c, d;
                        for (selectIds = [], u = 0; u < h.dataShowList.length; u++) h.dataShowList[u].selected && selectIds.push(h.dataShowList[u].$$id);
                        return selectIds.length ? (c = {
                            ids: selectIds
                        },
                            d = t.instant("my.scene.ENSURE_DEL"), void r.openConfirmDialog({
                                msg: d
                            },
                            function() {
                                l.deleteDataBySceneId(h.sceneId, c).then(function(a) {
                                    200 == a.data.code && (s.pushForCurrentRoute("data.delete.success", "notify.success"), h.allSelect.selected = !1, v(h.sceneId, h.page.currentPage, 10))
                                })
                            })) : void alert(t.instant("my.scene.NO_SELECT"))
                    },
                        h.allSelect = {
                            selected: !1
                        },
                        h.selectAll = function() {
                            for (var a = 0,
                                     b = h.dataShowList.length; b > a; a++) h.dataShowList[a].selected = h.allSelect.selected
                        },
                        h.selectData = function(a) {
                            a.selected || (h.allSelect.selected = !1)
                        },
                        h.pageChanged = function(a) {
                            return 1 > a || a > h.totalItems / 10 + 1 ? void alert(t.instant("my.scene.OUT_RANGE")) : (h.allSelect.selected = !1, h.page.currentPage = a, void v(h.sceneId, a, 10))
                        },
                        v(h.sceneId, h.page.currentPage, 10);
                    var G = new ZeroClipboard(document.getElementById("copy-button"), {
                        moviePath: "assets/ZeroClipboard.swf"
                    });
                    G.on("dataRequested",
                        function(a, b) {
                            a.setText(h.url),
                                setTimeout(function() {
                                        alert(t.instant("my.scene.COPY_SUCCESS"))
                                    },
                                    500)
                        }),
                        h.goData = function() {
                            d.hash("collectData"),
                                b()
                        }
                }]).directive("copyButton", ["$translate",
                function(a) {
                    return {
                        restrict: "EA",
                        link: function(b, c, d) {
                            var e = new ZeroClipboard(c);
                            e.on("copy",
                                function(a) {
                                    var c = a.clipboardData;
                                    c.setData("text/plain", b.url.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 4]))
                                }),
                                e.on("ready",
                                    function(b) {
                                        e.on("aftercopy",
                                            function(b) {
                                                alert(a.instant("my.scene.COPY_SUCCESS"))
                                            })
                                    })
                        }
                    }
                }]),
            b.module("scene.my.upload", ["angularFileUpload"]),
            b.module("scene.my.upload").controller("UploadCtrl", ["$scope", "FileUploader", "fileService", "category", "$timeout", "$interval",
                function(a, b, c, d, e, f) {
                    a.category = d;
                    var g;
                    g = a.category.scratch || a.category.headerImage || a.category.companyImg ? a.uploader = new b({
                        url: PREFIX_URL + "m/base/file/upload?bizType=" + d.categoryId + "&fileType=" + d.fileType,
                        withCredentials: !0,
                        queueLimit: 1,
                        onSuccessItem: function(b, c, d, e) {
                            function g() {
                                f.cancel(h),
                                    alert("上传完毕"),
                                    a.$close(c.obj.path)
                            }
                            a.progressNum = 0;
                            var h = f(function() {
                                    a.progressNum < 100 ? a.progressNum += 15 : g()
                                },
                                100)
                        }
                    }) : a.uploader = new b({
                        url: PREFIX_URL + "m/base/file/upload?bizType=" + d.categoryId + "&fileType=" + d.fileType,
                        withCredentials: !0,
                        queueLimit: 5,
                        onCompleteAll: function() {
                            function b() {
                                f.cancel(c),
                                    alert("上传完毕"),
                                    a.$close()
                            }
                            a.progressNum = 0;
                            var c = f(function() {
                                    a.progressNum < 100 ? a.progressNum += 15 : b()
                                },
                                100)
                        }
                    }),
                        d.limitSize = d.limitSize || 3145728;
                    var h, i = d.limitSize;
                    "0" == d.fileType || "1" == d.fileType ? h = "|jpg|png|jpeg|bmp|gif|svg+xml|": ("2" == d.fileType || "4" == d.fileType) && (h = "|mp3|mpeg|"),
                        g.filters.push({
                            name: "imageFilter",
                            fn: function(a, b) {
                                var c = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
                                return - 1 !== h.indexOf(c)
                            }
                        }),
                        g.filters.push({
                            name: "imageSizeFilter",
                            fn: function(a, b) {
                                var c = a.size;
                                return c >= i && alert("上传文件大小限制在" + i / 1024 / 1024 + "M以内"),
                                    i > c
                            }
                        }),
                        g.filters.push({
                            name: "fileNameFilter",
                            fn: function(a, b) {
                                return a.name.length > 50 && alert("文件名应限制在50字符以内"),
                                    a.name.length <= 50
                            }
                        }),
                        a.removeQueue = function() {}
                }]),
            b.module("reg", []),
            b.module("reg").controller("TestLoginCtrl", ["$rootScope", "$scope",
                function(a, b) {
                    b.weiChatUrl = "https://open.weixin.qq.com/connect/qrconnect?appid=wxc5f1bbae4bb93ced&redirect_uri=http://www.hjtmt.com/testlogin.html&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect"
                }]),
            b.module("sample", ["services.sample", "services.mine", "services.scene", "app.directives.addelement", "app.directives.qrcode"]),
            b.module("sample").controller("SampleCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "sampleService", "MineService", "sceneService", "$routeParams",
                function(a, b, c, d, e, f, g, h, i, j) {
                    c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        c.PREFIX_SERVER_HOST = PREFIX_URL,
                        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                        c.load = function() {
                            t = $(".fixed").offset().top,
                                mh = $(".mains").height(),
                                fh = $(".fixed").height(),
                                $("#eq_main").scroll(function() {
                                    s = $("#eq_main").scrollTop(),
                                            s > t - 10 ? ($(".fixed").css("position", "fixed"), s + fh > mh && $(".fixed").css("top", "0px")) : $(".fixed").css("position", "")
                                })
                        },
                        c.$on("$destroy",
                            function() {
                                $("#eq_main").unbind("scroll")
                            }),
                        c.pageNo = 1,
                        c.pageSize = 9,
                        c.scene || (c.scene = {}),
                        c.typeindex = "all",
                        c.getHomes = function(a, b, d, e) {
                            c.pageNo = 1,
                                c.typeindex = a,
                                c.currentType = b,
                                c.showMoreButton = !0,
                                g.getSamples(b, d, e).then(function(a) {
                                        c.homes = a.data.list
                                    },
                                    function(a) {})
                        },
                        c.getSceneType = function() {
                            i.getSceneType().then(function(a) {
                                c.sceneTypes = a.data.list
                            })
                        },
                        c.showMore = function() {
                            c.pageNo++,
                                g.getSamples(c.currentType, c.pageNo, c.pageSize).then(function(a) {
                                        a.data.list.length > 0 ? c.homes = c.homes.concat(a.data.list) : c.showMoreButton = !1
                                    },
                                    function(a) {})
                        },
                        c.getSceneType(),
                        c.getHomes("all", null, 1, 9),
                        c.getSamplesPV = function() {
                            g.getSamplesPV().then(function(a) {
                                    c.SamplesPVs = a.data,
                                        c.dayTop = c.SamplesPVs.obj.dayTop,
                                        c.monthTop = c.SamplesPVs.obj.monthTop,
                                        c.weekTop = c.SamplesPVs.obj.weekTop,
                                        c.page = "month"
                                },
                                function(a) {})
                        }
                }]),
            b.module("scene.create.console", ["scene.create.console.bg", "scene.create.console.map", "scene.create.console.input", "scene.create.console.radio.checkbox", "scene.create.console.rating", "scene.create.console.counter", "scene.create.console.linkComponent", "scene.create.console.button", "scene.create.console.setting", "scene.create.console.audio", "scene.create.console.tel", "scene.create.console.fake", "scene.create.console.pictures1", "scene.create.console.sound", "scene.create.console.soundComponent", "scene.create.console.micro", "scene.create.console.link", "scene.create.console.video", "scene.create.console.category", "scene.create.console.imageCrop", "scene.create.console.cropImage", "scene.pageeffect.console", "scene.create.console.scene-setting-component", "scene.create.console.shape", "scene.create.console.randomevent", "scene.create.console.statistics"]),
            b.module("scene.create.console").controller("ConsoleCtrl", ["$scope",
                function(a) {}]),
            b.module("scene.create.console").directive("autofocus",
                function() {
                    return function(a, b, c) {
                        setTimeout(function() {
                                b.focus().select()
                            },
                            400)
                    }
                }).directive("checkCount",
                function() {
                    return {
                        restrict: "EA",
                        require: "ngModel",
                        link: function(a, b, c, d) {
                            var e = parseInt(c.checkCount, 10);
                            d.$viewChangeListeners.push(function() {
                                if (m(d.$modelValue) > e) {
                                    var a = d.$modelValue.replace(/[^\x00-\xff]/g, "xx"),
                                        b = a.substring(0, e).replace(/xx/g, "中").length;
                                    d.$setViewValue(d.$modelValue.substring(0, b)),
                                        d.$render()
                                }
                            })
                        }
                    }
                }),
            b.module("scene.create.console.setting.anim", ["app.directives.uislider", "app.directives.limitInput"]),
            b.module("scene.create.console.setting.anim").controller("AnimConsoleCtrl", ["$translate", "$scope", "$rootScope", "sceneService", "security",
                function(a, c, d, e, f) {
                    function g(a, b) {
                        var e = {
                            anim: a,
                            animClasses: l,
                            count: b,
                            elemId: c.elemDef.id
                        };
                        d.$broadcast("previewCurrentChange", e)
                    }
                    function h(a, b) {
                        var e = {
                            animations: a,
                            animClasses: b,
                            count: k,
                            elemId: c.elemDef.id
                        };
                        d.$broadcast("previewAllChanges", e)
                    }
                    var i = c.elemDef = e.currentElemDef;
                    c.animations = [],
                        c.types = [],
                        c.directions = [];
                    var j, k, l = [];
                    a(["scene.create.animation.NONE", "scene.create.animation.IN", "scene.create.animation.EMPHASIZE", "scene.create.animation.OUT", "scene.create.animation.FADE_IN", "scene.create.animation.MOVE_IN", "scene.create.animation.BOUNCE_IN", "scene.create.animation.FLIP_IN", "scene.create.animation.BOUNCE_IN_1", "scene.create.animation.ZOOM_IN", "scene.create.animation.ROLL_IN", "scene.create.animation.FLIP_IN_X", "scene.create.animation.LIGHT_SPEED_IN", "scene.create.animation.WOBBLE", "scene.create.animation.RUBBER_BAND", "scene.create.animation.ROTATE_IN", "scene.create.animation.FLIP", "scene.create.animation.SWING", "scene.create.animation.FLASH", "scene.create.animation.TADA", "scene.create.animation.JELLO", "scene.create.animation.FADE_OUT", "scene.create.animation.FADE_OUT_1", "scene.create.animation.BOUNCE_OUT", "scene.create.animation.FLIP_OUT_Y", "scene.create.animation.BOUNCE_OUT_1", "scene.create.animation.ZOOM_OUT", "scene.create.animation.ROLL_OUT", "scene.create.animation.FLIP_OUT_X", "scene.create.animation.LIGHT_SPEED_OUT"]).then(function(a) {
                        c.animTypeEnum = [{
                            id: -1,
                            name: a["scene.create.animation.NONE"]
                        },
                            {
                                id: 0,
                                name: a["scene.create.animation.FADE_IN"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 1,
                                name: a["scene.create.animation.MOVE_IN"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 2,
                                name: a["scene.create.animation.BOUNCE_IN"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 20,
                                name: a["scene.create.animation.FLIP_IN"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 3,
                                name: a["scene.create.animation.BOUNCE_IN_1"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 4,
                                name: a["scene.create.animation.ZOOM_IN"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 12,
                                name: a["scene.create.animation.ROLL_IN"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 24,
                                name: a["scene.create.animation.FLIP_IN_X"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 13,
                                name: a["scene.create.animation.LIGHT_SPEED_IN"],
                                cat: a["scene.create.animation.IN"]
                            },
                            {
                                id: 6,
                                name: a["scene.create.animation.WOBBLE"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 5,
                                name: a["scene.create.animation.RUBBER_BAND"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 7,
                                name: a["scene.create.animation.ROTATE_IN"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 8,
                                name: a["scene.create.animation.FLIP"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 9,
                                name: a["scene.create.animation.SWING"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 23,
                                name: a["scene.create.animation.FLASH"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 21,
                                name: a["scene.create.animation.TADA"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 22,
                                name: a["scene.create.animation.JELLO"],
                                cat: a["scene.create.animation.EMPHASIZE"]
                            },
                            {
                                id: 10,
                                name: a["scene.create.animation.FADE_OUT"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 17,
                                name: a["scene.create.animation.FADE_OUT_1"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 19,
                                name: a["scene.create.animation.BOUNCE_OUT"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 11,
                                name: a["scene.create.animation.FLIP_OUT_Y"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 14,
                                name: a["scene.create.animation.BOUNCE_OUT_1"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 18,
                                name: a["scene.create.animation.ZOOM_OUT"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 15,
                                name: a["scene.create.animation.ROLL_OUT"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 25,
                                name: a["scene.create.animation.FLIP_OUT_X"],
                                cat: a["scene.create.animation.OUT"]
                            },
                            {
                                id: 16,
                                name: a["scene.create.animation.LIGHT_SPEED_OUT"],
                                cat: a["scene.create.animation.OUT"]
                            }];
                        var b, d, e = [23, 24, 25];
                        if (!f.isAllowToAccess(f.accessDef.COMP_ANIMATION)) for (b = 0; b < c.animTypeEnum.length; b++) for (d = 0; d < e.length; d++) c.animTypeEnum[b].id == e[d] && (c.animTypeEnum.splice(b, 1), b--)
                    }),
                        a(["scene.create.animation.LEFT_TO_RIGHT", "scene.create.animation.TOP_TO_BOTTOM", "scene.create.animation.RIGHT_TO_LEFT", "scene.create.animation.BOTTOM_TO_TOP"]).then(function(a) {
                            c.animDirectionEnum = [{
                                id: 0,
                                name: a["scene.create.animation.LEFT_TO_RIGHT"]
                            },
                                {
                                    id: 1,
                                    name: a["scene.create.animation.TOP_TO_BOTTOM"]
                                },
                                {
                                    id: 2,
                                    name: a["scene.create.animation.RIGHT_TO_LEFT"]
                                },
                                {
                                    id: 3,
                                    name: a["scene.create.animation.BOTTOM_TO_TOP"]
                                }];
                            var b, d;
                            if (i.properties.anim) if (i.properties.anim instanceof Array) {
                                if (i.properties.anim.length) for (b = 0; b < i.properties.anim.length; b++) if (null != i.properties.anim[b].type && -1 != i.properties.anim[b].type) {
                                    for (c.animations.push(i.properties.anim[b]), d = 0, tlen = c.animTypeEnum.length; d < tlen; d++) c.animations[b].type == c.animTypeEnum[d].id && (c.types[b] = c.animTypeEnum[d]);
                                    for (d = 0, tlen = c.animDirectionEnum.length; d < tlen; d++) c.animations[b].direction == c.animDirectionEnum[d].id && (c.directions[b] = c.animDirectionEnum[d])
                                } else i.properties.anim.splice(b, 1),
                                    b--
                            } else {
                                for (b = 0; b < c.animTypeEnum.length; b++) c.animTypeEnum[b].id == i.properties.anim.type && (c.types[0] = c.animTypeEnum[b]);
                                null != i.properties.anim.direction ? c.directions[0] = c.animDirectionEnum[i.properties.anim.direction] : c.directions[0] = c.animDirectionEnum[0],
                                    i.properties.anim.duration = parseFloat(i.properties.anim.duration),
                                    i.properties.anim.delay = parseFloat(i.properties.anim.delay),
                                    i.properties.anim.countNum = parseInt(i.properties.anim.countNum, 10) || 1,
                                    c.animations.push(i.properties.anim)
                            }
                            i.properties || (i.properties = {})
                        });
                    var m = {
                        type: null,
                        direction: null,
                        duration: 2,
                        delay: 0,
                        countNum: 1,
                        count: null
                    };
                    c.addAnim = function() {
                        var a = b.copy(m);
                        a.type = c.animTypeEnum[0].id,
                            a.direction = c.animDirectionEnum[0].id,
                            c.animations.push(a);
                        var d = c.animations.length;
                        c.types[d - 1] = c.animTypeEnum[0],
                            c.directions[d - 1] = c.animDirectionEnum[0]
                    },
                        c.removeAnim = function(a, b) {
                            b.stopPropagation(),
                                c.animations.splice(a, 1),
                                c.types.splice(a, 1),
                                c.directions.splice(a, 1)
                        },
                        c.clear = function() {
                            c.animations = []
                        },
                        c.$watch("animations",
                            function(a, b) {
                                a != b && (i.properties.anim = c.animations)
                            },
                            !0),
                        c.$watch("types",
                            function(a, b) {
                                if (a && a != b) for (var d = 0; d < a.length; d++) b[d] && a[d].id != b[d].id && g(c.animations[d], d)
                            },
                            !0),
                        c.$watch("directions",
                            function(a, b) {
                                if (a && a != b) for (var d = 0; d < a.length; d++) b[d] && a[d].id != b[d].id && g(c.animations[d], d)
                            },
                            !0),
                        c.previewAnim = function() {
                            for (var a = b.copy(c.animations), d = [], e = [], f = 0; f < a.length; f++) null != a[f].type && -1 != a[f].type ? (d.push(a[f]), e[f] = w.convertType(a[f])) : (a.splice(f, 1), f--);
                            k = 0,
                                h(d, e)
                        },
                        c.changeAnimation = function(a, b) {
                            j = w.convertType(a),
                                l[b] = j
                        }
                }]),
            b.module("scene.create.console.audio", []),
            b.module("scene.create.console.audio").controller("AudioConsoleCtrl", ["$translate", "$scope", "$rootScope", "$sce", "$timeout", "$modal", "fileService", "obj",
                function(a, b, c, d, e, f, g, h) {
                    function i(b) {
                        g.getFileByCategory(b, 10, "2", "1").success(function(a) {
                            a.success ? c.$broadcast("sounds.update", a) : alert(a.msg)
                        }).error(function() {
                            alert(a.instant("scene.create.audio.NETWORK_TIMEOUT"))
                        })
                    }
                    function j(b) {
                        g.getFileByCategory(b, 10, "2", "0").success(function(a) {
                            a.success ? c.$broadcast("sounds.update", a) : alert(a.msg)
                        }).error(function() {
                            alert(a.instant("scene.create.audio.NETWORK_TIMEOUT"))
                        })
                    }
                    b.PREFIX_FILE_HOST = PREFIX_FILE_HOST;
                    var k = b.sounds = [];
                    b.pagination = {},
                        b.getSounds = function(a) {
                            b.isMySound ? j(a) : i(a)
                        },
                        b.selectTab = function(a) {
                            b.isMySound = a,
                                b.getSounds()
                        },
                        b.$on("sounds.update",
                            function(a, c) {
                                k.length = 0,
                                    $.each(c.list,
                                        function(a, b) {
                                            k.push({
                                                id: b.id,
                                                name: b.name,
                                                src: b.path,
                                                isPlaying: !1
                                            })
                                        });
                                var d = c.map;
                                b.pagination = {
                                    totalItems: d.count,
                                    pageSize: d.pageSize,
                                    currentPage: d.pageNo,
                                    numPages: Math.ceil(d.count / d.pageSize)
                                }
                            }),
                        b.model = {
                            bgAudio: {
                                url: h.url ? h.url: "",
                                type: h.type ? h.type: "3"
                            },
                            compType: "bgAudio"
                        },
                        e(function() {
                            "1" == h.type && h.url && (b.model.type1 = h.url),
                                "2" == h.type && h.url && (b.model.type2 = d.trustAsResourceUrl(PREFIX_FILE_HOST + h.url)),
                                "3" == h.type && h.url && (b.model.type3 = d.trustAsResourceUrl(PREFIX_FILE_HOST + h.url))
                        }),
                        b.goUpload = function() {
                            f.open({
                                windowClass: "upload-console",
                                templateUrl: "my/upload.tpl.html",
                                controller: "UploadCtrl",
                                resolve: {
                                    category: function() {
                                        return {
                                            categoryId: 0,
                                            fileType: 2
                                        }
                                    }
                                }
                            }).result.then(function(a) {
                                    j()
                                })
                        },
                        b.playAudio = function(a) {
                            $("#audition" + a)[0].play()
                        },
                        b.pauseAudio = function(a) {
                            $("#audition" + a)[0].pause()
                        },
                        b.authError = "",
                        b.confirm = function() {
                            if ("1" == b.model.bgAudio.type) {
                                if (!b.model.type1) return $('input[type="text"]').focus(),
                                    void(b.authError = a.instant("scene.create.audio.LINK_CANT_BE_NULL"));
                                b.model.bgAudio.url = b.model.type1
                            }
                            if ("2" == b.model.bgAudio.type) {
                                if (!b.model.selectedMyAudio) return $("select").focus(),
                                    void(b.authError = a.instant("scene.create.audio.NO_AUDIO_SELECTED"));
                                b.model.bgAudio.url = b.model.selectedMyAudio.path
                            }
                            if ("3" == b.model.bgAudio.type) {
                                if (!b.model.selectedAudio) return $("select").focus(),
                                    void(b.authError = a.instant("scene.create.audio.NO_AUDIO_SELECTED"));
                                b.model.bgAudio.url = b.model.selectedAudio.path
                            }
                            b.$close(b.model)
                        },
                        b.cancel = function() {
                            b.$dismiss()
                        }
                }]),
            b.module("scene.create.console.bg", ["services.file", "scene.my.upload", "app.directives.responsiveImage", "app.directives.rightclick", "services.file.upload", "services.i18nNotifications", "app.directives.autoclose"]),
            b.module("scene.create.console.bg").controller("BgConsoleCtrl", ["$translate", "$scope", "$timeout", "$rootScope", "$interval", "$modal", "ModalService", "sceneService", "fileService", "localizedMessages", "obj", "uploaderService", "i18nNotifications", "security",
                function(c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
                    function q() {
                        d.$watch("imgList",
                            function(a) {
                                for (var b = 0; b < a.length; b++) {
                                    if (a[b].selected) return void(d.mangeObj.manageAll = !0);
                                    d.mangeObj.manageAll = !1
                                }
                            },
                            !0)
                    }
                    function r() {
                        d.systemImages = !1,
                            d.userTagId = "",
                            d.sysCatId = "",
                            k.getUserFiles1(1, t, s, null, d.userTagId)
                    }
                    var s = d.fileType = m.fileType;
                    d.type = m.type;
                    var t, u = 1;
                    d.currentPage = 1,
                        d.systemImages = !0,
                        d.isAllowedHistory = p.isAllowToAccess(p.accessDef.USERCENTER_HISTORY),
                        d.mangeObj = {
                            manageAll: !1
                        },
                        d.showObj = {
                            showGroup: !1
                        },
                        t = d.pageSize = 18,
                        ("p" == d.type || "n" == d.type) && (d.mangeObj.manageAll = !0),
                        d.switchToSystemImages = function(a) {
                            d.systemImages = "true" === a
                        };
                    var v = function(a) {
                            k.getSysCategory(a)
                        },
                        w = function(a, b, c, d, e) {
                            k.getSystemFiles1(a, b, c, d, e)
                        };
                    if (d.getSystemFiles = function() {
                        "0" != d.sysCatId && (d.mangeObj.manageAll = !1, a.localStorage && ("1" == d.fileType ? localStorage.setItem("photoTag", "") : localStorage.setItem("backgroundTag", "")), d.userTagId = "", d.sysCatId = "0", d.sysTagList = [], d.sysTagId = "", A = [], w(u, t, s))
                    },
                        d.$on("sysCategory.update",
                            function(a) {
                                d.sysCategoryList = k.sysCategoryList
                            }), d.getSysCatAndList = function(a) {
                        A = [],
                            d.sysCatId = a,
                                "0" != a && "pure" != a ? k.getSysTagByCatId(a) : (d.sysTagList = [], d.sysTagId = "", b.forEach(d.imgList,
                            function(a, b) {
                                a.selected = !1
                            })),
                            w(u, t, s, a)
                    },
                        d.$on("sysTag.update",
                            function(a) {
                                d.sysTagList = k.sysTagList
                            }), d.getSysImgByTag = function(a) {
                        A = [],
                            d.sysTagId = a,
                            w(u, t, s, d.sysCatId, a)
                    },
                        d.$watch("currentPage",
                            function(a) {
                                d.toPage = a,
                                    A = [],
                                    d.systemImages ? w(a, t, s, d.sysCatId, d.sysTagId) : k.getUserFiles1(a, t, s, null, d.userTagId)
                            }), d.getImgByPage = function() {
                        d.currentPage = d.toPage
                    },
                        d.getUserFiles = function(b, c) {
                            b !== d.userTagId && (d.mangeObj.manageAll = !1, a.localStorage && ("1" == d.fileType ? localStorage.setItem("photoTag", b) : localStorage.setItem("backgroundTag", b)), d.thumbnailList = [], A = [], d.userTagId = b, d.sysCatId = "", k.getUserFiles1(c, t, s, null, b))
                        },
                        a.localStorage) {
                        var x = "1" == d.fileType ? localStorage.getItem("photoTag") : localStorage.getItem("backgroundTag");
                        x ? (d.getUserFiles(parseInt(x, 10)), d.switchToSystemImages(!1), d.sysCatId = "") : (w(u, t, s), d.sysCatId = "0")
                    } else w(u, t, s);
                    v(s),
                        d.$on("imgList.update",
                            function(a) {
                                d.imgList = k.imgList,
                                    d.totalItems = k.totalItems,
                                    d.currentPage = k.pageNo
                            });
                    var y = null;
                    d.createTag = function() {
                        return d.tagList.length >= 8 ? void(d.authError = c.instant("scene.create.bg.CUSTOM_GROUP_LIMITATION")) : void(y = h.open({
                            windowClass: "console",
                            templateUrl: "scene/console/category.tpl.html",
                            controller: "CategoryConsoleCtrl"
                        }))
                    };
                    var z = function() {
                        k.getTagList()
                    };
                    z(),
                        d.deleteTag = function(a, b) {
                            i.openConfirmDialog({
                                    msg: c.instant("scene.create.bg.DELETE_THIS_GROUP")
                                },
                                function() {
                                    k.deleteTag(a, b)
                                })
                        },
                        d.$on("tagList.update",
                            function(a) {
                                d.tagList = k.tagList
                            }),
                        d.$on("tagList.delete",
                            function(a) {
                                r()
                            });
                    var A = [];
                    d.switchSelect = function(a, c, e, f) {
                        if (d.mangeObj.manageAll || !f) if (e.stopPropagation(), a.selected = !a.selected, d.systemImages && "p" != m.type && "n" != m.type) if (b.forEach(d.imgList,
                            function(b, c) { ! b.selected || b.id == a.id && b.color == a.color || (b.selected = !1)
                            }), a.selected) {
                            var g;
                            A = [],
                                a.path ? g = {
                                    id: a.id,
                                    src: a.path,
                                    shape: a.shape
                                }: a.color && (g = {
                                    color: a.color
                                }),
                                A.push(g)
                        } else A = [];
                        else if (a.selected) d.mangeObj.manageAll = !0,
                            A.push({
                                id: a.id,
                                src: a.path || a.tmbPath,
                                shape: a.shape
                            });
                        else {
                            q();
                            for (var h in A) A[h].id == a.id && A.splice(h, 1)
                        }
                    },
                        d.cancelSelect = function() {
                            for (var a in d.imgList) d.imgList[a].selected && (d.imgList[a].selected = !1);
                            A = []
                        },
                        d.assignTag = function(a) {
                            var e = [];
                            d.showObj.showGroup = !1;
                            for (var f = 0; f < A.length; f++) e.push(A[f].id);
                            if (!e.length) return void(d.authError = c.instant("scene.create.bg.WARNING_GROUP_WITHOUT_PICTURE"));
                            b.forEach(d.imgList,
                                function(a, b) {
                                    a.selected = !1
                                });
                            var g = e.join(",");
                            k.assignTag(a, g),
                                A = []
                        },
                        d.$on("tag.assign",
                            function() {
                                o.pushForCurrentRoute("data.assign.success", "notify.success")
                            }),
                        d.unbindTag = function(a) {
                            for (var b = [], e = 0; e < A.length; e++) b.push(A[e].id);
                            if (!b.length) return void(d.authError = c.instant("scene.create.bg.WARNING_SPLIT_WITHOUT_PICTURE"));
                            var f = b.join(",");
                            k.unbindTag(a, f)
                        },
                        d.$on("tag.unbind",
                            function() {
                                o.pushForCurrentRoute("group.delete.data", "notify.success"),
                                    k.getUserFiles1(d.currentPage, t, s, null, d.userTagId)
                            }),
                        d.deleteFile = function(a) {
                            var b = [];
                            if (!a && 0 === A.length) return void(d.authError = c.instant("scene.create.bg.WARNING_DELETE_WITHOUT_PICTURE"));
                            for (var e = 0; e < A.length; e++) b.push(A[e].id);
                            var f = "";
                            f = d.isAllowedHistory ? a ? "确定删除此图片？删除后，该图片将在回收站保留3天": "确定删除所选图片？删除后，该图片将在回收站中保留3天": a ? c.instant("scene.create.bg.CONFIRM_DELETE_THIS_PICTURE") : c.instant("scene.create.bg.CONFIRM_DELETE_SELECTED_PICTURE");
                            var g = a ? a: b.join(",");
                            i.openConfirmDialog({
                                    msg: f
                                },
                                function() {
                                    k.deleteFile(g)
                                })
                        },
                        d.$on("files.delete",
                            function(a) {
                                d.sysCatId = "",
                                    A = [],
                                    k.getUserFiles1(d.currentPage, t, s, null, d.userTagId)
                            }),
                        d.replaceImage = function() {
                            if (!A.length) return void(d.authError = c.instant("scene.create.bg.WARNING_SELECT_PICTURE"));
                            var a;
                            if ("p" != m.type && "n" != m.type) {
                                if (A.length > 1) return void(d.authError = c.instant("scene.create.bg.WARNING_CHOOSE_ONE_PICTURE"));
                                a = A[0]
                            } else {
                                var b = m.count + A.length,
                                    e = "p" == m.type ? 6 : 10;
                                if (b > e) return d.authError = c.instant("scene.create.bg.SELECT_PICTURE_PREFIX") + (e - m.count) + c.instant("scene.create.bg.SELECT_PICTURE_SUFFIX"),
                                    !1;
                                d.picObj = [];
                                for (var f = 0; f < A.length; f++) d.picObj.push({
                                    width: A[f].shape.width,
                                    height: A[f].shape.height,
                                    src: A[f].src
                                })
                            }
                            var g = {};
                            a && a.src && (g = {
                                type: "imgSrc",
                                data: a.src,
                                width: a.shape.width,
                                height: a.shape.height
                            }),
                                    "0" == s ? a.src ? d.$close(g) : d.$close({
                                type: "backgroundColor",
                                color: a.color
                            }) : (("p" == m.type || "n" == m.type) && (g.selectedImages = d.picObj), d.$close(g))
                        },
                        d.replaceByClick = function(a, b, c) {
                            if (!d.mangeObj.manageAll) {
                                if ("p" == m.type || "n" == m.type) return void d.switchSelect(a, b, c, !0);
                                A = [],
                                    (!A.length && !d.mangeObj.manageAll || d.systemImages) && (a.path || a.tmbPath ? A.push({
                                    id: a.id,
                                    src: a.path || a.tmbPath,
                                    shape: a.shape
                                }) : a.color && A.push({
                                    color: a.color
                                }), d.replaceImage())
                            }
                        };
                    d.uploader = n.uploader(s);
                    d.$on("uploadfiles.add",
                        function(a) {
                            d.systemImages && r(),
                                d.imgList.length == t && d.imgList.splice(d.imgList.length - d.uploader.queue.length - 1, d.uploader.queue.length)
                        });
                    var B;
                    d.$on("thumbnailList.update",
                        function(a, b) {
                            for (var c = 0; c < d.uploader.queue.length; c++) 100 == d.uploader.queue[c].progress && (d.uploader.queue.splice(c, 1), B = b, d.imgList.unshift(B))
                        }),
                        d.$on("upload.bg.complete",
                            function(a, b) {
                                k.deleteFile(B.id),
                                    j.openCropModal(b,
                                        function(a) {
                                            B.tmbPath = a.src,
                                                B.id = a.id,
                                                d.imgList.unshift(B)
                                        },
                                        function(a) {})
                            }),
                        d.cancel = function() {
                            d.$dismiss()
                        },
                        d.$watch("userTagId",
                            function(a, b) {
                                var c = PREFIX_URL + "m/base/file/upload?bizType=0&fileType=" + s;
                                a && (c += "&tagId=" + a),
                                    d.uploader.url = c
                            })
                }]),
            b.module("scene.create.console.button", []),
            b.module("scene.create.console.button").controller("ButtonConsoleCtrl", ["$translate", "$scope", "$timeout", "localizedMessages", "obj",
                function(a, c, d, e, f) {
                    c.model = {
                        title: f.properties.title
                    },
                        c.authError = "",
                        c.buttons = [{
                            id: 1,
                            text: a.instant("scene.create.button.BUTTON_SAMPLE_1"),
                            btnStyle: {
                                backgroundColor: "#08a1ef",
                                height: "40px",
                                "text-align": "center",
                                "line-height": "40px",
                                color: "rgb(255, 255, 255)"
                            }
                        },
                            {
                                id: 2,
                                text: a.instant("scene.create.button.BUTTON_SAMPLE_2"),
                                btnStyle: {
                                    backgroundColor: "rgb(255, 255, 255)",
                                    height: "40px",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(0, 0, 0)"
                                }
                            },
                            {
                                id: 3,
                                text: a.instant("scene.create.button.BUTTON_SAMPLE_3"),
                                btnStyle: {
                                    backgroundColor: "#f6b223",
                                    height: "40px",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            },
                            {
                                id: 4,
                                text: a.instant("scene.create.button.BUTTON_SAMPLE_4"),
                                btnStyle: {
                                    height: "40px",
                                    backgroundColor: "#333333",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            },
                            {
                                id: 5,
                                text: a.instant("scene.create.button.BUTTON_SAMPLE_5"),
                                btnStyle: {
                                    height: "40px",
                                    backgroundColor: "#a0d86b",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            },
                            {
                                id: 6,
                                text: a.instant("scene.create.button.BUTTON_SAMPLE_6"),
                                btnStyle: {
                                    height: "40px",
                                    backgroundColor: "#ff6666",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            }],
                        b.forEach(c.buttons,
                            function(a, b) {
                                "" !== c.model.title && f.css.backgroundColor && f.css.backgroundColor == a.btnStyle.backgroundColor && (c.btnIndex = b)
                            }),
                        c.confirm = function() {
                            return c.model.title && 0 !== c.model.title.length ? void c.$close(c.model) : (c.authError = a.instant("scene.create.button.BUTTON_NAME_CANT_BE_NULL"), void $('.bg_console input[type="text"]').focus())
                        },
                        c.cancel = function() {
                            c.$dismiss()
                        },
                        c.chooseTabButton = function(a, b) {
                            c.model.title = a.text,
                                c.model.btnStyle = a.btnStyle,
                                c.btnIndex = b
                        }
                }]),
            b.module("scene.create.console.category", ["services.file"]),
            b.module("scene.create.console.category").controller("CategoryConsoleCtrl", ["$translate", "$scope", "$timeout", "localizedMessages", "fileService",
                function(a, b, c, d, e) {
                    b.category = {},
                        b.authError = "",
                        b.confirm = function() {
                            return b.category.name && b.category.name.trim() ? m(b.category.name) > 16 ? void(b.authError = a.instant("scene.create.category.WARING_CATEGORY_NAME_LIMITATION")) : (e.createTag(b.category.name), void b.$close()) : void(b.authError = a.instant("scene.create.category.WARING_CATEGORY_NAME"))
                        },
                        b.cancel = function() {
                            b.$dismiss()
                        }
                }]),
            b.module("scene.create.console.counter", []),
            b.module("scene.create.console.counter").controller("CounterConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal",
                function(a, c, d, e, f) {
                    a.model = {
                        title: e.title,
                        properties: {
                            layout: e.properties.layout,
                            size: e.properties.size,
                            color: e.properties.color,
                            icon: e.properties.icon,
                            imgSrc: e.properties.imgSrc
                        }
                    },
                        a.authError = "",
                        a.openImageModal = function() {
                            f.open({
                                windowClass: "img_console console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 1
                                        }
                                    }
                                }
                            }).result.then(function(b) {
                                    a.model.properties.icon = "",
                                        a.model.properties.imgSrc = e.properties.imgSrc = b.data
                                },
                                function(a) {})
                        },
                        a.confirm = function() {
                            b.extend(e, a.model);
                            var c = parseInt(e.css.height, 10) || 0;
                            a.model.properties.imgSrc && 115 > c && (a.model.btnStyle = {
                                width: "320px",
                                height: "115px",
                                lineHeight: "115px",
                                backgroundColor: "transparent"
                            }),
                                "counter-tb" === a.model.properties.layout && (!a.model.properties.imgSrc && 80 > c && (a.model.btnStyle = {
                                height: "80px",
                                lineHeight: "80px"
                            }), a.model.properties.imgSrc && 155 > c && (a.model.btnStyle = a.model.btnStyle || {},
                                a.model.btnStyle.height = a.model.btnStyle.lineHeight = "155px")),
                                a.$close(a.model)
                        },
                        a.cancel = function() {
                            a.$dismiss()
                        },
                        a.chooseEqfont = function(b) {
                            a.model.properties.icon = b,
                                a.model.properties.imgSrc = null
                        }
                }]),
            b.module("scene.create.console.cropImage", ["services.file"]).directive("cropImage", ["sceneService", "fileService", "$compile",
                function(a, b, c) {
                    return {
                        restrict: "EAC",
                        scope: {},
                        replace: !0,
                        templateUrl: "scene/console/cropimage.tpl.html",
                        link: function(c, d, e) {
                            function f() {
                                o.css.width / o.css.height > m / n ? (k = parseInt(o.css.width * m / o.css.width, 10), l = parseInt(o.css.height * m / o.css.width, 10)) : (k = parseInt(o.css.width * n / o.css.height, 10), l = parseInt(o.css.height * n / o.css.height, 10));
                                var a = (m - k) / 2,
                                    b = (n - l) / 2,
                                    c = (m - k) / 2 + k,
                                    d = (n - l) / 2 + l;
                                j = [0, 0, m, n],
                                    r = o.css.width / o.css.height,
                                    i = [a, b, c, d]
                            }
                            function g(a) {
                                $(".cropWidth").html(parseInt(a.w, 10)),
                                    $(".cropHeight").html(parseInt(a.h, 10))
                            }
                            c.PREFIX_FILE_HOST = PREFIX_FILE_HOST;
                            var h, i, j, k, l, m, n, o = a.currentElemDef,
                                p = a.currentElemDef.properties.src,
                                q = $("#target"),
                                r = o.css.width / o.css.height;
                            c.fit = !0,
                                c.lockRatio = !1,
                                c.$on("changeElemDef",
                                    function(a, b) {
                                        o = b,
                                            c.fit = !0,
                                            c.lockRatio = !1,
                                                o.properties.src != p ? (p = o.properties.src, h.setImage(PREFIX_FILE_HOST + p), q.unbind("load").attr("src", PREFIX_FILE_HOST + p).load(function() {
                                            m = this.width,
                                                n = this.height,
                                                c.preSelectImage(p),
                                                c.$apply()
                                        })) : (c.preSelectImage(p), c.$apply())
                                    }),
                                c.preSelectImage = function(a) {
                                    h ? (f(), h.setOptions({
                                        aspectRatio: r,
                                        setSelect: i
                                    })) : q.attr("src", PREFIX_FILE_HOST + a).load(function() {
                                        m = this.width,
                                            n = this.height,
                                            q.Jcrop({
                                                    onChange: g,
                                                    keySupport: !1,
                                                    setSelect: [0, 0, 100, 100],
                                                    boxHeight: 320,
                                                    boxWidth: 680
                                                },
                                                function() {
                                                    h = this
                                                }),
                                            a && (f(), h.setOptions({
                                            aspectRatio: r,
                                            setSelect: i
                                        }))
                                    })
                                },
                                c.preSelectImage(p),
                                c.$watch("lockRatio",
                                    function(a, b) {
                                        if (h) {
                                            var c = h.tellSelect();
                                            c.w = parseInt(c.w, 10),
                                                c.h = parseInt(c.h, 10),
                                                a ? h.setOptions({
                                                    aspectRatio: c.w / c.h
                                                }) : h.setOptions({
                                                    aspectRatio: null
                                                })
                                        }
                                    }),
                                c.$watch("fit",
                                    function(a, b) {
                                        if (h) if (a) {
                                            var c = h.tellSelect();
                                            c.x = parseInt(c.x, 10),
                                                c.y = parseInt(c.y, 10),
                                                c.x2 = parseInt(c.x2, 10),
                                                c.y2 = parseInt(c.y2, 10),
                                                j = [c.x, c.y, c.x2, c.y2],
                                                h.setOptions({
                                                    aspectRatio: r,
                                                    setSelect: i
                                                })
                                        } else h.setOptions({
                                            aspectRatio: null,
                                            setSelect: j
                                        })
                                    }),
                                c.crop = function() {
                                    var c = a.currentElemDef,
                                        e = h.tellSelect();
                                    return 0 === e.w || 0 === e.h ? void $(d).hide() : (e.x = parseInt(e.x, 10), e.y = parseInt(e.y, 10), e.w = parseInt(e.w, 10), e.h = parseInt(e.h, 10), e.x2 = parseInt(e.x2, 10), e.y2 = parseInt(e.y2, 10), e.src = $("#target").attr("src").split(PREFIX_FILE_HOST)[1], void b.cropImage(e).then(function(a) {
                                            var b = {
                                                type: "imgSrc",
                                                data: a.data.obj,
                                                width: e.w,
                                                height: e.h
                                            };
                                            c.properties.src = b.data;
                                            var f = b.width / b.height,
                                                g = $("#" + c.id),
                                                h = $("#inside_" + c.id).width(),
                                                i = $("#inside_" + c.id).height(),
                                                j = h / i;
                                            f >= j ? (i = h / f, $("#inside_" + c.id).height(i), c.css.height = i, c.properties.height = i, g.outerHeight(i), g.outerWidth(h), g.css("marginLeft", 0), g.css("marginTop", 0)) : (h = i * f, $("#inside_" + c.id).width(h), c.css.width = h, c.properties.width = h, g.outerWidth(h), g.outerHeight(i), g.css("marginTop", 0), g.css("marginLeft", 0)),
                                                g.attr("src", PREFIX_FILE_HOST + b.data),
                                                c.properties.imgStyle = {},
                                                c.properties.imgStyle.width = g.outerWidth(),
                                                c.properties.imgStyle.height = g.outerHeight(),
                                                c.properties.imgStyle.marginTop = g.css("marginTop"),
                                                c.properties.imgStyle.marginLeft = g.css("marginLeft"),
                                                $(d).hide()
                                        },
                                        function(b) {
                                            c.properties.src || a.deleteElement(c.id)
                                        }))
                                },
                                c.cancel = function() {
                                    $(d).hide()
                                }
                        }
                    }
                }]),
            b.module("scene.create.console.fake", []),
            b.module("scene.create.console.fake").controller("FakeConsoleCtrl", ["$scope", "type",
                function(a, b) {
                    a.type = b
                }]),
            b.module("scene.create.console.imageCrop", ["services.file"]).controller("imageCropCtrl", ["$translate", "$rootScope", "$scope", "imageCropService", "obj",
                function(a, b, c, d, e) {
                    var f;
                    "square" == e.type ? f = c.cropOption = {
                        type: e.type,
                        title: a.instant("scene.create.imageCrop.SQUARE_IMAGE_TITLE"),
                        desc: a.instant("scene.create.imageCrop.SQUARE_IMAGE_TIPS"),
                        showItems: !1,
                        imgSrc: e.properties.src,
                        cropItems: [{
                            ratio: 1,
                            desc: a.instant("scene.create.imageCrop.SQUARE_IMAGE_DESC")
                        }]
                    }: 3 == e.type ? f = c.cropOption = {
                        type: e.type,
                        title: a.instant("scene.create.imageCrop.BG_IMAGE_TITLE"),
                        desc: a.instant("scene.create.imageCrop.BG_IMAGE_TIPS"),
                        showItems: !1,
                        imgSrc: e.properties.src,
                        cropItems: [{
                            ratio: 640 / 1008,
                            desc: a.instant("scene.create.imageCrop.BG_IMAGE_DESC")
                        }]
                    }: 4 == e.type && (f = c.cropOption = {
                        type: e.type,
                        title: a.instant("scene.create.imageCrop.IMAGE_TITLE"),
                        desc: a.instant("scene.create.imageCrop.IMAGE_TIPS"),
                        showItems: !0,
                        imgSrc: e.properties.src,
                        cropItems: [{
                            value: 1,
                            ratio: 0,
                            desc: a.instant("scene.create.imageCrop.IMAGE_CROP_PERCENTAGE_FORMER")
                        },
                            {
                                value: 2,
                                ratio: 1,
                                desc: "1:1"
                            },
                            {
                                value: 3,
                                ratio: 4 / 3,
                                desc: "4:3"
                            },
                            {
                                value: 4,
                                ratio: .75,
                                desc: "3:4"
                            },
                            {
                                value: 5,
                                ratio: 320 / 486,
                                desc: a.instant("scene.create.imageCrop.IMAGE_CROP_PERCENTAGE_NORMAL")
                            },
                            {
                                value: 6,
                                ratio: 320 / 243,
                                desc: a.instant("scene.create.imageCrop.IMAGE_CROP_PERCENTAGE_HALF")
                            },
                            {
                                value: 7,
                                ratio: 320 / 162,
                                desc: a.instant("scene.create.imageCrop.IMAGE_CROP_PERCENTAGE_THR")
                            },
                            {
                                value: 8,
                                ratio: -1,
                                desc: a.instant("scene.create.imageCrop.IMAGE_CROP_PERCENTAGE_CUSTOM"),
                                lock: !1
                            }]
                    }),
                        f.currentItem = f.cropItems[0],
                        c.cropItemChange = function(a) {
                            null == a.lock && (f.cropItems[7].lock = !1),
                                f.currentItem = a,
                                b.$broadcast("cropItem.change", a)
                        },
                        c.ok = function() {
                            b.$broadcast("cropImage.ok", e)
                        },
                        c.cancel = function() {
                            c.$dismiss(e.properties.src)
                        }
                }]).factory("imageCropService", ["$translate", "$rootScope", "fileService",
                function(a, b, c) {
                    var d = {};
                    return d.cropImage = function(d) {
                        c.cropImage(d).success(function(a) {
                            if (a.success) {
                                var c = {
                                    width: d.w,
                                    height: d.h,
                                    src: a.map.path,
                                    id: a.map.id
                                };
                                b.$broadcast("crop.success", c)
                            } else alert(a.msg),
                                b.$broadcast("crop.fail")
                        }).error(function() {
                            alert(a.instant("scene.create.imageCrop.NETWORK_TIMEOUT")),
                                b.$broadcast("crop.fail")
                        })
                    },
                        d
                }]).directive("eqxCropPreview", ["imageCropService",
                function(a) {
                    function b(a, b) {
                        c(a, b),
                            a.$on("$destroy",
                                function() {
                                    l = !1
                                }),
                            a.$on("cropItem.change",
                                function(a, b) {
                                    e(b)
                                }),
                            a.$on("cropImage.ok",
                                function(c, d) {
                                    l || (k = d, f(a, b))
                                }),
                            a.$on("crop.success",
                                function(b, c) {
                                    4 == k.type && g(c),
                                        a.$close(c)
                                })
                    }
                    function c(a, b) {
                        b.hide().load(function() {
                            b.show();
                            var c = $(".image_crop"),
                                e = {
                                    width: c.width(),
                                    height: c.height()
                                },
                                f = e.width / e.height;
                            i = {
                                width: this.width,
                                height: this.height
                            };
                            var g, h = i.width / i.height;
                            i.width > e.width || i.height > e.height ? h > f ? (b.css({
                                width: e.width,
                                height: e.width / h
                            }), g = {
                                position: "absolute",
                                top: "50%",
                                marginTop: -e.width / h / 2
                            }) : (b.css({
                                width: e.height * h,
                                height: e.height
                            }), g = {
                                margin: "auto"
                            }) : g = {
                                position: "absolute",
                                left: "50%",
                                top: "50%",
                                marginLeft: -i.width / 2,
                                marginTop: -i.height / 2
                            },
                                j = {
                                    width: b.width(),
                                    height: b.height()
                                },
                                d(a, b, g)
                        })
                    }
                    function d(a, b, c) {
                        var d = b.parent().attr("ctype"),
                            e = j.width,
                            f = j.height;
                        if (3 == d || "square" == d) {
                            var g = a.$parent.cropOption.currentItem;
                            e > f ? e = f * g.ratio: f = e / g.ratio,
                                b.Jcrop({
                                        keySupport: !1,
                                        aspectRatio: g.ratio,
                                        allowSelect: !1,
                                        setSelect: [0, 0, e, f],
                                        onRelease: function() {
                                            this.setOptions({
                                                setSelect: [0, 0, e, f]
                                            })
                                        }
                                    },
                                    function() {
                                        h = this
                                    })
                        } else b.Jcrop({
                                keySupport: !1,
                                aspectRatio: e / f,
                                allowSelect: !1,
                                setSelect: [0, 0, e, f],
                                onRelease: function() {
                                    this.setOptions({
                                        setSelect: [0, 0, e, f]
                                    })
                                }
                            },
                            function() {
                                h = this
                            });
                        $(".jcrop-holder").css(c)
                    }
                    function e(a) {
                        var b, c = j.width,
                            d = j.height;
                        if ( - 1 === a.ratio) {
                            var e = h.tellSelect();
                            b = a.lock ? {
                                aspectRatio: e.w / e.h,
                                setSelect: [0, 0, e.w, e.h]
                            }: {
                                aspectRatio: 0,
                                setSelect: [0, 0, e.w, e.h]
                            }
                        } else 0 === a.ratio ? b = {
                            aspectRatio: c / d,
                            setSelect: [0, 0, c, d]
                        }: (c > d ? c = d * a.ratio: d = c / a.ratio, b = {
                            aspectRatio: c / d,
                            setSelect: [0, 0, c, d]
                        });
                        h.setOptions(b)
                    }
                    function f(b, c) {
                        var d = h.tellSelect();
                        if (d.w === j.width && d.h === j.height || 0 === d.w && 0 === d.h) {
                            if (!k) return;
                            return void b.$dismiss(k.properties.src)
                        }
                        l = !0;
                        var e = i.width / j.width;
                        d.w = parseInt(d.w * e, 10),
                            d.h = parseInt(d.h * e, 10),
                            d.x = parseInt(d.x * e, 10),
                            d.y = parseInt(d.y * e, 10),
                            d.src = c.attr("src").split(PREFIX_FILE_HOST)[1],
                            d.x + d.w > i.width && (d.w = i.width - d.x),
                            d.y + d.h > i.height && (d.h = i.height - d.y),
                                3 == k.type ? d.fileType = 0 : d.fileType = 1,
                            delete d.x2,
                            delete d.y2,
                            k.cw && (d.cw = k.cw),
                            a.cropImage(d)
                    }
                    function g(a) {
                        var b = k;
                        b.properties.src = a.src;
                        var c = a.width / a.height,
                            d = $("#" + b.id),
                            e = $("#inside_" + b.id),
                            f = e.width(),
                            g = e.height(),
                            h = f / g;
                        c >= h ? (g = f / c, e.height(g), b.css.height = g, b.properties.height = g, d.outerHeight(g), d.outerWidth(f), d.css("marginLeft", 0), d.css("marginTop", 0)) : (f = g * c, e.width(f), b.css.width = f, b.properties.width = f, d.outerWidth(f), d.outerHeight(g), d.css("marginTop", 0), d.css("marginLeft", 0)),
                            d.attr("src", PREFIX_FILE_HOST + a.src),
                            b.properties.imgStyle = {},
                            b.properties.imgStyle.width = d.outerWidth(),
                            b.properties.imgStyle.height = d.outerHeight(),
                            b.properties.imgStyle.marginTop = d.css("marginTop"),
                            b.properties.imgStyle.marginLeft = d.css("marginLeft")
                    }
                    var h, i, j, k, l = !1;
                    return {
                        link: b
                    }
                }]),
            b.module("scene.create.console.input", []),
            b.module("scene.create.console.input").controller("InputConsoleCtrl", ["$translate", "$scope", "$timeout", "localizedMessages", "obj",
                function(a, c, d, e, f) {
                    c.model = {
                        title: f.title,
                        type: f.type,
                        required: f.properties.required
                    },
                        c.authError = "";
                    var g = a.instant("scene.create.input.INPUT_SAMPLE_NAME");
                    c.buttons = [{
                        id: 1,
                        text: g,
                        btnStyle: {
                            height: "40px",
                            backgroundColor: "#fff",
                            "text-align": "center",
                            borderWidth: "1",
                            borderStyle: "solid",
                            borderColor: "#08a1ef",
                            color: "rgb(0, 0, 0)"
                        }
                    },
                        {
                            id: 2,
                            text: g,
                            btnStyle: {
                                height: "40px",
                                backgroundColor: "#fff",
                                "text-align": "center",
                                borderWidth: "1",
                                borderStyle: "solid",
                                borderColor: "#fff",
                                color: "rgb(0, 0, 0)"
                            }
                        },
                        {
                            id: 3,
                            text: g,
                            btnStyle: {
                                height: "40px",
                                backgroundColor: "#fff",
                                "text-align": "center",
                                borderWidth: "1",
                                borderStyle: "solid",
                                borderColor: "#f6b223",
                                color: "rgb(0, 0, 0)"
                            }
                        },
                        {
                            id: 4,
                            text: g,
                            btnStyle: {
                                height: "40px",
                                backgroundColor: "#fff",
                                "text-align": "center",
                                borderWidth: "1",
                                borderStyle: "solid",
                                borderColor: "#333",
                                color: "rgb(0, 0, 0)"
                            }
                        },
                        {
                            id: 5,
                            text: g,
                            btnStyle: {
                                height: "40px",
                                backgroundColor: "#fff",
                                "text-align": "center",
                                borderWidth: "1",
                                borderStyle: "solid",
                                borderColor: "#a0d86b",
                                color: "rgb(0, 0, 0)"
                            }
                        },
                        {
                            id: 6,
                            text: g,
                            btnStyle: {
                                height: "40px",
                                backgroundColor: "#fff",
                                "text-align": "center",
                                borderWidth: "1",
                                borderStyle: "solid",
                                borderColor: "#f66",
                                color: "rgb(0, 0, 0)"
                            }
                        }],
                        b.forEach(c.buttons,
                            function(a, b) {
                                "" !== c.model.title && f.css.borderColor && f.css.borderColor == a.btnStyle.borderColor && (c.btnIndex = b)
                            }),
                        c.confirm = function() {
                            return c.model.title && 0 !== c.model.title.length ? void c.$close(c.model) : (c.authError = a.instant("scene.create.input.INPUT_NAME_CANT_BE_NULL"), void $('input[type="text"]').focus())
                        },
                        c.cancel = function() {
                            c.$dismiss()
                        },
                        c.chooseTabButton = function(a, b) {
                            c.model.title = a.text,
                                c.model.btnStyle = a.btnStyle,
                                c.btnIndex = b
                        }
                }]),
            b.module("scene.create.console.linkComponent", []),
            b.module("scene.create.console.linkComponent").controller("LinkComponentConsoleCtrl", ["$translate", "$scope", "$timeout", "localizedMessages", "obj", "$modal", "sceneService",
                function(a, c, d, e, f, g, h) {
                    c.model = {
                        title: f.properties.title,
                        imgSrc: f.properties.imgSrc,
                        url: {
                            link: "external",
                            externalLink: "http://"
                        }
                    },
                        f.properties.url && (b.isNumber(f.properties.url) ? (c.model.url.link = "internal", c.model.url.internalLink = f.properties.url) : (c.model.url.link = "external", c.model.url.externalLink = decodeURIComponent(f.properties.url.split("=")[2]))),
                        c.authError = "",
                        c.buttons = [{
                            id: 1,
                            text: a.instant("scene.create.linkComponent.LINK_SAMPLE_1"),
                            btnStyle: {
                                width: "100px",
                                backgroundColor: "rgb(244, 113, 31)",
                                height: "40px",
                                "text-align": "center",
                                "line-height": "40px",
                                color: "rgb(255, 255, 255)"
                            }
                        },
                            {
                                id: 2,
                                text: a.instant("scene.create.linkComponent.LINK_SAMPLE_2"),
                                btnStyle: {
                                    width: "100px",
                                    backgroundColor: "rgb(253, 175, 7)",
                                    height: "40px",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            },
                            {
                                id: 3,
                                text: a.instant("scene.create.linkComponent.LINK_SAMPLE_3"),
                                btnStyle: {
                                    width: "100px",
                                    backgroundColor: "rgb(121, 196, 80)",
                                    height: "40px",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            },
                            {
                                id: 4,
                                text: a.instant("scene.create.linkComponent.LINK_SAMPLE_4"),
                                btnStyle: {
                                    width: "100px",
                                    height: "40px",
                                    backgroundColor: "#fff",
                                    "text-align": "center",
                                    border: "1px solid #3FB816",
                                    "line-height": "40px",
                                    color: "rgb(0, 0, 0)"
                                }
                            }],
                        c.openImageModal = function() {
                            g.open({
                                windowClass: "img_console console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 1
                                        }
                                    }
                                }
                            }).result.then(function(a) {
                                    c.model.title = "",
                                        c.btnIndex = -1,
                                        c.model.btnStyle = {
                                            width: "115px",
                                            height: "115px",
                                            "line-height": "1",
                                            backgroundColor: "transparent"
                                        },
                                        c.model.imgSrc = f.properties.imgSrc = a.data
                                },
                                function(a) {})
                        },
                        b.forEach(c.buttons,
                            function(a, b) {
                                "" !== c.model.title && f.css.backgroundColor && f.css.backgroundColor == a.btnStyle.backgroundColor && (c.btnIndex = b)
                            }),
                        c.confirm = function() {
                            return null != c.model.imgSrc || c.model.title && 0 !== c.model.title.length ? c.model.url.internalLink || c.model.url.externalLink ? (f.properties.url = "internal" === c.model.url.link ? c.model.url.internalLink: c.model.url.externalLink, f.properties.title = c.model.title, void c.$close(c.model)) : void(c.authError = a.instant("scene.create.linkComponent.LINK_CANT_BE_NULL")) : (c.authError = a.instant("scene.create.linkComponent.BUTTON_NAME_CANT_BE_NULL"), void $("#buttonName").focus())
                        },
                        c.cancel = function() {
                            c.$dismiss()
                        },
                        c.chooseTabButton = function(a, b) {
                            c.model.title = a.text,
                                c.model.btnStyle = a.btnStyle,
                                c.btnIndex = b,
                                c.model.imgSrc = f.properties.imgSrc = null
                        },
                        c.removeLink = function(a) {
                            "external" == a ? c.model.url.externalLink = null: "internal" == a && (c.model.url.internalLink = 0),
                                c.model.url.link = ""
                        },
                        c.changed = function() {
                            "external" == c.model.url.link ? c.model.url.internalLink = 0 : c.model.url.externalLink = null
                        },
                        c.selectRadio = function(a) {
                            "external" == a ? c.model.url.link = "external": "internal" == a && (c.model.url.link = "internal"),
                                c.changed()
                        },
                        c.getPageNames = function() {
                            var d = f.sceneId;
                            h.getPageNames(d).then(function(d) {
                                c.pageList = d.data.list,
                                    c.pageList.unshift({
                                        id: 0,
                                        name: a.instant("scene.create.linkComponent.NONE")
                                    }),
                                    b.forEach(c.pageList,
                                        function(b, c) {
                                            b.name || (b.name = a.instant("scene.create.linkComponent.PREFIX") + b.num + a.instant("scene.create.linkComponent.SUFFIX"))
                                        }),
                                    f.properties.url && b.isNumber(f.properties.url) && (c.model.url.link = "internal", c.model.url.internalLink = f.properties.url)
                            })
                        },
                        c.getPageNames()
                }]),
            b.module("scene.create.console.link", ["services.scene"]),
            b.module("scene.create.console.link").directive("limitLinkLength", ["$translate", "ModalService",
                function(a, b) {
                    var c = 40;
                    return {
                        restrict: "A",
                        require: "?ngModel",
                        link: function(d, e, f, g) {
                            e.blur(function() {
                                var d = e.val() || "";
                                d.length > c && b.openMsgDialog({
                                        msg: '<div align="left">' + a.instant("scene.create.link.SHORT_LINK_TIP") + '<a href="http://dwz.cn" target="_blank"><font color="#08A1EF">http://dwz.cn</font></a></div>'
                                    },
                                    function() {})
                            })
                        }
                    }
                }]),
            b.module("scene.create.console.link").controller("LinkConsoleCtrl", ["$translate", "$scope", "$timeout", "obj", "sceneService",
                function(a, c, d, e, f) {
                    c.url = {},
                        c.url.externalLink = "http://";
                    var g;
                    c.confirm = function() {
                        "external" == c.url.link ? g = c.url.externalLink: "internal" == c.url.link && (g = c.url.internalLink.id),
                            c.$close(g)
                    },
                        c.cancel = function() {
                            c.$dismiss()
                        },
                        c.removeLink = function(a) {
                            "external" == a ? c.url.externalLink = "http://": "internal" == a && (c.url.internalLink = c.pageList[0]),
                                c.url.link = ""
                        },
                        c.changed = function() {
                            "external" == c.url.link ? c.url.internalLink = c.pageList[0] : c.url.externalLink = "http://"
                        },
                        c.selectRadio = function(a) {
                            c.url.link || ("external" == a ? c.url.link = "external": "internal" == a && (c.url.link = "internal"))
                        },
                        c.getPageNames = function() {
                            var d = e.sceneId;
                            f.getPageNames(d).then(function(d) {
                                c.pageList = d.data.list,
                                    c.pageList.unshift({
                                        id: 0,
                                        name: a.instant("scene.create.link.NONE")
                                    }),
                                    c.url.internalLink = c.pageList[0],
                                    b.forEach(c.pageList,
                                        function(b, d) {
                                            b.name || (b.name = a.instant("scene.create.link.PREFIX") + b.num + a.instant("scene.create.link.SUFFIX")),
                                                e.properties.url && e.properties.url == b.id && (c.url.link = "internal", c.url.internalLink = b)
                                        }),
                                    e.properties.url && isNaN(e.properties.url) && (c.url.link = "external", c.url.externalLink = decodeURIComponent(e.properties.url.split("=")[2]))
                            })
                        },
                        c.getPageNames()
                }]),
            b.module("scene.create.console.map", ["app.directives.comp.editor"]),
            b.module("scene.create.console.map").controller("MapConsoleCtrl", ["$scope", "sceneService", "$timeout",
                function(a, b, c) {
                    var d = null,
                        e = null;
                    a.address = {
                        address: "",
                        lat: "",
                        lng: ""
                    },
                        a.search = {
                            address: ""
                        },
                        a.searchResult = [],
                        c(function() {
                            d = new BMap.Map("l-map"),
                                d.addControl(new BMap.NavigationControl),
                                d.centerAndZoom(new BMap.Point(116.404, 39.915), 12);
                            var b = {
                                onSearchComplete: function(b) {
                                    e.getStatus() == BMAP_STATUS_SUCCESS && (a.searchResult = b.Fn, a.$apply())
                                }
                            };
                            e = new BMap.LocalSearch(d, b)
                        }),
                        a.searchAddress = function() {
                            e.search(a.search.address)
                        },
                        a.setPoint = function(b, c, e) {
                            a.address.address = e,
                                a.address.lat = b,
                                a.address.lng = c,
                                d.clearOverlays();
                            var f = new BMap.Point(c, b),
                                g = new BMap.Marker(f);
                            d.addOverlay(g);
                            var h = new BMap.Label(e, {
                                offset: new BMap.Size(20, -10)
                            });
                            g.setLabel(h),
                                d.centerAndZoom(f, 12)
                        },
                        a.resetAddress = function() {
                            a.$close(a.address)
                        },
                        a.cancel = function() {
                            a.$dismiss()
                        }
                }]),
            b.module("scene.create.console.micro", ["app.directives.addelement", "services.scene"]),
            b.module("scene.create.console.micro").controller("MicroConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "sceneService",
                function(a, c, d, e, f) {
                    a.model || (a.model = {});
                    var g = [];
                    a.isSelected = [],
                        a.backgroundColors = [{
                            backgroundColor: "#D34141"
                        },
                            {
                                backgroundColor: "#000"
                            },
                            {
                                backgroundColor: "#23A3D3"
                            },
                            {
                                backgroundColor: "#79C450"
                            },
                            {
                                backgroundColor: "#fafafa"
                            }],
                        a.labelNames = [{
                            id: 1,
                            title: "栏目一",
                            color: {
                                backgroundColor: ""
                            }
                        },
                            {
                                id: 2,
                                title: "栏目二",
                                color: {
                                    backgroundColor: ""
                                }
                            },
                            {
                                id: 3,
                                title: "栏目三",
                                color: {
                                    backgroundColor: ""
                                }
                            },
                            {
                                id: 4,
                                title: "栏目四",
                                color: {
                                    backgroundColor: ""
                                }
                            }],
                        a.model.color = e.properties.labels[0].color.backgroundColor,
                        a.selectColor = function(c) {
                            a.model.color = c.backgroundColor,
                                b.forEach(a.labelNames,
                                    function(a, b) {
                                        a.color.backgroundColor && (a.color.backgroundColor = c.backgroundColor)
                                    })
                        },
                        b.forEach(e.properties.labels,
                            function(c, d) {
                                b.forEach(a.labelNames,
                                    function(a, b) {
                                        c.id == a.id && (a.title = c.title, a.color.backgroundColor = c.color.backgroundColor, a.link = c.link, a.selected = !0, c.mousedown = !1)
                                    })
                            }),
                        a.confirm = function() {
                            g = [];
                            var c = 0,
                                d = 0;
                            b.forEach(a.labelNames,
                                function(a, b) {
                                    a.selected && (a.link ? g.push(a) : d++, c++)
                                }),
                                    2 > c ? alert("导航标签不能少于两个！") : d > 0 ? alert("每个导航必须有链接页面！") : a.$close(g)
                        },
                        a.cancel = function() {
                            a.$dismiss()
                        },
                        a.switchLabel = function(b, c) {
                            a.label = b,
                                b.selected ? a.labelIndex == c ? (b.color.backgroundColor = "", b.selected = !1, b.mousedown = !1) : (a.labelIndex = c, b.mousedown = !0) : (b.color.backgroundColor = a.model.color, a.labelIndex = c, b.selected = !0, b.mousedown = !0),
                                b.mousedown ? (a.model.title = b.title, b.link ? a.model.link = a.pageList[b.link] : a.model.link = a.pageList[0]) : (a.model.title = "", a.model.link = a.pageList[0])
                        },
                        a.selectLink = function(b) {
                            a.label.mousedown && (a.label.link = b.num, console.log(a.labelNames))
                        },
                        a.changeLabelName = function() {
                            a.label.mousedown && (a.label.title = a.model.title)
                        },
                        a.getPageNames = function() {
                            var c = e.sceneId;
                            f.getPageNames(c).then(function(c) {
                                a.pageList = c.data.list,
                                    a.pageList.unshift({
                                        id: 0,
                                        name: "无"
                                    }),
                                    b.forEach(a.pageList,
                                        function(a, b) {
                                            a.name || (a.name = "第" + a.num + "页")
                                        }),
                                    a.model.link = a.pageList[0]
                            })
                        },
                        a.getPageNames()
                }]),
            b.module("scene.create.console.pictures", ["services.file"]).controller("picturesCtrl", ["$scope", "$timeout", "$rootScope", "$modal", "picturesService", "obj",
                function(a, c, d, e, f, g) {
                    var h = 530,
                        i = 265,
                        j = a.picStyles = utilPictures.getPicStyle();
                    a.currentImageIndex = -1;
                    var k = b.copy(g),
                        l = a.position = k.css;
                    if (null != l.width && null != l.height) {
                        var m = l.width / l.height,
                            n = h / i;
                        m > n ? (l.width = h, l.height = h / m) : (l.height = i, l.width = i * m)
                    }
                    var o = a.properties = k.properties;
                    o.autoPlay = null == o.autoPlay ? !0 : o.autoPlay,
                        o.interval = null == o.interval ? 2e3: o.interval,
                        o.picStyle = null == o.picStyle ? j[0] : utilPictures.getPicStyle(o.picStyle),
                        o.bgColor = null == o.bgColor ? "rgba(255,255,255,1)": o.bgColor,
                        o.children = null == o.children ? [] : o.children,
                        f.setImages(o.children),
                        a.authError = "",
                        a.choosePic = function() {
                            return o.children.length >= 6 ? void(a.authError = "最多可选择6张图片") : void e.open({
                                windowClass: "console img_console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 1,
                                            type: "p",
                                            count: o.children.length,
                                            elemDef: g
                                        }
                                    }
                                }
                            }).result.then(function(a) {
                                    $.each(a.selectedImages,
                                        function(a, b) {
                                            f.addImages({
                                                src: b.src,
                                                desc: "",
                                                height: b.height,
                                                width: b.width
                                            })
                                        })
                                },
                                function() {})
                        },
                        a.ok = function() {
                            return 0 === o.children.length ? void(a.authError = "请选择图片") : (o.picStyle = o.picStyle.value, g.properties = o, void a.$close(o))
                        },
                        a.cancel = function() {
                            a.$dismiss()
                        },
                        a.$on("currentImage.update",
                            function(b, c) {
                                a.currentImageIndex = c
                            }),
                        a.$on("images.add",
                            function(a, b) {
                                o.children = b
                            }),
                        a.$on("images.update",
                            function(a, b) {
                                o.children = b
                            })
                }]).factory("picturesService", ["$rootScope", "fileService",
                function(a, b) {
                    var c, d, e = {},
                        f = [];
                    return e.setJcrop = function(b) {
                        a.$broadcast("jcrop.update", b)
                    },
                        e.setImageSize = function(b) {
                            a.$broadcast("image.update", b)
                        },
                        e.setCurrentImage = function(b) {
                            d = b,
                                a.$broadcast("currentImage.update", b)
                        },
                        e.getCurrentImage = function() {
                            return d
                        },
                        e.addImages = function(b) {
                            f.push(b),
                                a.$broadcast("images.add", f)
                        },
                        e.updateImages = function(b, c) {
                            f.splice(b, 1, c),
                                a.$broadcast("images.update", f)
                        },
                        e.deleteImages = function(b) {
                            f.splice(b, 1),
                                a.$broadcast("images.update", f)
                        },
                        e.setImages = function(a) {
                            return f = a
                        },
                        e.getImages = function() {
                            return f
                        },
                        e.setProperties = function(a) {
                            c = a
                        },
                        e.getProperties = function() {
                            return c
                        },
                        e.cropImage = function(c) {
                            b.cropImage(c).success(function(b) {
                                if (b.success) {
                                    var d = {
                                        width: c.w,
                                        height: c.h,
                                        desc: "",
                                        src: b.obj
                                    };
                                    a.$broadcast("crop.success", d)
                                } else alert(b.msg)
                            }).error(function() {
                                alert("网络连接超时，请稍后重试")
                            })
                        },
                        e
                }]).directive("eqxPicturesImageCrop", ["$compile", "picturesService",
                function(a, b) {
                    return {
                        link: function(c, d) {
                            var e = $(d),
                                f = $(".pic-preview"),
                                g = {
                                    width: f.width(),
                                    height: f.height()
                                };
                            c.showOperation = !0;
                            var h, i = '<div class="operation" ng-show="!showOperation"><a class="quxiao" ng-click="cropCancel()">取消</a><a class="finish" ng-click="cropOk()">完成</a></div>';
                            c.$on("image.update",
                                function(a, b) {
                                    h = {
                                        width: b.width,
                                        height: b.height
                                    }
                                }),
                                c.$on("jcrop.update",
                                    function(d, j) {
                                        f.append(a(i)(c)),
                                            c.showOperation = !0,
                                            c.$apply();
                                        var k = f.children("img"),
                                            l = {
                                                width: k.width(),
                                                height: k.height()
                                            };
                                        e.removeClass("hover").unbind("click").click(function() {
                                            var a = b.getImages();
                                            0 !== a.length && (c.showOperation = $(this).hasClass("hover"), c.showOperation ? ($(this).removeClass("hover"), j.release(), j.disable()) : ($(this).addClass("hover"), j.setSelect([0, 0, l.width, l.height]), j.enable()))
                                        }),
                                            c.cropOk = function() {
                                                var a = j.tellSelect();
                                                if (! (a.w === g.width && a.h === g.height || 0 === a.w && 0 === a.h)) {
                                                    var c = h.width / l.width;
                                                    a.w = parseInt(a.w * c, 10),
                                                        a.h = parseInt(a.h * c, 10),
                                                        a.x = parseInt(a.x * c, 10),
                                                        a.y = parseInt(a.y * c, 10),
                                                        a.x2 = parseInt((a.w + a.x) * c, 10),
                                                        a.y2 = parseInt((a.h + a.y) * c, 10),
                                                        a.src = k.attr("src").split(PREFIX_FILE_HOST)[1],
                                                        b.cropImage(a)
                                                }
                                            },
                                            c.cropCancel = function() {
                                                c.showOperation = !0,
                                                    e.removeClass("hover"),
                                                    j.release(),
                                                    j.disable()
                                            }
                                    })
                        }
                    }
                }]).directive("eqxPicturesImagePreview", ["picturesService",
                function(a) {
                    return {
                        link: function(b, c) {
                            var d, e, f = $(c),
                                g = $(".pic-preview"),
                                h = {
                                    width: g.width(),
                                    height: g.height()
                                },
                                i = h.width / h.height;
                            f.hide(),
                                f.load(function() {
                                    f.show(),
                                        e = {
                                            width: this.width,
                                            height: this.height
                                        },
                                        a.setImageSize(e);
                                    var b, c = e.width / e.height;
                                    c > i ? ($(this).css({
                                        width: h.width,
                                        height: h.width / c
                                    }), b = {
                                        position: "absolute",
                                        top: "50%",
                                        marginTop: -h.width / c / 2
                                    }) : ($(this).css({
                                        width: h.height * c,
                                        height: h.height
                                    }), b = {
                                        margin: "auto"
                                    }),
                                        f.Jcrop({
                                                keySupport: !1,
                                                aspectRatio: i
                                            },
                                            function() {
                                                d = this
                                            }),
                                        $(".jcrop-holder").css(b),
                                        a.setJcrop(d),
                                        d.disable()
                                })
                        }
                    }
                }]).directive("eqxPicturesImageClick", ["$compile", "picturesService",
                function(a, b) {
                    function c(b, c) {
                        $(".pic-preview").html(a('<img eqx-pictures-image-preview ng-src="' + c + '" />')(b))
                    }
                    return {
                        link: function(a, d) {
                            var e = $(d);
                            e.click(function() {
                                if (!e.hasClass("hover")) {
                                    var d = e.index();
                                    b.setCurrentImage(d),
                                        c(a, $(this).find(".pic-img").attr("src"))
                                }
                            }),
                                e.children(".delete-img").click(function(c) {
                                    c.stopPropagation(),
                                        e.hasClass("hover") && $(".pic-preview").empty();
                                    var d = e.index();
                                    b.deleteImages(d);
                                    var f = b.getCurrentImage();
                                    f > d ? b.setCurrentImage(--f) : d === f && b.setCurrentImage( - 1),
                                        a.$apply()
                                }),
                                a.$on("crop.success",
                                    function(d, f) {
                                        if (e.hasClass("hover")) {
                                            var g = PREFIX_FILE_HOST + f.src;
                                            c(a, g);
                                            var h = e.index();
                                            b.updateImages(h, f)
                                        }
                                    })
                        }
                    }
                }]),
            b.module("scene.create.console.pictures1", ["services.file"]).controller("pictures1Ctrl", ["$translate", "$rootScope", "$scope", "$modal", "picturesCropService", "obj",
                function(a, c, d, e, f, g) {
                    function h(a) {
                        j.currentImage = {
                            index: a,
                            src: n.children[a].src + "?t=" + Date.now()
                        }
                    }
                    function i(a, b) {
                        $("<img>").attr("src", PREFIX_FILE_HOST + b).load(function() {
                            $.extend(p.items[a], {
                                coordinate: {
                                    x: 0,
                                    y: 0,
                                    x2: this.width,
                                    y2: this.height,
                                    w: this.width,
                                    h: this.height,
                                    src: b,
                                    fileType: 1,
                                    index: a
                                },
                                realSize: {
                                    width: this.width,
                                    height: this.height
                                }
                            })
                        })
                    }
                    var j = d.imageOption = {
                            title: a.instant("scene.create.pictures1.TITLE"),
                            desc: a.instant("scene.create.pictures1.DESCRIPTION"),
                            showCrop: !1,
                            showLoading: !1,
                            currentImage: {
                                index: -1,
                                src: ""
                            }
                        },
                        k = d.cropOption = {
                            showItems: !0,
                            imgSrc: g.properties.src,
                            cropItems: [{
                                value: 2,
                                ratio: 1,
                                desc: "1:1"
                            },
                                {
                                    value: 3,
                                    ratio: 4 / 3,
                                    desc: "4:3"
                                },
                                {
                                    value: 4,
                                    ratio: .75,
                                    desc: "3:4"
                                },
                                {
                                    value: 5,
                                    ratio: 320 / 486,
                                    desc: a.instant("scene.create.pictures1.IMAGE_CROP_PERCENTAGE_NORMAL")
                                },
                                {
                                    value: 6,
                                    ratio: 320 / 243,
                                    desc: a.instant("scene.create.pictures1.IMAGE_CROP_PERCENTAGE_HALF")
                                },
                                {
                                    value: 7,
                                    ratio: 320 / 162,
                                    desc: a.instant("scene.create.pictures1.IMAGE_CROP_PERCENTAGE_THR")
                                },
                                {
                                    value: 8,
                                    ratio: -1,
                                    desc: a.instant("scene.create.pictures1.IMAGE_CROP_PERCENTAGE_CUSTOM"),
                                    lock: !1
                                }]
                        },
                        l = d.picStyles = utilPictures.getPicStyle(),
                        m = b.copy(g),
                        n = d.properties = m.properties;
                    n.autoPlay = null == n.autoPlay ? !0 : n.autoPlay,
                        n.interval = null == n.interval ? 2e3: n.interval,
                        n.picStyle = null == n.picStyle ? l[0] : utilPictures.getPicStyle(n.picStyle),
                        n.bgColor = null == n.bgColor ? "rgba(255,255,255,0)": n.bgColor,
                        n.children = null == n.children ? [] : n.children,
                        n.children.length > 0 && (j.showCrop = !0, h(0));
                    for (var o = 0; 6 > o; o++) n.children[o] ? i(o, n.children[o].src) : n.children.push({});
                    var p = f.getCoordinateObj();
                    d.cropItemChange = function(a) {
                        null == a.lock && (k.cropItems[6].lock = !1),
                            k.currentItem = a,
                            c.$broadcast("cropItem.change", a)
                    },
                        d.addPictures = function(a, b, c) {
                            a.stopPropagation();
                            var d = 0;
                            c ? $.each(n.children,
                                function(a, b) {
                                    b.src && d++
                                }) : d = 5,
                                e.open({
                                    windowClass: "console img_console",
                                    templateUrl: "scene/console/bg.tpl.html",
                                    controller: "BgConsoleCtrl",
                                    resolve: {
                                        obj: function() {
                                            return {
                                                fileType: 1,
                                                type: "p",
                                                count: d,
                                                elemDef: g
                                            }
                                        }
                                    }
                                }).result.then(function(a) {
                                        j.showCrop = !0;
                                        var d = b,
                                            e = 0,
                                            f = n.children.length;
                                        if (c) for (; f > d;) {
                                            if (!n.children[d++].src) {
                                                var g = a.selectedImages[e++];
                                                n.children[d - 1] = {
                                                    src: g.src,
                                                    desc: "",
                                                    height: g.height,
                                                    width: g.width
                                                },
                                                    i(d - 1, g.src),
                                                    h(b)
                                            }
                                            if (e === a.selectedImages.length) break;
                                            d === f && (d = 0)
                                        } else {
                                            var k = a.selectedImages[0];
                                            n.children[b] = {
                                                src: k.src,
                                                desc: "",
                                                height: k.height,
                                                width: k.width
                                            },
                                                i(b, k.src),
                                                h(b)
                                        }
                                    })
                        },
                        d.setPicturesSize = function(a) {
                            var b, c, d, e = a.children[0],
                                f = e.width / e.height;
                            m.css.width || m.css.height ? (b = m.css.width / m.css.height, f > b ? (c = m.css.width, d = c / f) : (d = m.css.height, c = d * f)) : (b = 2, f > b ? (c = 320, d = c / f) : (d = 160, c = d * f)),
                                g.css.width = c,
                                g.css.height = d
                        },
                        d.delPicture = function(a) {
                            n.children[a] = {},
                                p.items[a] = {},
                                a === j.currentImage.index && (j.currentImage.index = -1, c.$broadcast("image.delete", a))
                        },
                        d.changePicture = function(a) {
                            j.currentImage.index !== a && h(a)
                        },
                        d.ok = function() {
                            return 0 === n.children.length ? void(j.desc = a.instant("scene.create.pictures1.PICTURE_SELECTION_LIMITATION")) : void(f.getCropping() || (j.showLoading = !0, c.$broadcast("cropImage.ok", n)))
                        },
                        d.cancel = function() {
                            d.$dismiss()
                        },
                        d.$on("crop.complete.all",
                            function(a, c) {
                                n.picStyle = n.picStyle.value,
                                    $.each(c,
                                        function(a, b) {
                                            n.children[b.index] = b
                                        });
                                for (var e = b.copy(n), f = e.children, g = 5; g >= 0; g--) f[g].src || f.splice(g, 1);
                                d.setPicturesSize(e),
                                    d.$close(e)
                            }),
                        d.$on("crop.fail",
                            function() {
                                f.setCropping(!1),
                                    j.showLoading = !1
                            })
                }]).factory("picturesCropService", ["$rootScope", "fileService",
                function(a, c) {
                    var d, e = {},
                        f = [],
                        g = !1,
                        h = 0,
                        i = 0;
                    return e.getCoordinateObj = function() {
                        return d
                    },
                        e.initCoordinateObj = function() {
                            d = {
                                ratio: null,
                                items: []
                            };
                            for (var a = 0; 6 > a; a++) d.items.push({})
                        },
                        e.setCropCount = function(a) {
                            a ? h = a: h++
                        },
                        e.getCropCount = function() {
                            return h
                        },
                        e.setCropping = function(a) {
                            g = a
                        },
                        e.getCropping = function() {
                            return g
                        },
                        e.cropImage = function(d) {
                            c.cropImage(d).success(function(c) {
                                if (c.success) {
                                    var e = {
                                        width: d.w,
                                        height: d.h,
                                        src: c.map.path,
                                        desc: "",
                                        index: c.map.index
                                    };
                                    f.push(e),
                                        i++,
                                        h === i && (h = i = 0, a.$broadcast("crop.complete.all", b.copy(f)), f.length = 0)
                                } else alert(c.msg),
                                    a.$broadcast("crop.fail")
                            }).error(function() {
                                alert($translate.instant("scene.create.pictures1.NETWORK_TIMEOUT")),
                                    a.$broadcast("crop.fail")
                            })
                        },
                        e.initCoordinateObj(),
                        e
                }]).directive("eqxPicturesCropPreview", ["picturesCropService",
                function(a) {
                    function b(b, d) {
                        var e = a.getCoordinateObj();
                        c(d, e),
                            b.$on("$destroy",
                                function() {
                                    i = j = k = null,
                                        a.initCoordinateObj(),
                                        a.setCropping(!1)
                                }),
                            b.$on("cropItem.change",
                                function(a, b) {
                                    g(b)
                                }),
                            b.$on("image.delete",
                                function() {
                                    $(".image_crop").children("div").remove()
                                }),
                            b.$on("cropImage.ok",
                                function(a, c) {
                                    h(b, c, e)
                                })
                    }
                    function c(a, b) {
                        var c = $(".image_crop"),
                            e = {
                                width: c.width(),
                                height: c.height()
                            },
                            f = e.width / e.height;
                        a.hide().load(function() {
                            var c = {
                                width: this.width,
                                height: this.height
                            };
                            a.removeAttr("style").show();
                            var g, h = c.width / c.height;
                            c.width > e.width || c.height > e.height ? h > f ? (a.css({
                                width: e.width,
                                height: e.width / h
                            }), g = {
                                position: "absolute",
                                top: "50%",
                                marginTop: -e.width / h / 2
                            }) : (a.css({
                                width: e.height * h,
                                height: e.height
                            }), g = {
                                margin: "auto"
                            }) : g = {
                                position: "absolute",
                                left: "50%",
                                top: "50%",
                                marginLeft: -c.width / 2,
                                marginTop: -c.height / 2
                            },
                                j = {
                                    width: a.width(),
                                    height: a.height()
                                };
                            var i = a.attr("index");
                            a.attr("src");
                            $.extend(b.items[i], {
                                displaySize: j
                            }),
                                d(a, b, g, i)
                        })
                    }
                    function d(a, b, c, d) {
                        i && (i.destroy(), i = null);
                        var f = j.width,
                            g = j.height,
                            h = b.items[d].coordinate;
                        h && (h.w > f && (h.w = f, h.h = f / b.ratio), h.h > g && (h.h = g, h.w = g * b.ratio), h.x2 = h.x + h.w, h.y2 = h.y + h.h);
                        var l;
                        l = k && -1 === k.ratio ? 0 : b.ratio || f / g,
                            a.Jcrop({
                                    keySupport: !1,
                                    aspectRatio: l,
                                    allowSelect: !1,
                                    setSelect: h ? [h.x, h.y, h.x2, h.y2] : [0, 0, f, g],
                                    onRelease: function() {
                                        this.setOptions({
                                            setSelect: [0, 0, f, g]
                                        })
                                    },
                                    onSelect: function() {
                                        i && e(d, b)
                                    }
                                },
                                function() {
                                    i = this,
                                        e(d, b)
                                }),
                            $(".jcrop-holder").css(c)
                    }
                    function e(a, b) {
                        var c = i.tellSelect();
                        b.ratio = c.w / c.h,
                            $.extend(b.items[a].coordinate, c),
                            $.each(b.items,
                                function(a, c) {
                                    var d = c.coordinate;
                                    d && f(d, b)
                                })
                    }
                    function f(a, b) {
                        var c = a.w / a.h;
                        c > b.ratio ? (a.w = a.h * b.ratio, a.x2 = a.x + a.w) : (a.h = a.w / b.ratio, a.y2 = a.y + a.h)
                    }
                    function g(a) {
                        k = a;
                        var b, c = j.width,
                            d = j.height;
                        if ( - 1 === a.ratio) {
                            var e = i.tellSelect();
                            b = a.lock ? {
                                aspectRatio: e.w / e.h,
                                setSelect: [0, 0, e.w, e.h]
                            }: {
                                aspectRatio: 0,
                                setSelect: [0, 0, e.w, e.h]
                            }
                        } else c > d ? c = d * a.ratio: d = c / a.ratio,
                            b = {
                                aspectRatio: c / d,
                                setSelect: [0, 0, c, d]
                            };
                        i.setOptions(b)
                    }
                    function h(b, c, d) {
                        var e = [];
                        $.each(d.items,
                            function(b, c) {
                                var g = c.coordinate,
                                    h = c.realSize;
                                if (g && h) if (f(g, d), Math.ceil(h.width / h.height * 100) !== Math.ceil(g.w / g.h * 100)) {
                                    if (c.displaySize) {
                                        var i = h.width / c.displaySize.width;
                                        g.w = Math.ceil(g.w * i),
                                            g.h = Math.ceil(g.h * i),
                                            g.x = Math.ceil(g.x * i),
                                            g.y = Math.ceil(g.y * i)
                                    } else {
                                        var j = g.w / g.h,
                                            k = h.width / h.height;
                                        k > j ? (g.w = Math.ceil(h.height * j), g.h = h.height) : (g.w = h.width, g.h = Math.ceil(h.width / j))
                                    }
                                    g.x + g.w > c.realSize.width && (g.w = h.width - g.x),
                                        g.y + g.h > c.realSize.height && (g.h = h.height - g.y),
                                            g.w === h.width && g.h === h.height || 0 === g.w || 0 === g.h ? e.push({
                                        src: g.src,
                                        desc: "",
                                        height: g.h,
                                        width: g.w
                                    }) : (delete g.x2, delete g.y2, a.setCropping(!0), a.cropImage(g), a.setCropCount())
                                } else e.push({
                                    src: g.src,
                                    desc: "",
                                    height: g.h,
                                    width: g.w
                                })
                            }),
                            0 === a.getCropCount() && (c.picStyle = c.picStyle.value, c.children = e, b.setPicturesSize(c), b.$close(c))
                    }
                    var i, j, k;
                    return {
                        link: b
                    }
                }]),
            b.module("scene.create.console.radio.checkbox", []),
            b.module("scene.create.console.radio.checkbox").directive("stopPropagation",
                function() {
                    return function(a, b) {
                        b.bind("keydown",
                            function(a) {
                                a.stopPropagation()
                            })
                    }
                }),
            b.module("scene.create.console.radio.checkbox").controller("RadioCheckboxConsoleCtrl", ["$translate", "$scope", "$timeout", "localizedMessages", "obj", "ModalService",
                function(a, c, d, e, f, g) {
                    function h(a) {
                        var b = $("#optionGroupContainer"),
                            c = b.find(".option-group").eq(a),
                            d = 72,
                            e = c.position().top;
                        e > d && b.scrollTop(b.scrollTop() + (e - d))
                    }
                    var i = JSON.parse(f.choices);
                    c.model = {
                        title: f.title,
                        type: f.type,
                        options: i.options,
                        required: f.properties.required
                    },
                        c.buttons = [{
                            id: 1,
                            btnStyle: {
                                backgroundColor: "#08a1ef",
                                borderWidth: "1px",
                                borderStyle: "solid",
                                borderColor: "#08a1ef",
                                color: "rgb(255, 255, 255)"
                            },
                            properties: {
                                titleStyle: {
                                    backgroundColor: "#08a1ef",
                                    color: "#ffffff"
                                },
                                optionStyle: {
                                    borderBottomWidth: "1px",
                                    borderBottomStyle: "solid",
                                    borderBottomColor: "#08a1ef"
                                }
                            }
                        },
                            {
                                id: 2,
                                btnStyle: {
                                    backgroundColor: "#fff",
                                    borderWidth: "1px",
                                    borderStyle: "solid",
                                    borderColor: "#fff",
                                    color: "rgb(0, 0, 0)"
                                },
                                properties: {
                                    titleStyle: {
                                        backgroundColor: "#fff",
                                        color: "#000"
                                    },
                                    optionStyle: {
                                        borderBottomWidth: "1px",
                                        borderBottomStyle: "solid",
                                        borderBottomColor: "#fff"
                                    }
                                }
                            },
                            {
                                id: 3,
                                btnStyle: {
                                    backgroundColor: "#f6b223",
                                    borderWidth: "1px",
                                    borderStyle: "solid",
                                    borderColor: "#f6b223",
                                    color: "rgb(255, 255, 255)"
                                },
                                properties: {
                                    titleStyle: {
                                        backgroundColor: "#f6b223",
                                        color: "#ffffff"
                                    },
                                    optionStyle: {
                                        borderBottomWidth: "1px",
                                        borderBottomStyle: "solid",
                                        borderBottomColor: "#f6b223"
                                    }
                                }
                            },
                            {
                                id: 4,
                                btnStyle: {
                                    backgroundColor: "#333",
                                    borderWidth: "1px",
                                    borderStyle: "solid",
                                    borderColor: "#333",
                                    color: "rgb(255, 255, 255)"
                                },
                                properties: {
                                    titleStyle: {
                                        backgroundColor: "#333",
                                        color: "#ffffff"
                                    },
                                    optionStyle: {
                                        borderBottomWidth: "1px",
                                        borderBottomStyle: "solid",
                                        borderBottomColor: "#333"
                                    }
                                }
                            },
                            {
                                id: 5,
                                btnStyle: {
                                    backgroundColor: "#a0d86b",
                                    borderWidth: "1px",
                                    borderStyle: "solid",
                                    borderColor: "#a0d86b",
                                    color: "rgb(255, 255, 255)"
                                },
                                properties: {
                                    titleStyle: {
                                        backgroundColor: "#a0d86b",
                                        color: "#ffffff"
                                    },
                                    optionStyle: {
                                        borderBottomWidth: "1px",
                                        borderBottomStyle: "solid",
                                        borderBottomColor: "#a0d86b"
                                    }
                                }
                            },
                            {
                                id: 6,
                                btnStyle: {
                                    backgroundColor: "#ff6666",
                                    borderWidth: "1px",
                                    borderStyle: "solid",
                                    borderColor: "#ff6666",
                                    color: "rgb(255, 255, 255)"
                                },
                                properties: {
                                    titleStyle: {
                                        backgroundColor: "#ff6666",
                                        color: "#ffffff"
                                    },
                                    optionStyle: {
                                        borderBottomWidth: "1px",
                                        borderBottomStyle: "solid",
                                        borderBottomColor: "#ff6666"
                                    }
                                }
                            }],
                        b.forEach(c.buttons,
                            function(a, b) {
                                f.properties.titleStyle && f.properties.titleStyle.backgroundColor == a.properties.titleStyle.backgroundColor && (c.btnIndex = b)
                            }),
                        c.chooseTabButton = function(a, b) {
                            c.model.btnStyle = a.btnStyle,
                                c.btnIndex = b,
                                $.extend(f.css, {
                                    borderStyle: a.btnStyle.borderStyle,
                                    borderColor: a.btnStyle.borderColor
                                })
                        },
                        c.authError = "",
                        c.addNewOption = function(b) {
                            c.model.options.length < 8 ? (++i.seq, c.model.options.splice(b + 1, 0, {
                                id: i.seq,
                                label: a.instant("scene.create.radio.checkbox.OPTIONS") + i.seq
                            }), setTimeout(function() {
                                h(b)
                            })) : g.openMsgDialog({
                                msg: a.instant("scene.create.radio.checkbox.OPTION_LIMITATION")
                            })
                        },
                        c.deleteTheOption = function(b) {
                            c.model.options.length > 1 && g.openConfirmDialog({
                                    msg: a.instant("scene.create.radio.checkbox.OPTION_DELETE_TIP_PREFIX") + c.model.options[b].label + a.instant("scene.create.radio.checkbox.OPTION_DELETE_TIP_SUFFIX1") + "<br/>" + a.instant("scene.create.radio.checkbox.OPTION_DELETE_TIP_SUFFIX2")
                                },
                                function() {
                                    c.model.options.splice(b, 1)
                                })
                        },
                        c.confirm = function() {
                            return c.model.title && 0 !== c.model.title.length ? (b.forEach(c.model.options,
                                function(a) {
                                    delete a.$$hashKey
                                }), f.choices = JSON.stringify(i), f.properties.required = c.model.required, (c.btnIndex || 0 === c.btnIndex) && $.extend(f.properties, c.buttons[c.btnIndex].properties), void c.$close(c.model)) : (c.authError = a.instant("scene.create.radio.checkbox.INPUT_NAME_CANT_BE_NULL"), void $("#radioTitle").focus())
                        },
                        c.cancel = function() {
                            c.$dismiss()
                        }
                }]),
            b.module("scene.create.console.randomevent", ["app.directives.responsiveImage"]),
            b.module("scene.create.console.randomevent").controller("RandomEventCtrl", ["$translate", "$scope", "$rootScope", "randomEventService", "$modal", "obj",
                function(a, b, c, d, e, f) {
                    f.properties.pics.length ? b.picList = f.properties.pics: b.picList = [],
                        b.delImage = function(a) {
                            b.picList.splice(a, 1)
                        },
                        b.replaceImage = function(a) {
                            e.open({
                                windowClass: "console img_console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 1,
                                            type: "n",
                                            count: 9,
                                            elemDef: f
                                        }
                                    }
                                }
                            }).result.then(function(c) {
                                    b.picList[a] = c.selectedImages[0]
                                },
                                function() {})
                        },
                        b.choosePic = function() {
                            return b.picList.length >= 10 ? void(b.authError = a.instant("scene.create.randomevent.LIMITATION_TIP")) : void e.open({
                                windowClass: "console img_console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 1,
                                            type: "n",
                                            count: b.picList.length,
                                            elemDef: f
                                        }
                                    }
                                }
                            }).result.then(function(a) {
                                    $.each(a.selectedImages,
                                        function(a, c) {
                                            b.picList.unshift(c)
                                        })
                                },
                                function() {})
                        },
                        b.confirm = function() {
                            b.$close(b.picList)
                        },
                        b.cancel = function() {
                            b.$dismiss()
                        }
                }]).factory("randomEventService", ["$rootScope",
                function(a) {
                    var b = {};
                    return b
                }]),
            b.module("scene.create.console.rating", ["common.directives.inputColor"]),
            b.module("scene.create.console.rating").controller("RatingConsoleCtrl", ["$translate", "$scope", "$timeout", "localizedMessages", "obj",
                function(a, b, c, d, e) {
                    b.model = {
                        title: e.title,
                        properties: {
                            icon: e.properties.icon,
                            size: e.properties.size,
                            color: e.properties.color,
                            required: e.properties.required
                        }
                    },
                        b.authError = "",
                        b.confirm = function() {
                            return b.model.title && 0 !== b.model.title.length ? ($.extend(!0, e, b.model), void b.$close(b.model)) : (b.authError = a.instant("scene.create.rating.TITLE_CANT_BE_NULL"), void $("#ratingTitle").focus())
                        },
                        b.chooseEqfont = function(a) {
                            b.model.properties.icon = a
                        },
                        b.cancel = function() {
                            b.$dismiss()
                        }
                }]),
            b.module("scene.create.console.scene-setting-component", []).controller("SceneSettingComponentController", ["$q", "$routeParams", "$rootScope", "$scope", "$translate", "$element", "sceneService", "MineService", "dataService", "$sce", "$modal", "usercenterService", "security", "pageTplService", "i18nNotifications", "ModalService", "sceneSettingCache", "memberHandler", "eqADTypeChoice",
                function(a, c, d, e, f, g, h, i, j, k, l, n, o, p, q, r, s, t, u) {
                    function v(a) {
                        switch (a) {
                            case u.HIDE:
                                e.eqShowType = z.EQHIDE,
                                    e.scene.property.eqAdType = u.HIDE,
                                    e.scene.property.hideEqAd = !0;
                                break;
                            case u.DEFAULT_BOTTOM:
                                e.eqShowType = z.EQLINK,
                                    e.scene.property.eqAdType = u.DEFAULT_BOTTOM,
                                    e.scene.property.hideEqAd = !1;
                                break;
                            case u.CUSTOM_BOTTOM:
                                e.eqShowType = z.EQLINK,
                                    e.scene.property.eqAdType = u.CUSTOM_BOTTOM,
                                    e.scene.property.hideEqAd = !1;
                                break;
                            default:
                            case u.FREEPAGE:
                                e.eqShowType = z.EQFREE,
                                    e.scene.property && (e.scene.property.eqAdType = u.FREEPAGE, e.scene.property.hideEqAd = !1)
                        }
                    }
                    function w(a) {
                        e.isFormerScene && e.adSpend == t.getPriceByADType(e.scene.property.eqAdType) && delete e.scene.property.eqAdType,
                            b.isObject(e.scene.property) && (e.scene.property = b.toJson(e.scene.property)),
                            b.isString(e.scene.type) && (e.scene.type = parseInt(e.scene.type, 10)),
                            e.$parent.scene.bgAudio && (e.scene.bgAudio = b.isObject(e.$parent.scene.bgAudio) ? JSON.stringify(e.$parent.scene.bgAudio) : e.$parent.scene.bgAudio),
                            h.saveSceneSettings(e.scene).then(function(a) {
                                    200 == a.data.code ? (q.pushForCurrentRoute("scene.setting.success", "notify.success"), e.$parent.sceneSetting.showFlag = !1, e.$parent.sceneSetting.oldBgAudio = e.scene.bgAudio, a.data.obj ? b.copy(a.data.obj, h.getCurrentScene()) : b.copy(e.scene, h.getCurrentScene()), x.resolve(a)) : (r.openMsgDialog({
                                            msg: a.data.msg
                                        },
                                        function() {}), b.isString(e.scene.property) && (e.scene.property = JSON.parse(e.scene.property)), e.scene.type = "" + e.scene.type, x.reject(a))
                                },
                                function(a) {
                                    e.invalidText = a,
                                        x.reject(a)
                                })
                    }
                    e.isVipUser = t.isVipUser;
                    var x = a.defer();
                    e.sceneSetting.saveSceneSetting = function() {
                        return x = a.defer(),
                            e.saveSceneSettings(e.scene),
                            x.promise
                    },
                        e.isAllowToAccessLastPageSetting = o.isAllowToAccess(o.accessDef.SCENE_HIDE_LASTPAGE_SETTING),
                        e.isAllowedToAccessNewPageFlip = o.isAllowToAccess(o.accessDef.ACCESS_NEW_PAGEFLIP),
                        (2 === o.currentUser.type || 21 === o.currentUser.type) && t.initUserMemberDetail();
                    var y = {
                        SHARE_SCENE: "shareScene",
                        LOADING_LOGO: "loadingLogo",
                        EQSHOW: "eqShow"
                    };
                    e.eqSceneSettingTabs = y,
                        e.eqSceneSettingCurrent = y.SHARE_SCENE;
                    var z = {
                        EQFREE: "eqFree",
                        EQLINK: "eqLink",
                        EQHIDE: "eqHide"
                    };
                    e.eqShowType = z.EQFREE,
                        e.eqADTypeChoice = u,
                        e.switchToAdState = v,
                        e.adSpend = 0,
                        e.isFormerScene = !1,
                        e.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                        e.alwaysOpen = !0;
                    e.openImageModal = function() {
                        l.open({
                            windowClass: "img_console console",
                            templateUrl: "scene/console/bg.tpl.html",
                            controller: "BgConsoleCtrl",
                            resolve: {
                                obj: function() {
                                    return {
                                        fileType: 1
                                    }
                                }
                            }
                        }).result.then(function(a) {
                                return a.width / a.height === 1 ? (e.newCoverImage = a, e.newCoverImage.tmbPath = a.data, e.newCoverImage.path = a.data, void(e.scene.cover = e.newCoverImage.path)) : void l.open({
                                    windowClass: "console seven-contain",
                                    templateUrl: "scene/console/imageCrop.tpl.html",
                                    controller: "imageCropCtrl",
                                    backdrop: "static",
                                    resolve: {
                                        obj: function() {
                                            return {
                                                type: "square",
                                                properties: {
                                                    src: a.data
                                                },
                                                cw: 250
                                            }
                                        }
                                    }
                                }).result.then(function(a) {
                                        var b = {
                                            width: a.width,
                                            height: a.height,
                                            data: a.src,
                                            type: "imgSrc"
                                        };
                                        e.newCoverImage = b,
                                            e.newCoverImage.tmbPath = b.data,
                                            e.newCoverImage.path = b.data,
                                            e.scene.cover = e.newCoverImage.path
                                    },
                                    function(a) {})
                            },
                            function(a) {})
                    };
                    var A = null;
                    e.saveSceneSettings = function(a) {
                        if (e.maxLength30(), !e.scene.name || !e.scene.name.trim()) return $("input.name").focus(),
                            void(e.invalidText = f.instant("scene.create.scene.setting.NAME_TIP"));
                        if (e.scene.property.autoFlip && !e.scene.property.autoFlipTime) return void(e.invalidText = f.instant("scene.create.scene.setting.AUTO_FLIP_TIME"));
                        var b = m(e.scene.name.trim());
                        if (b > 48) return void(e.invalidText = f.instant("scene.create.scene.setting.NAME_COUNT_TIP"));
                        if ("1" === e.scene.isShow && !e.scene.tagId) return void r.openMsgDialog({
                                msg: f.instant("scene.create.scene.setting.SELECT_SCENE_TAB")
                            },
                            function() {
                                $("#tag").focus()
                            });
                        if (e.scene.property && e.scene.property.eqAdType == u.CUSTOM_BOTTOM && (!e.scene.property.bottomLabel || !e.scene.property.bottomLabel.id)) return void r.openMsgDialog({
                                msg: f.instant("scene.create.scene.setting.SELECT_BOTTOM_LABEL_TIP")
                            },
                            function() {});
                        if (e.scene.property && e.scene.property.bottomLabel && e.scene.property.bottomLabel.name && m(e.scene.property.bottomLabel.name) > 16) return void(e.invalidText = f.instant("scene.create.scene.setting.BOTTOM_LABEL_COUNT_TIP"));
                        if (e.scene.property && e.scene.property.bottomLabel && !e.scene.property.bottomLabel.name && e.scene.property.bottomLabel.url && "http://" != e.scene.property.bottomLabel.url) return void(e.invalidText = f.instant("scene.create.scene.setting.BOTTOM_LABEL_EMPTY_TIP"));
                        if (e.scene.accessCode && ("0" != e.scene.applyPromotion || "0" != e.scene.applyTemplate)) return void r.openMsgDialog({
                            msg: f.instant("scene.create.scene.setting.TEMP_NO_PASS_TIP")
                        });
                        if (e.scene.accessCode && 4 != e.scene.accessCode.length) return void r.openMsgDialog({
                            msg: f.instant("scene.create.scene.setting.SCENE_PASS_TIP")
                        });
                        if (e.scene.promIds && e.activityPageTpls.length && !e.scene.property.activityPageId) return void r.openMsgDialog({
                            msg: f.instant("scene.create.scene.setting.ACTIVITY_LAST_PAGE_TIP")
                        });
                        if (e.oldSceneApplyState.promIds && e.scene.property.eqAdType != u.FREEPAGE) return void r.openMsgDialog({
                            msg: f.instant("scene.create.scene.setting.CLEAR_ACTIVITY_LAST_PAGE_TIP")
                        });
                        if (e.scene.promIds && (e.scene.property.eqAdType != u.FREEPAGE || e.scene.property.adSpend)) return r.openMsgDialog({
                            msg: f.instant("scene.create.scene.setting.NOT_ACCESS_ACTIVITY_TIP")
                        }),
                            void(e.oldSceneApplyState.promIds || (e.scene.promIds = "", e.getActivityPageTpl()));
                        if (e.scene.property && e.scene.property.autoFlipTime > 60) return void r.openMsgDialog({
                            msg: f.instant("scene.create.scene.setting.OVER_FLIP_TIME_TIP")
                        });
                        e.scene.property.eqAdType = parseInt(e.scene.property.eqAdType, 10);
                        var c = t.getCurrentSelectionPrice(e.scene, e.adSpend, e.isFormerScene, A);
                        0 === c ? w(a) : c && c > e.userXd ? r.openMsgDialog({
                            msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + c + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (e.userXd || 0) + '</font>个)<span class="get-xd"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=297&extra=page%3D1" target = "_blank">获取秀点</a></span>'
                        }) : c ? r.openConfirmDialog({
                                msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + c + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (e.userXd || 0) + "</font>个"
                            },
                            function() {
                                w(a)
                            }) : w(a)
                    },
                        e.oldSceneApplyState = {
                            applyPromotion: "",
                            applyTemplate: "",
                            promIds: ""
                        },
                        e.getSceneDetail = function() {
                            h.getCurrentScenePromise().then(function() {
                                e.scene = b.copy(h.getCurrentScene()),
                                    e.scene.price = "" + (e.scene.price || "0"),
                                    e.oldSceneApplyState.applyPromotion = e.scene.applyPromotion = "" + e.scene.applyPromotion,
                                    e.oldSceneApplyState.applyTemplate = e.scene.applyTemplate = "" + e.scene.applyTemplate,
                                    e.scene.isTpl = "" + e.scene.isTpl,
                                    e.scene.isShow = e.scene.isShow ? "" + e.scene.isShow: "0",
                                    e.oldSceneApplyState.promIds = e.scene.promIds = e.scene.promIds ? parseFloat(e.scene.promIds) : null,
                                    2 == e.scene.pageMode && (e.scene.pageMode = 0),
                                    e.scene.property ? b.isString(e.scene.property) && (e.scene.property = JSON.parse(e.scene.property)) : e.scene.property = {},
                                    A = e.scene.loadingLogo || e.scene.property.loadingLogo,
                                    e.scene.property.hasOwnProperty("triggerLoop") || (e.scene.property.triggerLoop = !0),
                                    e.scene.property.hasOwnProperty("slideNumber") || "zh-CN" === f.use() || (e.scene.property.slideNumber = !0),
                                    e.scene.property.autoFlipTime || (e.scene.property.autoFlipTime = 3),
                                    e.adSpend = e.scene.property.adSpend || 0,
                                    e.isFormerScene = !1,
                                    e.scene.property.hideEqAd ? (e.adSpend = t.getPriceByADType(u.HIDE), e.scene.property.eqAdType = u.HIDE, e.eqShowType = z.EQHIDE) : e.scene.property.eqAdType ? v(e.scene.property.eqAdType) : e.scene.createTime < 14165028e5 ? (e.isFormerScene = !0, e.adSpend = t.getPriceByADType(u.HIDE), v(u.HIDE)) : e.scene.property.isAdvancedUser ? e.scene.property.bottomLabel && e.scene.property.bottomLabel.id ? (e.isFormerScene = !0, e.adSpend = t.getPriceByADType(u.CUSTOM_BOTTOM), v(u.CUSTOM_BOTTOM)) : (e.isFormerScene = !0, e.adSpend = t.getPriceByADType(u.DEFAULT_BOTTOM), v(u.DEFAULT_BOTTOM)) : (e.adSpend = t.getPriceByADType(u.FREEPAGE), v(u.FREEPAGE)),
                                    e.scene.startDate && e.scene.endDate && (e.startDate = new Date(e.scene.startDate), e.endDate = new Date(e.scene.endDate), e.alwaysOpen = !1),
                                    e.scene.type = "" + e.scene.type,
                                    s.activitiesPromise.then(function(a) {
                                        e.activities = a.data.list || [],
                                            e.getActivityPageTpl()
                                    }),
                                    e.scene.bgAudio && (e.scene.bgAudio = b.isString(e.scene.bgAudio) ? JSON.parse(e.scene.bgAudio) : e.scene.bgAudio);
                                var a = e.$watch("$parent.scene.bgAudio",
                                    function(a) {
                                        e.scene.bgAudio = b.isString(a) ? JSON.parse(a) : a
                                    });
                                e.$on("$destroy",
                                    function() {
                                        a()
                                    })
                            })
                        };
                    var B = s.sceneTypePromise.then(function(a) {
                        e.types = a.data.list
                    });
                    e.tplPrices = [];
                    var C = s.sceneTplPricesPromise.then(function(a) {
                            e.tplPrices = a.data.list || []
                        }),
                        D = [];
                    e.sceneTags = [];
                    var E = s.sceneTagsPromise.then(function(a) {
                        e.sceneTags = D = a.data.list || []
                    });
                    a.all([B, C, E]).then(function() {
                        e.getSceneDetail()
                    });
                    var F = e.$watch("scene.type",
                        function(a) {
                            a && (e.sceneTags = [], b.forEach(D,
                                function(b) {
                                    a == b.bizType && e.sceneTags.push(b)
                                }))
                        });
                    e.$on("$destroy",
                        function() {
                            F()
                        }),
                        e.pagemodes = [{
                            id: 0,
                            name: f.instant("scene.create.scene.setting.flip.type.UP_DOWN")
                        },
                            {
                                id: 4,
                                name: f.instant("scene.create.scene.setting.flip.type.LEFT_RIGHT")
                            },
                            {
                                id: 1,
                                name: f.instant("scene.create.scene.setting.flip.type.UP_DOWN_INERTIA")
                            },
                            {
                                id: 3,
                                name: f.instant("scene.create.scene.setting.flip.type.LEFT_RIGHT_INERTIA")
                            },
                            {
                                id: 11,
                                name: f.instant("scene.create.scene.setting.flip.type.UP_DOWN_CONTINUAL")
                            },
                            {
                                id: 5,
                                name: f.instant("scene.create.scene.setting.flip.type.LEFT_RIGHT_CONTINUAL")
                            },
                            {
                                id: 6,
                                name: f.instant("scene.create.scene.setting.flip.type.CUBE")
                            },
                            {
                                id: 7,
                                name: f.instant("scene.create.scene.setting.flip.type.CARD")
                            },
                            {
                                id: 8,
                                name: f.instant("scene.create.scene.setting.flip.type.SCALE")
                            },
                            {
                                id: 9,
                                name: f.instant("scene.create.scene.setting.flip.type.SWAP")
                            },
                            {
                                id: 10,
                                name: f.instant("scene.create.scene.setting.flip.type.BOOK")
                            },
                            {
                                id: 12,
                                name: f.instant("scene.create.scene.setting.flip.type.FALL")
                            }];
                    var G = [11, 12];
                    if (!e.isAllowedToAccessNewPageFlip) for (var H = 0; H < e.pagemodes.length; H++) for (var I = 0; I < G.length; I++) e.pagemodes[H].id == G[I] && (e.pagemodes.splice(H, 1), H--);
                    e.userXd = 0,
                        e.getUserXd = function() {
                            n.getUserXd().then(function(a) {
                                e.userXd = a.data.obj || 0
                            })
                        },
                        e.getUserXd(),
                        s.pageTplsPromise.then(function(a) {
                            a.data.list && a.data.list.length > 0 ? e.pageTpls = a.data.list: e.pageTpls = []
                        }),
                        s.bottomPageTplsPromise.then(function(a) {
                            a.data.list && a.data.list.length > 0 ? e.bottomPageTpls = a.data.list: e.bottomPageTpls = []
                        }),
                        e.chooseLastPage = function(a) {
                            e.scene.property.lastPageId = a,
                                v(u.FREEPAGE)
                        },
                        e.chooseCustomBottomLabel = function(a) {
                            e.scene.property.bottomLabel || (e.scene.property.bottomLabel = {}),
                                e.scene.property.bottomLabel.id = a,
                                v(u.CUSTOM_BOTTOM)
                        },
                        e.maxLength30 = function() {
                            if (e.scene.description && (e.scene.description = e.scene.description.replace(/\n|\r/g, " ")), e.scene.description && e.scene.description.length > 30) {
                                var a = e.scene.description.replace(/[^\x00-\xff]/g, "xx");
                                if (a.length > 60) {
                                    var b = a.substring(0, 60).replace(/xx/g, "中").length;
                                    e.scene.description = e.scene.description.substring(0, b)
                                }
                            }
                        },
                        e.uploadLoadingLogo = function() {
                            l.open({
                                windowClass: "img_console console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 1
                                        }
                                    }
                                }
                            }).result.then(function(a) {
                                    e.scene.loadingLogo = a.data
                                },
                                function(a) {})
                        },
                        e.moreActivities = function() {},
                        e.isLoadingLogoAccessible = o.isAllowToAccess(o.accessDef.LOADING_LOGO),
                        e.isTemplatePaymentAccessible = o.isAllowToAccess(o.accessDef.TEMPLATE_PAYMENT),
                        e.cancelSceneSetting = function() {
                            e.$parent.sceneSetting.showFlag = !1
                        },
                        e.fourNumberPassword = function() {
                            e.scene.accessCode && (e.scene.accessCode = e.scene.accessCode.replace(/\D/g, ""), e.scene.accessCode.length > 4 && (e.scene.accessCode = e.scene.accessCode.substr(0, 4)))
                        },
                        e.isScenePasswordAccessible = o.isAllowToAccess(o.accessDef.SCENE_PASSWORD),
                        e.activityPageTpls = [],
                        e.selectedActivity = null,
                        e.getActivityPageTpl = function(a) {
                            if (e.oldSceneApplyState.promIds && e.scene.promIds !== e.oldSceneApplyState.promIds) return r.openMsgDialog({
                                msg: f.instant("scene.create.scene.setting.FORBIDDEN_OTHER_ACTIVITY_TIP")
                            }),
                                void(e.scene.promIds = e.oldSceneApplyState.promIds);
                            if (e.scene.promIds) {
                                var c = null;
                                b.forEach(e.activities,
                                    function(a) {
                                        a.id === e.scene.promIds && (c = a.sceneId, e.selectedActivity = a)
                                    }),
                                    c && p.getPageTpls(c).then(function(b) {
                                    b.data.list && b.data.list.length > 0 ? (e.activityPageTpls = b.data.list, (!e.scene.property.activityPageId || a) && (e.activityPageTpls.length ? e.scene.property.activityPageId = e.activityPageTpls[0].id: e.scene.property.activityPageId = null)) : e.activityPageTpls = []
                                })
                            } else e.activityPageTpls = [],
                                e.scene.property.activityPageId = null
                        },
                        e.chooseActivityPageTpl = function(a) {
                            e.scene.property.activityPageId = a
                        }
                }]).value("eqADTypeChoice", {
                HIDE: 0,
                FREEPAGE: 1,
                DEFAULT_BOTTOM: 2,
                CUSTOM_BOTTOM: 3
            }).service("memberHandler", ["usercenterService", "security", "eqADTypeChoice",
                function(a, b, c) {
                    function d(a, b) {
                        return /^\d+$/.test(b) ? 0 : a * parseFloat(b)
                    }
                    var e = {},
                        f = null;
                    return e.isVipUser = "1" != b.currentUser.type,
                        e.initUserMemberDetail = function() {
                            a.getUserMemberDetail(b.currentUser.id).then(function(a) {
                                f = a.data.obj
                            })
                        },
                        e.getCurrentSelectionPrice = function(a, b, d, f) {
                            var g = e.getPriceByADType(a.property.eqAdType);
                            g = e.isVipUser && a.property.eqAdType != c.HIDE ? 0 : e.getPriceWithMemberPrivilege(g);
                            var h = g - b;
                            return d && 0 !== h ? h = g: 0 > h && (h = 0),
                                !f && a.loadingLogo && (h += e.getPriceWithMemberPrivilege(100, !0)),
                                h
                        },
                        e.getPriceWithMemberPrivilege = function(a, c) {
                            return 2 === b.currentUser.type && b.currentUser.memberType && (new Date).getTime() < b.currentUser.expiryTime || 21 === b.currentUser.type ? c ? d(a, f.loadingLogo || "1.0") : d(a, f.tailPage || "1.0") : a
                        },
                        e.getPriceByADType = function(a) {
                            switch (a) {
                                case c.HIDE:
                                    return 100;
                                case c.FREEPAGE:
                                    return 0;
                                case c.DEFAULT_BOTTOM:
                                    return 15;
                                case c.CUSTOM_BOTTOM:
                                    return 30
                            }
                        },
                        e
                }]).service("sceneSettingCache", ["sceneService", "pageTplService",
                function(a, b) {
                    return {
                        sceneTypePromise: a.getSceneType(),
                        sceneTplPricesPromise: a.getSceneTemplatePrices(),
                        sceneTagsPromise: b.getTagSysListWithType(),
                        pageTplsPromise: b.getPageTpls(1301),
                        bottomPageTplsPromise: b.getPageTpls(1311),
                        activitiesPromise: a.getActivities()
                    }
                }]).directive("sceneSettingComponent", [function() {
                return {
                    scope: !0,
                    controller: "SceneSettingComponentController",
                    templateUrl: "scene/console/scene-setting-component.tpl.html",
                    link: function(a, b, c) {
                        setTimeout(function() {
                            b.find(".scene-setting-info.fade").addClass("in")
                        })
                    }
                }
            }]),
            b.module("scene.create.console.setting", ["scene.create.console.setting.style", "scene.create.console.setting.anim", "scene.create.console.setting.trigger"]),
            b.module("scene.create.console.setting").directive("styleModal", ["sceneService", "$compile",
                function(a, b) {
                    return {
                        restrict: "AE",
                        replace: !0,
                        scope: {},
                        templateUrl: "scene/console/setting.tpl.html",
                        link: function(a, b, c) {
                            b.bind("keydown",
                                function(a) {
                                    a.stopPropagation()
                                });
                            var d = "style";
                            a.$on("showStylePanel",
                                function(b, c) {
                                    d = a.activeTab,
                                        a.activeTab = "",
                                        a.$apply(),
                                            c && c.activeTab ? a.activeTab = c.activeTab: a.activeTab = d,
                                        a.$apply()
                                }),
                                a.activeTab = c.activeTab,
                                a.cancel = function() {
                                    $(b).hide()
                                },
                                a.$on("$locationChangeStart",
                                    function() {
                                        a.cancel()
                                    })
                        },
                        controller: ["$scope",
                            function(a) {}]
                    }
                }]),
            b.module("scene.create.console.shape", []).controller("ShapeConsoleCtrl", ["$rootScope", "$scope", "ModalService", "obj", "shapeService",
                function(a, b, c, d, e) {
                    function f(a, b) {
                        e.getShapeByPage(a, b)
                    }
                    var g = e.svgList;
                    b.currentPage = 1,
                        b.totalItems = g.length;
                    var h = b.pageSize = 18;
                    b.$watch("currentPage",
                        function(a) {
                            b.toPage = a,
                                f(a, h)
                        }),
                        b.confirm = function() {
                            b.$close({
                                type: "rect"
                            })
                        },
                        b.cancel = function() {
                            b.$dismiss()
                        },
                        b.selectSvg = function(a) {
                            var c = e.shapeList[a].type,
                                d = e.shapeList[a].viewBox;
                            b.$close({
                                type: c,
                                viewBox: d
                            })
                        }
                }]).factory("shapeService", ["$rootScope",
                function(a) {
                    var b = {},
                        c = b.svgList = [{
                            type: "rect"
                        },
                            {
                                type: "circle"
                            },
                            {
                                type: "diamond"
                            },
                            {
                                type: "octagon"
                            },
                            {
                                type: "triangle-up"
                            },
                            {
                                type: "triangle-down"
                            },
                            {
                                type: "triangle-left"
                            },
                            {
                                type: "triangle-right"
                            },
                            {
                                type: "arrow-up"
                            },
                            {
                                type: "arrow-down"
                            },
                            {
                                type: "arrow-left"
                            },
                            {
                                type: "arrow-right"
                            }];
                    for (var d in eqxiuSvg.SYMBOLS) b.svgList.push({
                        type: "symbols-" + d
                    });
                    return b.shapeList = [],
                        b.getShapeByPage = function(d, e) {
                            d * e <= c.length ? b.shapeList = c.slice((d - 1) * e, e * d) : b.shapeList = c.slice((d - 1) * e, c.length),
                                a.$broadcast("render.shape.page", b.shapeList)
                        },
                        b
                }]).directive("renderShapeElement", ["shapeService", "$compile",
                function(a, b) {
                    function c(c, d, e) {
                        function f(d) {
                            var e;
                            $(".svg-panel ul").empty();
                            for (var f = 0; f < d.length; f++) {
                                var i = $('<li class="svg-element" style="width:100px;height:100px;display:inline-block;position:relative;" ng-click="selectSvg(' + f + ')"></li>');
                                b(i)(c),
                                    i.appendTo(".svg-panel ul");
                                var j = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
                                j.setAttribute("style", "position:absolute;left: 50%;margin-left:-32px;top:50%;margin-top:-32px;"),
                                    j.setAttribute("xmlns", eqxiuSvg.NAMESPACE),
                                    j.setAttribute("version", "1.1"),
                                    j.setAttribute("width", g),
                                    j.setAttribute("height", h),
                                    j.setAttribute("preserveAspectRatio", "xMidYMid");
                                var k = eqxiuSvg.ShapeFromType(d[f].type);
                                k.setAttribute("fill", "#555"),
                                    j.appendChild(k),
                                    i.append(j),
                                    s = eqxiuSvg.boundingBox(k),
                                    e = [Math.round(s.x) || 0, Math.round(s.y) || 0, Math.round(s.width) || 32, Math.round(s.height) || 32].join(" "),
                                    j.setAttribute("viewBox", e),
                                    a.shapeList[f].viewBox = e
                            }
                        }
                        var g = (a.svgList, 64),
                            h = 64;
                        c.$on("render.shape.page",
                            function(a, b) {
                                f(b)
                            })
                    }
                    return {
                        restrict: "EA",
                        link: c
                    }
                }]),
            b.module("scene.create.console.soundComponent", ["app.directives.addelement"]),
            b.module("scene.create.console.soundComponent").controller("SoundComponentConsoleCtrl", ["$scope", "$timeout", "$translate", "localizedMessages", "obj", "$modal",
                function(a, c, d, e, f, g) {
                    a.model = {
                        title: f.properties.title,
                        imgSrc: f.properties.imgSrc,
                        sound: f.sound
                    },
                        a.authError = "",
                        a.buttons = [{
                            id: 1,
                            text: d.instant("scene.create.soundComponent.buttonText.surprise"),
                            btnStyle: {
                                width: "100px",
                                backgroundColor: "rgb(244, 113, 31)",
                                height: "40px",
                                "text-align": "center",
                                "line-height": "40px",
                                color: "rgb(255, 255, 255)"
                            }
                        },
                            {
                                id: 2,
                                text: d.instant("scene.create.soundComponent.buttonText.hear"),
                                btnStyle: {
                                    width: "100px",
                                    backgroundColor: "rgb(253, 175, 7)",
                                    height: "40px",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            },
                            {
                                id: 3,
                                text: d.instant("scene.create.soundComponent.buttonText.clickme"),
                                btnStyle: {
                                    width: "100px",
                                    backgroundColor: "rgb(121, 196, 80)",
                                    height: "40px",
                                    "text-align": "center",
                                    "line-height": "40px",
                                    color: "rgb(255, 255, 255)"
                                }
                            },
                            {
                                id: 4,
                                text: d.instant("scene.create.soundComponent.buttonText.selectmusic"),
                                btnStyle: {
                                    width: "100px",
                                    height: "40px",
                                    backgroundColor: "#fff",
                                    "text-align": "center",
                                    border: "1px solid #3FB816",
                                    "line-height": "40px",
                                    color: "rgb(0, 0, 0)"
                                }
                            }],
                        a.openImageModal = function() {
                            g.open({
                                windowClass: "img_console console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 1
                                        }
                                    }
                                }
                            }).result.then(function(b) {
                                    a.model.title = "",
                                        a.btnIndex = -1,
                                        a.model.btnStyle = {
                                            width: "115px",
                                            height: "115px",
                                            "line-height": "1",
                                            backgroundColor: "transparent"
                                        },
                                        a.model.imgSrc = f.properties.imgSrc = b.data
                                },
                                function(a) {})
                        },
                        b.forEach(a.buttons,
                            function(b, c) {
                                "" !== a.model.title && f.css.backgroundColor && f.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
                            }),
                        a.confirm = function() {
                            return null != a.model.imgSrc || a.model.title && 0 !== a.model.title.length ? !a.model.sound || $.isEmptyObject(a.model.sound) ? void(a.authError = d.instant("scene.create.soundComponent.NOT_SELECT_SOUND")) : (f.sound = a.model.sound, f.properties.title = a.model.title, void a.$close(a.model)) : (a.authError = d.instant("scene.create.soundComponent.BUTTON_TEXT_TIP"), void $('.form-list input[type="text"].btn-name').focus())
                        },
                        a.openSoundModal = function() {
                            g.open({
                                windowClass: "console img_console",
                                templateUrl: "scene/console/sound.tpl.html",
                                controller: "soundCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            elemDef: f,
                                            type: 4
                                        }
                                    }
                                }
                            }).result.then(function(b) {
                                    a.model.sound = b
                                },
                                function() {})
                        },
                        a.cancel = function() {
                            a.$dismiss()
                        },
                        a.chooseTabButton = function(b, c) {
                            a.model.title = b.text,
                                a.model.btnStyle = b.btnStyle,
                                a.btnIndex = c,
                                a.model.imgSrc = f.properties.imgSrc = null
                        }
                }]),
            b.module("scene.create.console.sound", ["services.file", "soundLink"]).controller("soundCtrl", ["$rootScope", "$scope", "$translate", "soundService", "ModalService", "obj", "uploaderService", "$modal", "fileService",
                function(b, c, d, e, f, g, h, i, j) {
                    var k = c.sounds = [],
                        l = c.type = g.type;
                    c.selectSoundError = "";
                    d.instant("scene.create.sound.NETWORK_TIMEOUT");
                    c.uploader = h.uploader(g.type, 4194304);
                    var m = c.pageSize = 10,
                        n = 1;
                    c.actionContent = !1,
                        c.pagination = {},
                        c.sound = {},
                        c.soundLink = {
                            src: ""
                        },
                        a.localStorage ? 2 == l ? c.isMySound = "true" == localStorage.getItem("musicTag") ? !0 : !1 : c.isMySound = "true" == localStorage.getItem("soundTag") ? !0 : !1 : c.isMySound = !1,
                        c.alertAction = !0,
                        c.soundAction = !1,
                        c.popSoundAction = function() {
                            c.soundAction = !0
                        },
                        c.closeAction = function() {
                            c.soundAction = !1,
                                o.indexOf(b.user.id) > -1 && (c.alertAction = !1)
                        },
                        c.actionShow = !1;
                    var o = [];
                    if (a.localStorage) {
                        var p = localStorage.getItem("setSoundAction");
                        p && (o = p.split(","), o.indexOf(b.user.id) > -1 && (c.alertAction = !1))
                    }
                    if (c.isCheckbox = function(a) {
                        a && (o.push(b.user.id), localStorage.setItem("setSoundAction", o.join(",")))
                    },
                        4 == l && g.elemDef.sound && g.elemDef.sound.src && (c.sound = g.elemDef.sound), 2 == l && g.elemDef.bgAudio) if ("string" == typeof g.elemDef.bgAudio) {
                        var q = JSON.parse(g.elemDef.bgAudio);
                        c.sound = q,
                            q && q.src && (c.sound.url = q.src)
                    } else c.sound = g.elemDef.bgAudio,
                        g.elemDef.bgAudio.src && (c.sound.url = g.elemDef.bgAudio.src);
                    c.$on("uploadfiles.add",
                        function(a) {
                            c.selectTab(!0)
                        }),
                        c.$on("thumbnailList.update",
                            function(a, b) {
                                for (var d, e = 0; e < c.uploader.queue.length; e++) if (100 == c.uploader.queue[e].progress) {
                                    c.uploader.queue.splice(e, 1),
                                        d = b,
                                        k.unshift(d);
                                    for (var f = 0; 10 > f; f++) 0 === k[e].size ? k[e].size = null: k[e].size > 0 && k[e].size < 1024 ? k[e].size = k[e].size + " KB": k[e].size >= 1024 && (k[e].size = (k[e].size / 1024).toPrecision(2) + " MB")
                                }
                            });
                    var r = function() {
                        c.isMySound = !0,
                            c.selectTab(!0)
                    };
                    c.getSounds = function(a) {
                        4 == l ? c.isMySound ? e.getMySounds(a) : c.getSysMusicList(c.sysCatId, a) : 2 == l && (c.isMySound ? e.getMyAudios(a) : c.getSysMusicList(c.sysCatId, a))
                    },
                        c.sysCate = !c.isMySound,
                        c.selectTab = function(b) {
                            a.localStorage && (2 == c.type ? localStorage.setItem("musicTag", b) : localStorage.setItem("soundTag", b)),
                                b ? c.sysCate = !1 : c.sysCate = !0,
                                c.isMySound = b,
                                c.getSounds(1)
                        },
                        c.urlLink = function() {
                            i.open({
                                windowClass: "console six-contain",
                                templateUrl: "scene/console/soundLink.tpl.html",
                                controller: "SoundLinkCtrl",
                                resolve: {
                                    obj: function() {
                                        return g.type
                                    }
                                }
                            }).result.then(function() {
                                    r()
                                },
                                function() {})
                        },
                        c.isSoundSelected = function(a, b, c) {
                            return 2 === a ? b.id ? b.id == c.id: b.url == c.url: 4 === a ? b.id ? b.id == c.id: b.src == c.src: void 0
                        },
                        c.selectSound = function(a, b, d) {
                            d ? c.sound = {}: c.sound = a
                        },
                        c.playSound = function(a, c) {
                            a.stopPropagation(),
                                b.$broadcast("sound.play", k[c])
                        },
                        c.deleteMySound = function(a, b) {
                            a.stopPropagation(),
                                f.openConfirmDialog({
                                        msg: d.instant("scene.create.sound.DELETE_SOUND_TIP")
                                    },
                                    function() {
                                        e.deleteMySound(k[b].id)
                                    })
                        },
                        c.clear = function() {
                            c.sound = {}
                        },
                        c.ok = function() {
                            var a, b = c.sound;
                            4 == l && (a = b.src ? {
                                name: b.name,
                                src: b.src,
                                id: b.id
                            }: {},
                                c.$close(a)),
                                2 == l && (q = b.url ? {
                                url: b.url,
                                name: b.name,
                                id: b.id
                            }: {},
                                c.$close(q))
                        },
                        c.cancel = function() {
                            c.$dismiss()
                        },
                        c.$on("sounds.update",
                            function(a, b, d) {
                                if (k.length = 0, b.list.length > 0) {
                                    c.actionContent = !1,
                                        $.each(b.list,
                                            function(a, b) {
                                                0 === b.path.indexOf("http://") && (b.isValue = !0),
                                                        b.size < 1024 && b.size > 0 ? b.size = b.size + " KB": b.size >= 1024 ? b.size = (b.size / 1024).toPrecision(2) + " MB": 0 === b.size && (b.size = null),
                                                        4 == d ? k.push({
                                                    id: b.id,
                                                    name: b.name,
                                                    src: b.path,
                                                    isPlaying: !1,
                                                    size: b.size,
                                                    isValue: b.isValue
                                                }) : 2 == d && k.push({
                                                    id: b.id,
                                                    name: b.name,
                                                    url: b.path,
                                                    isPlaying: !1,
                                                    size: b.size,
                                                    isValue: b.isValue
                                                })
                                            });
                                    var e = b.map;
                                    c.pagination = {
                                        totalItems: e.count,
                                        pageSize: e.pageSize,
                                        currentPage: e.pageNo,
                                        numPages: Math.ceil(e.count / e.pageSize)
                                    }
                                } else c.pagination.totalItems = 0,
                                    c.actionContent = !0
                            }),
                        c.$on("mySounds.delete",
                            function(a, b) {
                                b === c.sound.id && (c.sound = {}),
                                        2 == l ? e.getMyAudios(c.pagination.currentPage) : 4 == l && e.getMySounds(c.pagination.currentPage)
                            });
                    var s = function(a) {
                        j.getSysMusicCategory(a)
                    };
                    s(l),
                        c.$on("sysMusic.update",
                            function(a) {
                                c.sysMusicList = j.sysMusicList
                            }),
                        c.getSysMusicList = function(a, b) {
                            c.sysCatId = a,
                                e.getSysMusicList(b, m, l, a)
                        },
                        c.isMySound ? 4 == l ? e.getMySounds(n) : e.getMyAudios(n) : c.getSysMusicList(0, n)
                }]).factory("soundService", ["$rootScope", "$modal", "fileService",
                function(a, b, c) {
                    var d = {};
                    return d.getSysMusicList = function(b, d, e, f) {
                        c.getSystemFiles(b, d, e, f).success(function(b) {
                            b.success ? a.$broadcast("sounds.update", b, e) : alert(b.msg)
                        }).error(function() {
                            alert(networkOut)
                        })
                    },
                        d.getMyAudios = function(b) {
                            c.getFileByCategory(b, 10, "0", "2").success(function(b) {
                                b.success ? a.$broadcast("sounds.update", b, 2) : alert(b.msg)
                            }).error(function() {
                                alert(networkOut)
                            })
                        },
                        d.getMySounds = function(b) {
                            c.getUserFiles(b, 10, 4, 0).success(function(b) {
                                b.success ? a.$broadcast("sounds.update", b, 4) : alert(b.msg)
                            }).error(function() {
                                alert(networkOut)
                            })
                        },
                        d.deleteMySound = function(b) {
                            c.deleteFile1(b).success(function(c) {
                                c.success ? a.$broadcast("mySounds.delete", b) : alert(c.msg)
                            }).error(function() {
                                alert(networkOut)
                            })
                        },
                        d
                }]).directive("eqxAudio",
                function() {
                    function a(a, c) {
                        var d = {};
                        c.bind("pause",
                            function() {
                                c.attr("src") && a.$apply(function() {
                                    d.isPlaying = !1
                                })
                            }).bind("play",
                            function() {
                                c.attr("src") && a.$apply(function() {
                                    d.isPlaying = !0
                                })
                            });
                        var e = c.get(0);
                        a.$on("sound.play",
                            function(a, c) {
                                b(d, c, e),
                                    d = c
                            })
                    }
                    function b(a, b, c) {
                        var d, e = {};
                        e.src = b.src || b.url,
                            d = 0 === e.src.indexOf("http://") ? e.src: PREFIX_FILE_HOST + e.src;
                        var f = d.substr(d.lastIndexOf("/") + 1),
                            g = c.src.substr(d.lastIndexOf("/") + 1);
                        null == a.id ? f == g && b.isPlaying ? c.pause() : f != g || b.isPlaying ? (c.src = d, c.play(), a.isPlaying = !1, b.isPlaying = !0) : c.play() : a.id == b.id && b.isPlaying ? c.pause() : a.id != b.id || b.isPlaying ? (c.src = d, c.play(), a.isPlaying = !1, b.isPlaying = !0) : c.play()
                    }
                    return {
                        link: a
                    }
                }).filter("maxLength",
                function() {
                    return function(a, b) {
                        return a ? a.length <= b ? a: a.substr(0, b) + "…": void 0
                    }
                }),
            b.module("soundLink", ["soundLink"]),
            b.module("soundLink").controller("SoundLinkCtrl", ["$rootScope", "$scope", "$translate", "sceneService", "obj",
                function(a, b, c, d, e) {
                    b.authError = "",
                        b.soundLink = {
                            src: ""
                        },
                        b.selectLink = function() {
                            b.sound = {}
                        },
                        b.confirm = function() {
                            var a = b.soundLink.src;
                            if (a.length && a.lastIndexOf(".mp3") !== a.length - 4) return void(b.authError = c.instant("scene.create.soundLink.SOUND_LINK_TIP"));
                            if (0 === a.length) return b.authError = c.instant("scene.create.soundLink.SOUND_LINK_EMPTY_TIP"),
                                void $(".link").focus();
                            var f;
                            b.sound;
                            a && (f = {
                                name: c.instant("scene.create.soundLink.NAME"),
                                src: a
                            }),
                                d.soundLink(a, e).then(function(a) {
                                    200 == a.data.code ? b.$close(f) : (b.authError = a.data.msg, $(".link").focus())
                                })
                        },
                        b.cancel = function() {
                            b.$dismiss()
                        }
                }]),
            b.module("scene.create.console.statistics", []),
        b.module("scene.create.console.statistics").controller("StatisticsConsoleCtrl", ["$scope", "obj",
            function(a, c) {
                a.model = {
                    title: c.title,
                    properties: {
                        layout: c.properties.layout,
                        size: c.properties.size,
                        color: c.properties.color,
                        icon: c.properties.icon,
                        imgSrc: c.properties.imgSrc
                    }
                },
                    a.authError = "",
                    a.confirm = function() {
                        b.extend(c, a.model);
                        var d = parseInt(c.css.height, 10) || 0;
                        a.model.properties.imgSrc && 115 > d && (a.model.btnStyle = {
                            width: "320px",
                            height: "115px",
                            lineHeight: "115px",
                            backgroundColor: "transparent"
                        }),
                            "counter-tb" === a.model.properties.layout && (!a.model.properties.imgSrc && 80 > d && (a.model.btnStyle = {
                            height: "80px",
                            lineHeight: "80px"
                        }), a.model.properties.imgSrc && 155 > d && (a.model.btnStyle = a.model.btnStyle || {},
                            a.model.btnStyle.height = a.model.btnStyle.lineHeight = "155px")),
                            a.$close(a.model)
                    },
                    a.cancel = function() {
                        a.$dismiss()
                    },
                    a.chooseEqfont = function(b) {
                        a.model.properties.icon = b,
                            a.model.properties.imgSrc = null
                    }
            }]),
        b.module("scene.create.console.setting.style", ["colorpicker.module", "app.directives.style", "app.directives.uislider", "app.directives.limitInput"]),
        b.module("scene.create.console.setting.style").controller("StyleConsoleCtrl", ["$scope", "sceneService",
            function(a, b) {
                var c = a.elemDef = b.currentElemDef;
                delete c.css.borderTopLeftRadius,
                    delete c.css.borderTopRightRadius,
                    delete c.css.borderBottomLeftRadius,
                    delete c.css.borderBottomRightRadius,
                    delete c.css.border;
                var d = c.css,
                    e = $("#inside_" + a.elemDef.id + " > .element-box");
                if (a.model = {
                    backgroundColor: d.backgroundColor || "",
                    opacity: 100 - 100 * d.opacity || 0,
                    color: d.color || "#676767",
                    borderWidth: parseInt(d.borderWidth, 10) || 0,
                    borderStyle: d.borderStyle || "solid",
                    borderColor: d.borderColor || "rgba(0,0,0,1)",
                    paddingBottom: parseInt(d.paddingBottom, 10) || 0,
                    paddingTop: parseInt(d.paddingTop, 10) || 0,
                    lineHeight: +d.lineHeight || 1,
                    borderRadius: parseInt(d.borderRadius, 10) || 0,
                    transform: d.transform && parseInt(d.transform.replace("rotateZ(", "").replace("deg)", ""), 10) || 0
                },
                    a.maxRadius = Math.min(e.outerWidth(), e.outerHeight()) / 2 + 10, d.borderRadiusPerc ? a.model.borderRadiusPerc = parseInt(d.borderRadiusPerc, 10) : d.borderRadius ? "999px" == d.borderRadius ? a.model.borderRadiusPerc = 100 : (a.model.borderRadiusPerc = parseInt(100 * parseInt(d.borderRadius, 10) * 2 / Math.min(e.outerWidth(), e.outerHeight()), 10), a.model.borderRadiusPerc > 100 && (a.model.borderRadiusPerc = 100)) : a.model.borderRadiusPerc = 0, a.tmpModel = {
                    boxShadowDirection: 0,
                    boxShadowX: 0,
                    boxShadowY: 0,
                    boxShadowBlur: 0,
                    boxShadowSize: 0,
                    boxShadowColor: "rgba(0,0,0,0.5)"
                },
                    d.boxShadow) {
                    var f = d.boxShadow.split(" ");
                    a.tmpModel.boxShadowX = parseInt(f[0], 10),
                        a.tmpModel.boxShadowY = parseInt(f[1], 10),
                        a.tmpModel.boxShadowDirection = parseInt(d.boxShadowDirection, 10) || 0,
                        a.tmpModel.boxShadowBlur = parseInt(f[2], 10),
                        a.tmpModel.boxShadowColor = f[3],
                        a.tmpModel.boxShadowSize = parseInt(d.boxShadowSize, 10) || 0
                }
                a.clear = function() {
                    a.model = {
                        backgroundColor: "",
                        opacity: 0,
                        color: "#676767",
                        borderWidth: 0,
                        borderStyle: "solid",
                        borderColor: "rgba(0,0,0,1)",
                        paddingBottom: 0,
                        paddingTop: 0,
                        lineHeight: 1,
                        borderRadius: 0,
                        transform: 0
                    },
                        a.tmpModel = {
                            boxShadowDirection: 0,
                            boxShadowX: 0,
                            boxShadowY: 0,
                            boxShadowBlur: 0,
                            boxShadowSize: 0,
                            boxShadowColor: "rgba(0,0,0,0.5)"
                        }
                },
                    a.$watch("tmpModel",
                        function(b, d) {
                            var e = {};
                            $.extend(!0, e, a.model),
                                e.borderRadius += "px",
                                e.borderTopLeftRadius = e.borderTopRightRadius = e.borderBottomLeftRadius = e.borderBottomRightRadius = e.borderRadius,
                                e.opacity = (100 - a.model.opacity) / 100,
                                e.boxShadow = Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor,
                                e.boxShadowDirection = a.tmpModel.boxShadowDirection,
                                e.boxShadowSize = a.tmpModel.boxShadowSize,
                                e.transform = "rotateZ(" + a.model.transform + "deg)",
                                $.extend(!0, c.css, e)
                        },
                        !0),
                    a.$watch("model",
                        function(b, d) {
                            var e = {};
                            $.extend(!0, e, a.model),
                                e.borderRadius += "px",
                                e.borderTopLeftRadius = e.borderTopRightRadius = e.borderBottomLeftRadius = e.borderBottomRightRadius = e.borderRadius,
                                e.opacity = (100 - a.model.opacity) / 100,
                                e.boxShadow = Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor,
                                e.boxShadowDirection = a.tmpModel.boxShadowDirection,
                                e.boxShadowSize = a.tmpModel.boxShadowSize,
                                e.transform = "rotateZ(" + a.model.transform + "deg)",
                                $.extend(!0, c.css, e)
                        },
                        !0)
            }]).directive("styleInput", ["multiCompResize",
            function(a) {
                return {
                    restrict: "AE",
                    link: function(a, b, c) {
                        var d = $("#inside_" + a.elemDef.id + " > .element-box");
                        $("#inside_" + a.elemDef.id, "#nr");
                        a.$watch(function() {
                                return $(b).val()
                            },
                            function(e, f) {
                                if (e != f) {
                                    if ("borderWidth" == c.cssItem) {
                                        d.css({
                                            borderStyle: a.model.borderStyle,
                                            borderWidth: $(b).val()
                                        });
                                        var g = {
                                            width: d.width(),
                                            height: d.height()
                                        };
                                        if (4 == a.elemDef.type) {
                                            var h = d.find("img"),
                                                i = h.width() / h.height(),
                                                j = g.width / g.height;
                                            i >= j ? (h.outerHeight(g.height), h.outerWidth(g.height * i), h.css("marginLeft", -(h.outerWidth() - g.width) / 2), h.css("marginTop", 0)) : (h.outerWidth(g.width), h.outerHeight(g.width / i), h.css("marginTop", -(h.outerHeight() - g.height) / 2), h.css("marginLeft", 0)),
                                                a.elemDef.properties.imgStyle.marginTop = h.css("marginTop"),
                                                a.elemDef.properties.imgStyle.marginLeft = h.css("marginLeft"),
                                                a.elemDef.properties.imgStyle.width = h.outerWidth(),
                                                a.elemDef.properties.imgStyle.height = h.outerHeight()
                                        }
                                    }
                                    if ("borderRadius" == c.cssItem && d.css({
                                        borderRadius: a.model.borderRadius
                                    }), "opacity" == c.cssItem && d.css({
                                        opacity: (100 - $(b).val()) / 100
                                    }), "backgroundColor" == c.cssItem && d.css({
                                        backgroundColor: $(b).val()
                                    }), "color" == c.cssItem && (d.css({
                                        color: $(b).val()
                                    }), "h" == a.elemDef.type)) {
                                        var k = d.find("svg");
                                        k.find("g").length ? k.find("g").attr("fill", $(b).val()) : k.children().attr("fill", $(b).val())
                                    }
                                    "borderStyle" == c.cssItem && d.css({
                                        borderStyle: a.model.borderStyle
                                    }),
                                        "borderColor" == c.cssItem && d.css({
                                        borderColor: a.model.borderColor
                                    }),
                                        "padding" == c.cssItem && d.css({
                                        paddingTop: a.model.paddingTop,
                                        marginTop: -a.model.paddingBottom
                                    }),
                                        "lineHeight" == c.cssItem && d.css({
                                        lineHeight: a.model.lineHeight
                                    }),
                                        "transform" == c.cssItem && d.parents("li").css({
                                        transform: "rotateZ(" + a.model.transform + "deg)"
                                    }),
                                        "boxShadow" == c.cssItem && (a.tmpModel.boxShadowX = -Math.sin(a.tmpModel.boxShadowDirection * Math.PI / 180) * a.tmpModel.boxShadowSize, a.tmpModel.boxShadowY = Math.cos(a.tmpModel.boxShadowDirection * Math.PI / 180) * a.tmpModel.boxShadowSize, d.css({
                                        boxShadow: Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor
                                    }))
                                }
                            })
                    }
                }
            }]).directive("angleKnob",
            function() {
                return {
                    restrict: "AE",
                    templateUrl: "scene/console/angle-knob.tpl.html",
                    link: function(a, b, c) {
                        function d(a, b) {
                            var c = Math.sqrt((a - 28) * (a - 28) + (b - 28) * (b - 28)) / 28,
                                d = 28 + (a - 28) / c,
                                e = 28 + (b - 28) / c;
                            g.css({
                                top: Math.round(e),
                                left: Math.round(d)
                            })
                        }
                        function e(a, b) {
                            var c = a - 28,
                                d = 28 - b,
                                e = 180 * Math.atan(c / d) / Math.PI;
                            return b > 28 && (e += 180),
                                28 >= b && 28 > a && (e += 360),
                                Math.round(e)
                        }
                        var f = $(b).find(".sliderContainer"),
                            g = $(b).find(".sliderKnob");
                        a.$watch(function() {
                                return a.tmpModel.boxShadowDirection
                            },
                            function(a) {
                                g.css({
                                    top: 28 - 28 * Math.cos(a * Math.PI / 180),
                                    left: 28 + 28 * Math.sin(a * Math.PI / 180)
                                })
                            }),
                            0 !== a.tmpModel.boxShadowDirection && g.css({
                            top: 28 - 28 * Math.cos(a.tmpModel.boxShadowDirection * Math.PI / 180),
                            left: 28 + 28 * Math.sin(a.tmpModel.boxShadowDirection * Math.PI / 180)
                        }),
                            f.bind("mousedown",
                                function(b) {
                                    b.stopPropagation();
                                    var c = f.offset().left,
                                        g = f.offset().top;
                                    d(b.pageX - c, b.pageY - g);
                                    var h = e(b.pageX - c, b.pageY - g);
                                    a.tmpModel.boxShadowDirection = h,
                                        a.$apply(),
                                        $(this).bind("mousemove",
                                            function(b) {
                                                b.stopPropagation(),
                                                    d(b.pageX - c, b.pageY - g);
                                                var f = e(b.pageX - c, b.pageY - g);
                                                a.tmpModel.boxShadowDirection = f,
                                                    a.$apply()
                                            }),
                                        $(this).bind("mouseup mouseleave",
                                            function(a) {
                                                $(this).unbind("mousemove"),
                                                    $(this).unbind("mouseup mouseleave")
                                            })
                                })
                    }
                }
            }),
        b.module("scene.create.console.tel", ["app.directives.addelement"]),
        b.module("scene.create.console.tel").controller("TelConsoleCtrl", ["$scope", "$timeout", "$translate", "localizedMessages", "obj", "$modal",
            function(a, c, d, e, f, g) {
                a.model = {
                    title: f.properties.title,
                    number: f.properties.number,
                    imgSrc: f.properties.imgSrc
                },
                    a.authError = "",
                    a.buttons = [{
                        id: 1,
                        text: d.instant("scene.create.tel.buttonText.call1"),
                        btnStyle: {
                            width: "100px",
                            backgroundColor: "rgb(244, 113, 31)",
                            height: "40px",
                            "text-align": "center",
                            "line-height": "40px",
                            color: "rgb(255, 255, 255)"
                        }
                    },
                        {
                            id: 2,
                            text: d.instant("scene.create.tel.buttonText.hotline"),
                            btnStyle: {
                                width: "100px",
                                backgroundColor: "rgb(253, 175, 7)",
                                height: "40px",
                                "text-align": "center",
                                "line-height": "40px",
                                color: "rgb(255, 255, 255)"
                            }
                        },
                        {
                            id: 3,
                            text: d.instant("scene.create.tel.buttonText.call2"),
                            btnStyle: {
                                width: "100px",
                                backgroundColor: "rgb(121, 196, 80)",
                                height: "40px",
                                "text-align": "center",
                                "line-height": "40px",
                                color: "rgb(255, 255, 255)"
                            }
                        },
                        {
                            id: 4,
                            text: d.instant("scene.create.tel.buttonText.call1"),
                            btnStyle: {
                                width: "100px",
                                height: "40px",
                                backgroundColor: "#fff",
                                "text-align": "center",
                                border: "1px solid #3FB816",
                                "line-height": "40px",
                                color: "rgb(0, 0, 0)"
                            }
                        }],
                    a.openImageModal = function() {
                        g.open({
                            windowClass: "img_console console",
                            templateUrl: "scene/console/bg.tpl.html",
                            controller: "BgConsoleCtrl",
                            resolve: {
                                obj: function() {
                                    return {
                                        fileType: 1
                                    }
                                }
                            }
                        }).result.then(function(b) {
                                a.model.title = "",
                                    a.btnIndex = -1,
                                    a.model.btnStyle = {
                                        width: "115px",
                                        height: "115px",
                                        "line-height": "1",
                                        backgroundColor: "transparent"
                                    },
                                    a.model.imgSrc = f.properties.imgSrc = b.data
                            },
                            function(a) {})
                    },
                    b.forEach(a.buttons,
                        function(b, c) {
                            "" !== a.model.title && f.css.backgroundColor && f.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
                        }),
                    a.confirm = function() {
                        return null != a.model.imgSrc || a.model.title && 0 !== a.model.title.length ? a.model.number && 0 !== a.model.title.number ? void a.$close(a.model) : (a.authError = d.instant("scene.create.tel.TEL_TIP"), void $('.form-list input[type="text"].tel-button').focus()) : (a.authError = d.instant("scene.create.tel.BUTTON_NAME_TIP"), void $('.form-list input[type="text"].btn-name').focus())
                    },
                    a.cancel = function() {
                        a.$dismiss()
                    },
                    a.chooseTabButton = function(b, c) {
                        a.model.title = b.text,
                            a.model.btnStyle = b.btnStyle,
                            a.btnIndex = c,
                            a.model.imgSrc = f.properties.imgSrc = null
                    }
            }]),
        b.module("scene.create.console.setting.trigger", ["colorpicker.module", "app.directives.style", "app.directives.uislider", "app.directives.limitInput", "scene.edit.trigger"]),
        b.module("scene.create.console.setting.trigger").controller("TriggerConsoleCtrl", ["$scope", "$rootScope", "$translate", "sceneService", "triggerService", "$modal", "ModalService", "i18nNotifications",
            function(a, c, d, e, f, g, h, i) {
                function j() {
                    var b = f.getTrigger(m.id);
                    if (b && b.sends.length) for (l(b.sends), u = 0; u < b.sends.length && a.triggerEvents[u]; u++) u > 0 ? b.sends[u].delay = b.sends[u - 1].delay + a.triggerEvents[u].delay: b.sends[u].delay = a.triggerEvents[u].delay;
                    $.each(n,
                        function(a, b) {
                            f.clearTrigger(a);
                            var c = f.getTrigger(a);
                            c && c.sends.length && l(c.sends),
                                c ? b.trigger = c: delete b.trigger
                        })
                }
                function k() {
                    if (m) {
                        var c = f.getTrigger(m.id);
                        if (c && c.sends.length) {
                            l(c.sends),
                                a.triggerEvents = [];
                            var d = b.copy(c.sends);
                            b.forEach(d,
                                function(c, e) {
                                    if (a.triggerEvents.push({}), b.forEach(c.handles,
                                        function(c, d) {
                                            1 != c.type && 2 != c.type || !c.ids.length ? 3 == c.type && c.ids.length && (a.triggerEvents[e] = b.copy(a.eventTypes[1]), a.triggerEvents[e].type = 2) : (a.triggerEvents[e] = b.copy(a.eventTypes[0]), a.triggerEvents[e].type = 1)
                                        }), e > 0) for (u = 0; e > u; u++) c.delay -= d[u].delay;
                                    a.triggerEvents[e].handles = c.handles,
                                        c.delay ? a.triggerEvents[e].delay = c.delay: a.triggerEvents[e].delay = 0
                                })
                        }
                        a.triggerEvents.length && $.each(a.triggerEvents,
                            function(a, b) {
                                b.triggerElements = [],
                                    b.handles && b.handles.length && $.each(b.handles,
                                    function(a, c) {
                                        c.ids.length && $.each(c.ids,
                                            function(a, d) {
                                                b.triggerElements.push({
                                                    id: d,
                                                    handleType: c
                                                })
                                            })
                                    })
                            })
                    }
                }
                function l(a) {
                    for (var b = 0; b < a.length; b++)"undefined" == typeof a[b].sendIndex && a[b].hasOwnProperty("sendIndex") && (a.splice(b, 1), b--)
                }
                a.sendTypes = utilTrigger.getSendType(),
                    a.sendType = a.sendTypes.CLICK;
                var m = a.elemDef = e.currentElemDef,
                    n = e.getElementsMap(),
                    o = (utilTrigger.getHandleType(), e.getSceneObj().obj);
                if (o && o.elements.length) {
                    a.triggerSources = [];
                    var p = b.copy(o.elements);
                    $.each(p,
                        function(b, c) { ("2" == c.type || "4" == c.type || "h" == c.type || "x" == c.type) && ("2" == c.type ? c.name = "文字": "4" == c.type ? c.name = "图片": "h" == c.type ? c.name = "形状": "x" == c.type && (c.name = "秀字体"), a.triggerSources.push(c))
                        }),
                        $.each(a.triggerSources,
                            function(a, b) {
                                b.name += a + 1
                            })
                }
                a.$watch("elemDef",
                    function(b, c) {
                        b && (m = b, $.each(a.triggerSources,
                            function(c, d) {
                                d.id == b.id && (a.sourceElem = d)
                            }))
                    },
                    !0),
                    a.eventTypes = [{
                        name: "existElement",
                        value: 1,
                        title: d.instant("scene.create.trigger.SELECT_EXIST_ELEMENT"),
                        children: [{
                            type: "SHOW",
                            title: d.instant("scene.create.trigger.triggertype.SHOW")
                        },
                            {
                                type: "HIDE",
                                title: d.instant("scene.create.trigger.triggertype.HIDE")
                            }]
                    },
                        {
                            name: "randomEvent",
                            value: 2,
                            title: d.instant("scene.create.trigger.triggertype.RANDOM_IMAGE")
                        }],
                    m && (4 == m.type ? a.triggerOriginal = d.instant("scene.create.trigger.triggerelement.IMAGE") + "1": "2" == m.type ? a.triggerOriginal = d.instant("scene.create.trigger.triggerelement.TEXT") + "1": "h" == m.type ? a.triggerOriginal = d.instant("scene.create.trigger.triggerelement.SHAPE") + "1": "x" == m.type && (a.triggerOriginal = d.instant("scene.create.trigger.triggerelement.SHOW_TEXT") + "1")),
                    a.selectTriggerOriginal = function() {
                        c.$broadcast("select.trigger.original")
                    },
                    a.triggerEvents = [],
                    a.addTriggerEvent = function(b, c) {
                        if (!a.sourceElem) return void i.pushForCurrentRoute("select.trigger.source", "notify.success");
                        a.triggerEvents.push({
                            title: b.title,
                            value: b.value,
                            delay: 0
                        });
                        a.triggerEvents.length;
                        1 == b.value ? a.addTriggerItem(a.triggerEvents[c], c) : 2 == b.value && a.addRandomImg(a.triggerEvents[c], c)
                    },
                    a.addTriggerItem = function(b, d, e) {
                        a.currentTriggerEvent = b,
                            a.currentIndex = d,
                            c.$broadcast("element.triggered.add", b, d)
                    },
                    a.addRandomImg = function(b, c) {
                        a.currentTriggerEvent = b,
                            a.currentIndex = c,
                            e.createComp("n")
                    },
                    a.$on("create.randomevent.trigger",
                        function(b, d) {
                            c.$broadcast("show.random.trigger", m, d, a.currentIndex)
                        }),
                    a.$on("receive.element.update",
                        function(c, d, e, g, h) {
                            a.triggeredElements = [];
                            a.currentTriggerEvent ? a.currentTriggerEvent.handles = [] : a.triggerEvents && (a.triggerEvents[h].handles = []);
                            var i = f.getTrigger(m.id).sends;
                            i.length && l(i),
                                b.forEach(i,
                                    function(b, c) {
                                        a.triggerEvents[h].handles = b.handles
                                    }),
                                j(),
                                k()
                        }),
                    a.switchShow = function(a, b, d, e) {
                        c.$broadcast("switch.triggered.state", a, b, d, e)
                    },
                    a.removeTrigger = function(b, c) {
                        var d = m.id,
                            e = f.getTrigger(d);
                        if (e && e.sends) {
                            if (l(e.sends), !e.sends[b]) return void a.triggerEvents.splice(b, 1);
                            f.deleteTriggerBySendIndex(b, d),
                                $.each(e.sends,
                                    function(a, b) {
                                        b.sendIndex = a
                                    })
                        }
                        a.triggerEvents.splice(b, 1)
                    },
                    a.getTriggerSources = function(b) {
                        a.triggerEvents = [],
                            b && ($("#nr").find("#inside_" + b.id).trigger("mousedown"), m = a.elemDef = n[b.id], k())
                    },
                    k(),
                    a.confirm = function() {
                        j(),
                            c.$broadcast("close.style.panel")
                    },
                    a.cancelTriggerElem = function(a, b) {
                        var d = m.id;
                        c.$broadcast("cancel.element.trigger", a, d, b),
                            k()
                    },
                    a.editRandomElem = function() {},
                    a.clear = function() {
                        f.resetTrigger(m.id),
                            a.triggerEvents = []
                    }
            }]).directive("eqxTrigger", ["$compile", "$translate", "sceneService", "triggerService",
            function(a, b, c, d) {
                function e(a, e, o) {
                    var p, q = c.currentElemDef,
                        r = $("#nr");
                    r.find(".edit_area").find("li");
                    a.$on("element.triggered.add",
                        function(b, c, d) {
                            $(".switch-original").remove(),
                                p = $("#inside_" + a.elemDef.id);
                            var e = $('<div class="switch-original">');
                            p.append(e).children(".bar").hide(),
                                f(a, a.elemDef, c, d)
                        }),
                        a.$on("create.trigger.menu",
                            function(b, c, d) {
                                if (!c.find(".switch-original").length) {
                                    var e = g(a, c);
                                    l(e, "triggerMenu", d)
                                }
                            }),
                        a.$on("switch.triggered.state",
                            function(b, c, d, e, f) {
                                var g = $("#inside_" + e);
                                d.type;
                                c ? h(g, a.sendType, m, q.id, e, f) : i(g, a.sendType, m, q.id, e, f)
                            }),
                        a.$on("show.random.trigger",
                            function(b, c, e, f) {
                                d.getSendIds(m.RANDOMEVENT.value, c.id);
                                var g = utilTrigger.getHandleType().RANDOMEVENT.value;
                                k(a.sendType, g, c.id, e.id, f);
                                d.getTrigger(c.id)
                            }),
                        a.$on("close.style.panel",
                            function(a) {
                                $("#comp_setting").hide(),
                                    $(".edit_area").find(".boom, .boom1").remove()
                            }),
                        a.$on("cancel.element.trigger",
                            function(b, d, e, f) {
                                if (p = $("#inside_" + d), j(p, a.sendType, m, e, d, f), "n" == n[d].type && ($("#nr").find("#inside_" + d).remove(), c.deleteElement(d)), a.triggerEvents.length) for (var g = 0; g < a.triggerEvents.length; g++) {
                                    var h = !0;
                                    if (a.triggerEvents[g].handles) for (var i = 0; i < a.triggerEvents[g].handles.length; i++) a.triggerEvents[g].handles[i].ids.length && (h = !1);
                                    h && (a.triggerEvents.splice(g, 1), g--)
                                }
                            }),
                        a.$on("select.trigger.original",
                            function(d) {
                                var e = r.find(".edit_area").children("li");
                                $('<div class="mask-trigger">').insertAfter(".edit_area").click(function() {
                                    $(this).remove(),
                                        e.each(function() {
                                            var a = $(this),
                                                b = a.attr("ctype"),
                                                c = parseInt(a.attr("id").replace("inside_", ""), 10); (2 == b || 4 == b || "h" == b || "x" == b) && a.css({
                                                "background-color": "",
                                                "z-index": n[c].css.zIndex
                                            })
                                        });
                                    var d = parseInt($(".switch-original").parent().attr("id").replace("inside_", ""), 10);
                                    q = a.elemDef = c.currentElemDef = n[d],
                                            "4" == q.type ? $scope.triggerOriginal = b.instant("scene.create.trigger.triggerelement.IMAGE") + "1": "2" == q.type ? $scope.triggerOriginal = b.instant("scene.create.trigger.triggerelement.TEXT") + "1": "h" == q.type ? $scope.triggerOriginal = b.instant("scene.create.trigger.triggerelement.SHAPE") + "1": "x" == q.type && ($scope.triggerOriginal = b.instant("scene.create.trigger.triggerelement.SHOW_TEXT") + "1"),
                                        a.$apply()
                                }),
                                    e.each(function() {
                                        var a = $(this),
                                            b = a.attr("ctype"); (2 == b || 4 == b || "h" == b || "x" == b) && a.css({
                                            "background-color": "rgba(255,255,255,0.9)",
                                            "z-index": 10001
                                        })
                                    })
                            })
                }
                function f(b, c, e, f) {
                    var g = $("#nr"),
                        h = g.find(".edit_area").children("li");
                    g.find(".mask-trigger").remove(),
                        a('<div class="trigger-elem-list" trigger-elem-list panel-draggable></div>')(b).appendTo(".content"),
                        $('<div class="mask-trigger">').insertAfter("#nr .edit_area");
                    var i;
                    if (d.getTrigger(c.id) && (i = d.getTrigger(c.id).sends), h.each(function() {
                        var a = $(this),
                            b = a.attr("ctype"); (2 == b || 4 == b || "h" == b || "x" == b) && (a.css({
                            "background-color": "rgba(255,255,255,0.9)",
                            "z-index": 10001
                        }), i && i.length && $.each(i,
                            function(b, c) {
                                b != f && $.each(c.handles,
                                    function(b, c) {
                                        c.ids.length && $.each(c.ids,
                                            function(b, c) {
                                                a.attr("id") == "inside_" + c && a.css({
                                                    "background-color": "",
                                                    "z-index": ""
                                                })
                                            })
                                    })
                            }))
                    }), c) {
                        var j = [];
                        $.each(m,
                            function(a, b) {
                                if (2 != b.value) {
                                    var e = d.getSendIds(b.value, c.id);
                                    $.each(e,
                                        function(a, b) {
                                            j.push(b)
                                        })
                                }
                            }),
                            $.each(j,
                                function(a, b) {
                                    var c = g.find("#inside_" + b);
                                    c.css({
                                        "background-color": "",
                                        "z-index": ""
                                    })
                                }),
                            $("#comp_setting").css({
                                zIndex: ""
                            })
                    }
                }
                function g(a, b) {
                    var c = a.currentIndex,
                        d = $('<ul id="triggerMenu" class="dropdown-menu" style="min-width: 100px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="trigger-show" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-dengpao1"></div>显示</a></li><li class="trigger-hide" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-dengpao1" style="color: #5F5F5F;"></div>隐藏</a></li><li class="trigger-none" role="presentation"><a role="menuitem" tabindex="-1"><div style="width: 21px;"></div>取消</a></li></ul>').css({
                            position: "absolute",
                            "user-select": "none"
                        }),
                        e = $(".edit_area").find(".switch-original"),
                        f = parseInt(e.parent().attr("id").replace("inside_", ""), 10),
                        g = parseInt(b.attr("id").replace("inside_", ""), 10);
                    return d.children(".trigger-show").click(function() {
                        h(b, a.sendType, m, f, g, c),
                            d.hide(),
                            a.$apply()
                    }),
                        d.children(".trigger-hide").click(function() {
                            i(b, a.sendType, m, f, g, c),
                                d.hide(),
                                a.$apply()
                        }),
                        d.children(".trigger-none").click(function() {
                            j(b, a.sendType, m, f, g, c),
                                d.hide(),
                                $.each(a.triggerElements,
                                    function(a, b) {
                                        g == b.id && (b.checked = !1, b.triggerType = "")
                                    }),
                                a.$apply()
                        }),
                        d
                }
                function h(a, b, c, e, f, g) {
                    a.children(".boom").length || (a.children(".boom1").remove(), $('<div class="boom">').appendTo(a), d.deleteTrigger(b.value, c.HIDE.value, e, f, g), d.addTrigger(b.value, c.SHOW.value, e, f, g))
                }
                function i(a, b, c, e, f, g) {
                    a.children(".boom1").length || (a.children(".boom").remove(), $('<div class="boom1">').appendTo(a), d.deleteTrigger(b.value, c.SHOW.value, e, f, g), d.addTrigger(b.value, c.HIDE.value, e, f, g))
                }
                function j(a, b, c, e, f, g) {
                    a.children(".boom, .boom1").remove(),
                        d.deleteTrigger(b.value, c.SHOW.value, e, f, g),
                        d.deleteTrigger(b.value, c.HIDE.value, e, f, g),
                        d.deleteTrigger(b.value, c.RANDOMEVENT.value, e, f, g)
                }
                function k(a, b, c, e, f) {
                    d.deleteTrigger(a.value, b, c, e, f),
                        d.addTrigger(a.value, b, c, e, f)
                }
                function l(a, b, c) {
                    var d = $("#eq_main");
                    $("#" + b).remove(),
                        a.css({
                            left: c.pageX + d.scrollLeft() + 15,
                            top: c.pageY + d.scrollTop(),
                            zIndex: 10001
                        }).appendTo(d),
                        d.mousemove(function(c) {
                            a = $("#" + b),
                                (c.pageX < a.offset().left - 20 || c.pageX > a.offset().left + a.width() + 20 || c.pageY < a.offset().top - 20 || c.pageY > a.offset().top + a.height() + 20) && (a.hide(), $(this).unbind("mousemove"))
                        })
                }
                var m = (utilTrigger.getSendType(), utilTrigger.getHandleType()),
                    n = c.getElementsMap();
                return {
                    restrict: "EA",
                    link: e
                }
            }]).directive("hoverElement", ["$translate",
            function(a) {
                function b(b, d, e) {
                    var f;
                    $blinkElement = $('<div class="blink-element"></div>');
                    var g = $("#inside_" + b.id);
                    "4" == g.attr("ctype") ? $("#tip_" + b.id).html(a.instant("scene.create.trigger.triggerelement.IMAGE")) : "2" == g.attr("ctype") ? $("#tip_" + b.id).html(a.instant("scene.create.trigger.triggerelement.TEXT")) : "3" == g.attr("ctype") ? $("#tip_" + b.id).html(a.instant("scene.create.trigger.triggerelement.RANDOM_IMAGE")) : "h" == g.attr("ctype") ? $("#tip_" + b.id).html(a.instant("scene.create.trigger.triggerelement.SHAPE")) : "x" == g.attr("ctype") && $("#tip_" + b.id).html(a.instant("scene.create.trigger.triggerelement.SHOW_TEXT")),
                        d.hover(function(a) {
                                c = $("#inside_" + b.id),
                                    c.find(".blink-element").length || $blinkElement.appendTo(c),
                                    f = setInterval(function() {
                                            $blinkElement.toggleClass("red-border")
                                        },
                                        1e3)
                            },
                            function(a) {
                                $blinkElement.remove(),
                                    clearInterval(f)
                            })
                }
                var c;
                return {
                    restrict: "EA",
                    scope: {
                        id: "="
                    },
                    link: b
                }
            }]).directive("leavePanel",
            function() {
                function a(a, b, c) {
                    b.hover(function() {},
                        function() {
                            a.obj = {
                                showTriggerPanel: !1
                            },
                                a.$apply()
                        })
                }
                return {
                    restrict: "EA",
                    link: a
                }
            }).directive("triggerElemList", ["$translate", "sceneService", "triggerService",
                function(a, c, d) {
                    function e(e, g, h) {
                        var i = b.copy(c.getSceneObj().obj.elements),
                            j = c.getElementsMap(),
                            k = {};
                        e.triggerElements = [];
                        var l = e.elemDef.trigger,
                            m = $("#nr").find(".edit_area").children("li");
                        $.each(i,
                            function(a, b) { ("2" == b.type || "4" == b.type || "h" == b.type || "x" == b.type) && (k[b.type] || (k[b.type] = []), k[b.type].push(b))
                            }),
                            $.each(k,
                                function(b, c) {
                                    $.each(c,
                                        function(b, c) {
                                            "4" == c.type ? c.name = a.instant("scene.create.trigger.triggerelement.IMAGE") : "2" == c.type ? c.name = a.instant("scene.create.trigger.triggerelement.TEXT") : "h" == c.type ? c.name = a.instant("scene.create.trigger.triggerelement.SHAPE") : "x" == c.type && (c.name = a.instant("scene.create.trigger.triggerelement.SHOW_TEXT")),
                                                c.name += b + 1,
                                                c.id != e.elemDef.id && e.triggerElements.push(c)
                                        })
                                }),
                            l && l.sends && $.each(l.sends,
                            function(a, b) {
                                a != e.currentIndex && $.each(b.handles,
                                    function(a, b) {
                                        b.ids.length && $.each(b.ids,
                                            function(a, b) {
                                                for (var c = 0; c < e.triggerElements.length; c++) e.triggerElements[c].id == b && (e.triggerElements.splice(c, 1), c--)
                                            })
                                    })
                            }),
                            e.changed = function(a) {
                                a.checked ? (d.deleteTrigger(e.sendType.value, f.HIDE.value, e.elemDef.id, a.id, e.currentIndex), d.addTrigger(e.sendType.value, f.SHOW.value, e.elemDef.id, a.id, e.currentIndex)) : (d.deleteTrigger(e.sendType.value, f.SHOW.value, e.elemDef.id, a.id, e.currentIndex), d.deleteTrigger(e.sendType.value, f.HIDE.value, e.elemDef.id, a.id, e.currentIndex))
                            },
                            e.confirmList = function() {
                                $(".mask-trigger").remove(),
                                    $(".trigger-list").remove(),
                                    e.elemDef && ($(".switch-original").remove(), $("#triggerMenu").hide(), $(".edit_area").find(".boom, .boom1").remove()),
                                    m.each(function() {
                                        var a = $(this),
                                            b = a.attr("ctype"),
                                            c = parseInt(a.attr("id").replace("inside_", ""), 10); (2 == b || 4 == b || "h" == b || "x" == b) && a.css({
                                            "background-color": "",
                                            "z-index": j[c].css.zIndex
                                        })
                                    });
                                var a = !1;
                                e.elemDef.trigger && e.elemDef.trigger.sends && e.elemDef.trigger.sends[e.currentIndex] ? ($.each(e.elemDef.trigger.sends[e.currentIndex].handles,
                                    function(b, c) {
                                        c.ids.length && (a = !0)
                                    }), a || e.triggerEvents.splice(e.currentIndex, 1)) : e.triggerEvents.splice(e.currentIndex, 1)
                            },
                            e.$watch("elemDef",
                                function(a) {
                                    var b = a.trigger;
                                    b && b.sends && $.each(b.sends,
                                        function(a, b) {
                                            $.each(b.handles,
                                                function(a, b) {
                                                    $.each(b.ids,
                                                        function(a, c) {
                                                            $.each(e.triggerElements,
                                                                function(a, d) {
                                                                    d.id == c && (d.checked = !0, d.triggerType = b.type)
                                                                })
                                                        })
                                                })
                                        })
                                },
                                !0)
                    }
                    var f = (utilTrigger.getSendType(), utilTrigger.getHandleType());
                    return {
                        restrict: "EA",
                        templateUrl: "scene/console/triggerelemlist.tpl.html",
                        replace: !1,
                        link: e
                    }
                }]).directive("highlightElement",
            function() {
                function a(a, b, c) {
                    var d, e = $("#nr").find("li");
                    setTimeout(function() {
                            b.find(".trigger-elem").hover(function(b) {
                                    d = $(this).attr("id").substring(8),
                                        $.each(e,
                                            function(b, c) {
                                                "inside_" + a.elemDef.id != $(c).attr("id") && $(c).css({
                                                    zIndex: "",
                                                    "background-color": ""
                                                })
                                            }),
                                        $("#inside_" + d).css({
                                            "z-index": 10001,
                                            "background-color": "rgba(255,255,255,0.9)"
                                        })
                                },
                                function() {
                                    $.each(a.triggerElements,
                                        function(a, b) {
                                            $("#inside_" + b.id).css({
                                                "z-index": 10001,
                                                "background-color": "rgba(255,255,255,0.9)"
                                            })
                                        })
                                })
                        },
                        0)
                }
                return {
                    restrict: "EA",
                    link: a
                }
            }),
        b.module("scene.create.console.video", []),
        b.module("scene.create.console.video").controller("VideoCtrl", ["$scope", "$timeout", "$translate", "obj",
            function(a, b, c, d) {
                function e(a) {
                    var b = a.substring(a.indexOf("src=") + 4),
                        c = b.substring(b.indexOf("://") + 3),
                        d = c.substring(0, c.indexOf("/"));
                    return d.indexOf("v.qq") >= 0 || d.indexOf("tudou") >= 0 || d.indexOf("youku") >= 0 ? !0 : !1
                }
                a.model || (a.model = {}),
                    a.authError = "",
                    a.model.src = d.properties.src,
                    a.confirm = function() {
                        if (!a.model.src) return $("textarea").focus(),
                            void(a.authError = c.instant("scene.create.video.VIDEO_ADDRESS_TIP"));
                        var b = e(a.model.src);
                        return b ? void a.$close(a.model.src) : ($("textarea").addClass("error"), $("textarea").change(function() {
                            $(this).removeClass("error")
                        }), void(a.authError = c.instant("scene.create.video.NOT_ALLOW_ADD")))
                    },
                    a.cancel = function() {
                        a.$dismiss()
                    }
            }]),
        b.module("scene.create", ["app.directives.editor", "services.scene", "confirm-dialog", "services.modal", "app.directives.component", "services.pagetpl", "save.template", "scene.create.console", "app.directives.comp.editor", "app.directives.addelement", "scene.my.upload", "services.i18nNotifications", "services.history", "security.service", "scene.edit.select", "scene.edit.common", "scene.edit.keymap", "scene.edit.bg", "scene.userGuide"]),
        b.module("scene.create").controller("CreateSceneCtrl", ["$translate", "$timeout", "$compile", "$rootScope", "$scope", "$routeParams", "$route", "$location", "sceneService", "pageTplService", "$modal", "ModalService", "security", "$window", "i18nNotifications", "historyService", "panStateTracker", "selectService", "continueUrl",
            function(c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, v) {
                function w() {
                    var a = !1;
                    return b.forEach(g.tpl.obj.elements,
                        function(b) {
                            6 == ("" + b.type).charAt(0) && (a = !0)
                        }),
                        a
                }
                function x(a, d, e, h) {
                    g.loading = !0,
                        g.pageId = g.pages[a - 1].id,
                        k.getSceneByPage(g.pageId, d, e).then(function(h) {
                                g.loading = !1,
                                    g.tpl = h.data,
                                    D = g.tpl.obj.properties,
                                    delete g.tpl.obj.scene,
                                    A = JSON.stringify(g.tpl),
                                    g.sceneId = g.tpl.obj.sceneId,
                                    g.controlView.showBgTag = !1,
                                    b.forEach(g.tpl.obj.elements,
                                        function(a, b) {
                                            3 == a.type && (g.controlView.showBgTag = !0, g.currentBgDef = a)
                                        }),
                                    D && (D.image || D.scratch) && (g.effectName = c.instant("scene.create.SCRATCH")),
                                    D && D.finger && (g.effectName = c.instant("scene.create.FINGER")),
                                    D && D.effect && ("money" == D.effect.name ? g.effectName = c.instant("scene.create.MONEY") : "snowFly" == D.effect.name ? g.effectName = c.instant("scene.create.SNOWFLY") : "fireWorks" == D.effect.name ? g.effectName = c.instant("scene.create.FIREWORKS") : "none" == D.effect.name && (g.effectName = c.instant("scene.create.NONE"))),
                                    D && D.fallingObject && (g.effectName = c.instant("scene.create.FALLINGOBJECT")),
                                    (d || e) && (j.$$search = {},
                                    j.search("pageId", ++a), g.getPageNames()),
                                    g.pageNum = a,
                                    $("#nr").empty();
                                var i = b.copy(g.tpl.obj);
                                i.elements = r.addPage(i.id, i.elements),
                                    k.templateEditor.parse({
                                        def: g.tpl.obj,
                                        appendTo: "#nr",
                                        mode: "edit"
                                    }),
                                    f.$broadcast("dom.changed")
                            },
                            function() {
                                g.loading = !1
                            })
                }
                function y() {
                    q.pushForCurrentRoute("scene.save.success.nopublish", "notify.success")
                }
                g.loading = !1,
                    g.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                    g.tpl = {};
                var z, A = "",
                    B = "";
                g.templateType = 1,
                    g.categoryId = -1,
                    g.controlView = {},
                    g.isEditor = f.isEditor,
                    g.completeHtml2Canvas = null,
                    g.createComp = function(a, b) {
                        return g.sceneSetting.showFlag = !1,
                                "6" == a && w() ? void n.openMsgDialog({
                            msg: c.instant("scene.create.WARNING_BUTTON_ALREADY_EXISTED")
                        }) : void k.createComp(a, null, b)
                    },
                    g.support = function() {
                        a.sessionStorage && "false" === sessionStorage.getItem("checkSuport") || navigator.userAgent.match(/Trident/) && navigator.userAgent.match(/rv:11/) || navigator.userAgent.match(/Chrome/) || (v.setUrl(j.path()), j.path("scene/support"))
                    },
                    g.support(),
                    g.createCompGroup = function(a, d) {
                        g.sceneSetting.showFlag = !1,
                            "g101" == a && w() && (n.openMsgDialog({
                            msg: c.instant("scene.create.WARNING_DELETE_EXISTED_BUTTON")
                        }), b.forEach(g.tpl.obj.elements,
                            function(a) {
                                6 == ("" + a.type).charAt(0) && ($("#nr").find("#inside_" + a.id).remove(), t.deleteElement(a.id), k.deleteElement(a.id))
                            })),
                            k.createCompGroup(a, null, d)
                    },
                    g.isRadioCheckboxRatingAccessable = o.isAllowToAccess(o.accessDef.RADIO_CHECKBOX_RATING),
                    g.isInteractionAccessable = o.isAllowToAccess(o.accessDef.INTERACTION),
                    g.isInteractionCounterAccessable = o.isAllowToAccess(o.accessDef.INTERACTION_COUNTER),
                    g.updateCompPosition = k.updateCompPosition,
                    g.updateCompAngle = k.updateCompAngle,
                    g.updateCompSize = k.updateCompSize,
                    g.openAudioModal = k.openAudioModal,
                    g.openTriggerMode = k.openTriggerMode,
                    g.$on("dom.changed",
                        function(a) {
                            e($("#nr"))(g)
                        });
                var C = null;
                g.$on("showCropPanel",
                    function(a, b) {
                        var c = $(".content").eq(0);
                        C ? (f.$broadcast("changeElemDef", b), C.show()) : C = e("<div crop-image></div>")(g),
                            c.append(C)
                    }),
                    g.openPageEffectModal = function(a) {
                        var c = b.copy(a);
                        m.open({
                            windowClass: "console six-contain effect-console",
                            templateUrl: "scene/pageeffect/pageeffect.tpl.html",
                            controller: "pageEffectCtrl",
                            resolve: {
                                properties: function() {
                                    return c
                                }
                            }
                        }).result.then(function(a) {
                                g.tpl.obj.properties = a.properties,
                                    g.effectName = a.name
                            },
                            function() {
                                f.$broadcast("clear.scratch.interval")
                            })
                    };
                var D, E = null;
                g.$on("showStylePanel",
                    function(a, b) {
                        var c = $(".content").eq(0);
                        E ? E.show() : "style" == b.activeTab ? E = e('<div style-modal active-tab="style"></div>')(g) : "anim" == b.activeTab ? E = e('<div style-modal active-tab="anim"></div>')(g) : "trigger" == b.activeTab && (E = e('<div style-modal active-tab="trigger"></div>')(g)),
                            c.append(E)
                    }),
                    g.$on("hideStylePanel",
                        function(a) {
                            E && E.hide()
                        }),
                    g.refreshPage = function(a, b) {
                        if (g.completeHtml2Canvas) return void g.completeHtml2Canvas.then(function() {
                            g.refreshPage(a, b)
                        });
                        parseInt(b, 10);
                        $("#nr").empty(),
                            k.templateEditor.parse({
                                def: g.tpl.obj,
                                appendTo: "#nr",
                                mode: "edit"
                            }),
                            f.$broadcast("dom.changed")
                    },
                    g.navTo = function(a, b) {
                        g.pageList = !0,
                            g.isEditor && g.sceneId < 2e3 && (g.pageLabelAll.length = 0, g.pageIdTag = a.id, g.getPageTagLabel()),
                            a.id != g.tpl.obj.id && (g.controlView.showBgTag = !1, g.saveScene(null,
                            function() {
                                x(b + 1),
                                    j.$$search = {},
                                    j.search("pageId", a.num)
                            }), s.clear())
                    },
                    g.stopCopy = function() {
                        copied = !1
                    },
                    g.getOriginPageName = function(a) {
                        B = a.name
                    },
                    g.getPageNames = function() {
                        var a = h.sceneId;
                        k.getPageNames(a).then(function(a) {
                            g.pages = a.data.list,
                                b.forEach(g.pages,
                                    function(a, b) {
                                        a.name || (a.name = c.instant("scene.create.PAGE_COUNT_PREFIX") + (b + 1) + c.instant("scene.create.PAGE_COUNT_SUFFIX"))
                                    }),
                                x(j.search().pageId ? j.search().pageId: g.pages[0].num)
                        })
                    },
                    g.scene = null,
                    k.getSceneDetail(h.sceneId, f.branchid).then(function(a) {
                        g.scene = k.getCurrentScene(),
                            g.sceneSetting.oldBgAudio = g.scene.bgAudio,
                            g.getPageNames()
                    }),
                    g.editableStatus = [],
                    g.savePageNames = function(a, b) {
                        a.name || (a.name = c.instant("scene.create.PAGE_COUNT_PREFIX") + (b + 1) + c.instant("scene.create.PAGE_COUNT_SUFFIX")),
                            g.tpl.obj.name = a.name,
                            B != a.name && k.savePageNames(g.tpl.obj).then(function(a) {
                            q.pushForCurrentRoute("page.change.success", "notify.success")
                        })
                    },
                    g.removeScratch = function(a) {
                        a.stopPropagation(),
                            g.tpl.obj.properties = null
                    },
                    g.$on("text.click",
                        function(b, c) {
                            $("#btn-toolbar").remove(),
                                $("body").append(e("<toolbar></toolbar>")(g));
                            var f = $(c).offset().top;
                            d(function() {
                                $("#btn-toolbar").css("top", f - 50),
                                    $("#btn-toolbar").show(),
                                    $("#btn-toolbar").bind("click mousedown",
                                        function(a) {
                                            a.stopPropagation()
                                        }),
                                    $(c).wysiwyg_destroy(),
                                    $(c).wysiwyg(),
                                    $(c).trigger("dblclick").focus(),
                                    setTimeout(function() {
                                        if (a.getSelection) {
                                            var b = a.getSelection();
                                            b.modify("move", "left", "documentboundary"),
                                                b.modify("extend", "right", "documentboundary")
                                        }
                                    })
                            })
                        }),
                    g.updatePosition = function(a) {
                        var b, c, d = g.tpl.obj.elements,
                            e = [];
                        for (c = 0; c < d.length; c++) if ("3" == d[c].type) {
                            d[c].num = 0,
                                e.push(d[c]),
                                d.splice(c, 1);
                            break
                        }
                        for (b = 0; b < a.length; b++) for (c = 0; c < d.length; c++) if (d[c].num == a[b]) {
                            d[c].num = b + 1,
                                e.push(d[c]),
                                d.splice(c, 1);
                            break
                        }
                        g.tpl.obj.elements = e
                    },
                    g.updateEditor = function() {
                        $("#nr").empty(),
                            k.templateEditor.parse({
                                def: g.tpl.obj,
                                appendTo: "#nr",
                                mode: "edit"
                            }),
                            e($("#nr"))(g)
                    };
                var F = !1;
                g.saveScene = function(a, c) {
                    if (!F) {
                        if (g.sceneSetting.showFlag) return void g.sceneSetting.saveSceneSetting().then(function() {
                            g.saveScene(a, c)
                        });
                        if (g.sceneSetting.oldBgAudio != g.scene.bgAudio) return void k.saveSceneSettings(g.scene).then(function() {
                            g.sceneSetting.oldBgAudio = g.scene.bgAudio,
                                g.saveScene(a, c)
                        });
                        if (g.completeHtml2Canvas) return void g.completeHtml2Canvas.then(function() {
                            g.saveScene(a, c)
                        });
                        if (F = !0, A == JSON.stringify(g.tpl)) return c && c(),
                            a && (!g.scene.publishTime || g.scene.updateTime > g.scene.publishTime ? y() : q.pushForCurrentRoute("scene.save.success.published", "notify.success")),
                            void(F = !1);
                        if (JSON.stringify(g.tpl.obj).indexOf("？？？？？") > 0) return alert("您的场景中有异常字符“？？？？？”，请修改后再进行保存。"),
                            void(F = !1);
                        delete g.tpl.obj.scene,
                            k.resetCss(),
                            k.saveScene(g.tpl.obj).then(function(d) {
                                    return F = !1,
                                        d.data.success ? (g.scene.updateTime = (new Date).getTime(), A = b.toJson(g.tpl), z && (k.recordTplUsage(z), z = null), c && c(), void(a && y())) : void alert("保存失败，服务器忙碌请稍后再试。")
                                },
                                function() {
                                    F = !1,
                                        alert("保存失败，服务器忙碌请稍后再试。")
                                })
                    }
                },
                    g.publishScene = function() {
                        return g.sceneSetting.showFlag ? void g.sceneSetting.saveSceneSetting().then(function() {
                            g.publishScene()
                        }) : g.sceneSetting.oldBgAudio != g.scene.bgAudio ? void k.saveSceneSettings(g.scene).then(function() {
                            g.sceneSetting.oldBgAudio = g.scene.bgAudio,
                                g.publishScene()
                        }) : g.completeHtml2Canvas ? void g.completeHtml2Canvas.then(function() {
                            g.publishScene()
                        }) : g.scene.publishTime && g.scene.updateTime <= g.scene.publishTime && A == b.toJson(g.tpl) ? void j.path("my/scene/" + g.sceneId) : void g.saveScene(null,
                            function() {
                                k.publishScene(g.tpl.obj.sceneId).then(function(a) {
                                    a.data.success && (q.pushForNextRoute("scene.publish.success", "notify.success"), j.path("my/scene/" + g.sceneId))
                                })
                            })
                    },
                    g.exitScene = function() {
                        JSON.parse(A);
                        j.$$search = {},
                                A == b.toJson(g.tpl) ? j.path("main") : n.openConfirmDialog({
                                msg: c.instant("scene.create.CONFIRM_TO_SAVE_CHANGES"),
                                confirmName: c.instant("scene.create.CONFIRM_TO_SAVE"),
                                cancelName: c.instant("scene.create.CONFIRM_NOT_SAVE")
                            },
                            function() {
                                g.saveScene(),
                                    j.path("main")
                            },
                            function() {
                                j.path("main")
                            })
                    },
                    g.duplicatePage = function() {
                        g.saveScene(null,
                            function() {
                                x(g.pageNum, !1, !0)
                            })
                    },
                    g.insertPage = function() {
                        g.saveScene(null,
                            function() {
                                x(g.pageNum, !0, !1)
                            }),
                            $("#pageList").height() >= 360 && d(function() {
                                var a = document.getElementById("pageList");
                                a.scrollTop = a.scrollHeight
                            },
                            200)
                    },
                    g.deletePage = function(a) {
                        if (a.stopPropagation(), !g.loading) {
                            for (g.loading = !0, g.action = !1, u = 0; u < g.tpl.obj.elements.length; u++) {
                                var b = g.tpl.obj.elements;
                                5 == b[u].type.toString()[0] && (g.action = !0)
                            }
                            g.action === !0 ? n.openConfirmDialog({
                                    msg: c.instant("scene.create.CONFIRM_TO_DELETE_CURRENT_PAGE")
                                },
                                function() {
                                    G()
                                }) : G()
                        }
                    };
                var G = function() {
                    k.deletePage(g.tpl.obj.id).then(function() {
                            g.loading = !1,
                                j.$$search = {},
                                    g.pages.length == g.pageNum ? (g.pages.pop(), j.search("pageId", --g.pageNum), x(g.pageNum, !1, !1)) : (g.pages.splice(g.pageNum - 1, 1), j.search("pageId", g.pageNum), x(g.pageNum, !1, !1))
                        },
                        function() {
                            g.loading = !1
                        })
                };
                g.removeBG = function(a) {
                    a.stopPropagation();
                    var b, c = g.tpl.obj.elements;
                    for (b = 0; b < c.length; b++) if (3 == c[b].type) {
                        c.splice(b, 1);
                        var d;
                        for (d = b; d < c.length; d++) c[d].num--;
                        break
                    }
                    f.$broadcast("remove.scene.bg")
                },
                    g.removeBGAudio = function(a) {
                        a.stopPropagation(),
                            g.scene.bgAudio = null
                    },
                    $(".scene_title").on("paste",
                        function(a) {
                            a.preventDefault();
                            var b = (a.originalEvent || a).clipboardData.getData("text/plain") || prompt("Paste something..");
                            document.execCommand("insertText", !1, b)
                        }),
                    c(["scene.create.MINE", "scene.create.COMPANY"]).then(function(a) {
                        g.myName = [{
                            name: a["scene.create.MINE"]
                        }],
                            g.myCompany = [{
                                name: a["scene.create.COMPANY"]
                            }]
                    }),
                    g.creatCompanyTemplate = function() {
                        var a = $.extend(!0, {},
                            g.tpl.obj);
                        if (delete a.scene, f.user) {
                            var b = parseInt(f.user.companyTplId, 10);
                            b ? a.sceneId = b: f.companySceneId ? a.sceneId = f.companySceneId: a.sceneId = null,
                                k.saveCompanyTpl(a).then(function(a) {
                                    a.data.success && (q.pushForCurrentRoute("companytpl.setting.success", "notify.success"), f.companySceneId = a.data.obj, g.getPageTplsByCompanyType())
                                })
                        } else g.myCompanyTpls = []
                    };
                var H = null;
                g.getPageTplsByCompanyType = function() {
                    if (g.myCompany[0].active = !0, !H) if (f.companySceneId) H = f.companySceneId;
                    else {
                        var a = parseInt(f.user.companyTplId, 10);
                        a && (H = f.companySceneId = a)
                    }
                    H ? k.previewScene(H).then(function(a) {
                        g.myCompanyTpls = a.data.list
                    }) : g.myCompanyTpls = []
                },
                    g.creatMyTemplate = function() {
                        var a = $.extend(!0, {},
                            g.tpl.obj);
                        if (delete a.scene, f.user) {
                            var b = JSON.parse(f.user.property);
                            b && b.myTplId ? a.sceneId = b.myTplId: f.mySceneId ? a.sceneId = f.mySceneId: a.sceneId = null,
                                k.saveMyTpl(a).then(function(a) {
                                    q.pushForCurrentRoute("mytpl.setting.success", "notify.success");
                                    f.mySceneId = a.data.obj,
                                        g.getPageTplsByMyType()
                                })
                        } else g.myPageTpls = []
                    };
                var I = null;
                g.getPageTplsByMyType = function() {
                    if (g.myName[0].active = !0, !I) if (f.mySceneId) I = f.mySceneId;
                    else {
                        var a = JSON.parse(f.user.property);
                        a && a.myTplId && (I = f.mySceneId = a.myTplId)
                    }
                    I ? k.previewScene(I).then(function(a) {
                        g.myPageTpls = a.data.list
                    }) : g.myPageTpls = []
                },
                    g.$on("myPageList.update",
                        function(a, b, c, d) {
                            if ("my-tpl" == b) for (u = 0; u < g.myPageTpls.length; u++) g.myPageTpls[u].id == d && g.myPageTpls.splice(u, 1);
                            if ("company-tpl" == b) for (u = 0; u < g.myCompanyTpls.length; u++) g.myCompanyTpls[u].id == d && g.myCompanyTpls.splice(u, 1)
                        }),
                    g.$on("myPageList.delete",
                        function(a, b, c) {
                            "company-tpl" == b && 21 == f.user.type && (c.context.firstElementChild.outerHTML = "")
                        });
                var J = function() {
                        var a = "1" == g.type ? 3 : 4;
                        g.childCatrgoryList && g.childCatrgoryList.length > a ? (g.otherCategory = g.childCatrgoryList.slice(a), g.childCatrgoryList = g.childCatrgoryList.slice(0, a)) : g.otherCategory = []
                    },
                    K = {};
                g.getPageTplsByType = function(a) {
                    K[a] ? (g.childCatrgoryList = K[a], g.getPageTplTypestemp(g.childCatrgoryList[0].id), J()) : l.getPageTagLabel(a).then(function(b) {
                        g.childCatrgoryList = K[a] = b.data.list,
                            g.getPageTplTypestemp(g.childCatrgoryList[0].id),
                            J()
                    })
                };
                var L = {};
                g.getPageTagLabel = function(a) {
                    L[a] ? (g.pageLabel = L[a], N()) : l.getPageTagLabel(a).then(function(b) {
                        g.pageLabel = L[a] = b.data.list,
                            N()
                    })
                },
                    g.pageLabelAll = [];
                var M, N = function(a) {
                    l.getPageTagLabelCheck(g.pageIdTag).then(function(a) {
                        M = a.data.list;
                        for (var b = 0; b < g.pageLabel.length; b++) {
                            for (var c = {
                                    id: g.pageLabel[b].id,
                                    name: g.pageLabel[b].name
                                },
                                     d = 0; d < M.length; d++) {
                                if (M[d].id === g.pageLabel[b].id) {
                                    c.ischecked = !0;
                                    break
                                }
                                c.ischecked = !1
                            }
                            g.pageLabelAll.push(c)
                        }
                    })
                };
                g.pageChildLabel = function() {
                    var a, b = [];
                    for (a = 0; a < g.pageLabelAll.length; a++) g.pageLabelAll[a].ischecked && b.push(g.pageLabelAll[a].id);
                    l.updataChildLabel(b, g.pageIdTag).then(function() {
                            alert(c.instant("scene.create.UPDATE_TPL_SUCCEED")),
                                i.reload()
                        },
                        function() {})
                },
                    g.getPageTplTypestemp = function(a, b) {
                        l.getPageTplTypestemp(a).then(function(b) {
                            if (g.categoryId = a, b.data.list && b.data.list.length > 0 ? g.pageTpls = b.data.list: g.pageTpls = [], g.otherCategory.length > 0) {
                                var c;
                                c = g.childCatrgoryList[0];
                                for (var d = 0; d < g.otherCategory.length; d++) g.categoryId == g.otherCategory[d].id && (g.childCatrgoryList[0] = g.otherCategory[d], g.otherCategory[d] = c)
                            }
                        })
                    },
                    g.getBigTab = function() {
                        l.getPageTplTypes().then(function(a) {
                            a.data.list && a.data.list.length > 0 ? g.pageTplTypes = a.data.list.splice(0, 3) : g.pageTplTypes = []
                        }).then(function() {
                            g.getPageTplsByType(g.pageTplTypes[0].value)
                        })
                    },
                    g.getBigTab(),
                    g.exitPageTplPreview = function() {
                        $("#nr").empty(),
                            k.templateEditor.parse({
                                def: g.tpl.obj,
                                appendTo: "#nr",
                                mode: "edit"
                            }),
                            f.$broadcast("dom.changed")
                    },
                    g.insertPageTpl = function(a) {
                        g.loading = !0;
                        var d = function(a) {
                            k.getSceneTpl(a).then(function(a) {
                                    g.loading = !1,
                                        z = a.data.obj.id,
                                        g.tpl.obj.elements = k.getElements(),
                                        $("#nr").empty(),
                                        r.addPageHistory(g.tpl.obj.id, g.tpl.obj.elements),
                                        k.templateEditor.parse({
                                            def: g.tpl.obj,
                                            appendTo: "#nr",
                                            mode: "edit"
                                        }),
                                        b.forEach(g.tpl.obj.elements,
                                            function(a, b) {
                                                3 == a.type && (g.controlView.showBgTag = !0, g.currentBgDef = a)
                                            }),
                                        f.$broadcast("dom.changed")
                                },
                                function() {
                                    g.loading = !1
                                })
                        };
                        g.tpl.obj.elements && g.tpl.obj.elements.length > 0 ? n.openConfirmDialog({
                                msg: c.instant("scene.create.WARNING_COVER_EXISTED_COMPONENTS"),
                                confirmName: c.instant("scene.create.CONFIRM_NAME"),
                                cancelName: c.instant("scene.create.CANCEL_NAME")
                            },
                            function() {
                                d(a)
                            }) : d(a)
                    },
                    g.chooseThumb = function() {
                        m.open({
                            windowClass: "console img_console",
                            templateUrl: "scene/console/bg.tpl.html",
                            controller: "BgConsoleCtrl",
                            resolve: {
                                obj: function() {
                                    return {
                                        fileType: "0"
                                    }
                                }
                            }
                        }).result.then(function(a) {
                                g.tpl.obj.properties || (g.tpl.obj.properties = {}),
                                    g.tpl.obj.properties.thumbSrc = a.data
                            },
                            function() {
                                g.tpl.obj.properties.thumbSrc = null
                            })
                    },
                    $(a).bind("beforeunload",
                        function() {
                            return c.instant("scene.create.ENSURE_SCENE_BEEN_SAVED")
                        }),
                    g.$on("$destroy",
                        function() {
                            $(a).unbind("beforeunload"),
                                r.clearHistory(),
                                k.setCopy(!1),
                                utilPictures.clearInterval()
                        }),
                    g.sortableOptions = {
                        placeholder: "ui-state-highlight ui-sort-position",
                        containment: "#containment",
                        update: function(a, b) {
                            var c = b.item.sortable.dropindex + 1,
                                d = g.pages[b.item.sortable.index].id;
                            g.saveScene(null,
                                function() {
                                    k.changePageSort(c, d).then(function(a) {
                                        x(c, !1, !1, !0),
                                            j.$$search = {},
                                            j.search("pageId", c),
                                            g.pageNum = c
                                    })
                                })
                        }
                    },
                    g.$on("history.changed",
                        function() {
                            g.canBack = r.canBack(g.tpl.obj.id),
                                g.canForward = r.canForward(g.tpl.obj.id)
                        }),
                    g.back = function() {
                        return g.completeHtml2Canvas ? void g.completeHtml2Canvas.then(function() {
                            g.back()
                        }) : (g.controlView.showBgTag = !1, void k.historyBack())
                    },
                    g.forward = function() {
                        return g.completeHtml2Canvas ? void g.completeHtml2Canvas.then(function() {
                            g.forward()
                        }) : void k.historyForward()
                    },
                    g.sceneSetting = {
                        showFlag: !1,
                        oldBgAudio: null
                    },
                    g.settingScene = function() {
                        g.sceneSetting.showFlag = !0
                    },
                    "show" == j.search().openSetting && d(function() {
                        g.sceneSetting.showFlag = !0
                    },
                    100),
                    g.$on("show.edit.bg",
                        function(a, b) {
                            g.controlView.showBgTag = !0,
                                g.currBgSrc = b
                        }),
                    g.showEditBgPanel = function() {
                        f.$broadcast("show.editbg.panel")
                    },
                    g.gridGuideSetting = {
                        showFlag: !1
                    },
                    g.replaceBg = function(a) {
                        g.$broadcast("hide.editbg.panel"),
                            k.openBgModal(a),
                            $("#nr").find(".wrapper-background").css({
                                animation: "",
                                "animation-fill-mode": ""
                            })
                    };
                var O = [];
                g.showFirstTimeTip = function(b) {
                    if (g.sceneSetting.showFlag = !1, "x" == b && (g.showXiuFontTip = !0, a.localStorage)) {
                        var c = localStorage.getItem("setXiuFontAction");
                        c && (O = c.split(","), O.indexOf(f.user.id) > -1 && (g.showXiuFontTip = !1, k.createComp("x")))
                    }
                },
                    g.switchShowFontTip = function(a) {
                        a && (O.push(f.user.id), localStorage.setItem("setXiuFontAction", O.join(",")))
                    }
            }]).directive("changeColor",
            function() {
                return {
                    link: function(a, b, c) {
                        b.bind("click",
                            function() {
                                $(b).addClass("current")
                            })
                    }
                }
            }).directive("thumbTpl", ["$translate", "sceneService", "ModalService",
                function(a, b, c) {
                    return {
                        scope: {
                            myTpl: "="
                        },
                        replace: !1,
                        template: '<div class="delete-element hint--bottom hint--rounded" ng-click="deleteMyTpl($event)" data-hint="{{\'scene.create.DELETE_THIS_TEMPLATE\' | translate}}"><span class="eqf-no"></span></div>',
                        link: function(d, e, f) {
                            d.$emit("myPageList.delete", f.id, e),
                                d.deleteMyTpl = function(g) {
                                    g.stopPropagation(),
                                        c.openConfirmDialog({
                                                msg: a.instant("scene.create.CONFIRM_DELETE_THIS_TEMPLATE")
                                            },
                                            function() {
                                                b.deletePage(d.myTpl.id).then(function() {
                                                        d.$emit("myPageList.update", f.id, e, d.myTpl.id)
                                                    },
                                                    function(b) {
                                                        alert(a.instant("scene.create.SERVER_ERROR"))
                                                    })
                                            })
                                },
                                $('<div class = "tmp-bg"></div>').appendTo(e),
                                b.templateEditor.parse({
                                    def: d.myTpl,
                                    appendTo: e,
                                    mode: "view"
                                }),
                                $(".edit_area", e).css("transform", "scale(0.25) translateX(-480px) translateY(-729px)")
                        }
                    }
                }]).directive("gridGuideSetting", ["gridGuide",
                function(a) {
                    return {
                        scope: !0,
                        template: '<div class="grid-guide-setting">\n    <div class="setting-group">\n        <span class="title" translate="scene.create.GRID_STATE">显示网格</span>\n        <div class="setting-choice">\n            <div class="btn-group">\n                <label class="btn btn-setting" ng-model="config.gridState" btn-radio="\'show\'"><i translate="scene.create.ENABLED">开启</i></label>\n                <label class="btn btn-setting" ng-model="config.gridState" btn-radio="\'hide\'"><i translate="scene.create.DISABLED">关闭</i></label>\n            </div>\n        </div>\n    </div>\n    <div class="setting-group">\n        <span class="title" translate="scene.create.GRID_COLOR">网格颜色</span>\n        <div class="setting-choice">\n            <a class="color-picker" ng-style="{backgroundColor: grid.color}" ng-model="grid.color" colorpicker="rgba" ></a>\n            <input class="color-picker-input" ng-model="grid.color" type="text" />\n        </div>\n    </div>\n    <div class="setting-group">\n        <span class="title" translate="scene.create.GUIDE_STATE">智能参考</span>\n        <div class="setting-choice">\n            <div class="btn-group">\n                <label class="btn btn-setting" ng-model="config.guideState" btn-radio="\'enable\'"><i translate="scene.create.ENABLED">开启</i></label>\n                <label class="btn btn-setting" ng-model="config.guideState" btn-radio="\'disable\'"><i translate="scene.create.DISABLED">关闭</i></label>\n            </div>\n        </div>\n    </div>\n    <div class="setting-group">\n        <span class="title" translate="scene.create.SNAP_STATE">吸附效果</span>\n        <div class="setting-choice">\n            <div class="btn-group">\n                <label class="btn btn-setting" ng-model="config.snapState" btn-radio="\'enable\'"><i translate="scene.create.ENABLED">开启</i></label>\n                <label class="btn btn-setting" ng-model="config.snapState" btn-radio="\'disable\'"><i translate="scene.create.DISABLED">关闭</i></label>\n            </div>\n        </div>\n    </div>\n    <div class="btn-contain btn-small">\n        <button class="btn btn-main" ng-click="gridGuideSetting.showFlag = false"><i translate="scene.create.CLOSE_SETTING">关闭</i></button>\n    </div>\n</div>',
                        controller: ["$scope",
                            function(b) {
                                b.grid = a.grid,
                                    b.guide = a.guide,
                                    b.config = {
                                        gridState: b.grid.getVisable() || "show",
                                        guideState: "false" == b.grid.getGuideState() ? "disable": "enable",
                                        snapState: "false" == b.grid.getSnapState() ? "disable": "enable"
                                    },
                                    b.$watch("config.gridState",
                                        function(a) {
                                            "show" === a ? (b.$parent.gridGuideSetting.isGridEnabled = !0, b.grid.show()) : "hide" === a && (b.$parent.gridGuideSetting.isGridEnabled = !1, b.grid.hide()),
                                                b.grid.setVisable(a)
                                        }),
                                    b.$watch("grid.color",
                                        function(a) {
                                            a && (b.grid.paint(), b.grid.setColor(a))
                                        }),
                                    b.$watch("config.guideState",
                                        function(a) {
                                            "enable" === a ? (b.guide.options.enabled = !0, b.grid.setGuideState(!0)) : "disable" === a && (b.guide.options.enabled = !1, b.grid.setGuideState(!1))
                                        }),
                                    b.$watch("config.snapState",
                                        function(a) {
                                            "enable" === a ? (b.guide.options.snap = !0, b.grid.setSnapState(!0)) : "disable" === a && (b.guide.options.snap = !1, b.grid.setSnapState(!1))
                                        })
                            }]
                    }
                }]).directive("converToImage", ["selectService",
                function(a) {
                    function b(a, b, c) {
                        b.mousedown(function(a) {
                            $(".content").trigger("mousedown")
                        })
                    }
                    return {
                        restrict: "EA",
                        link: b
                    }
                }]),
        b.module("scene.create.new", ["services.scene"]),
        b.module("scene.create.new").controller("SceneNewCtrl", ["$scope", "$location", "$translate", "sceneService", "items", "ModalService",
            function(a, c, d, e, f, g) {
                a.scene = {
                    name: ""
                },
                    f && (a.scene.name = f.name),
                    e.getSceneType().then(function(c) {
                        if (a.scene.types = c.data.list, f) {
                            var d = !0;
                            b.forEach(a.scene.types,
                                function(b, e) {
                                    if (d) {
                                        var g = "" + f.type;
                                        b.value === g ? (a.scene.type = b, d = !1) : a.scene.type = c.data.list[0]
                                    }
                                })
                        } else a.scene.type = c.data.list[0]
                    }),
                    a.create = function() {
                        if ("" === a.scene.name.trim()) return $("input.name").focus(),
                            void(a.authError = "请输入场景名称");
                        var b = m(a.scene.name.trim());
                        if (b > 48) return $("input.name").addClass("error"),
                            $("input.name").change(function() {
                                $(this).removeClass("error")
                            }),
                            void(a.authError = d.instant("scene.createNew.SCENE_TIP"));
                        if (f) {
                            var h = {
                                id: f.id,
                                name: a.scene.name,
                                type: a.scene.type.value,
                                pageMode: a.scene.pageMode.id,
                                price: f.price
                            };
                            e.createByTpl(h).then(function(a) {
                                    200 == a.data.code ? (c.path("scene/create/" + a.data.obj), c.search("pageId", 1)) : g.openMsgDialog({
                                        msg: a.data.msg
                                    })
                                },
                                function(a) {})
                        } else e.createBlankScene(a.scene.name, a.scene.type.value, a.scene.pageMode.id).then(function(a) {
                            c.path("scene/create/" + a.data.obj),
                                c.search("pageId", 1)
                        });
                        a.$close()
                    },
                    a.cancel = function() {
                        a.$dismiss()
                    },
                    a.pagemodes = [{
                        id: 2,
                        name: "上下翻页"
                    },
                        {
                            id: 1,
                            name: "左右翻页"
                        }],
                    a.scene.pageMode = a.pagemodes[0]
            }]),
        function() {
            b.module("create.userGuide", []).controller("CreateUserGuideCtrl", ["$rootScope", "$scope",
                function(c, d) {
                    if (a.localStorage) {
                        var e = JSON.parse(localStorage.getItem("createUserGuide"));
                        e && e[c.user.id] ? d.firstLogin = !1 : (d.firstLogin = !0, e = e || {},
                            e[c.user.id] = 1, localStorage.setItem("createUserGuide", JSON.stringify(e)))
                    }
                    d.myInterval = -1,
                        d.userGuideSlides = [{
                            image: CLIENT_CDN + "assets/images/scene/user-guide1.png"
                        },
                            {
                                image: CLIENT_CDN + "assets/images/scene/user-guide2.png"
                            },
                            {
                                image: CLIENT_CDN + "assets/images/scene/user-guide3.png"
                            },
                            {
                                image: CLIENT_CDN + "assets/images/scene/user-guide4.png"
                            },
                            {
                                image: CLIENT_CDN + "assets/images/scene/user-guide5.png"
                            },
                            {
                                image: CLIENT_CDN + "assets/images/scene/user-guide6.png"
                            }],
                        d.close = function() {
                            d.firstLogin = !1
                        },
                        d.currentIndex = 0;
                    var f = d.$watch("userGuideSlides",
                        function() {
                            b.forEach(d.userGuideSlides,
                                function(a, b) {
                                    a.active && (d.currentIndex = b)
                                })
                        },
                        !0);
                    d.$on("$destroy", f)
                }])
        } (),
        b.module("scene.edit.bg", ["services.scene", "services.history"]),
        b.module("scene.edit.bg").controller("editBgCtrl", ["$scope", "$rootScope", "sceneService", "historyService",
            function(a, b, c, d) {
                a.cropBg = function(e) {
                    a.$broadcast("hide.editbg.panel");
                    var f = {
                        type: 3,
                        properties: {
                            src: e.properties.imgSrc
                        }
                    };
                    c.openCropModal(f,
                        function(c) {
                            b.$broadcast("scene.bg.replace", {
                                    type: "imgSrc",
                                    src: c.src
                                },
                                e),
                                e.properties.imgSrc = c.src,
                                d.addPageHistory(e.pageId, a.tpl.obj.elements)
                        },
                        function() {})
                },
                    a.scaleUpBg = function(b) {
                        b || (b = {}),
                            a.$broadcast("hide.bgeffect.panel"),
                            b.effect = {
                                type: "scaleUp",
                                duration: 1,
                                blurSize: 5
                            }
                    },
                    a.scaleDownBg = function(b) {
                        b || (b = {}),
                            a.$broadcast("hide.bgeffect.panel"),
                            b.effect = {
                                type: "scaleDown",
                                duration: 1,
                                blurSize: 5
                            }
                    },
                    a.blurBg = function(b) {
                        b || (b = {}),
                            a.$broadcast("hide.bgeffect.panel"),
                            b.effect = {
                                type: "blur",
                                duration: 1,
                                blurSize: 5
                            }
                    },
                    a.sharpBg = function(b) {
                        b || (b = {}),
                            a.$broadcast("hide.bgeffect.panel"),
                            b.effect = {
                                type: "sharp",
                                duration: 1,
                                sharpSize: 5
                            }
                    },
                    a.removeBgEffect = function(b, c) {
                        c.stopPropagation(),
                            a.currentBgDef.effect = null
                    },
                    a.showBgEffect = function() {
                        a.$broadcast("show.bgeffect.panel")
                    }
            }]).directive("switchDisplay",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        var d = $(".manage-bg");
                        a.$on("show.editbg.panel",
                            function(a) {
                                d.show()
                            }),
                            a.$on("hide.editbg.panel",
                                function(a) {
                                    d.hide()
                                }),
                            a.$on("show.bgeffect.panel",
                                function(a) {
                                    $(".bg-effect").show()
                                }),
                            a.$on("hide.bgeffect.panel",
                                function(a) {
                                    $(".bg-effect").hide()
                                });
                        var e;
                        $("#editBG").on("click",
                            function() {
                                $(".content").mousemove(function(b) {
                                    e = $(b.srcElement || b.target),
                                        (b.pageX < d.offset().left - 100 || b.pageX > d.offset().left + d.width() + 100 || b.pageY < d.offset().top - 100 || b.pageY > d.offset().top + d.height() + 100) && !$(e).is(".bg-effect,.bg-effect *") && (a.$apply(), d.hide(), $(".bg-effect").hide(), $(this).unbind("mousemove"))
                                })
                            })
                    }
                }
            }),
        function() {
            function a(a, b, c, d, e, f, g, h, i) {
                function j(a, c) {
                    function g() {
                        l(n)
                    }
                    a.$on("element.delete",
                        function() {
                            n = f.getElements();
                            for (var a = 0,
                                     b = n.length; b > a; a++) {
                                var c = $("#nr").find("#inside_" + n[a]).attr("ctype");
                                if ("5" == c.charAt(0) || "a" == c || "r" == c || "c" == c) return void h.openConfirmDialog({
                                        msg: d.instant("scene.create.editcommon.DELETE_DATA"),
                                        confirmName: d.instant("scene.create.editcommon.CONFIRM"),
                                        cancelName: d.instant("scene.create.editcommon.CANCEL")
                                    },
                                    g)
                            }
                            l(n)
                        }),
                        a.$on("element.selectall",
                            function() {
                                m()
                            }),
                        a.$on("scene.bg.replace",
                            function(c, d, e) {
                                var f = $("#nr .edit_area").parent();
                                a.currentBgDef = e;
                                var g = $(".wrapper-background").get(0);
                                if (g || (g = document.createElement("div"), $(g).prependTo(f).addClass("wrapper-background").css({
                                    position: "absolute",
                                    width: "100%",
                                    height: "100%",
                                    backgroundSize: "cover",
                                    backgroundPosition: "50% 50%"
                                }).attr("id", e.id)), "imgSrc" == d.type) {
                                    var h = d.src;
                                    g.style.backgroundImage = "url(" + PREFIX_FILE_HOST + h + ")",
                                        e.properties.bgColor = null,
                                        e.properties.imgSrc = h,
                                        b.$broadcast("show.edit.bg", h)
                                } else "backgroundColor" == d.type && (g.style.backgroundImage = "none", g.style.backgroundColor = d.color, e.properties.imgSrc = null, e.properties.bgColor = d.color, b.$broadcast("show.edit.bg"))
                            }),
                        a.$on("remove.scene.bg",
                            function(b) {
                                $(".wrapper-background").css({
                                    backgroundColor: "transparent",
                                    backgroundImage: "none"
                                }).removeAttr("id"),
                                    a.controlView.showBgTag = !1
                            }),
                        a.$on("delete.random.elem",
                            function(a, b) {
                                "n" == o[b].type && ($("#nr").find("#inside_" + b).remove(), e.deleteElement(b))
                            }),
                        a.$on("convert.html.canvas",
                            function(a, b, c) {}),
                        a.$on("select.less.id",
                            function(b, c) {
                                o[c] && k(a, o[c], $("#nr #" + c).get(0))
                            }),
                        a.$on("select.less",
                            function(b, c) {
                                c && c.length && $.each(c,
                                    function(b, c) {
                                        o[c] && k(a, o[c], $("#nr #" + c, "#nr").get(0))
                                    })
                            })
                }
                function k(b, c, d) {
                    if ("x" == c.type) {
                        var e = a.defer();
                        b.completeHtml2Canvas = e.promise;
                        var f = $(d).closest("li").clone();
                        f.appendTo("#nr .edit_area").css({
                            position: "absolute",
                            zIndex: 2,
                            opacity: 0,
                            transform: ""
                        });
                        var g = f.find(".element-box").get(0),
                            h = f.width(),
                            i = f.height();
                        $(g).attr("style", "").css({
                            color: c.css.color,
                            width: h + "px",
                            height: i + "px",
                            transform: "scale(2)"
                        }),
                            f.css({
                                transform: ""
                            }),
                            html2canvas(g, {
                                width: 2 * h,
                                height: 2 * i,
                                onrendered: function(a) {
                                    f.remove();
                                    var d = a.toDataURL();
                                    c.properties.dataUrl = d,
                                        e.resolve(),
                                        b.completeHtml2Canvas = null
                                }
                            })
                    }
                }
                function l(a) {
                    var c = e.getSceneObj(),
                        d = e.getElementsMap();
                    utilTrigger.getHandleType();
                    g.addPageHistory(c.obj.id, c.obj.elements),
                        $.each(a,
                            function(a, b) {
                                i.resetTrigger(parseInt(b, 10)),
                                    $("#nr").find("#inside_" + b).remove(),
                                    e.deleteElement(b)
                            }),
                        $.each(d,
                            function(a, b) {
                                i.clearTrigger(a);
                                var c = i.getTrigger(a);
                                c ? b.trigger = c: delete b.trigger
                            }),
                        g.addPageHistory(c.obj.id, c.obj.elements),
                        f.clearElements(),
                        b.$broadcast("hideStylePanel"),
                        $("#popMenu").hide()
                }
                function m() {
                    f.clearElements();
                    var a = $("#nr").find("ul").find("li");
                    a.children(".bar").show(),
                        a.each(function(a, b) {
                            f.addElement($(b).attr("id").split("_")[1])
                        })
                }
                var n, o = e.getElementsMap();
                return {
                    restrict: "EA",
                    link: j
                }
            }
            b.module("scene.edit.common", ["services.scene", "services.select", "services.history"]).directive("editCommon", ["$q", "$rootScope", "$location", "$translate", "sceneService", "selectService", "historyService", "ModalService", "triggerService", a])
        } (),
        function() {
            function a(a, b, c, d) {
                function e(c, e, f, g) {
                    var h = $(document);
                    c.$on("$destroy",
                        function() {
                            h.unbind("keydown")
                        });
                    var i, j = {
                        deltaX: 0,
                        deltaY: 0
                    };
                    h.unbind("keydown").keydown(function(e) {
                        if (8 == e.keyCode || 46 == e.keyCode) {
                            if ($(".modal-dialog").length || $("#pageList").find("input").is(":focus")) return;
                            d.getElements().length && (e.preventDefault(), a.$broadcast("element.delete"))
                        }
                        if ((37 == e.keyCode || 38 == e.keyCode || 39 == e.keyCode || 40 == e.keyCode) && (d.getElements().length && e.preventDefault(), i || (i = !0, g.compDragStart(j)), 37 == e.keyCode && (j.deltaX -= 1, g.compDragMove(j)), 38 == e.keyCode && (j.deltaY -= 1, g.compDragMove(j)), 39 == e.keyCode && (j.deltaX += 1, g.compDragMove(j)), 40 == e.keyCode && (j.deltaY += 1, g.compDragMove(j))), (e.ctrlKey || e.metaKey) && 65 == e.keyCode) {
                            if ($(".modal-dialog").length) return;
                            if (e.preventDefault(), i) return;
                            i = !0,
                                a.$broadcast("element.selectall")
                        }
                        if ((e.ctrlKey || e.metaKey) && 90 == e.keyCode && b.historyBack(), (e.ctrlKey || e.metaKey) && 89 == e.keyCode && b.historyForward(), (e.ctrlKey || e.metaKey) && 67 == e.keyCode) {
                            if ($(".modal-dialog").length) return;
                            b.copyElement()
                        }
                        if ((e.ctrlKey || e.metaKey) && 86 == e.keyCode) {
                            if ($(".modal-dialog").length) return;
                            b.getCopy() && b.pasteElement()
                        }
                        c.$apply()
                    }).unbind("keyup").keyup(function(a) {
                        i = !1,
                            (j.deltaX || j.deltaY) && g.compDragEnd(j),
                            j.deltaX = 0,
                            j.deltaY = 0,
                            c.$apply()
                    })
                }
                return {
                    restrict: "A",
                    link: e,
                    require: "^multiCompDrag"
                }
            }
            b.module("scene.edit.keymap", ["services.scene", "services.history", "services.select"]).directive("editKeymap", ["$rootScope", "sceneService", "historyService", "selectService", a])
        } (),
        b.module("scene.edit.select", ["services.history", "services.scene"]).controller("selectCtrl", ["$scope",
            function(a) {
                a.pasteOpacity = .3,
                    a.$on("select.more",
                        function() {
                            a.safeApply(function() {
                                a.showSelectPanel = !0
                            })
                        }),
                    a.$on("select.less",
                        function() {
                            a.safeApply(function() {
                                a.showSelectPanel = !1
                            })
                        }),
                    a.$on("copyState.update",
                        function(b, c) {
                            a.safeApply(function() {
                                a.pasteOpacity = c ? 1 : .3
                            })
                        })
            }]).directive("eqxAlignLeft", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return {
                    link: function(a, g) {
                        g.click(function() {
                            a.$apply(function() {
                                f.initCollisionDetectorWithElements();
                                var a = e.bigDetectionBoxPointA.x;
                                b.forEach(e.editArea.detectionBoxs,
                                    function(b) {
                                        var d = a - b.startPointA.x;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: b.startPosition.top,
                                            left: b.startPosition.left + d
                                        };
                                        b.element.css("left", e.left),
                                            c.updateCompPosition(b.element.attr("id"), e, !0)
                                    });
                                var g = c.getSceneObj();
                                d.addPageHistory(g.obj.id, g.obj.elements)
                            })
                        })
                    }
                }
            }]).directive("eqxAlignHorizontalCenter", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return {
                    link: function(a, g) {
                        g.click(function() {
                            a.$apply(function() {
                                f.initCollisionDetectorWithElements();
                                var a = e.bigDetectionBoxPointO.x;
                                b.forEach(e.editArea.detectionBoxs,
                                    function(b) {
                                        var d = a - b.startPointO.x;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: b.startPosition.top,
                                            left: b.startPosition.left + d
                                        };
                                        b.element.css("left", e.left),
                                            c.updateCompPosition(b.element.attr("id"), e, !0)
                                    });
                                var g = c.getSceneObj();
                                d.addPageHistory(g.obj.id, g.obj.elements)
                            })
                        })
                    }
                }
            }]).directive("eqxAlignRight", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return {
                    link: function(a, g) {
                        g.click(function() {
                            a.$apply(function() {
                                f.initCollisionDetectorWithElements();
                                var a = e.bigDetectionBoxPointB.x;
                                b.forEach(e.editArea.detectionBoxs,
                                    function(b) {
                                        var d = a - b.startPointB.x;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: b.startPosition.top,
                                            left: b.startPosition.left + d
                                        };
                                        b.element.css("left", e.left),
                                            c.updateCompPosition(b.element.attr("id"), e, !0)
                                    });
                                var g = c.getSceneObj();
                                d.addPageHistory(g.obj.id, g.obj.elements)
                            })
                        })
                    }
                }
            }]).directive("eqxAlignTop", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return {
                    link: function(a, g) {
                        g.click(function() {
                            a.$apply(function() {
                                f.initCollisionDetectorWithElements();
                                var a = e.bigDetectionBoxPointA.y;
                                b.forEach(e.editArea.detectionBoxs,
                                    function(b) {
                                        var d = a - b.startPointA.y;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: b.startPosition.top + d,
                                            left: b.startPosition.left
                                        };
                                        b.element.css("top", e.top),
                                            c.updateCompPosition(b.element.attr("id"), e, !0)
                                    });
                                var g = c.getSceneObj();
                                d.addPageHistory(g.obj.id, g.obj.elements)
                            })
                        })
                    }
                }
            }]).directive("eqxAlignVerticalCenter", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return {
                    link: function(a, g) {
                        g.click(function() {
                            a.$apply(function() {
                                f.initCollisionDetectorWithElements();
                                var a = e.bigDetectionBoxPointO.y;
                                b.forEach(e.editArea.detectionBoxs,
                                    function(b) {
                                        var d = a - b.startPointO.y;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: b.startPosition.top + d,
                                            left: b.startPosition.left
                                        };
                                        b.element.css("top", e.top),
                                            c.updateCompPosition(b.element.attr("id"), e, !0)
                                    });
                                var g = c.getSceneObj();
                                d.addPageHistory(g.obj.id, g.obj.elements)
                            })
                        })
                    }
                }
            }]).directive("eqxAlignBottom", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return {
                    link: function(a, g) {
                        g.click(function() {
                            a.$apply(function() {
                                f.initCollisionDetectorWithElements();
                                var a = e.bigDetectionBoxPointB.y;
                                b.forEach(e.editArea.detectionBoxs,
                                    function(b) {
                                        var d = a - b.startPointB.y;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: b.startPosition.top + d,
                                            left: b.startPosition.left
                                        };
                                        b.element.css("top", e.top),
                                            c.updateCompPosition(b.element.attr("id"), e, !0)
                                    });
                                var g = c.getSceneObj();
                                d.addPageHistory(g.obj.id, g.obj.elements)
                            })
                        })
                    }
                }
            }]).directive("eqxVerticalAverage", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return function(g, h) {
                    h.click(function() {
                        var h = a.getElements(),
                            i = h.length;
                        2 > i || g.$apply(function() {
                            f.initCollisionDetectorWithElements();
                            var a = e.editArea.detectionBoxs;
                            a.sort(function(a, b) {
                                return a.startPointA.y > b.startPointA.y
                            });
                            var g = a[0].startPointA.y,
                                h = a[i - 1].startPointA.y,
                                j = (h - g) / (i - 1);
                            b.forEach(a,
                                function(a, b) {
                                    if (0 !== b && b != i) {
                                        var d = g + b * j - a.startPointA.y;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: a.startPosition.top + d,
                                            left: a.startPosition.left
                                        };
                                        a.element.css("top", e.top),
                                            c.updateCompPosition(a.element.attr("id"), e, !0)
                                    }
                                });
                            var k = c.getSceneObj();
                            d.addPageHistory(k.obj.id, k.obj.elements)
                        })
                    })
                }
            }]).directive("eqxHorizontalAverage", ["selectService", "sceneService", "historyService", "editAreaBorderCollisionDetector", "multiCompResize",
            function(a, c, d, e, f) {
                return function(g, h) {
                    h.click(function() {
                        var h = a.getElements(),
                            i = h.length;
                        2 > i || g.$apply(function() {
                            f.initCollisionDetectorWithElements();
                            var a = e.editArea.detectionBoxs;
                            a.sort(function(a, b) {
                                return a.startPointA.x > b.startPointA.x
                            });
                            var g = a[0].startPointA.x,
                                h = a[i - 1].startPointA.x,
                                j = (h - g) / (i - 1);
                            b.forEach(a,
                                function(a, b) {
                                    if (0 !== b && b != i) {
                                        var d = g + b * j - a.startPointA.x;
                                        d = d == Math.abs(d) ? Math.floor(d) : Math.ceil(d);
                                        var e = {
                                            top: a.startPosition.top,
                                            left: a.startPosition.left + d
                                        };
                                        a.element.css("left", e.left),
                                            c.updateCompPosition(a.element.attr("id"), e, !0)
                                    }
                                });
                            var k = c.getSceneObj();
                            d.addPageHistory(k.obj.id, k.obj.elements)
                        })
                    })
                }
            }]).directive("eqxCopy", ["selectService", "sceneService",
            function(a, b) {
                return {
                    link: function(a, c) {
                        var d = $(c);
                        d.click(function() {
                            b.copyElement()
                        })
                    }
                }
            }]).directive("eqxPaste", ["sceneService", "historyService",
            function(a, b) {
                return {
                    link: function(c, d) {
                        var e = $(d);
                        e.click(function() {
                            if (a.getCopy()) {
                                a.pasteElement();
                                var d = a.getSceneObj();
                                b.addPageHistory(d.obj.id, d.obj.elements),
                                    c.$apply()
                            }
                        })
                    }
                }
            }]).directive("eqxDeleteMore", ["$rootScope",
            function(a) {
                return {
                    link: function(b, c) {
                        var d = $(c);
                        d.click(function() {
                            a.$broadcast("element.delete")
                        })
                    }
                }
            }]),
        b.module("scene.edit.trigger", []).factory("triggerService", ["$rootScope",
            function(a) {
                function c(a, b, c, d, e) {
                    var f = g(a, b, c, e).ids,
                        h = f.indexOf(d);
                    h >= 0 || f.push(d)
                }
                function d(a, b, c, d, e) {
                    var f = n[c];
                    if (f && f.sends.length) {
                        var h = g(a, b, c, e).ids,
                            i = h.indexOf(d);
                        0 > i || h.splice(i, 1)
                    }
                }
                function e(b, c, d, e) {
                    var f = j(b, d, e).ids,
                        g = f.indexOf(c);
                    g >= 0 || (f.push(c), a.$broadcast("receive.element.update", b, c, d, e))
                }
                function f(b, c, d, e) {
                    var f = j(b, d, e).ids,
                        g = f.indexOf(c);
                    0 > g || (f.splice(g, 1), a.$broadcast("receive.element.update", b, c, d, e))
                }
                function g(a, b, c, d) {
                    var e = h(a, c, d).handles,
                        f = k(e, b);
                    if (f) return f;
                    var g = {
                        type: b,
                        ids: []
                    };
                    return e.push(g),
                        g
                }
                function h(a, b, c) {
                    var d = i(b),
                        e = d.sends,
                        f = l(e, c);
                    if (f) return f;
                    var g = {
                        sendIndex: c,
                        delay: 0,
                        type: a,
                        handles: []
                    };
                    return e.push(g),
                        g
                }
                function i(a) {
                    return n[a] || (n[a] = {
                        sends: [],
                        receives: []
                    }),
                        n[a]
                }
                function j(a, b, c) {
                    var d = i(b),
                        e = d.receives,
                        f = k(e, a);
                    if (f) return f;
                    var g = {
                        type: a,
                        ids: []
                    };
                    return e.push(g),
                        g
                }
                function k(a, b) {
                    for (var c = 0; c < a.length; c++) if (b == a[c].type) return a[c];
                    return null
                }
                function l(a, b) {
                    for (var c = 0; c < a.length; c++) if (b == a[c].sendIndex) return a[c];
                    return null
                }
                var m = {},
                    n = {};
                return m.getTrigger = function(a) {
                    return n[a]
                },
                    m.getReceiveIds = function(a, c, d) {
                        if ("number" != typeof a || "number" != typeof c || "number" != typeof d) return [];
                        var e = g(a, c, d).ids;
                        return b.copy(e)
                    },
                    m.getSendIds = function(a, c) {
                        if ("number" != typeof a || "number" != typeof c) return [];
                        var d = j(a, c).ids;
                        return b.copy(d)
                    },
                    m.setTrigger = function(a, b) {
                        "number" == typeof a && "object" == typeof b && (n[a] = b)
                    },
                    m.addTrigger = function(a, b, d, f, g) {
                        "number" == typeof a && "number" == typeof b && "number" == typeof d && "number" == typeof f && (n[d] && n[d].sends[g] || h(a, d, g), c(a, b, d, f, n[d].sends[g].sendIndex), e(b, d, f, g))
                    },
                    m.deleteTrigger = function(a, b, c, e, g) {
                        "number" == typeof a && "number" == typeof b && "number" == typeof c && "number" == typeof e && n[c] && n[c].sends[g] && (d(a, b, c, e, n[c].sends[g].sendIndex), f(b, c, e, g))
                    },
                    m.clearTrigger = function(a) {
                        var b = n[a];
                        if (b) {
                            for (var c = !1,
                                     d = !1,
                                     e = 0; e < b.sends.length; e++) {
                                if ("number" == typeof b.sends[e].sendIndex) for (var f = 0; f < b.sends[e].handles.length; f++) if (b.sends[e].handles[f].ids.length) {
                                    c = !0;
                                    break
                                }
                                if (c) break
                            }
                            for (var g = 0; g < b.receives.length; g++) if (b.receives[g].ids.length) {
                                d = !0;
                                break
                            }
                            c || d || delete n[a]
                        }
                    },
                    m.resetTrigger = function(a) {
                        if ("number" == typeof a) {
                            var b = utilTrigger.getSendType(),
                                c = utilTrigger.getHandleType();
                            for (var d in b) for (var e in c) {
                                var f = b[d].value,
                                    g = c[e].value,
                                    h = j(g, a).ids;
                                h.length && $.each(h,
                                    function(b, c) {
                                        for (var d = m.getTrigger(c).sends, e = 0; e < d.length; e++)"undefined" == typeof d[e].sendIndex && d[e].hasOwnProperty("sendIndex") && (d.splice(e, 1), e--);
                                        var h = c;
                                        $.each(d,
                                            function(b, c) {
                                                var d = b;
                                                $.each(c.handles,
                                                    function(b, c) {
                                                        c.value;
                                                        if (c.ids.length) {
                                                            var i = c.ids;
                                                            for (e = 0; e < i.length; e++) i[e] == a && m.deleteTrigger(f, g, h, a, d)
                                                        }
                                                    })
                                            })
                                    });
                                var i = m.getTrigger(a);
                                if (i && i.sends.length) for (var k = 0; k < i.sends.length; k++)"undefined" == typeof i.sends[k].sendIndex && triggerSends[k].hasOwnProperty("sendIndex") ? (i.sends.splice(k, 1), k--) : m.deleteTriggerBySendIndex(k, a)
                            }
                        }
                    },
                    m.deleteTriggerBySendIndex = function(b, c) {
                        var d = n[c];
                        if (d && d.sends.length) {
                            for (var e = 0; e < d.sends.length; e++)"undefined" == typeof d.sends[e].sendIndex && triggerSends[e].hasOwnProperty("sendIndex") && (d.sends.splice(e, 1), e--);
                            var f = d.sends[b].type;
                            $.each(d.sends[b].handles,
                                function(d, e) {
                                    var g = e.type;
                                    if (e.ids.length) for (var h = 0; h < e.ids.length; h++) a.$broadcast("delete.random.elem", e.ids[h]),
                                        m.deleteTrigger(f, g, c, e.ids[h], b),
                                        h--
                                }),
                                d.sends.splice(b, 1)
                        }
                    },
                    m.getSend = h,
                    m
            }]),
        b.module("scene.pageeffect.fall", []),
        b.module("scene.pageeffect.fall").controller("fallEffectCtrl", ["$scope", "$translate",
            function(a, c) {
                var d = a.properties;
                a.fallings = [{
                    name: c.instant("scene.create.fall.fallings.HAPPINESS_TEXT"),
                    path: CLIENT_CDN + "assets/images/create/fallings/fuzi1.png",
                    rotate: 180,
                    vy: 3
                },
                    {
                        name: c.instant("scene.create.fall.fallings.RED_ENVELOPE"),
                        path: CLIENT_CDN + "assets/images/create/fallings/hongbao2.png",
                        rotate: 180,
                        vy: 3
                    },
                    {
                        name: c.instant("scene.create.fall.fallings.GREEN_LEAVES"),
                        path: CLIENT_CDN + "assets/images/create/fallings/lvfengye.png",
                        rotate: 180,
                        vy: 3
                    },
                    {
                        name: c.instant("scene.create.fall.fallings.STAR"),
                        path: CLIENT_CDN + "assets/images/create/fallings/xing.png",
                        rotate: 180,
                        vy: 3
                    },
                    {
                        name: c.instant("scene.create.fall.fallings.SNOW"),
                        path: CLIENT_CDN + "assets/images/create/fallings/snow.png",
                        rotate: 0,
                        vy: 1
                    }],
                        d && d.fallingObject ? (a.controlView.effectType = "fallingObject", a.falling = d.fallingObject, b.forEach(a.fallings,
                    function(b, c) {
                        b.path == a.falling.src.path && (a.falling.src = b)
                    })) : a.falling = {
                    src: a.fallings[0],
                    density: 2
                },
                    a.$on("save.falling.effect",
                        function() {
                            d = {},
                                d.fallingObject = a.falling,
                                a.$close({
                                    properties: d,
                                    name: c.instant("scene.create.fall.fallings.FALLING_OBJECT")
                                })
                        })
            }]),
        b.module("scene.pageeffect.finger", []),
        b.module("scene.pageeffect.finger").controller("fingerEffectCtrl", ["$scope", "$translate",
            function(a, c) {
                var d, e = a.properties;
                a.fingerZws = [{
                    name: c.instant("scene.create.finger.fingerZws.PINK"),
                    path: CLIENT_CDN + "assets/images/create/fingers/zhiwen1.png"
                },
                    {
                        name: c.instant("scene.create.finger.fingerZws.WHITE"),
                        path: CLIENT_CDN + "assets/images/create/fingers/zhiwen2.png"
                    },
                    {
                        name: c.instant("scene.create.finger.fingerZws.BLUE"),
                        path: CLIENT_CDN + "assets/images/create/fingers/zhiwen3.png"
                    }],
                    a.fingerBackgrounds = [{
                        name: c.instant("scene.create.finger.fingerBackgrounds.PINK_MEMORY"),
                        path: CLIENT_CDN + "assets/images/create/fingers/bg1.jpg"
                    },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.DARK_BLUE_FLOWER"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg2.jpg"
                        },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.LIGHT_GREEN_FRESH"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg3.jpg"
                        },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.DARK_PURPLE_ELEGANCE"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg4.jpg"
                        },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.LIGHT_PURPLE_WATERDROP"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg5.jpg"
                        },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.BLUE_WHITE_CTRSTAL"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg6.jpg"
                        },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.BLUE_WATERDROP"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg7.jpg"
                        },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.DIM_GREEN_LIGHT"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg8.jpg"
                        },
                        {
                            name: c.instant("scene.create.finger.fingerBackgrounds.GRAY_METAL"),
                            path: CLIENT_CDN + "assets/images/create/fingers/bg9.jpg"
                        }],
                        e && e.finger ? (a.controlView.effectType = "finger", a.finger = e.finger, b.forEach(a.fingerZws,
                    function(b, c) {
                        b.path == a.finger.zwImage.path && (a.finger.zwImage = b)
                    }), b.forEach(a.fingerBackgrounds,
                    function(b, c) {
                        b.path == a.finger.bgImage.path && (a.finger.bgImage = b)
                    })) : a.finger = {
                    zwImage: a.fingerZws[0],
                    bgImage: a.fingerBackgrounds[0]
                },
                    d = b.copy(a.finger.bgImage),
                    a.replaceImg = function(c) {
                        return c.bgImage ? void(d = b.copy(a.finger.bgImage)) : void a.$emit("select.effect.image", "finger")
                    },
                    a.$on("replace.effect.image",
                        function(c, e, f) {
                            "finger" == f && (a.finger.bgImage || (a.finger.bgImage = {}), a.finger.bgImage.path = PREFIX_FILE_HOST + e.data, a.fingerBackgrounds[0].name || a.fingerBackgrounds.shift(), a.fingerBackgrounds.unshift(a.finger.bgImage), d = b.copy(a.finger.bgImage))
                        }),
                    a.$on("cancel.effect.replace",
                        function(c, e) {
                            "finger" == e && b.forEach(a.fingerBackgrounds,
                                function(b, c) {
                                    d.name ? d.name == b.name && (a.finger.bgImage = b) : b.name || (a.finger.bgImage = b)
                                })
                        }),
                    a.$on("save.finger.effect",
                        function() {
                            e = {},
                                e.finger = a.finger,
                                a.$close({
                                    properties: e,
                                    name: "指纹"
                                })
                        })
            }]).directive("fingerMove",
            function() {
                function a(a, b, c) {
                    b.css({
                        animation: "move 2s ease 0",
                        "animation-iteration-count": "infinite"
                    })
                }
                return {
                    restrict: "EA",
                    link: a
                }
            }),
        b.module("scene.pageeffect.fireworks", []),
        b.module("scene.pageeffect.fireworks").controller("fireWorksCtrl", ["$scope", "$translate",
            function(a, b) {
                var c = a.properties;
                c && c.effect && "fireWorks" == c.effect.name && (a.controlView.effectType = "fireWorks", a.controlView.effectIndex = 5),
                    a.$on("save.fireworks.effect",
                        function() {
                            c = {},
                                c.effect = {
                                    name: "fireWorks"
                                },
                                a.$close({
                                    properties: c,
                                    name: b.instant("scene.create.fireworks.FIREWORKS")
                                })
                        })
            }]),
        b.module("common.directives.inputNumber", []).directive("eqdInputNumber",
            function() {
                function a(a, j, k, l) {
                    j.on("$destroy",
                        function() {
                            j.unbind("mousedown")
                        });
                    var m = "string" == typeof k.min ? k.min: -Number.MAX_VALUE,
                        n = "string" == typeof k.max ? k.max: Number.MAX_VALUE,
                        o = "string" == typeof k.unit ? k.unit: "px",
                        p = "string" == typeof k.step ? k.step: "1",
                        q = 0;
                    p.indexOf(".") > -1 && (q = p.split(".")[1].length),
                            "px" == o ? (l.$parsers.push(b), l.$formatters.push(c)) : "deg" == o ? (o = "", l.$parsers.push(d), l.$formatters.push(e)) : "%" == o ? (l.$parsers.push(f), l.$formatters.push(g)) : l.$parsers.push(h),
                        j.mousedown(function(b) {
                            var c, d = parseFloat(j.val()) || 0,
                                e = b.pageX;
                            i.mousemove(function(b) {
                                b.preventDefault(),
                                    c = b.pageX - e;
                                var f = +(d + c * p).toFixed(q);
                                f >= m && n >= f ? f += o: m > f ? f = m + o: f > n && (f = n + o),
                                    l.$viewValue != f && (l.$setViewValue(f), l.$render(), a.$apply())
                            }),
                                i.mouseup(function() {
                                    i.unbind("mousemove mouseup")
                                })
                        }).keydown(function(a) {
                            var b = a.keyCode;
                            return !! (b >= 48 && 57 >= b || b >= 96 && 105 >= b || 36 == b || 35 == b || 37 == b || 39 == b || 8 == b || 46 == b)
                        })
                }
                function b(a) {
                    return a = /-?\d+/.exec(a),
                        a ? parseFloat(a) + "px": "0"
                }
                function c(a) {
                    return /-?\d+/.exec(a) + "px"
                }
                function d(a) {
                    return a = /\d+/.exec(a),
                        a ? "rotateZ(" + parseFloat(a) + "deg)": "rotateZ(0)"
                }
                function e(a) {
                    return /\d+/.exec(a)
                }
                function f(a) {
                    return a = /\d+/.exec(a),
                        a ? a / 100 + "": "0"
                }
                function g(a) {
                    return 100 * a + "%"
                }
                function h(a) {
                    return "" === a && (a = "0"),
                        parseFloat(a) + ""
                }
                var i = $(document);
                return {
                    restrict: "E",
                    require: "ngModel",
                    template: '<input class="eqc-input-number"/>',
                    replace: !0,
                    link: a
                }
            }),
        b.module("scene.pageeffect.money", []),
        b.module("scene.pageeffect.money").controller("moneyEffectCtrl", ["$scope", "$translate",
            function(a, b) {
                var c = a.properties;
                c && c.effect && "money" == c.effect.name ? (a.controlView.effectType = "money", a.money = {
                    tip: c.effect.tip
                }) : a.money = {
                    tip: b.instant("scene.create.money.MONEY_TIP")
                },
                    a.$on("save.money.effect",
                        function() {
                            c = {},
                                c.effect = {
                                    name: "money",
                                    tip: a.money.tip
                                },
                                a.$close({
                                    properties: c,
                                    name: b.instant("scene.create.money.MONEY")
                                })
                        })
            }]),
        b.module("scene.pageeffect.none", []),
        b.module("scene.pageeffect.none").controller("noneEffectCtrl", ["$scope", "$translate",
            function(a, b) {
                var c = a.properties;
                c && c.effect && "none" == c.effect.name && (a.controlView.effectType = "none"),
                    a.$on("save.none.effect",
                        function() {
                            c = {},
                                c.effect = {
                                    name: "none"
                                },
                                a.$close({
                                    name: b.instant("scene.create.none.NONE")
                                })
                        })
            }]),
        b.module("scene.pageeffect.console", ["scene.pageeffect.scratch", "scene.pageeffect.finger", "scene.pageeffect.money", "scene.pageeffect.fall", "scene.pageeffect.snow", "scene.pageeffect.fireworks", "scene.pageeffect.none"]),
        b.module("scene.pageeffect.console").controller("pageEffectCtrl", ["$scope", "$rootScope", "$modal", "$translate", "properties", "sceneService",
            function(a, b, c, d, e, f) {
                a.properties = e,
                    a.controlView = {},
                    a.effectList = [{
                        type: "scratch",
                        name: d.instant("scene.create.pageeffect.effectList.SCRATCH"),
                        src: CLIENT_CDN + "assets/images/create/waterdrop.jpg"
                    },
                        {
                            type: "finger",
                            name: d.instant("scene.create.pageeffect.effectList.FINGER"),
                            src: CLIENT_CDN + "assets/images/create/fingers/zhiwen1.png"
                        },
                        {
                            type: "money",
                            name: d.instant("scene.create.pageeffect.effectList.MONEY"),
                            src: CLIENT_CDN + "assets/images/create/money_thumb1.jpg"
                        },
                        {
                            type: "fallingObject",
                            name: d.instant("scene.create.pageeffect.effectList.FALLINGOBJECT"),
                            src: CLIENT_CDN + "assets/images/create/falling.png"
                        },
                        {
                            type: "snowFly",
                            name: d.instant("scene.create.pageeffect.effectList.SNOWFLY"),
                            src: CLIENT_CDN + "assets/images/create/snowfly.png"
                        },
                        {
                            type: "fireWorks",
                            name: d.instant("scene.create.pageeffect.effectList.FIREWORKS"),
                            src: CLIENT_CDN + "assets/images/create/fireworks.jpg"
                        },
                        {
                            type: "none",
                            name: d.instant("scene.create.pageeffect.effectList.NONE"),
                            src: ""
                        }],
                    e || (e = {},
                    a.controlView.effectType = "scratch", a.controlView.effectIndex = 0),
                    a.selectEffect = function(b, c) {
                        a.controlView.effectType = b.type,
                            a.controlView.effectIndex = c
                    },
                    a.confirm = function() {
                        "scratch" == a.controlView.effectType ? a.$broadcast("save.scratch.effect") : "finger" == a.controlView.effectType ? a.$broadcast("save.finger.effect") : "money" == a.controlView.effectType ? a.$broadcast("save.money.effect") : "fallingObject" == a.controlView.effectType ? a.$broadcast("save.falling.effect") : "snowFly" == a.controlView.effectType ? a.$broadcast("save.snow.effect") : "fireWorks" == a.controlView.effectType ? a.$broadcast("save.fireworks.effect") : "none" == a.controlView.effectType && a.$broadcast("save.none.effect")
                    },
                    a.$on("select.effect.image",
                        function(a, d) {
                            c.open({
                                windowClass: "console img_console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: 0
                                        }
                                    }
                                }
                            }).result.then(function(a) {
                                    var c = {
                                        type: 3,
                                        properties: {
                                            src: a.data
                                        }
                                    };
                                    a.height / a.width >= 1008 / 642 && a.height / a.width <= 1.578125 ? b.$broadcast("replace.effect.image", a, d) : f.openCropModal(c,
                                        function(a) {
                                            var c = {
                                                data: a.src
                                            };
                                            b.$broadcast("replace.effect.image", c, d)
                                        },
                                        function() {
                                            b.$broadcast("cancel.effect.replace", d)
                                        })
                                },
                                function(a) {
                                    b.$broadcast("cancel.effect.replace", d)
                                })
                        }),
                    a.cancel = function() {
                        b.$broadcast("clear.scratch.interval"),
                            a.$dismiss()
                    }
            }]),
        b.module("scene.pageeffect.scratch", ["common.directives.inputNumber"]),
        b.module("scene.pageeffect.scratch").controller("scratchEffectCtrl", ["$scope", "$rootScope", "$translate", "i18nNotifications",
            function(a, c, d, e) {
                var f, g = a.properties;
                a.scratches = [{
                    name: d.instant("scene.create.scratch.scratches.WATERDROP"),
                    path: CLIENT_CDN + "assets/images/create/waterdrop.jpg"
                },
                    {
                        name: d.instant("scene.create.scratch.scratches.SOFTSAND"),
                        path: CLIENT_CDN + "assets/images/create/sand.jpg"
                    },
                    {
                        name: d.instant("scene.create.scratch.scratches.FLOWER"),
                        path: CLIENT_CDN + "assets/images/create/flowers.jpg"
                    },
                    {
                        name: d.instant("scene.create.scratch.scratches.GLODSAND"),
                        path: CLIENT_CDN + "assets/images/create/goldsand.jpg"
                    },
                    {
                        name: d.instant("scene.create.scratch.scratches.WHITESNOW"),
                        path: CLIENT_CDN + "assets/images/create/snowground.jpg"
                    },
                    {
                        name: d.instant("scene.create.scratch.scratches.DIM"),
                        path: CLIENT_CDN + "assets/images/create/mohu.jpg"
                    },
                    {
                        name: d.instant("scene.create.scratch.scratches.FALLLEAVES"),
                        path: CLIENT_CDN + "assets/images/create/leaves.jpg"
                    },
                    {
                        name: d.instant("scene.create.scratch.scratches.MIST"),
                        path: CLIENT_CDN + "assets/images/create/smoke.png"
                    }],
                        g && (g.image || g.scratch) ? (a.controlView.effectType = "scratch", (g.image || g.scratch) && (g.scratch ? (a.scratch = g.scratch, g.scratch.percentage.value && (a.scratch.percentage = g.scratch.percentage.value), g.scratch.opacity || (a.scratch.opacity = .2)) : g.image && (a.scratch = {
                    image: g.image,
                    percentage: g.percentage.value
                },
                    g.tip && (a.scratch.tip = g.tip), a.scratch.opacity = .2), b.forEach(a.scratches,
                    function(b, c) {
                        a.scratch.image.name == b.name && (a.scratch.image = b)
                    }), a.scratch.image.name || a.scratches.unshift(a.scratch.image))) : a.scratch = {
                    image: a.scratches[0],
                    percentage: .15,
                    opacity: .2
                };
                var h = a.$watch("scratch.opacity",
                    function(b, d) {
                        c.$broadcast("show.scratch.draw", a.scratch)
                    },
                    !0);
                setTimeout(function() {
                        f = b.copy(a.scratch.image),
                            c.$broadcast("show.scratch.draw", a.scratch, !1)
                    },
                    0),
                    a.$on("$destroy",
                        function() {
                            h()
                        }),
                    a.replaceImage = function(d) {
                        return d.image ? (f = b.copy(a.scratch.image), void c.$broadcast("show.scratch.draw", d, !1)) : void a.$emit("select.effect.image", "scratch")
                    },
                    a.$on("replace.effect.image",
                        function(d, e, g) {
                            "scratch" == g && (a.scratch.image || (a.scratch.image = {}), a.scratch.image.path = PREFIX_FILE_HOST + e.data, a.scratches[0].name || a.scratches.shift(), a.scratches.unshift(a.scratch.image), f = b.copy(a.scratch.image), c.$broadcast("show.scratch.draw", a.scratch, !1))
                        }),
                    a.$on("cancel.effect.replace",
                        function(c, d) {
                            "scratch" == d && b.forEach(a.scratches,
                                function(b, c) {
                                    f.name ? f.name == b.name && (a.scratch.image = b) : b.name || (a.scratch.image = b)
                                })
                        }),
                    a.$on("save.scratch.effect",
                        function() {
                            return g = {},
                                g.scratch = a.scratch,
                                    g.scratch.percentage > 1 ? void e.pushForCurrentRoute("scratch.percentage.overflow", "notify.success") : (c.$broadcast("clear.scratch.interval"), void a.$close({
                                properties: g,
                                name: d.instant("scene.create.scratch.SCRATCH")
                            }))
                        })
            }]).directive("scratchEffect",
            function() {
                function a(a, d, e) {
                    var f = new Image;
                    a.$on("show.scratch.draw",
                        function(a, c, d) {
                            f.onload = function() {
                                b(this, c)
                            },
                                f.src = c.image.path
                        }),
                        a.$on("change.scratch.opacity",
                            function(a, b) {
                                $(".scratch-img").css({
                                    opacity: 1 - parseFloat(b).toFixed(2)
                                })
                            }),
                        a.$on("clear.scratch.interval",
                            function(a) {
                                clearInterval(c)
                            })
                }
                function b(a, f) {
                    c && clearInterval(c);
                    var g = '<canvas class="scratchCanvas" style="position:absolute; top: 0; left: 0;" width="196" height="308"></canvas>',
                        h = $(".scratch-img");
                    h.empty(),
                        h.append(g),
                        d = h.find("canvas").get(0),
                        e = d.getContext("2d"),
                        e.lineCap = "round",
                        e.lineJoin = "round",
                        e.lineWidth = 20,
                        e.globalAlpha = 1 - parseFloat(f.opacity).toFixed(2),
                        e.drawImage(a, 0, 0, d.width, d.height),
                        e.globalCompositeOperation = "destination-out";
                    var i = 130,
                        j = 80;
                    c = setInterval(function() {
                            e.moveTo(i, j),
                                    i >= 70 && 140 >= j ? (e.lineTo(i - 2, j + 2), e.stroke(), i -= 2, j += 2) : 120 >= i && 165 >= j ? (e.lineTo(i + 2, j + 1), e.stroke(), i += 2, j += 1) : i >= 70 && 215 >= j ? (e.lineTo(i - 2, j + 2), e.stroke(), i -= 2, j += 2) : (clearInterval(c), b(a, f))
                        },
                        50)
                }
                var c, d, e;
                return {
                    restrict: "EA",
                    link: a
                }
            }),
        b.module("scene.pageeffect.snow", []),
        b.module("scene.pageeffect.snow").controller("snowEffectCtrl", ["$scope", "$translate",
            function(a, b) {
                var c = a.properties;
                c && c.effect && "snowFly" == c.effect.name && (a.controlView.effectType = "snowFly"),
                    a.$on("save.snow.effect",
                        function() {
                            c = {},
                                c.effect = {
                                    name: "snowFly"
                                },
                                a.$close({
                                    properties: c,
                                    name: b.instant("scene.create.snow.SNOW")
                                })
                        })
            }]),
        b.module("save.template", []),
        b.module("save.template").controller("saveTemplateCtrl", ["$scope", "$rootScope", "security",
            function(b, c, d) {
                b.btnGroup = {
                    selectItem: 1,
                    caretSwitch: !1
                };
                var e;
                a.localStorage && (e = JSON.parse(localStorage.getItem("templateInfo")), e && e[d.currentUser.id] ? b.btnGroup.selectItem = e[d.currentUser.id] : (e = e || {},
                    e[d.currentUser.id] = 1, localStorage.setItem("templateInfo", JSON.stringify(e)))),
                    b.btnGroup = {
                        selectItem: e[d.currentUser.id],
                        caretSwitch: !1
                    },
                    b.selectedTemplate = function(c) {
                        "myTemplate" == c ? b.btnGroup.selectItem = 2 : "companyTemplate" == c && (b.btnGroup.selectItem = 1),
                            a.localStorage && (e[d.currentUser.id] = b.btnGroup.selectItem, localStorage.setItem("templateInfo", JSON.stringify(e)))
                    },
                    b.openMenu = function() {
                        b.btnGroup.caretSwitch = !b.btnGroup.caretSwitch
                    }
            }]),
        b.module("scene", ["scene.create", "scene.support", "services.scene", "scene.create.new", "app.directives.addelement", "create.userGuide"]),
        b.module("scene").controller("SceneCtrl", ["$window", "$scope", "$rootScope", "$location", "$translate", "sceneService", "$modal", "ModalService", "usercenterService",
            function(b, c, d, e, f, g, h, i, j) {
                c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                    c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                    c.isActive = "scene",
                    c.scene = {
                        type: null
                    },
                    c.totalItems = 0,
                    c.currentPage = 1,
                    c.toPage = "",
                    c.tabindex = 0,
                    c.childcat = 0,
                    c.order = "new";
                var k = 12,
                    l = 0;
                c.pageNoNum = 1,
                    c.pageChanged = function(a) {
                        return m.targetPage = a,
                            c.pageNoNum = a,
                                1 > a || a > c.totalItems / 11 + 1 ? void alert(f.instant("scene.OVER_PAGE_NUMBER")) : void(1 == c.childcat ? c.getCompanyTpl(a, c.pageSizeList) : c.getPageTpls(1, m.sceneType, m.tagId, a, c.pageSizeList, c.order))
                    },
                    c.preview = function(b) {
                        var c = PREFIX_HOST + "/view.html?sceneId=" + b;
                        a.open(c, "_blank")
                    },
                    c.userXd = 0,
                    j.getUserXd().then(function(a) {
                        c.userXd = a.data.obj || 0
                    }),
                    c.createScene = function(a) {
                        if (a && a.price) {
                            var b = parseFloat(a.price) || 0;
                            b && b > c.userXd ? i.openMsgDialog({
                                msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + b + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (c.userXd || 0) + '</font>个)<span class="get-xd"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=297&extra=page%3D1" target = "_blank">获取秀点</a></span>'
                            }) : i.openConfirmDialog({
                                    msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + b + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (c.userXd || 0) + "</font>个"
                                },
                                function() {
                                    h.open({
                                        windowClass: "login-container six-contain",
                                        templateUrl: "scene/createNew.tpl.html",
                                        controller: "SceneNewCtrl",
                                        resolve: {
                                            items: function() {
                                                return a
                                            }
                                        }
                                    })
                                })
                        } else h.open({
                            windowClass: "login-container six-contain",
                            templateUrl: "scene/createNew.tpl.html",
                            controller: "SceneNewCtrl",
                            resolve: {
                                items: function() {
                                    return a
                                }
                            }
                        })
                    },
                    d.tplId && j.getUserXd().then(function(a) {
                    c.userXd = a.data.obj || 0
                }).then(function() {
                    c.createScene(d.tplId)
                }).then(function() {
                    d.tplId = null
                }),
                    c.getStyle = function(a) {
                        return {
                            "background-image": "url(" + PREFIX_FILE_HOST + a + ")"
                        }
                    },
                    c.show = function(a) {
                        console.log(a.target),
                            $(a.target).children(".cc").css("display", "block")
                    },
                    c.getCompanyTpl = function(a, b) {
                        c.childcat = 1;
                        var d = 11;
                        c.childCatrgoryList = [],
                            g.getCompanyTpls(c.pageNoNum, d).then(function(a) {
                                a.data.list && a.data.list.length > 0 ? (c.tpls = a.data.list, c.totalItems = a.data.map.count, c.currentPage = a.data.map.pageNo, c.allPageCount = a.data.map.count, c.toPage = "") : c.tpls = []
                            })
                    },
                    g.getSceneType().then(function(a) {
                        a.data.list && a.data.list.length > 0 ? c.pageTplTypes = a.data.list: c.pageTplTypes = []
                    }).then(function() {}),
                    c.tplnew = function(a) {
                        c.order = a,
                            m.orderby = a,
                            m.tagId ? c.getPageTpls(null, m.sceneType, m.tagId, l, k, a) : c.getPageTpls(1)
                    };
                var m = {
                        sceneType: null,
                        tagId: "",
                        orderby: "new",
                        pageNo: "0",
                        targetPage: ""
                    },
                    n = {};
                c.getPageTplsByType = function(a) {
                    m.sceneType = a,
                        c.childcat = a,
                        c.categoryId = 0,
                        n[a] ? (c.childCatrgoryList = n[a], c.childCatrgoryList.length && c.getPageTpls(1, m.sceneType, c.childCatrgoryList[0].id, l, k, c.order)) : g.getPageTplTypesTwo(a, a).then(function(b) {
                            c.childCatrgoryList = n[a] = b.data.list,
                                c.childCatrgoryList.length && c.getPageTpls(1, m.sceneType, c.childCatrgoryList[0].id, l, k, c.order)
                        })
                },
                    c.allpage = function(a) {
                        m.sceneType = a,
                            c.childcat = 0,
                            c.getPageTpls(1),
                            c.childCatrgoryList = []
                    },
                    c.freeTplChoice = "",
                    c.freeTpl = function(a) {
                        c.freeTplChoice = a,
                            c.tplnew(c.order)
                    },
                    c.getPageTpls = function(a, b, d, e, f, h) {
                        c.pageSizeList = 11,
                            c.categoryId = d,
                            m.tagId = d;
                        var i = c.freeTplChoice ? c.freeTplChoice + "=1": "";
                        g.getPageTpls(a, b, d, e, c.pageSizeList, m.orderby, i).then(function(a) {
                            a.data.list && a.data.list.length > 0 ? (c.tpls = a.data.list, c.totalItems = a.data.map.count, c.currentPage = a.data.map.pageNo, c.allPageCount = a.data.map.count, c.toPage = "") : c.tpls = []
                        })
                    },
                    c.getPageTpls(1)
            }]),
        b.module("scene.support", []),
        b.module("scene.support").controller("SupportCtrl", ["$location", "$scope", "$translate", "continueUrl",
            function(b, c, d, e) {
                c["continue"] = function() {
                    a.sessionStorage && sessionStorage.setItem("checkSuport", !1),
                        b.path(e.getUrl())
                },
                    c.setLinkUrl = function() {
                        navigator.language ? navigator.language.toLowerCase() : navigator.systemLanguage.toLowerCase();
                        c.download_Chorme = "https://www.baidu.com/s?wd=Chrome",
                            c.download_IE = "https://www.baidu.com/s?wd=ie11",
                            c.download_360fast = "http://chrome.360.cn/",
                            c.download_360 = "http://se.360.cn/"
                    },
                    c.setLinkUrl()
            }]).factory("continueUrl",
            function() {
                function a(a) {
                    c = a
                }
                function b() {
                    return c
                }
                var c = "";
                return {
                    setUrl: a,
                    getUrl: b
                }
            }),
        function() {
            b.module("scene.userGuide", []).controller("SceneUserGuideCtrl", ["$rootScope", "$scope",
                function(b, c) {
                    if (a.localStorage) {
                        var d = JSON.parse(localStorage.getItem("sceneUserGuide"));
                        d && d[b.user.id] ? c.firstLogin = !1 : (c.firstLogin = !0, d = d || {},
                            d[b.user.id] = 1, localStorage.setItem("sceneUserGuide", JSON.stringify(d)))
                    }
                    c.currentGuideIndex = 0,
                        c.guideLength = 5,
                        c.showNextGuide = function() {
                            c.currentGuideIndex += 1,
                                c.guideLength == c.currentGuideIndex && (c.firstLogin = !1)
                        }
                }])
        } (),
        b.module("active1", ["services.show", "services.activity", "app.directives.addBanner"]),
        b.module("active1").controller("Active1Ctrl", ["$rootScope", "$http", "$scope", "$translate", "showService", "activityService", "$location", "configSerService",
            function(a, b, c, d, e, f, g, h) {
                c.pageNo = 1,
                    c.pageSize = 10,
                    c.childCat = "active",
                    c.join = function(a) {
                        g.path("/show/active/" + a)
                    },
                    c.attend = function() {
                        a.user ? g.path("/main") : c.openLogin()
                    };
                var i = function(a) {
                    f.getActiveList(1, null, a, c.pageSize),
                        c.$on("activeList",
                            function(a, b) {
                                c.activeList = b.data.list;
                                for (var d = Date.parse(new Date), e = 0; e < c.activeList.length; e++) c.activeList[e].endDate > d ? c.activeList[e].join = !0 : c.activeList[e].join = !1;
                                c.totalItems = b.data.map.count,
                                    c.currentPage = b.data.map.pageNo,
                                    c.allPageCount = b.data.map.count,
                                    c.toPage = b.data.map.pageNo
                            })
                };
                i(c.pageNo),
                    c.pageChanged = function(a) {
                        return 1 > a || a > c.totalItems / 10 + 1 ? void alert(d.instant("show.OVER_PAGE_NUMBER")) : void i(a)
                    },
                    c.pageCode = "active",
                    h.getFriendLinks(c.pageCode).then(function(a) {
                        c.friendLinks = a.data.list,
                            c.friendLinks.length > 16 && (c.friendLinks.length = 16)
                    })
            }]),
        b.module("activeXq", ["services.show", "services.activity", "app.directives.addBanner"]),
        b.module("activeXq").controller("ActiveXqCtrl", ["$rootScope", "$http", "$scope", "$translate", "showService", "activityService", "$location", "$routeParams", "configSerService",
            function(a, b, c, d, e, f, g, h, i) {
                c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                    c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                    c.PREFIX_SERVER_HOST = PREFIX_URL,
                    c.pageNo = 1,
                    c.pageSize = 16,
                    c.activeId = h.id,
                    c.childCat = "active",
                    c.totalItems = 0,
                    c.join = function(a) {
                        g.path("/show/active/" + a)
                    },
                    c.attend = function() {
                        a.user ? g.path("/main") : c.openLogin()
                    };
                var j = function() {
                    f.activitySceneList(c.activeId, 1, c.pageNo, 4).then(function(a) {
                        if (c.recSceneList = a.data.list, a.data.list) for (var b = 0; b < c.recSceneList.length; b++) c.recSceneList[b].headImg ? 0 === c.recSceneList[b].headImg.indexOf("http://") ? c.recSceneList[b].headImg = c.recSceneList[b].headImg: c.recSceneList[b].headImg = PREFIX_FILE_HOST + c.recSceneList[b].headImg: c.recSceneList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                    })
                };
                j(c.activeId, 1, c.pageNo, 4);
                var k = function() {
                    f.activitySceneList(c.activeId, null, c.pageNo, c.pageSize).then(function(a) {
                        if (c.sceneList = a.data.list, c.totalItems = a.data.map.count, c.currentPage = a.data.map.pageNo, c.toPage = a.data.map.pageNo, a.data.list) for (var b = 0; b < c.sceneList.length; b++) c.sceneList[b].headImg ? 0 === c.sceneList[b].headImg.indexOf("http://") ? c.sceneList[b].headImg = c.sceneList[b].headImg: c.sceneList[b].headImg = PREFIX_FILE_HOST + c.sceneList[b].headImg: c.sceneList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                    })
                };
                k(c.activeId, null, c.pageNo, c.pageSize),
                    f.activityMes(c.activeId),
                    c.$on("activeMes",
                        function(a, b) {
                            c.activeMes = b.data.obj
                        }),
                    c.pageChanged = function(a) {
                        return c.pageNo = a,
                                1 > a || a > c.totalItems / 16 + 1 ? void alert(d.instant("show.OVER_PAGE_NUMBER")) : void k(c.activeId, null, a, c.pageSize)
                    },
                    c.pageCode = "pro_" + c.activeId,
                    i.getFriendLinks(c.pageCode).then(function(a) {
                        c.friendLinks = a.data.list,
                            c.friendLinks.length > 16 && (c.friendLinks.length = 16)
                    })
            }]),
        b.module("category", ["services.show", "services.activity", "app.directives.addBanner"]),
        b.module("category").controller("CategoryCtrl", ["$rootScope", "$http", "$scope", "$translate", "showService", "activityService", "$location", "$routeParams", "security",
            function(a, b, c, d, e, f, g, h, i) {
                c.recommend = 1,
                    c.pageSize = 16,
                    f.getActiveList(null, c.recommend, c.pageNo, 3),
                    c.$on("activeList",
                        function(a, b) {
                            c.activeList = b.data.list
                        }),
                    c.join = function(a) {
                        g.path("/show/active/" + a)
                    };
                var j = h.id,
                    k = {};
                c.getCategoryTpl = function(a) {
                    c.childCat = a,
                        k[a] ? (c.childCatrgoryList = k[a], c.childCatrgoryList.length && (l.tagId = c.categoryId = c.childCatrgoryList[0].id, c.getPageTpls(null, c.childCatrgoryList[0].id))) : e.getPageTagLabel(a).then(function(b) {
                            c.childCatrgoryList = k[a] = b.data.list,
                                c.childCatrgoryList.length && (l.tagId = c.categoryId = c.childCatrgoryList[0].id, c.getPageTpls(null, c.childCatrgoryList[0].id))
                        })
                },
                    c.getCategoryTpl(j);
                var l = {
                    sceneType: "",
                    tagId: "",
                    orderBy: null,
                    bizType: "",
                    template: "",
                    pageNo: "1",
                    targetPage: ""
                };
                c.tplNew = function(a) {
                    c.order = a,
                        l.orderBy = a,
                        c.getPageTpls(a, null, l.tagId, l.pageNo, c.pageSize)
                },
                    c.getPageTpls = function(a, b) {
                        b && (l.tagId = b),
                            c.categoryId = l.tagId,
                            e.getSceneList(l.orderBy, null, l.tagId, l.pageNo, c.pageSize),
                            c.$on("sceneList",
                                function(a, b) {
                                    c.tpls = b.list,
                                        c.totalItems = b.map.total,
                                        c.currentPage = b.map.pageNo,
                                        c.allPageCount = b.map.count,
                                        c.toPage = b.map.pageNo;
                                    for (var d = 0; d < c.tpls.length; d++) 2 == c.tpls[d].isTemplate && (c.tpls[d].isTemplate = !0),
                                        c.tpls[d].headImg ? 0 === c.tpls[d].headImg.indexOf("http://") ? c.tpls[d].headImg = c.tpls[d].headImg: c.tpls[d].headImg = PREFIX_FILE_HOST + c.tpls[d].headImg: c.tpls[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                                })
                    },
                    c.userTpl = function(b) {
                        i.closeLoginDialog(),
                            g.path("/scene"),
                            a.tplId = b
                    },
                    c.pageChanged = function(a) {
                        return 1 > a || a > c.totalItems / 16 + 1 ? void alert(d.instant("show.OVER_PAGE_NUMBER")) : (l.pageNo = a, void c.getPageTpls(l.orderBy, null, l.tagId, a, c.pageSize))
                    }
            }]),
        b.module("nav", ["services.show"]),
        b.module("nav").controller("NavCtrl", ["$rootScope", "$http", "$scope", "showService", "$location", "$routeParams",
            function(c, d, e, f, g, h) {
                f.getSceneType().then(function(a) {
                    a.data.list && a.data.list.length > 0 && (e.sceneType = a.data.list),
                        b.forEach(e.sceneType,
                            function(a) {
                                a.value === h.id && (e.$parent.catName = a.name)
                            })
                }),
                    e.getCategoryPage = function(a, b) {
                        g.path("show/category/" + a)
                    };
                var i = null;
                e.search = function(a) {
                    i = a
                },
                    e.submit = function() {
                        i ? g.path("show/search/" + i) : g.path("show")
                    },
                    e.EnterPress = function(b, c) {
                        var d = b || a.event;
                        13 == d.keyCode && e.submit(c)
                    }
            }]),
        b.module("app.directives.addBanner", []).directive("slides2", ["configSerService",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(b, c, d) {
                        var e = $(c).find(".slides_container");
                        a.getActivityBanner(d.id).then(function(a) {
                            for (var b = a.data.list,
                                     f = 0; f < b.length; f++) {
                                var g = $('<a href="' + b[f].url + '" style="display:block;" target="' + b[f].target + '" ></a>');
                                g.append('<img src="' + b[f].path + '" width="' + d.width + '" height="' + d.height + '" alt="' + b[f].title + '" title="' + b[f].title + '" > '),
                                    e.append(g)
                            }
                            $(c).slides({
                                preload: !0,
                                play: 5e3,
                                pause: 2500,
                                hoverPause: !0
                            })
                        })
                    }
                }
            }]),
        b.module("show", ["services.show", "services.activity", "app.directives.addBanner"]),
        b.module("show").controller("ShowCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "configSerService", "security",
            function(a, b, c, d, e, f, g, h) {
                c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                    c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                    c.PREFIX_SERVER_HOST = PREFIX_URL,
                    c.pageNo = 1,
                    c.pageSize = 16,
                    c.recommend = 1,
                    c.childCat = "index",
                    e.getActiveList(null, c.recommend, c.pageNo, 3),
                    c.$on("activeList",
                        function(a, b) {
                            c.activeList = b.data.list
                        }),
                    c.join = function(a) {
                        f.path("/show/active/" + a)
                    },
                    d.getSceneList(null, c.recommend, null, c.pageNo, c.pageSize),
                    c.$on("sceneList",
                        function(a, b) {
                            c.sceneList = b.list;
                            for (var d = 0; d < c.sceneList.length; d++) 2 === c.sceneList[d].isTemplate && (c.sceneList[d].isTemplate = !0),
                                c.sceneList[d].headImg ? 0 === c.sceneList[d].headImg.indexOf("http://") ? c.sceneList[d].headImg = c.sceneList[d].headImg: c.sceneList[d].headImg = PREFIX_FILE_HOST + c.sceneList[d].headImg: c.sceneList[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                        }),
                    c.userTpl = function(b) {
                        h.closeLoginDialog(),
                            f.path("/scene"),
                            a.tplId = b
                    },
                    c.pageCode = "index",
                    g.getFriendLinks(c.pageCode).then(function(a) {
                        c.friendLinks = a.data.list,
                            c.friendLinks.length > 16 && (c.friendLinks.length = 16)
                    })
            }]),
        b.module("recommend", ["services.show"]),
        b.module("recommend").controller("RecommendCtrl", ["$rootScope", "$http", "$scope", "$translate", "showService", "security", "$location",
            function(a, b, c, d, e, f, g) {
                c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                    c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                    c.PREFIX_SERVER_HOST = PREFIX_URL,
                    c.pageNo = 1,
                    c.pageSize = 16,
                    c.childCat = "recommend",
                    c.order = null;
                var h = function(a) {
                    e.getSceneList(c.order, 1, null, a, c.pageSize),
                        c.$on("sceneList",
                            function(a, b) {
                                c.recommendList = b.list,
                                    c.totalItems = b.map.total,
                                    c.currentPage = b.map.pageNo,
                                    c.allPageCount = b.map.total,
                                    c.toPage = b.map.pageNo;
                                for (var d = 0; d < c.recommendList.length; d++) 2 == c.recommendList[d].isTemplate && (c.recommendList[d].isTemplate = !0),
                                    c.recommendList[d].headImg ? 0 === c.recommendList[d].headImg.indexOf("http://") ? c.recommendList[d].headImg = c.recommendList[d].headImg: c.recommendList[d].headImg = PREFIX_FILE_HOST + c.recommendList[d].headImg: c.recommendList[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                            })
                };
                h(c.pageNo),
                    c.tplNew = function(a) {
                        c.order = a,
                            h(a, 1, null, c.pageNo, c.pageSize)
                    },
                    c.userTpl = function(b) {
                        f.closeLoginDialog(),
                            g.path("/scene"),
                            a.tplId = b
                    },
                    c.pageChanged = function(a) {
                        return 1 > a || a > c.totalItems / 16 + 1 ? void alert(d.instant("show.OVER_PAGE_NUMBER")) : void h(a)
                    }
            }]),
        b.module("search", ["services.show", "services.activity", "app.directives.addBanner"]),
        b.module("search").controller("SearchCtrl", ["$rootScope", "$http", "$scope", "$translate", "showService", "activityService", "$location", "$routeParams",
            function(b, c, d, e, f, g, h, i) {
                var j = {
                    name: "",
                    pageNo: 1,
                    pageSize: 16
                };
                d.name = i.name,
                    d.pageNo = 1,
                    d.pageSize = 16,
                    d.val = d.name,
                    j.name = d.name,
                    d.EnterPress = function(b, c) {
                        var e = b || a.event;
                        13 == e.keyCode && d.submit(c)
                    },
                    d.submit = function(a) {
                        d.name = a,
                            a ? h.path("show/search/" + d.name) : h.path("show")
                    };
                var k = function(a) {
                    f.search(a),
                        d.$on("searchList",
                            function(a, b) {
                                d.searchList = b.list,
                                    d.totalItems = b.map.total,
                                    d.currentPage = b.map.pageNo,
                                    d.toPage = b.map.pageNo;
                                for (var c = 0; c < d.searchList.length; c++) 1 == d.searchList[c].isTemplate && (d.searchList[c].isTemplate = !0),
                                    d.searchList[c].headImg ? 0 === d.searchList[c].headImg.indexOf("http://") ? d.searchList[c].headImg = d.searchList[c].headImg: d.searchList[c].headImg = PREFIX_FILE_HOST + d.searchList[c].headImg: d.searchList[c].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                            })
                };
                k(j),
                    d.pageChanged = function(a) {
                        return 1 > a || a > d.totalItems / 16 + 1 ? void alert(e.instant("show.OVER_PAGE_NUMBER")) : (j.pageNo = a, void k(j))
                    }
            }]),
        b.module("services.activity", []).factory("activityService", ["$rootScope", "$http",
            function(a, b) {
                var c = {};
                return c.getActiveList = function(c, d, e, f) {
                    var g = PREFIX_S1_URL + "/eqs/activity";
                    return c && (g += /\?/.test(g) ? "&": "?", g += "joinNum=" + c),
                        d && (g += /\?/.test(g) ? "&": "?", g += "recommend=" + d),
                        e && (g += /\?/.test(g) ? "&": "?", g += "pageNo=" + e),
                        f && (g += /\?/.test(g) ? "&": "?", g += "pageSize=" + f),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: g
                        }).then(function(b) {
                            if (b.data.success) {
                                var c = b;
                                a.$broadcast("activeList", c)
                            }
                        })
                },
                    c.activitySceneList = function(a, c, d, e) {
                        var f = PREFIX_S1_URL + "/eqs/activity/scene?promId=" + a;
                        return c && (f += /\?/.test(f) ? "&": "?", f += "recommend=" + c),
                            d && (f += /\?/.test(f) ? "&": "?", f += "pageNo=" + d),
                            e && (f += /\?/.test(f) ? "&": "?", f += "pageSize=" + e),
                            b({
                                withCredentials: !0,
                                method: "GET",
                                url: f
                            })
                    },
                    c.activityMes = function(c) {
                        var d = PREFIX_S1_URL + "/eqs/activity/info?id=" + c;
                        return b({
                            withCredentials: !0,
                            method: "GET",
                            url: d
                        }).then(function(b) {
                            if (b.data.success) {
                                var c = b;
                                a.$broadcast("activeMes", c)
                            }
                        })
                    },
                    c
            }]),
        b.module("services.configSer", []).factory("configSerService", ["$http",
            function(a) {
                var b = function(b) {
                        var c = PREFIX_S2_URL + "eqs/friendlinks?pageCode=" + b;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: c
                        })
                    },
                    c = function(b) {
                        var c = PREFIX_S2_URL + "eqs/banners?pageCode=" + b,
                            d = new Date;
                        return c += "&time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: c
                            })
                    };
                return {
                    getFriendLinks: b,
                    getActivityBanner: c
                }
            }]),
        b.module("services.show", []).factory("showService", ["$rootScope", "$http",
            function(a, b) {
                var c = {};
                return c.getSceneType = function() {
                    var a = "base/class/scene_type";
                    return b({
                        withCredentials: !0,
                        method: "GET",
                        url: PREFIX_URL + a
                    })
                },
                    c.getPageTagLabel = function(a) {
                        var c = "/eqs/tag/sys/list?type=2";
                        null != a && (c += (/\?/.test(c) ? "&": "?") + "bizType=" + a);
                        var d = new Date;
                        return c += (/\?/.test(c) ? "&": "?") + "time=" + d.getTime(),
                            b({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_S1_URL + c
                            })
                    },
                    c.getSceneList = function(c, d, e, f, g) {
                        var h = PREFIX_S1_URL + "eqs/show/list";
                        return c && (h += /\?/.test(h) ? "&": "?", h += "template=" + c),
                            d && (h += /\?/.test(h) ? "&": "?", h += "recommend=" + d),
                            e && (h += /\?/.test(h) ? "&": "?", h += "tagId=" + e),
                            f && (h += /\?/.test(h) ? "&": "?", h += "pageNo=" + f),
                            g && (h += /\?/.test(h) ? "&": "?", h += "pageSize=" + g),
                            b({
                                withCredentials: !0,
                                method: "GET",
                                url: h
                            }).then(function(b) {
                                if (b.data.success) {
                                    var c = b.data;
                                    a.$broadcast("sceneList", c)
                                }
                            })
                    },
                    c.search = function(c) {
                        var d = "eqs/show/search";
                        return b({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_S1_URL + d,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(c)
                        }).then(function(b) {
                            if (b.data.success) {
                                var c = b.data;
                                a.$broadcast("searchList", c)
                            }
                        })
                    },
                    c
            }]),
        b.module("services.visitor", []).factory("visitorService", ["$rootScope", "$http",
            function(a, b) {
                var c = {};
                return c.getRecommendVisitor = function() {
                    var a = "showker/recommend";
                    return b({
                        withCredentials: !0,
                        method: "GET",
                        url: PREFIX_S2_URL + a
                    })
                },
                    c.getVisitorMsg = function(a) {
                        var c = "showker/detail?userId=" + a;
                        return b({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_S2_URL + c
                        })
                    },
                    c.getVisitorList = function(a, c, d, e, f) {
                        var g = "showker/list";
                        return a && (g += /\?/.test(g) ? "&": "?", g += "addr=" + a),
                            c && (g += /\?/.test(g) ? "&": "?", g += "pay=" + c),
                            d && (g += /\?/.test(g) ? "&": "?", g += "good=" + d),
                            e && (g += /\?/.test(g) ? "&": "?", g += "pageNo=" + e),
                            f && (g += /\?/.test(g) ? "&": "?", g += "pageSize=" + f),
                            b({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_S2_URL + g
                            })
                    },
                    c.getVisitorMesList = function(a, c, d) {
                        var e = "showker/represent?userId=" + a;
                        return c && (e += /\?/.test(e) ? "&": "?", e += "pageNo=" + c),
                            d && (e += /\?/.test(e) ? "&": "?", e += "pageSize=" + d),
                            b({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_S2_URL + e
                            })
                    },
                    c
            }]),
        b.module("visitorXq", ["services.visitor"]),
        b.module("visitorXq").controller("VisitorXqCtrl", ["$rootScope", "$http", "$scope", "$translate", "showService", "$location", "$routeParams", "visitorService",
            function(a, b, c, d, e, f, g, h) {
                c.childCat = "visitor",
                    c.pageNo = 1,
                    c.pageSize = 16,
                    c.serverTag = [],
                    c.cateTag = [],
                    c.payTag = [],
                    c.userId = g.id,
                    c.qqAction = d.instant("show.visitorXq.QQ_LABEL"),
                    c.getUserDetail = function() {
                        h.getVisitorMsg(c.userId).then(function(a) {
                            c.visitorMsg = a.data.obj,
                                    null === c.visitorMsg.tel && c.visitorMsg.phone ? c.visitorMsg.tel = c.visitorMsg.phone: c.visitorMsg.tel && c.visitorMsg.phone && (c.visitorMsg.tel = c.visitorMsg.phone);
                            var b = a.data.obj.tagList;
                            if (b) for (var e = 0; e < b.length; e++)"province" == b[e].type ? c.serverTag.push({
                                tagId: b[e].tagId,
                                name: b[e].name
                            }) : "company_industry" == b[e].type ? c.cateTag.push({
                                tagId: b[e].tagId,
                                name: b[e].name
                            }) : "payType" == b[e].type && c.payTag.push({
                                tagId: b[e].tagId,
                                name: b[e].name
                            });
                            c.visitorMsg.headImg ? 0 === c.visitorMsg.headImg.indexOf("http://") ? c.visitorMsg.headImg = c.visitorMsg.headImg: c.visitorMsg.headImg = PREFIX_FILE_HOST + c.visitorMsg.headImg: c.visitorMsg.headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png",
                                null === c.visitorMsg.qq && (c.qqAction = "", $(".qq").addClass("hui"), c.visitorMsg.qq = d.instant("show.visitorXq.NO_QQ_HINT")),
                                null === c.visitorMsg.tel && ($(".phone").addClass("hui"), c.visitorMsg.tel = d.instant("show.visitorXq.NO_TEL")),
                                null === c.visitorMsg.wechat && ($(".weixin").addClass("hui"), c.visitorMsg.wechat = d.instant("show.visitorXq.NO_WECHAT"))
                        })
                    },
                    c.getUserDetail(),
                    c.totalItems = 0,
                    c.currentPage = 1,
                    c.getUserWorks = function() {
                        h.getVisitorMesList(c.userId, c.pageNo, c.pageSize).then(function(a) {
                            c.visitorWorks = a.data.list,
                                c.totalItems = a.data.map.count,
                                c.toPage = a.data.map.pageNo;
                            for (var b = 0; b < c.visitorWorks.length; b++) c.visitorWorks[b].headImg ? 0 === c.visitorWorks[b].headImg.indexOf("http://") ? c.visitorWorks[b].headImg = c.visitorWorks[b].headImg: c.visitorWorks[b].headImg = PREFIX_FILE_HOST + c.visitorWorks[b].headImg: c.visitorWorks[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                        })
                    },
                    c.getUserWorks(),
                    c.pageChanged = function(a) {
                        return c.pageNo = a,
                                1 > a || a > c.totalItems / 16 + 1 ? void alert(d.instant("show.OVER_PAGE_NUMBER")) : void c.getUserWorks(c.userId, a, c.pageSize)
                    }
            }]),
        b.module("visitor", ["services.visitor"]),
        b.module("visitor").controller("VisitorCtrl", ["$rootScope", "$http", "$scope", "$translate", "showService", "$location", "usercenterService", "visitorService",
            function(a, b, c, d, e, f, g, h) {
                c.childCat = "visitor",
                    c.visitorId = "12",
                    c.pageNo = 1,
                    c.pageSize = 12,
                    c.visitorXq = function(a) {
                        f.path("/show/visitor/" + a)
                    };
                var i = function(a) {
                    g.getAPPlyMessage(a).then(function(b) {
                        "province" === a ? c.serverLabel = b.data.list: "company_industry" === a ? c.cateLabel = b.data.list: "payType" === a && (c.payLabel = b.data.list)
                    })
                };
                i("province"),
                    i("company_industry"),
                    i("payType"),
                    c.getLimitedServeRegion = function(a) {
                        return c.serverLabel.indexOf(a) < 8
                    },
                    c.getOtherServeRegion = function(a) {
                        return c.serverLabel.indexOf(a) >= 8 && (c.moreArea = !0),
                            c.serverLabel.indexOf(a) >= 8
                    },
                    c.getLimitedCateRegion = function(a) {
                        return c.cateLabel.indexOf(a) < 11
                    },
                    c.getOtherCateRegion = function(a) {
                        return c.cateLabel.indexOf(a) >= 11 && (c.moreLabel = !0),
                            c.cateLabel.indexOf(a) >= 11
                    };
                h.getRecommendVisitor().then(function(a) {
                    if (c.recommendVisitor = a.data.obj, c.recommendVisitor.represent1) {
                        var b = c.recommendVisitor.represent1,
                            d = b.substring(0, b.indexOf("_")),
                            e = b.substring(b.indexOf("_") + 1, b.length);
                        c.work1Code = d,
                            c.work1Name = e
                    }
                    if (c.recommendVisitor.represent2) {
                        var f = c.recommendVisitor.represent2,
                            g = f.substring(0, f.indexOf("_")),
                            h = f.substring(f.indexOf("_") + 1, f.length);
                        c.work2Code = g,
                            c.work2Name = h
                    }
                    if (c.recommendVisitor.represent3) {
                        var i = c.recommendVisitor.represent3,
                            j = i.substring(0, i.indexOf("_")),
                            k = i.substring(i.indexOf("_") + 1, i.length);
                        c.work3Code = j,
                            c.work3Name = k
                    }
                    c.recommendVisitor.headImg ? 0 === c.recommendVisitor.headImg.indexOf("http://") ? c.recommendVisitor.headImg = c.recommendVisitor.headImg: c.recommendVisitor.headImg = PREFIX_FILE_HOST + c.recommendVisitor.headImg: c.recommendVisitor.headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                });
                var j = {
                    pay: null,
                    addr: null,
                    good: null
                };
                c.serverAll = "all",
                    c.cateAll = "all",
                    c.payAll = "all",
                    c.serverWu = function(a, b) {
                        c[b] = "all",
                                "province" == a ? (j.addr = null, c.currentServer = null) : "company_industry" == a ? (j.good = null, c.currentCate = null) : "payType" == a && (j.pay = null, c.currentPay = null),
                            k(j.addr, j.pay, j.good, c.pageNo, c.pageSize)
                    },
                    c.subServer = function(a) {
                        c.currentServer = a,
                            c.serverAll = null,
                            j.addr = a.id,
                            k(j.addr, j.pay, j.good, c.pageNo, c.pageSize)
                    },
                    c.subLabel = function(a) {
                        c.currentCate = a,
                            c.cateAll = null,
                            j.good = a.id,
                            k(j.addr, j.pay, j.good, c.pageNo, c.pageSize)
                    },
                    c.subPay = function(a) {
                        c.currentPay = a,
                            c.payAll = null,
                            j.pay = a.id,
                            k(j.addr, j.pay, j.good, c.pageNo, c.pageSize)
                    },
                    c.totalItems = 0;
                var k = function() {
                    h.getVisitorList(j.addr, j.pay, j.good, c.pageNo, c.pageSize).then(function(a) {
                        c.visitorList = a.data.list,
                            c.totalItems = a.data.map.count,
                            c.currentPage = a.data.map.pageNo,
                            c.toPage = a.data.map.pageNo;
                        for (var b = 0; b < c.visitorList.length; b++) {
                            if (c.visitorList[b].represent1) {
                                var d = c.visitorList[b].represent1,
                                    e = d.substring(0, d.indexOf("_")),
                                    f = d.substring(d.indexOf("_") + 1, d.length);
                                c.visitorList[b].represent1Code = e,
                                    c.visitorList[b].represent1Name = f
                            }
                            if (c.visitorList[b].represent2) {
                                var g = c.visitorList[b].represent2,
                                    h = g.substring(0, g.indexOf("_")),
                                    i = g.substring(g.indexOf("_") + 1, g.length);
                                c.visitorList[b].represent2Code = h,
                                    c.visitorList[b].represent2Name = i
                            }
                            if (c.visitorList[b].represent3) {
                                var j = c.visitorList[b].represent3,
                                    k = j.substring(0, j.indexOf("_")),
                                    l = j.substring(j.indexOf("_") + 1, j.length);
                                c.visitorList[b].represent3Code = k,
                                    c.visitorList[b].represent3Name = l
                            }
                            c.visitorList[b].headImg ? 0 === c.visitorList[b].headImg.indexOf("http://") ? c.visitorList[b].headImg = c.visitorList[b].headImg: c.visitorList[b].headImg = PREFIX_FILE_HOST + c.visitorList[b].headImg: c.visitorList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png";
                        }
                    })
                };
                k(),
                    c.pageChanged = function(a) {
                        return c.pageNo = a,
                                1 > a || a > c.totalItems / 12 + 1 ? void alert(d.instant("show.OVER_PAGE_NUMBER")) : void k(j, a, c.pageSize)
                    }
            }]),
        b.module("usercenter.apply", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.apply").controller("ApplyCtrl", ["$rootScope", "$scope", "usercenterService", "$modal", "ModalService", "i18nNotifications", "MineService", "userinfo", "$translate",
            function(a, c, d, e, f, g, h, i, j) {
                c.actionerror = "";
                c.serverLabel = [],
                    c.cateLabel = [],
                    c.payLabel = [],
                    c.userinfo = {
                        id: i.id
                    };
                var k = function(a) {
                    d.getAPPlyMessage(a).then(function(b) {
                        "province" === a ? c.serverLabel = b.data.list: "company_industry" === a ? c.cateLabel = b.data.list: "payType" === a && (c.payLabel = b.data.list)
                    })
                };
                k("province"),
                    k("company_industry"),
                    k("payType"),
                    c.getLimitedServeRegion = function(a) {
                        return c.serverLabel.indexOf(a) < 4
                    },
                    c.getOtherServeRegion = function(a) {
                        return c.serverLabel.indexOf(a) >= 4 && (c.moreArea = !0),
                            c.serverLabel.indexOf(a) >= 4
                    },
                    c.getLimitedCateRegion = function(a) {
                        return c.cateLabel.indexOf(a) < 4
                    },
                    c.getOtherCateRegion = function(a) {
                        return c.cateLabel.indexOf(a) >= 4 && (c.moreLabel = !0),
                            c.cateLabel.indexOf(a) >= 4
                    },
                    c.myShowSceneMsg = !1,
                    d.getUserScene(i.id).then(function(a) {
                        a.data.list.length > 0 ? c.myShowScene = a.data.list: c.myShowScene = null
                    }),
                    c.cancel = function() {
                        c.$dismiss()
                    },
                    c.applyInfo = {},
                    c.checkIntroFormat = function(a) {
                        return a.shortIntroduction ? m(a.shortIntroduction) > 30 ? (c.introError = j.instant("usercenter.SHORT_INTRODUCE_ERROR2"), !1) : (c.introError = "", !0) : (c.introError = j.instant("usercenter.SHORT_INTRODUCE_ERROR1"), !1)
                    },
                    c.checkIntroFormat1 = function(a) {
                        return a.introduction ? m(a.introduction) > 400 ? (c.introError1 = j.instant("usercenter.INTRODUCE_ERROR2"), !1) : (c.introError1 = "", !0) : (c.introError1 = j.instant("usercenter.INTRODUCE_ERROR1"), !1)
                    },
                    c.checkWorksRepeat = function(a) {
                        return a.represent1 == a.represent2 || a.represent1 == a.represent3 || a.represent2 == a.represent3 ? (c.worksRepeatError = j.instant("usercenter.NO_REPATE"), !1) : (c.worksRepeatError = "", !0)
                    },
                    c.checkEmptyWorks1 = function(a) {
                        return a.represent1 ? (c.representError1 = "", !0) : (c.representError1 = j.instant("usercenter.WORKS_ERROR1"), !1)
                    },
                    c.checkEmptyWorks2 = function(a) {
                        return a.represent2 ? (c.representError2 = "", !0) : (c.representError2 = j.instant("usercenter.WORKS_ERROR2"), !1)
                    },
                    c.checkEmptyWorks3 = function(a) {
                        return a.represent3 ? (c.representError3 = "", !0) : (c.representError3 = j.instant("usercenter.WORKS_ERROR3"), !1)
                    };
                var l = /^[0-9]*$/;
                c.checkQQFormat = function(a) {
                    return a.qq && !l.test(a.qq) ? (c.qqError = j.instant("usercenter.QQ_ERROR"), !1) : (c.qqError = "", !0)
                },
                    c.checkTelForamt = function(a) {
                        return a.phone && !l.test(a.phone) ? (c.telError = j.instant("usercenter.FORMAT_ERR"), !1) : (c.telError = "", !0)
                    },
                    c.checkEmailFormat = function(a) {
                        var b = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                        return a.email && !b.test(a.email) ? (c.emailError = j.instant("usercenter.EMAIL_ERR"), !1) : (c.emailError = "", !0)
                    },
                    c.checkFormFormat = function(a) {
                        return c.checkIntroFormat(a) && c.checkIntroFormat1(a) && c.checkEmptyWorks1(a) && c.checkEmptyWorks2(a) && c.checkEmptyWorks3(a) && c.checkWorksRepeat(a) && c.checkQQFormat(a) && c.checkTelForamt(a) && c.checkEmailFormat(a) ? !0 : !1
                    },
                    c.submit = function(a) {
                        if (c.checkFormFormat(a)) {
                            var e = {
                                shortIntroduction: a.shortIntroduction,
                                introduction: a.introduction,
                                represent1: a.represent1.code + "_" + a.represent1.name,
                                represent2: a.represent2.code + "_" + a.represent2.name,
                                represent3: a.represent3.code + "_" + a.represent3.name,
                                qq: a.qq,
                                wechat: a.wechat,
                                phone: a.phone,
                                email: a.email,
                                addr: a.addr || "",
                                pay: a.pay || "",
                                good: a.good || ""
                            };
                            if (e.addr = [], b.forEach(c.serverLabel,
                                function(a) {
                                    a.ischecked && e.addr.push(a.id)
                                }), e.addr.length <= 0) return void(c.serverError = j.instant("usercenter.SELECT_AREA"));
                            if (e.addr.length > 3) return void(c.serverError = j.instant("usercenter.AREA_ERR1"));
                            if (e.addr = e.addr.join(","), e.good = [], b.forEach(c.cateLabel,
                                function(a) {
                                    a.ischecked && e.good.push(a.id)
                                }), e.good.length <= 0) return void(c.cateError = j.instant("usercenter.AREA_ERR2"));
                            if (e.good.length > 5) return void(c.cateError = j.instant("usercenter.AREA_ERR3"));
                            e.good = e.good.join(",");
                            var f, h = !1;
                            if (b.forEach(c.payLabel,
                                function(a) {
                                    a.ischecked && (f = a.id, e.pay += "," + f, h = !0)
                                }), e.pay = e.pay.replace(",", ""), !h) return void(c.payError = j.instant("usercenter.PAY_METHOD"));
                            c.serverError = "",
                                c.cateError = "",
                                c.payError = "",
                                d.saveApplyInfo(e).then(function(a) {
                                    a.data.success ? (c.applyInfo = a.data.map.status, g.pushForCurrentRoute("account.success", "notify.success"), c.$close(c.applyInfo)) : c.authError = a.data.msg
                                })
                        }
                    }
            }]),
        b.module("usercenter.branch", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.branch").controller("BranchCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "branch", "i18nNotifications", "$translate",
            function(a, c, d, e, f, g, h, i, j, k, l, n) {
                c.originData = c.branch = b.copy(k),
                    c.dept = {},
                    c.depts = [],
                    c.resetDefalt = !1,
                    k ? c.resetDefalt = !0 : (c.resetDefalt = !1, setTimeout(function() {
                            $("button").css("background-color", "#ccc")
                        },
                        0), c.branch = {}),
                    c.openResetModal = function(a) {
                        h.open({
                            windowClass: "console six-contain",
                            templateUrl: "usercenter/console/resetbranchpass.tpl.html",
                            controller: "ResetBranchPassCtrl",
                            resolve: {
                                branch: function() {
                                    return a
                                }
                            }
                        }).result.then(function() {
                                l.pushForCurrentRoute("branch.reset.success", "notify.success")
                            },
                            function() {})
                    },
                    c.getDepts = function() {
                        f.getDepts().then(function(a) {
                                if (c.depts = a.data.list, c.branch.deptName || c.branch.deptId) for (var b = 0; b < c.depts.length; b++) if (c.depts[b].id == c.branch.deptId) return void(c.branch.dept = c.depts[b])
                            },
                            function() {
                                alert(n.instant("usercenter.account.SERVER_ERROR"))
                            })
                    },
                    c.getDepts(),
                    c.authError = "",
                    c.checkDeptFormat = function(a) {
                        return a.name ? m(a.name) > 30 ? ($(".dept-name").addClass("error"), $(".dept-name").change(function() {
                            $(this).removeClass("error")
                        }), c.deptFormatError = n.instant("usercenter.account.DEPT_ERR2"), !1) : (c.deptFormatError = "", !0) : (c.deptFormatError = n.instant("usercenter.account.DEPT_ERR1"), $(".dept-name").focus(), deptF = {},
                            !1)
                    },
                    c.addDept = function() {
                        c.checkDeptFormat(c.dept) && f.addDept(c.dept).then(function(a) {
                                a.data.success && (c.showAddSec = !1, c.depts.unshift({
                                    id: a.data.obj,
                                    name: c.dept.name
                                }), l.pushForCurrentRoute("dept.create.success", "notify.success"), c.dept = {})
                            },
                            function() {
                                c.authError = n.instant("usercenter.account.SERVER_ERROR")
                            })
                    },
                    c.branchPermi = {
                        edit: !0,
                        "delete": !0,
                        "export": !0
                    },
                    c.branch.extPermi && (/^([\d,]+,)?1(,[\d,]*)?$/.test(c.branch.extPermi) && (c.branchPermi.edit = !0), /^([\d,]+,)?2(,[\d,]*)?$/.test(c.branch.extPermi) && (c.branchPermi["delete"] = !0), /^([\d,]+,)?3(,[\d,]*)?$/.test(c.branch.extPermi) && (c.branchPermi["export"] = !0)),
                    c.checkEmailFormat = function(a) {
                        return c.branch.loginName ? /^[-_a-z0-9\.@]{6,40}$/g.test(c.branch.loginName) ? (c.emailFormatError = "", !0) : (c.emailFormatError = n.instant("usercenter.account.BRANCH_ERR2"), !1) : (c.emailFormatError = n.instant("usercenter.account.BRANCH_ERR1"), !1)
                    },
                    c.checkNameFormat = function(a) {
                        return a.name ? m(a.name) > 30 ? (c.nameFormatErr = n.instant("usercenter.account.LOGIN_NAME_ERR2"), !1) : (c.nameFormatErr = "", !0) : ($(".branch-name").focus(), c.nameFormatErr = n.instant("usercenter.account.LOGIN_NAME_ERR1"), !1)
                    },
                    c.confirm = function() {
                        if (c.checkEmailFormat(c.branch) && c.checkNameFormat(c.branch)) {
                            var a = {};
                            c.branch.dept && (c.branch.deptName = c.branch.dept.name, c.branch.dept.id && (a.deptId = c.branch.deptId = c.branch.dept.id));
                            var b = [];
                            $.each(c.branchPermi,
                                function(a, c) {
                                    "edit" == a && c ? b.push("1") : "export" == a && c ? b.push("3") : "delete" == a && c && b.push("2")
                                }),
                                c.branch.extPermi = b.join(","),
                                k ? ($.extend(a, {
                                    id: c.branch.id,
                                    name: c.branch.name,
                                    extPermi: c.branch.extPermi
                                }), f.updateBranch(a).then(function(a) {
                                        a.data.success && (c.$close(c.branch), l.pushForCurrentRoute("branch.update.success", "notify.success"))
                                    },
                                    function(a) {
                                        c.serverError = n.instant("usercenter.account.SERVER_ERROR")
                                    })) : ($.extend(a, {
                                    loginName: c.branch.loginName,
                                    name: c.branch.name,
                                    extPermi: c.branch.extPermi
                                }), f.createBranch(a).then(function(a) {
                                        a.data.success ? (c.branch.id = a.data.obj.id, l.pushForCurrentRoute("branch.create.success", "notify.success"), c.$close(c.branch)) : c.serverError = a.data.msg
                                    },
                                    function(a) {
                                        c.serverError = n.instant("usercenter.account.SERVER_ERROR")
                                    }))
                        }
                    },
                    c.cancel = function() {
                        c.$dismiss()
                    }
            }]),
        b.module("usercenter.checkMobil", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.checkMobil").controller("CheckMobileCtrl", ["$rootScope", "$scope", "$window", "usercenterService", "$modal", "ModalService", "$location", "$timeout", "userinfo", "i18nNotifications", "$translate",
            function(a, b, c, d, e, f, g, h, i, j, k) {
                function l() {
                    0 === m ? (b.isCodeAccessiable = !1, b.codeTip = k.instant("usercenter.account.CODE_TIP1"), m = 60) : (b.isCodeAccessiable = !0, b.codeTip = k.instant("usercenter.account.CODE_TIP2") + "(" + m + ")", h(function() {
                            m--,
                                l()
                        },
                        1e3))
                }
                switch (b.title = i.title, b.userinfo = i, b.userinfo.code = "", b.title) {
                    case k.instant("usercenter.account.REL_MOBILE"):
                        b.dec = k.instant("usercenter.account.REL_MOBILE_DEC");
                        break;
                    case k.instant("usercenter.account.VALIDATE_MOBILE"):
                        b.dec = k.instant("usercenter.account.VALIDATE_MOBILE_DEC");
                        break;
                    case k.instant("usercenter.account.CHANGE_MOBILE"):
                        b.dec = k.instant("usercenter.account.CHANGE_MOBILE_DEC")
                }
                b.checkMobile = function() {
                    return /^1\d{10}$/.test(b.userinfo.phone) ? (b.mobileError = "", !0) : ($(".mobile").focus(), b.mobileError = k.instant("usercenter.account.MOBILE_ERROR1"), !1)
                },
                    b.checkCode = function() {
                        return b.userinfo.code ? (b.codeError = "", !0) : ($(".code").focus(), b.codeError = k.instant("usercenter.account.CODE_ERROR"), !1)
                    },
                    b.getCode = function() {
                        b.userinfo.phone ? (b.mobileError = "", d.relMobileCode(b.userinfo.phone).then(function(a) {
                            a.data.success ? l() : b.relErr = a.data.msg
                        })) : (b.mobileError = k.instant("usercenter.account.MOBILE_ERROR2"), $(".mobile").focus())
                    };
                var m = 60;
                b.relAccount = function() {
                    b.checkMobile() && b.checkCode() && (b.mobileError = "", b.codeError = "", d.relMobile(b.userinfo.phone, b.userinfo.password, b.userinfo.code).then(function(a) {
                        a.data.success ? f.openMsgDialog({
                                msg: a.data.msg
                            },
                            function() {
                                b.$close(b.userinfo.phone)
                            }) : b.relErr = a.data.msg
                    }))
                },
                    b.cancel = function() {
                        b.$dismiss()
                    }
            }]),
        b.module("usercenter.relAccount", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.relAccount").controller("RelAccountCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", "$translate",
            function(a, c, d, e, f, g, h, i, j, k, l, m) {
                c.user = k,
                    c.bindAccount = function() {
                        return c.user.email ? c.user.password ? void f.relAccount(k.id, c.user.email, c.user.password).then(function(a) {
                                if (200 == a.data.code) {
                                    l.pushForCurrentRoute("email.save.success", "notify.success"),
                                        /qq/gi.test(c.user.loginName) && (c.relType = "qq"),
                                        /weixin/gi.test(c.user.loginName) && (c.relType = "weixin"),
                                        /weibo/gi.test(c.user.loginName) && (c.relType = "weibo");
                                    var d = {
                                        type: c.relType,
                                        email: b.copy(c.user.email)
                                    };
                                    c.$close(d)
                                } else c.relErr = a.data.msg
                            },
                            function(a) {
                                c.$dismiss()
                            }) : (c.relErr = m.instant("usercenter.account.PASSWORD_ERROR"), void $(".third-pwd").focus()) : (c.relErr = m.instant("usercenter.account.ACCOUNT_ERROR"), void $(".third-name").focus())
                    },
                    c.checkUpperCase = function() {
                        return "/ [A - Z] / g".test(c.user.email) && (c.user.email = c.user.email.toLowerCase(),
                            c.relErr = m.instant("usercenter.account.EMAIL_TIP"))
                    },
                    c.cancel = function() {
                        c.$dismiss()
                    }
            }]),
        b.module("usercenter.relEmail", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.relEmail").controller("RelEmailCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", "$translate",
            function(a, b, c, d, e, f, g, h, i, j, k, l) {
                switch (b.title = j.title, b.userinfo = j, b.title) {
                    case l.instant("usercenter.account.REL_EMAIL"):
                        b.dec = l.instant("usercenter.account.REL_EMAIL_DESC");
                        break;
                    case l.instant("usercenter.account.VALIDATE_EMAIL"):
                        b.dec = l.instant("usercenter.account.VALIDATE_EMAIL_DESC");
                        break;
                    case l.instant("usercenter.account.CHANGE_EMAIL"):
                        b.dec = l.instant("usercenter.account.CHANGE_EMAIL")
                }
                b.checkEmailFormat = function(a) {
                    var c = /^([a-zA-Z0-9]+[_|\_|\.|-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[\.|-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                    return c.test(b.userinfo.email) ? (b.emailFormatErr = "", !0) : (b.emailFormatErr = l.instant("usercenter.account.REL_EMAIL_TIP"), !1)
                },
                    b.checkPassFormat = function(a) {
                        return a.password ? (b.passFormatErr = "", !0) : (b.passFormatErr = l.instant("usercenter.account.PASSWORD_ERROR"), $(".email-pwd").focus(), !1)
                    },
                    b.relEmail = function(a) {
                        b.checkEmailFormat(a) && b.checkPassFormat(a) && (null == b.userinfo.checkEmail ? b.firstRel = !1 : b.firstRel = !0, e.relEmail(b.userinfo.email, b.userinfo.password, b.firstRel).then(function(a) {
                                200 == a.data.code ? (b.relErr = "", h.openMsgDialog({
                                        msg: "申请绑定成功,已向您的邮箱发送验证邮件,请注意查收。"
                                    },
                                    function() {
                                        b.$dismiss()
                                    })) : (b.firstRel = !0, b.relErr = a.data.msg)
                            },
                            function(a) {}))
                    },
                    b.checkUpperCase = function() { return "/ [A - Z] / g".test(b.userinfo.email) && (b.userinfo.email = b.userinfo.email.toLowerCase(), b.relErr = l.instant("usercenter.account.EMAIL_TIP"))
                    },
                    b.cancel = function() {
                        b.$dismiss()
                    }
            }]),
        b.module("usercenter.relRegisterAccount", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.relRegisterAccount").controller("RelRegisterAccountCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", "localizedMessages", "$translate",
            function(a, c, d, e, f, g, h, i, j, k, l, m, n) {
                c.user = k,
                    c.user.agreement = !0;
                var o = !1;
                c.cancel = function() {
                    c.$dismiss("cancel")
                },
                    c.registerAccount = function() {
                        if (c.userNotExist && c.checkUsername() && c.checkPassword() && c.checkRepeatPassword()) if (c.user.password === c.user.repeatPassword && c.user.agreement) {
                            if (o) return;
                            o = !0,
                                f.relAccount(k.id, c.user.email, c.user.password, !0).then(function(a) {
                                        if (o = !1, 200 == a.data.code) {
                                            l.pushForCurrentRoute("email.save.success", "notify.success"),
                                                /qq/gi.test(c.user.loginName) && (c.relType = "qq"),
                                                /weixin/gi.test(c.user.loginName) && (c.relType = "weixin"),
                                                /weibo/gi.test(c.user.loginName) && (c.relType = "weibo");
                                            var d = {
                                                type: c.relType,
                                                email: b.copy(c.user.email)
                                            };
                                            c.$close(d)
                                        } else c.relErr = a.data.msg
                                    },
                                    function(a) {
                                        o = !1,
                                            c.regErr = m.get("register.error.serverError", {
                                                exception: x
                                            }),
                                            c.$dismiss()
                                    })
                        } else c.user.password != c.user.repeatPassword ? c.regErr = m.get("register.error.match") : c.regErr = m.get("register.error.agreement")
                    },
                    c.checkUsername = function() {
                        if (c.user.email) {
                            if (/^[-_a-z0-9\.@]{6,40}$/g.test(c.user.email)) return c.checkUniqueness(c.user.email),
                                !0;
                            c.usernameError = n.instant("usercenter.account.REG_ACCOUNT_ERR2")
                        } else c.usernameError = n.instant("usercenter.account.REG_ACCOUNT_ERR1");
                        return ! 1
                    },
                    c.checkUniqueness = function(a) {
                        g.checkUniqueness(a).success(function(a) {
                            c.userNotExist = a.success,
                                c.userNotExist ? c.usernameError = null: c.usernameError = n.instant("usercenter.account.REG_ACCOUNT_ERR3")
                        })
                    },
                    c.checkPassword = function() {
                        if (c.user.password) {
                            if (/^[a-zA-Z0-9]{6,16}$/g.test(c.user.password)) return c.passError = null,
                                !0;
                            c.passError = n.instant("usercenter.account.REG_PWD_ERR2")
                        } else c.passError = n.instant("usercenter.account.REG_PWD_ERR1");
                        return ! 1
                    },
                    c.checkRepeatPassword = function() {
                        if (c.user.repeatPassword) {
                            if (c.user.repeatPassword == c.user.password) return c.rPassError = "",
                                !0;
                            c.rPassError = n.instant("usercenter.account.REG_PWD_ERR4")
                        } else c.rPassError = n.instant("usercenter.account.REG_PWD_ERR3");
                        return ! 1
                    }
            }]),
        b.module("usercenter.branch.reset", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.branch.reset").controller("ResetBranchPassCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "branch", "i18nNotifications",
            function(a, b, c, d, e, f, g, h, i, j, k) {
                b.branch = j,
                    b.reset = function() {
                        e.resetBranchPass(j.id)
                    },
                    b.cancel = function() {
                        b.$dismiss()
                    },
                    b.$on("reset.branch.success",
                        function() {
                            b.$close()
                        })
            }]),
        b.module("usercenter.upgrade", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.upgrade").controller("UsercenterupgradeCtrl", ["$rootScope", "$scope", "$window", "$translate", "usercenterService", "security", "$modal", "ModalService", "i18nNotifications", "$timeout", "user",
            function(a, b, c, d, e, f, g, h, i, j, k) {
                function l() {
                    0 === m ? (b.isCodeAccessiable = !1, b.codeTip = d.instant("usercenter.account.CODE_TIP1"), m = 60) : (b.isCodeAccessiable = !0, b.codeTip = d.instant("usercenter.account.CODE_TIP2") + "(" + m + ")", j(function() {
                            m--,
                                l()
                        },
                        1e3))
                }
                b.companyInfo = {
                    id: k.id
                },
                    b.checkName = function(a) {
                        return a.name ? (b.nameError = "", !0) : (b.nameError = "请填写企业名称", !1)
                    },
                    b.checkEmail = function(a) {
                        var c = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                        return a.email && !c.test(a.email) ? (b.emailError = "请正确填写邮箱", !1) : a.email ? (b.emailError = "", !0) : (b.emailError = "请填写企业邮箱", !1)
                    },
                    b.checkcontacts = function(a) {
                        return a.contacts ? (b.contactsError = "", !0) : (b.contactsError = "请填写联系人", !1)
                    },
                    b.checkCode = function(a) {
                        return a.code ? (b.codeError = "", !0) : (b.codeError = "请输入手机验证码", !1)
                    },
                    b.getCode = function(a) {
                        return a.mobile ? (b.telError = "", void e.companyMobile(a.mobile).then(function(a) {
                            a.data.success ? l() : b.telError = a.data.msg
                        })) : (b.telError = "请填写手机号码", !1)
                    };
                var m = 60;
                b.checkFormFormat = function(a) {
                    return b.checkName(a) && b.checkEmail(a) && b.checkcontacts(a) && b.checkCode(a) ? !0 : !1
                },
                    b.upgradeCompanyMessage = function(c) {
                        b.checkFormFormat(c) && e.saveCompanyInfo(c).then(function(d) {
                            d.data.success ? (i.pushForCurrentRoute("account.success", "notify.success"), a.$broadcast("companyState"), b.$close(c.mobile)) : b.codeError = d.data.msg
                        })
                    },
                    b.quXiao = function() {
                        b.$dismiss()
                    }
            }]),
        b.module("usercenter.request", ["services.usercenter", "app.directives.qrcode"]),
        b.module("usercenter.request").controller("UsercenterrequestCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location",
            function(a, b, c, d, e, f, g, h, i) {
                b.PREFIX_CLIENT_HOST = PREFIX_HOST,
                    b.currentUser = f.currentUser,
                    b.cancel = function() {
                        b.$dismiss()
                    }
            }]),
        b.module("usercenter.account", ["usercenter.relEmail"]),
        b.module("usercenter.account").controller("UsercenterAccountCtrl", ["$location", "$rootScope", "$scope", "$window", "usercenterService", "$modal", "ModalService", "i18nNotifications", "security", "thirdpartyService", "$translate",
            function(a, c, d, e, f, g, h, i, j, k, l) {
                function m(a) {
                    a && (a.state && /WECHAT_STATE/.test(a.state) ? (q = {
                        code: a.code,
                        type: "weixin"
                    },
                        k.bindAccountCommon(q)) : k.qqBindAccount(a))
                }
                d.PREFIX_CLIENT_HOST = PREFIX_HOST,
                    d.XdpageSize = 10;
                var n = /^EQS.*qq$/,
                    o = /^EQS.*weixin$/;
                d.qqShow = !0,
                    d.weixinShow = !0,
                    n.test(j.currentUser.loginName) && (d.qqShow = !1),
                    o.test(j.currentUser.loginName) && (d.weixinShow = !1);
                var p = null;
                d.goReset = function() {
                    p = g.open({
                        windowClass: "six-contain",
                        templateUrl: "usercenter/tab/reset.tpl.html",
                        controller: "UsercenterAccountCtrl",
                        scope: d
                    }).result.then(function() {
                            p = null
                        },
                        function() {
                            p = null
                        })
                },
                    d.checkOldPassword = function() {
                        return d.password.old ? (d.oldPassError = "", !0) : (d.oldPassError = l.instant("usercenter.account.ORIGINAL_PASSWORD_ERR"), !1)
                    },
                    d.checkPassword = function() {
                        if (d.password.newPw) {
                            if (/^[a-zA-Z0-9]{6,16}$/g.test(d.password.newPw)) return d.passError = "",
                                !0;
                            d.passError = l.instant("usercenter.account.NEW_PASSWORD_ERR2")
                        } else d.passError = l.instant("usercenter.account.NEW_PASSWORD_ERR1");
                        return ! 1
                    },
                    d.checkRepeatPassword = function() {
                        if (d.password.confirm) {
                            if (d.password.confirm == d.password.newPw) return d.rPassError = "",
                                !0;
                            d.rPassError = l.instant("usercenter.account.REPEAT_PASSWORD_ERR2")
                        } else d.rPassError = l.instant("usercenter.account.REPEAT_PASSWORD_ERR1");
                        return ! 1
                    },
                    d.reset = function() {
                        if (d.checkOldPassword() && d.checkPassword() && d.checkRepeatPassword()) {
                            if (b.equals(d.master, d.password)) return void(d.authError = l.instant("usercenter.account.DUPLICATE_CONFIRM"));
                            d.oldPassError = "",
                                d.passError = "",
                                d.rPassError = "",
                                j.resetPassword(d.password.old, d.password.newPw).then(function(a) {
                                    a.data.success ? (i.pushForCurrentRoute("reset.psw.success", "notify.success"), d.master = b.copy(d.password), d.$close(d.master)) : d.oldPassError = a.data.msg
                                })
                        }
                    },
                    d.quXiao = function() {
                        d.$dismiss()
                    },
                    d.manageBranch = function(a) {
                        var b = a;
                        if (!a) if (3 == j.currentUser.memberType) {
                            if (d.branchesCount >= 100) return void h.openMsgDialog({
                                msg: l.instant("usercenter.account.BRANCH_LIMIT")
                            })
                        } else if (2 == j.currentUser.memberType) {
                            if (d.branchesCount >= 50) return void h.openMsgDialog({
                                msg: l.instant("usercenter.account.BRANCH_LIMIT")
                            })
                        } else if (d.branchesCount >= 30) return void h.openMsgDialog({
                            msg: l.instant("usercenter.account.BRANCH_LIMIT")
                        });
                        g.open({
                            windowClass: "console six-contain branch-contain",
                            templateUrl: "usercenter/console/branch.tpl.html",
                            controller: "BranchCtrl",
                            resolve: {
                                branch: function() {
                                    return a
                                }
                            }
                        }).result.then(function(c) {
                                a || (a = {}),
                                    c.dept && (a.deptId = c.dept.id, a.deptName = c.dept.name),
                                    a.name = c.name,
                                    a.id = c.id,
                                    a.extPermi = c.extPermi,
                                    b ? d.branchesCount++:(a.loginName = c.loginName, a.status = 1, a.regTime = (new Date).getTime(), d.branches.unshift(a), d.branches.length > 10 && d.branches.splice(d.branches.length - 1, 1)),
                                    d.$emit("addBranch", a)
                            },
                            function() {})
                    },
                    d.openBranch = function(a, b) {
                        f.openBranch(a.id, b).then(function(c) {
                                c.data.success && (b ? (a.status = 1, i.pushForCurrentRoute("branch.open.success", "notify.success")) : (a.status = 2, i.pushForCurrentRoute("branch.close.success", "notify.success")))
                            },
                            function() {
                                alert(l.instant("usercenter.account.SERVER_ERROR"))
                            })
                    },
                    d.$on("rel.success",
                        function(a, b) {
                            i.pushForCurrentRoute("mail.rel.success", "notify.success"),
                                    "weixin" == b ? d.wxRel = !0 : "qq" == b && (d.qqRel = !0)
                        }),
                    d.getBranches = function(a) {
                        f.getBranches(d.XdpageSize, a).then(function(a) {
                                d.branches = a.data.list,
                                    d.branchesCount = a.data.map.count,
                                    d.branchesNumPages = Math.ceil(d.branchesCount / d.XdpageSize)
                            },
                            function() {})
                    },
                    d.getBranches(d.pageNo),
                    d.$watch("currentPage.branchCurrentPage",
                        function(a, b) {
                            a != b && (d.getBranches(a), d.branchToPage = a)
                        }),
                    d.checkMobile = function(a) {
                        g.open({
                            windowClass: "six-contain mobile-contain",
                            templateUrl: "usercenter/console/checkMobile.tpl.html",
                            controller: "CheckMobileCtrl",
                            scope: d,
                            resolve: {
                                userinfo: function() {
                                    return {
                                        title: a,
                                        phone: d.userinfo.phone
                                    }
                                }
                            }
                        }).result.then(function(a) {
                                d.userinfo.phone = a,
                                    d.userinfo.checkPhone = 1
                            },
                            function() {})
                    },
                    d.createAccount = function() {
                        d.emailAccount = !1,
                            g.open({
                                windowClass: "six-contain",
                                templateUrl: "usercenter/console/register.tpl.html",
                                controller: "RelRegisterAccountCtrl",
                                scope: d,
                                resolve: {
                                    userinfo: function() {
                                        return {
                                            id: d.userinfo.id
                                        }
                                    }
                                }
                            }).result.then(function(b) {
                                    d.userinfo.noRel = null,
                                        d.userinfo.loginName = b.email,
                                        /qq/gi.test(b.type) && (d.qqRel = !0),
                                        /weixin/gi.test(b.type) && (d.wxRel = !0),
                                        /weibo/gi.test(b.type) && (d.wbRel = !0),
                                        a.search("bindemail", null)
                                },
                                function() {
                                    a.search("bindemail", null)
                                })
                    },
                    d.relAccount = function(b) {
                        d.emailAccount = !1,
                            g.open({
                                windowClass: "six-contain",
                                templateUrl: "usercenter/console/relAccount.tpl.html",
                                controller: "RelAccountCtrl",
                                scope: d,
                                resolve: {
                                    userinfo: function() {
                                        return {
                                            id: d.userinfo.id
                                        }
                                    }
                                }
                            }).result.then(function(b) {
                                    d.userinfo.noRel = null,
                                        d.userinfo.loginName = b.email,
                                        /qq/gi.test(b.type) && (d.qqRel = !0),
                                        /weixin/gi.test(b.type) && (d.wxRel = !0),
                                        /weibo/gi.test(b.type) && (d.wbRel = !0),
                                        a.search("bindemail", null)
                                },
                                function() {
                                    a.search("bindemail", null)
                                })
                    },
                    d.relEmail = function(a) {
                        return d.userinfo.noRel ? (alert(l.instant("usercenter.account.REL_TIP")), void d.createAccount()) : void g.open({
                            windowClass: "six-contain",
                            templateUrl: "usercenter/console/relEmail.tpl.html",
                            controller: "RelEmailCtrl",
                            scope: d,
                            resolve: {
                                userinfo: function() {
                                    return {
                                        id: d.userinfo.id,
                                        email: d.userinfo.email,
                                        checkEmail: d.userinfo.checkEmail,
                                        title: a
                                    }
                                }
                            }
                        }).result.then(function() {},
                            function() {})
                    },
                    d.verifyEmail = function() {
                        f.verifyEmail().then(function(a) {
                                200 == a.data.code && h.openMsgDialog({
                                        msg: "申请绑定成功,已向您的邮箱发送验证邮件,请注意查收。"
                                    },
                                    function() {})
                            },
                            function(a) {})
                    };
                d.bindThirdAccount = function(a) {
                    return d.userinfo.noRel ? (alert(l.instant("usercenter.account.REL_TIP")), void d.createAccount()) : void k.openThirtyPartyWindow(a)
                },
                    d.unbindRelation = function(a) {
                        k.unbindRelation(a)
                    },
                    d.$on("mail.unbind.success",
                        function(a, b) {
                            i.pushForCurrentRoute("mail.unbind.success", "notify.success"),
                                    "weixin" == b ? d.wxRel = !1 : "qq" == b && (d.qqRel = !1)
                        });
                var q;
                e.setValue = function(a) {
                    d.bindParam = a,
                        m(d.bindParam),
                        d.$apply()
                },
                    d.emailAccount = !1,
                    d.upgradeCompany = function() {
                        "eqs" == d.userinfo.loginName.substr(0, 3) && null == d.userinfo.email ? d.emailAccount = !0 : g.open({
                            windowClass: "seven-contain",
                            templateUrl: "usercenter/console/upgrade_company.tpl.html",
                            controller: "UsercenterupgradeCtrl",
                            resolve: {
                                user: function() {
                                    return {
                                        id: d.userinfo.id
                                    }
                                }
                            }
                        }).result.then(function(a) {
                                d.userinfo.phone = a,
                                    d.userinfo.checkPhone = 1
                            },
                            function() {})
                    },
                    d.companyMes = !0,
                    d.$on("companyState",
                        function() {
                            d.companyInfo || (d.companyInfo = {}),
                                d.companyMes = !1,
                                d.userinfo.type = 2
                        })
            }]),
        b.module("usercenter.history", []),
        b.module("usercenter.history").controller("UsercenterHistoryCtrl", ["$location", "$rootScope", "$scope", "usercenterService", "ModalService", "$translate", "fileService", "MineService", "sceneService",
            function(a, b, c, d, e, f, g, h, i) {
                c.PREFIX_CLIENT_HOST = PREFIX_HOST;
                var j = b.branchid;
                c.scene = {
                    type: null
                },
                    c.pageSize = 12,
                    c.sceneCurrent = {
                        page: "",
                        total: ""
                    },
                    c.imageCurrent = {
                        page: "",
                        total: ""
                    },
                    c.historyTab = {
                        page: {}
                    };
                var k = function(a) {
                    c.sceneHistory = a,
                            "scene" == a ? c.historyTab = {
                        pages: {
                            currentPage: c.sceneCurrent.page,
                            totalItems: c.sceneCurrent.total,
                            pageSize: 12
                        }
                    }: c.historyTab = {
                        pages: {
                            currentPage: c.imageCurrent.page,
                            totalItems: c.imageCurrent.total,
                            pageSize: 21
                        }
                    }
                };
                c.getMyScenes = function(a, b) {
                    c.sceneHistory = b,
                        h.getMyHistoryScenes(a, c.pageSize, j).then(function(a) {
                            if (a.data.list && a.data.list.length > 0) {
                                c.myScenes = a.data.list;
                                for (var d = 0; d < c.myScenes.length; d++) c.myScenes[d].time = new Date(c.myScenes[d].delTime).getTime() + 2592e5,
                                    c.myScenes[d].history = Math.round((c.myScenes[d].time - (new Date).getTime()) / 1e3 / 60 / 60 / 24);
                                c.sceneCurrent.total = a.data.map.count,
                                    c.sceneCurrent.page = a.data.map.pageNo
                            } else c.sceneTotalItems = 0,
                                    c.sceneCurrent.page > 1 ? c.getMyScenes(--c.sceneCurrent.page, "scene") : c.myScenes = [];
                            k(b)
                        })
                },
                    c.getMyScenes(1, "scene"),
                    c.deleteScene = function(a, b) {
                        e.openConfirmDialog({
                                msg: "确定彻底删除此场景?"
                            },
                            function() {
                                i.deleteSceneById(a, b).then(function() {
                                    c.getMyScenes(c.historyTab.pages.currentPage, "scene")
                                })
                            })
                    },
                    c.revoke = function(a) {
                        i.revoke(a).then(function() {
                            c.getMyScenes(c.historyTab.pages.currentPage, "scene")
                        })
                    },
                    c.$on("images.update",
                        function(a, b, d) {
                            c.images = b.list;
                            for (var e = 0; e < c.images.length; e++) c.images[e].time = new Date(c.images[e].delTime).getTime() + 2592e5,
                                c.images[e].history = Math.round((c.images[e].time - (new Date).getTime()) / 1e3 / 60 / 60 / 24);
                            c.imageCurrent.total = b.map.count,
                                c.imageCurrent.page = b.map.pageNo,
                                k(d)
                        }),
                    c.getImages = function(a, d) {
                        c.sceneHistory = d,
                            g.userRecycle(a, 21).success(function(a) {
                                a.success ? b.$broadcast("images.update", a, d) : alert(a.msg)
                            }).error(function() {
                                alert("网络连接超时，请稍后重试")
                            })
                    },
                    c.$on("file.delete",
                        function(a) {
                            c.getImages(c.historyTab.pages.currentPage, "image")
                        }),
                    c.deleteImg = function(a, b) {
                        e.openConfirmDialog({
                                msg: "确定彻底删除此图片?"
                            },
                            function() {
                                c.deleteFile(a, b)
                            })
                    },
                    c.deleteFile = function(a, c) {
                        g.deleteFile1(a, c).success(function(a) {
                            a.success ? b.$broadcast("file.delete") : alert(a.msg)
                        }).error(function() {
                            alert("网络连接超时，请稍后重试")
                        })
                    },
                    c.imageRevoke = function(a) {
                        g.fileRevoke(a).success(function(a) {
                            a.success ? c.getImages(c.historyTab.pages.currentPage, "image") : alert(a.msg)
                        }).error(function() {
                            alert("网络连接超时，请稍后重试")
                        })
                    },
                    c.pageChanged = function(a) {
                        return 1 > a || a > c.historyTab.pages.totalItems / 10 + 1 ? void alert(f.instant("main.customer.PAGE_OVERFLOW")) : void("scene" == c.sceneHistory ? c.getMyScenes(a, "scene") : c.getImages(a, "image"))
                    }
            }]),
        b.module("usercenter.invitation", []),
        b.module("usercenter.invitation").controller("InvitationCtrl", ["$scope", "usercenterService", "$translate", "$timeout", "ModalService", "i18nNotifications",
            function(a, b, c, d, e, f) {
                a.tabid = "email",
                    a.sendEmail = function(c) { ! a.emailFormatErr && c && b.sendEmail({
                        email: c
                    }).then(function(a) {
                        a.data.success ? f.pushForCurrentRoute("invitation.sendemail.success", "notify.success") : f.pushForCurrentRoute("invitation.sendemail.error", "notify.warning")
                    })
                    },
                    a.checkEmailFormat = function(b) {
                        var d = /^([a-zA-Z0-9]+[_|\_|\.|-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[\.|-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                        d.test(b) ? a.emailFormatErr = "": a.emailFormatErr = c.instant("usercenter.account.REL_EMAIL_TIP")
                    }
            }]),
        b.module("usercenter.privilege", []),
        b.module("usercenter.privilege").controller("PrivilegeCtrl", ["$location", "usercenterService", "$scope", "$modal", "security", "$translate", "ModalService",
            function(a, b, c, d, e, f, g) {
                c.tabid = "corporateMember",
                    c.currentUser = e.currentUser,
                    c.setUserInfo = function() {
                        if (1 == c.currentUser.type) c.userType = "普通用户";
                        else if (2 == c.currentUser.type ? c.upgradeInfo = "已升级": c.upgradeInfo = "免费升级", 3 == c.currentUser.type) c.userType = "高级用户";
                        else if (21 == c.currentUser.type) c.userType = "企业子用户";
                        else if (4 == c.currentUser.type) c.userType = "服务商用户";
                        else if (c.userType = "企业用户", c.currentUser.memberType) {
                            if (c.currentUser.expiryTime) {
                                var a = (new Date).getTime();
                                c.currentUser.expiryTime <= a && (c.currentUser.memberType = null)
                            }
                            1 == c.currentUser.memberType ? c.userPay = "(基础版)": 2 == c.currentUser.memberType ? c.userPay = "(高级版)": c.userPay = "(专业版)"
                        } else c.userPay = "(免费版)"
                    },
                    c.setUserInfo(),
                    c.$watch(function() {
                            return e.currentUser
                        },
                        function(a) {
                            a && (c.currentUser = a, c.setUserInfo())
                        },
                        !0),
                    c.upgradeAccount = function(a, b) {
                        if (!a.target.getAttribute("disabled")) {
                            if (1 != c.currentUser.type || c.companyInfo && 0 === c.companyInfo.status) return 1 == c.currentUser.type && c.companyInfo ? void g.openMsgDialog({
                                msg: f.instant("usercenter.privilege.WARNING_UPGRADE_ENTERPRISE_USER")
                            }) : 2 != c.currentUser.type ? void g.openMsgDialog({
                                msg: f.instant("usercenter.privilege.WARNING_ACCOUNT_CANT_UPGRADE_ENTERPRISE_USER")
                            }) : void d.open({
                                windowClass: "console",
                                templateUrl: "usercenter/upgrade.tpl.html",
                                controller: "UpgradeCtrl",
                                resolve: {
                                    type: function() {
                                        return b
                                    }
                                }
                            }).result.then(function() {},
                                function() {});
                            if ("eqs" == c.currentUser.loginName.substr(0, 3) && null == c.currentUser.email) g.openMsgDialog({
                                msg: f.instant("usercenter.privilege.WARNING_RELATION_ACCOUNT_FIRST")
                            });
                            else {
                                if (!b) return void d.open({
                                    windowClass: "seven-contain",
                                    templateUrl: "usercenter/console/upgrade_company.tpl.html",
                                    controller: "UsercenterupgradeCtrl",
                                    resolve: {
                                        user: function() {
                                            return {
                                                id: c.userinfo.id
                                            }
                                        }
                                    }
                                }).result.then(function() {},
                                    function() {});
                                g.openMsgDialog({
                                        msg: f.instant("usercenter.privilege.WARNING_UPGRADE_FREE_ENTERPRISE_USER"),
                                        btn: f.instant("usercenter.privilege.CONFIRM_TO_KNOW")
                                    },
                                    function() {
                                        d.open({
                                            windowClass: "seven-contain",
                                            templateUrl: "usercenter/console/upgrade_company.tpl.html",
                                            controller: "UsercenterupgradeCtrl",
                                            resolve: {
                                                user: function() {
                                                    return {
                                                        id: c.userinfo.id
                                                    }
                                                }
                                            }
                                        }).result.then(function() {},
                                            function() {})
                                    },
                                    function() {})
                            }
                        }
                    },
                    c.cancel = function() {
                        c.$close()
                    }
            }]).controller("UpgradeCtrl", ["$modal", "$scope", "type", "usercenterService", "ModalService", "security", "$location",
            function(a, b, c, d, e, f, g) {
                b.confirm = function() {
                    d.getCompanyQrCode(c, 1).then(function(h) {
                        b.$close();
                        var i;
                        if (i = 1 == c ? "99元": 2 == c ? "500元": "1.9万", h.data.success) {
                            var j = h.data.obj;
                            a.open({
                                windowClass: "console",
                                templateUrl: "usercenter/payment.tpl.html",
                                controller: "PayMentCtrl",
                                resolve: {
                                    qrCodeUrl: function() {
                                        return j
                                    },
                                    type: function() {
                                        return c
                                    },
                                    money: function() {
                                        return i
                                    },
                                    method: function() {
                                        return "member"
                                    }
                                },
                                size: "lg"
                            }).result.then(function() {
                                    d.getUserInfo().then(function(a) {
                                        a.data.success && (f.currentUser = a.data.obj)
                                    }),
                                        g.path("/usercenter/privilege")
                                },
                                function() {})
                        } else e.openMsgDialog({
                            msg: h.data.msg
                        })
                    })
                },
                    b.cancel = function() {
                        b.$close()
                    }
            }]).controller("PayMentCtrl", ["$modal", "$scope", "qrCodeUrl", "type", "money", "usercenterService", "method",
            function(a, b, c, d, e, f, g) {
                b.qrCodeUrl = c,
                    b.money = e,
                    b.type = d,
                    b.paymented = function() {
                        b.$close()
                    },
                    b.cancel = function() {
                        b.$dismiss()
                    },
                    b.getWeChatUrl = function() {
                        b.wechatUrl || ("member" == g ? f.getCompanyQrCode(d, 0).then(function(a) {
                            a.data.success && (b.wechatUrl = a.data.obj)
                        }) : f.getPayXdQrCode(d, 0).then(function(a) {
                            a.data.success && (b.wechatUrl = a.data.obj)
                        }))
                    }
            }]),
        b.module("usercenter.tab.server", ["services.usercenter", "services.i18nNotifications"]),
        b.module("usercenter.tab.server").controller("ServerTabCtrl", ["$scope", "$rootScope", "usercenterService", "$translate",
            function(a, b, c, d) {
                a.showController = {},
                    a.goStep = function(b) {
                        a.step = b
                    },
                    a.bindDomain = function() {
                        a.showController.agreeBind = !0
                    },
                    a.reApply = function() {
                        a.isShowBindPanel = !0,
                            a.showController.agreeBind = !1
                    };
                var e = function() {
                    c.getDomain().then(function(b) {
                        if (b.data.success) if (a.domainInfo = b.data.obj, a.model.day = b.data.obj.typeList[0], b.data.obj.id) {
                            a.isShowBindPanel = !1,
                                a.domainInfo.ipAddress = "202.173.11.90";
                            var c = a.status = b.data.obj.status;
                            1 === c ? (a.domainMes = d.instant("usercenter.server.DOMAIN_STATUS1"), a.unbind = !1, a.domainInfo.restTime = Math.floor((a.domainInfo.endDate - a.domainInfo.startDate) / 864e5)) : 2 === c ? (a.domainMes = d.instant("usercenter.server.DOMAIN_STATUS2"), a.unbind = !1) : 3 === c ? (a.domainMes = d.instant("usercenter.server.DOMAIN_STATUS3"), a.unbind = !0) : 4 === c ? a.domainMes = d.instant("usercenter.server.DOMAIN_STATUS4") : (new Date).getTime() > b.data.obj.endDate && (a.status = 5, a.domainMes = d.instant("usercenter.server.DOMAIN_STATUS5"), a.unbind = !0)
                        } else a.isShowBindPanel = !0
                    })
                };
                e(),
                    a.model || (a.model = {});
                var f = a.model;
                a.checkDomainFormat = function(b) {
                    return b.url ? (a.domainFormatErr = "", !0) : (a.domainFormatErr = d.instant("usercenter.server.WRITE_DNS"), !1)
                },
                    a.checkDayFormat = function(b) {
                        return b.day ? (a.dayFormatErr = "", !0) : (a.dayFormatErr = d.instant("usercenter.server.WRITE_DATE"), !1)
                    },
                    a.checkAppIdAndSecret = function(b) {
                        return b.appId && !b.secretId ? (a.appIdFormatErr = d.instant("usercenter.serverWRITE_APPSECRET"), !1) : !b.appId && b.secretId ? (a.appSecretErr = d.instant("usercenter.server.WRITE_APPID"), !1) : (a.appIdFormatErr = "", a.appSecretErr = "", !0)
                    },
                    a.submit = function() {
                        if (a.checkDomainFormat(f) && a.checkDayFormat(f) && a.checkAppIdAndSecret(f)) if (a.cost = f.day.label, a.xdCounts >= parseInt(a.cost, 10)) {
                            var b = {
                                url: f.url,
                                buyTime: f.day.value,
                                appId: f.appId,
                                secretId: f.secretId
                            };
                            c.bindDomain(b).then(function(b) {
                                    b.data.success ? (alert(d.instant("usercenter.server.DNS_COMMIT")), a.status = 2, a.isShowBindPanel = !1, a.domainInfo.ipAddress = "202.173.11.90", a.domainInfo.url = f.url) : a.actionerror = b.data.msg
                                },
                                function() {
                                    alert(d.instant("usercenter.server.SERVER_ERROR"))
                                })
                        } else a.xiudian = !0
                    }
            }]),
        b.module("usercenter.transfer", ["services.usercenter"]),
        b.module("usercenter.transfer").controller("UsercentertransferCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "username", "$translate",
            function(a, b, c, d, e, f, g, h, i, j, k) {
                b.transfer = !0,
                    b.userXd = {
                        toUser: "",
                        xdCount: ""
                    },
                    b.submit = !1,
                    b.getUserXd = function() {
                        e.getUserXd().then(function(a) {
                            a.data.success && (b.xdCount = a.data.obj)
                        })
                    },
                    b.getUserXd(),
                    b.confirm = function() {
                        b.submit = !0,
                            b.getgiveXd()
                    },
                    b.checkEmailFormat = function(a) {
                        return a.toUser ? a.toUser == j ? (b.mailFormatErr = k.instant("usercenter.userinfo.ACCOUNT_ERROR2"), $(".username").addClass("error"), !1) : (b.mailFormatErr = "", !0) : (b.mailFormatErr = k.instant("usercenter.userinfo.ACCOUNT_ERROR1"), $(".username").focus(), !1)
                    },
                    b.checkXdFormat = function(a) {
                        return /^\+?[1-9][0-9]*$/.test(a.xdCount) ? b.userXd.xdCount > b.xdCount ? (b.xdFormatErr = k.instant("usercenter.userinfo.XD_ERROR2"), !1) : (b.xdFormatErr = "", !0) : (b.xdFormatErr = k.instant("usercenter.userinfo.XD_ERROR1"), !1)
                    },
                    b.getgiveXd = function() {
                        b.checkEmailFormat(b.userXd) && b.checkXdFormat(b.userXd) && e.getgiveXd(b.userXd).then(function(a) {
                            200 == a.data.code ? b.$close() : 1003 == a.data.code ? b.mailFormatErr = a.data.msg: 1010 == a.data.code && (b.xdFormatErr = a.data.msg)
                        })
                    },
                    b.cancel = function() {
                        b.$close()
                    }
            }]),
        function() {
            b.module("userCenter.userGuide", []).controller("userCenterGuideCtrl", ["$rootScope", "$scope", "security", "$routeParams", "$location",
                function(b, c, d, e, f) {
                    function g(a, b) {
                        var d = sessionStorage.getItem(k.id);
                        a && a[k.id] ? a[k.id + "_isShow_" + k.type] ? c.isFirstLogin = !1 : (d || (c.isCompanyVip = b, c.isFirstLogin = !0, sessionStorage.setItem(k.id, !0)), b && setTimeout(function() {
                                c.isShow()
                            },
                            100)) : (c.isFirstLogin = !0, c.isCompanyVip = b, j = j || {},
                            j[k.id] = k.type, j[k.id + "_isShow_" + k.type] = "2" == k.type, i(l, j), sessionStorage.setItem(k.id, !0))
                    }
                    function h(b) {
                        return a.localStorage ? (j = JSON.parse(localStorage.getItem(b)), j ? j: !1) : null
                    }
                    function i(b, c) {
                        return a.localStorage ? void localStorage.setItem(l, JSON.stringify(c)) : null
                    }
                    var j, k = d.currentUser,
                        l = "userCenterGuide",
                        m = null,
                        n = f.path();
                    if ("1" == k.type && n.indexOf("/account") >= 0 && (m = h(l), g(m, !1), $("#companyVip").css("background", "rgba(0,0,0,0.8")), "2" == k.type && n.indexOf("/main") >= 0) {
                        m = h(l),
                            g(m, !0);
                        var o = JSON.parse(localStorage.getItem("loginInfo")),
                            p = JSON.parse(sessionStorage.getItem("emailGuide")); (!o.isShow || p) && $("#companyVip").css("background", "rgba(0,0,0,0.8")
                    }
                    c.showNextGuide = function() {
                        c.isFirstLogin = !1,
                            $("#companyVip").css("background", "rgba(0,0,0,0")
                    },
                        c.isShow = function() {
                            j = h(l),
                                j[k.id + "_isShow_" + k.type] = !j[k.id + "_isShow_" + k.type],
                                localStorage.setItem(l, JSON.stringify(j))
                        }
                }])
        } (),
        b.module("usercenter", ["usercenter.transfer", "usercenter.privilege", "usercenter.account", "usercenter.upgrade", "usercenter.request", "services.usercenter", "services.localizedMessages", "security.service", "app.directives.addelement", "services.modal", "usercenter.relAccount", "usercenter.branch", "services.i18nNotifications", "security.thirdparty", "usercenter.branch.reset", "usercenter.tab.server", "usercenter.apply", "usercenter.account", "usercenter.checkMobil", "usercenter.relRegisterAccount", "userCenter.userGuide", "usercenter.history", "usercenter.invitation"]),
        b.module("usercenter").controller("UserCenterCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "$filter", "fixnumFilter", "i18nNotifications", "thirdpartyService", "$translate",
            function(a, c, d, e, f, g, h, i, j, k, l, m, n, o) {
                c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                    c.PREFIX_SERVER_HOST = PREFIX_URL,
                    c.PREFIX_CLIENT_HOST = PREFIX_HOST,
                    c.isVendorUser = g.isVendorUser(),
                    c.editInfo = {
                        isEditable: !1
                    },
                    c.isDomainAccessable = g.isAllowToAccess(g.accessDef.ACCESS_DOMAIN_BIND),
                    c.isAllowedHistory = g.isAllowToAccess(g.accessDef.USERCENTER_HISTORY),
                    c.password = {},
                    c.pageSize = 5,
                    c.XdpageSize = 10,
                    c.XdpageNo = 1,
                    c.XdtoPage = "",
                    c.pageNo = 1,
                    c.toPage = c.XdcurrentPage = 1,
                    c.branchToPage = 1,
                    c.currentPage = {
                        msgCurrentPage: 1,
                        branchCurrentPage: 1
                    };
                c.getUserInfo = function() {
                    f.getUserInfo().then(function(a) {
                        c.userinfo = a.data.obj,
                            c.master = b.copy(c.userinfo),
                            c.url = o.instant("usercenter.userinfo.COPY_TIP") + "\r\n" + PREFIX_HOST + "/#/home/register?u=" + c.userinfo.id,
                            c.showUrl = PREFIX_HOST + "/#/home/register?u=" + c.userinfo.id,
                            c.userinfo.headImg ? /^http.*/.test(c.userinfo.headImg) && (c.headImg = c.userinfo.headImg) : c.headImg = CLIENT_CDN + "assets/images/defaultuser.jpg";
                        var d = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                        "eqs" != c.userinfo.loginName.substr(0, 3) || d.test(c.userinfo.loginName) || (c.userinfo.noRel = o.instant("usercenter.account.NO_REL"), /(_qq)$/.test(c.userinfo.loginName) && (c.qqRel = !0), /(_weixin)$/.test(c.userinfo.loginName) && (c.wxRel = !0), /(_weibo)$/.test(c.userinfo.loginName) && (c.wbRel = !0)),
                            /qq/gi.test(c.userinfo.relType) && (c.qqRel = !0),
                            /weixin/gi.test(c.userinfo.relType) && (c.wxRel = !0),
                            /weibo/gi.test(c.userinfo.relType) && (c.wbRel = !0),
                            j.search().bindemail && c.relAccount()
                    })
                },
                    c.getUserInfo(),
                    c.copyCode = function() {
                        var a, b;
                        a = $(".invitation-contain span"),
                            b = a.html(),
                            clipboard.setData("text/plain", b)
                    },
                    c.getCompanyInfo = function() {
                        f.getCompanyInfo().then(function(a) {
                            c.companyInfo = a.data.obj
                        })
                    },
                    c.getCompanyInfo(),
                    c.checkUserPhone = function(a) {
                        var b = /^1\d{10}$/;
                        return a.phone && !b.test(a.phone) ? (c.userPhoneFormatErr = o.instant("usercenter.userinfo.PHONE_FORMAT_ERR"), void(a.phone = "")) : void(c.userPhoneFormatErr = "")
                    },
                    c.checkUserQQ = function(a) {
                        var b = /(^[1-9]\d*$)/;
                        return a.qq && !b.test(a.qq) ? (c.qqFormatErr = o.instant("usercenter.userinfo.QQ_FORMAT_ERR"), void(a.qq = "")) : void(c.qqFormatErr = "")
                    },
                    c.checkUserTel = function(a) {
                        var b = /^[0-9]*$/;
                        return a.tel && !b.test(a.tel) ? (c.userTelFormatErr = o.instant("usercenter.userinfo.TEL_FORMAT_ERR"), void(a.tel = "")) : void(c.userTelFormatErr = "")
                    },
                    c.saveUserInfo = function(a) {
                        if (! (c.userPhoneFormatErr || c.qqFormatErr || c.userTelFormatErr)) {
                            var b = {
                                id: a.id,
                                name: a.name,
                                sex: a.sex,
                                phone: a.phone,
                                tel: a.tel,
                                qq: a.qq,
                                headImg: a.headImg
                            };
                            f.saveUserInfo(b).then(function(a) {
                                a.data.success && (c.editInfo.isEditable = !1, m.pushForCurrentRoute("save.success", "notify.success"))
                            })
                        }
                    },
                    c.tabid = e.id,
                    c.getUserXd = function() {
                        f.getUserXd().then(function(a) {
                            a.data.success && (c.xdCounts = a.data.obj)
                        })
                    },
                    c.getUserXd(),
                    c.getXdlog = function(a) {
                        var b = a;
                        f.getXdlog(b, c.XdpageSize).then(function(a) {
                            a.data.success && (c.xdLogs = a.data.list, c.XdCount = a.data.map.count, c.XdcurrentPage = a.data.map.pageNo, c.XdNumPages = Math.ceil(c.XdCount / c.XdpageSize))
                        })
                    },
                    c.getXdlog(c.XdpageNo),
                    c.XdpageChanged = function(a) {
                        c.XdcurrentPage = a,
                            c.getXdlog(a)
                    },
                    c.getXdStatNum = function() {
                        f.getXdStat().then(function(a) {
                            c.getXdStat = a.data.map
                        })
                    },
                    c.getXdStatNum(),
                    c.openXd = function() {
                        h.open({
                            windowClass: "six-contain",
                            templateUrl: "usercenter/transfer.tpl.html",
                            controller: "UsercentertransferCtrl",
                            resolve: {
                                username: function() {
                                    return c.userinfo.loginName
                                }
                            }
                        }).result.then(function() {
                                c.getUserXd(),
                                    c.getXdlog(),
                                    c.getXdStatNum()
                            },
                            function() {})
                    },
                    c.customerUpload = function() {
                        h.open({
                            windowClass: "img_console console",
                            templateUrl: "scene/console/bg.tpl.html",
                            controller: "BgConsoleCtrl",
                            resolve: {
                                obj: function() {
                                    return {
                                        fileType: 1
                                    }
                                }
                            }
                        }).result.then(function(b) {
                                if (b.width / b.height === 1) {
                                    c.userinfo.headImg = b.data;
                                    var d = {
                                        headImg: b.data,
                                        id: c.userinfo.id
                                    };
                                    return void f.saveUserInfo(d).then(function(d) {
                                        d.data.success && (c.editInfo.isEditable = !1, a.$broadcast("headImg.change", b.data))
                                    })
                                }
                                h.open({
                                    windowClass: "console seven-contain",
                                    templateUrl: "scene/console/imageCrop.tpl.html",
                                    controller: "imageCropCtrl",
                                    backdrop: "static",
                                    resolve: {
                                        obj: function() {
                                            return {
                                                type: "square",
                                                properties: {
                                                    src: b.data
                                                }
                                            }
                                        }
                                    }
                                }).result.then(function(d) {
                                        c.userinfo.headImg = d.src;
                                        var e = {
                                            headImg: d.src,
                                            id: c.userinfo.id
                                        };
                                        f.saveUserInfo(e).then(function(d) {
                                            d.data.success && (c.editInfo.isEditable = !1, a.$broadcast("headImg.change", b.data))
                                        })
                                    },
                                    function(a) {})
                            },
                            function(a) {})
                    },
                    c.cancel = function() {
                        c.userinfo = b.copy(c.master),
                            c.editInfo.isEditable = !1,
                            c.qqFormatErr = "",
                            c.telFormatErr = "",
                            c.mobileFormatErr = "",
                            c.userTelFormatErr = "",
                            c.userPhoneFormatErr = ""
                    },
                    c.getUserMsg = function(a) {
                        var d = a;
                        f.getNewMessage(d, c.pageSize).then(function(a) {
                            b.forEach(a.data.list,
                                function(a, b) {
                                    1 == a.bizType ? a.type = o.instant("usercenter.message.MESSAGE_TYPE1") : 2 == a.bizType ? a.type = o.instant("usercenter.message.MESSAGE_TYPE2") : 3 == a.bizType && (a.type = o.instant("usercenter.message.MESSAGE_TYPE3"))
                                }),
                                c.newMsgs = a.data.list,
                                c.msgCount = a.data.map.count,
                                c.msgNumPages = Math.ceil(c.msgCount / c.pageSize)
                        })
                    },
                    c.getUserMsg(c.pageNo),
                    c.$watch("currentPage.msgCurrentPage",
                        function(a, b) {
                            a != b && (c.getUserMsg(a), c.toPage = a)
                        }),
                    c.pageChanged = function(a, b) {
                        c.currentPage[b] = a
                    },
                    c.setRead = function(c) {
                        var d = [];
                        b.forEach(c,
                            function(a, b) {
                                1 == a.status && this.push(a.id)
                            },
                            d);
                        var e = d.join();
                        f.setRead(e).then(function(e) {
                            200 == e.data.code && (a.$broadcast("minusCount", d.length), b.forEach(c,
                                function(a, b) {
                                    a.status = 2
                                }))
                        })
                    },
                    c.goBaseInfo = function() {
                        j.path("/usercenter/userinfo", !1),
                            c.tabid = "userinfo"
                    },
                    c.goXd = function() {
                        j.path("/usercenter/xd", !1),
                            c.tabid = "xd"
                    },
                    c.goInvitation = function() {
                        j.path("/usercenter/invitation", !1),
                            c.tabid = "invitation"
                    },
                    c.goPrivilege = function() {
                        j.path("/usercenter/privilege", !1),
                            c.tabid = "privilege"
                    },
                    c.goMessage = function() {
                        j.path("/usercenter/message", !1),
                            c.tabid = "message"
                    },
                    c.goAccount = function() {
                        j.path("/usercenter/account", !1),
                            c.tabid = "account"
                    },
                    c.goHistory = function() {
                        j.path("/usercenter/history", !1),
                            c.tabid = "history"
                    },
                    c.domainbind = !1,
                    c.goServer = function() {
                        j.path("/usercenter/server", !1),
                            c.tabid = "server"
                    },
                    c.limiteTime = null,
                    c.success = !1,
                    c.weibind = !1;
                var p = function() {
                    f.getDomain().then(function(a) {
                        a.data.success && (c.domainMess = a.data.obj, c.limiteTime = c.domainMess.typeList[0], a.data.obj.id && (c.domainbind = !0, 1 === c.domainMess.status ? (c.domainMess = o.instant("usercenter.server.DOMAIN_STATUS1"), c.success = !0) : 2 === c.domainMess.status ? (c.domainMess = o.instant("usercenter.server.DOMAIN_STATUS2"), c.weibind = !1) : 3 === c.domainMess.status ? (c.domainMess = o.instant("usercenter.server.DOMAIN_STATUS3"), c.weibind = !0) : 4 === c.domainMess.status ? c.domainMess = o.instant("usercenter.server.DOMAIN_STATUS4") : 5 === c.domainMess.status && (c.domainMess = o.instant("usercenter.server.DOMAIN_STATUS5"), c.weibind = !0)))
                    })
                };
                c.domain = function() {
                    h.open({
                        windowClass: "six-contain",
                        templateUrl: "usercenter/tab/domain.tpl.html",
                        controller: "UserCenterCtrl",
                        resolve: {
                            param: function() {
                                return {
                                    value: c.domainMess
                                }
                            }
                        }
                    }).result.then(function() {
                            p()
                        },
                        function() {})
                },
                    c.applyShow = function() {
                        h.open({
                            windowClass: "console seven-contain apply-contain",
                            templateUrl: "usercenter/console/apply.tpl.html",
                            controller: "ApplyCtrl",
                            resolve: {
                                userinfo: function() {
                                    return {
                                        status: c.applyInfo,
                                        id: c.userinfo.id
                                    }
                                }
                            }
                        }).result.then(function(a) {
                                c.applyInfo = a
                            },
                            function() {})
                    },
                    f.getUserStatus().then(function(a) {
                        c.applyInfo = a.data.map.status
                    }),
                    c.know = function() {
                        c.xiudian = !1
                    },
                    c.checkCompanyMobile = function(a) {
                        var b = /^[0-9]*$/;
                        a.mobile && !b.test(a.mobile) && (c.mobileFormatErr = o.instant("usercenter.userinfo.TEL_FORMAT_ERR"), a.mobile = ""),
                            c.mobileFormatErr = ""
                    },
                    c.checkCompanyTel = function(a) {
                        var b = /^1\d{10}$/;
                        return a.tel && !b.test(a.tel) ? (c.telFormatErr = o.instant("usercenter.userinfo.PHONE_FORMAT_ERR"), void(a.tel = "")) : void(c.telFormatErr = "")
                    },
                    c.saveCompanyInfo = function(a) {
                        if (!c.mobileFormatErr && !c.telFormatErr) {
                            var b = {
                                name: a.name,
                                website: a.website,
                                address: a.address,
                                contacts: a.contacts,
                                tel: a.tel,
                                mobile: a.mobile
                            };
                            f.saveCompanyInfo(b).then(function(a) {
                                a.data.success && (c.editInfo.isEditable = !1, m.pushForCurrentRoute("save.success", "notify.success"))
                            })
                        }
                    },
                    c.buyXd = function() {
                        h.open({
                            windowClass: "console",
                            templateUrl: "usercenter/buyXd.tpl.html",
                            controller: "BuyXdController",
                            resolve: {
                                getUserXd: function() {
                                    return function() {
                                        c.getUserXd(),
                                            c.getXdlog(c.XdtoPage)
                                    }
                                }
                            }
                        }).result.then(function() {},
                            function() {})
                    }
            }]).controller("BuyXdController", ["$scope", "$modal", "usercenterService", "ModalService", "getUserXd",
            function(a, b, c, d, e) {
                a.confirm = function() {
                    c.getPayXdQrCode(10, 1).then(function(c) {
                        if (a.$close(), c.data.success) {
                            var f = c.data.obj;
                            b.open({
                                windowClass: "console",
                                templateUrl: "usercenter/payment.tpl.html",
                                controller: "PayMentCtrl",
                                resolve: {
                                    qrCodeUrl: function() {
                                        return f
                                    },
                                    type: function() {
                                        return 10
                                    },
                                    money: function() {
                                        return "500元"
                                    },
                                    method: function() {
                                        return "buyXd"
                                    }
                                }
                            }).result.then(function() {
                                    e()
                                },
                                function() {})
                        } else d.openMsgDialog({
                            msg: c.data.msg
                        })
                    })
                },
                    a.cancel = function() {
                        a.$close()
                    }
            }]),
        b.module("app.directives.addelement", []).directive("addElement", ["$compile",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(c, d, e) {
                        var f = $("#emailAddress"),
                            g = $("#emailAddress").size() + 1;
                        d.bind("click",
                            function() {
                                var d = b.element('<div><input type="text" id="p_scnt" style="width:100%; height: 30px; margin-top: 15px;" ng-model="attrs.addElement" name="p_scnt_' + g + '" placeholder="Input Value" /></div>');
                                f.append(d);
                                var h = d.find("input");
                                console.log(e.addElement),
                                    a(h)(c),
                                    g++
                            })
                    }
                }
            }]).directive("showIcon", ["$compile", "$timeout", "$translate",
            function(a, b, c) {
                return {
                    restrict: "EA",
                    require: "ngModel",
                    scope: {
                        check: "&callbackFn"
                    },
                    link: function(b, d, e, f) {
                        var g, h, i = a('<a><span class = "glyphicon glyphicon-ok-circle" ng-show="enabled" style = "margin-top: 8px; color: #9ad64b; font-size: 15px;"></span></a>')(b);
                        b.update = function() {
                            d[0].blur(),
                                b.check({
                                    arg1: {
                                        name: f.$name
                                    }
                                })
                        },
                            d.bind("focus",
                                function() {
                                    g = f.$viewValue,
                                        d.parent().after(i),
                                        b.enabled = !0,
                                        ("email" === e.name || "mobile" === e.name || "tel" === e.name) && (b.enabled = !1),
                                        b.$apply()
                                }).bind("blur",
                                function() {
                                    b.enabled = !1,
                                        h = f.$viewValue;
                                    var a = new RegExp(/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
                                    if ("mobile" === e.name && h && !a.test(d.val())) return alert(c.instant("common.PHONE_ERROR")),
                                        $('input[name="mobile"]').addClass("error"),
                                        void $('input[name="mobile"]').change(function() {
                                            $(this).removeClass("error")
                                        });
                                    if ("email" === e.name && h) {
                                        var i = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g);
                                        if (!i.test(d.val())) return alert(c.instant("common.EMAIL_ERROR")),
                                            $('input[name="email"]').addClass("error"),
                                            void $('input[name="email"]').change(function() {
                                                $(this).removeClass("error")
                                            })
                                    } (h || g) && g !== h && b.update(),
                                        b.$apply()
                                })
                    }
                }
            }]).directive("ngHover",
            function() {
                return {
                    restrict: "EA",
                    scope: {
                        resource: "="
                    },
                    link: function(a, b, c) {
                        b.hover(function() {
                                a.$apply(function() {
                                    a.resource.show = !0
                                })
                            },
                            function() {
                                a.$apply(function() {
                                    a.resource.show = !1
                                })
                            })
                    }
                }
            }).directive("imgClick",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        $(b).bind("click",
                            function() {
                                $(b).find("img").css("border", "4px solid #F60"),
                                    $(b).siblings().find("img").css("border", 0)
                            })
                    }
                }
            }).directive("customFocus",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        $(b).siblings().bind("click",
                            function() {
                                b[0].focus()
                            })
                    }
                }
            }).directive("blurChildren",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        $(b).on("click",
                            function(a) { (a.target == b[0] || $(a.target).hasClass("badge")) && $(".blurClass").find("input:visible").blur()
                            })
                    }
                }
            }).directive("forbiddenClose",
            function() {
                return {
                    restrict: "EAC",
                    link: function(a, b, c) {
                        $(b).on("click",
                            function(a) {
                                a.stopPropagation()
                            })
                    }
                }
            }).directive("customeImage",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        $(b).hover(function() {
                                $("<div><a></a></div>")
                            },
                            function() {})
                    }
                }
            }).directive("slides", ["configService",
                function(a) {
                    return {
                        restrict: "EA",
                        link: function(b, c, d) {
                            var e = $(c).find(".slides_container");
                            a.getBanners().then(function(a) {
                                    for (var b = a.data.split(","), d = 0; d < b.length; d++) {
                                        var f = [];
                                        f.push(b[d].split("|"));
                                        for (var g = 0; g < f.length; g++) e.append('<img src="' + f[g][0] + '" usemap="#active' + d + '" width="1000px" height="720px" alt="Slide 1">'),
                                            f[g][1] && e.after('<map name="active' + d + '" id="active' + d + '"><area shape="rect" coords="0,0,1000,720" target="_blank" href ="' + f[g][1] + '" /></map>')
                                    }
                                    $(c).slides({
                                        preload: !0,
                                        play: 5e3,
                                        pause: 2500,
                                        hoverPause: !0
                                    })
                                },
                                function() {
                                    e.append('<img src="' + CLIENT_CDN + 'assets/images/slide_03.png" width="1000px" height="720px" alt="Slide 1">'),
                                        e.append('<img src="' + CLIENT_CDN + 'assets/images/slide2_03.png" width="1000px" height="720px" alt="Slide 1">'),
                                        e.append('<img src="' + CLIENT_CDN + 'assets/images/slide3_03.png" width="1000px" height="720px" alt="Slide 1">'),
                                        $(c).slides({
                                            preload: !0,
                                            play: 5e3,
                                            pause: 2500,
                                            hoverPause: !0
                                        })
                                })
                        }
                    }
                }]).directive("slides3", ["configSerService",
                function(a) {
                    return {
                        restrict: "EA",
                        link: function(b, c, d) {
                            var e = $(c).find(".slides_container");
                            a.getActivityBanner(d.id).then(function(a) {
                                for (var b = a.data.list,
                                         f = 0; f < b.length; f++) {
                                    var g = $('<a href="' + b[f].url + '" style="display:block;" target="' + b[f].target + '" ></a>');
                                    g.append('<img src="' + b[f].path + '" width="' + d.width + '" height="' + d.height + '" alt="' + b[f].title + '" title="' + b[f].title + '" > '),
                                        e.append(g)
                                }
                                $(c).slides({
                                    preload: !0,
                                    play: 5e3,
                                    pause: 2500,
                                    hoverPause: !0
                                })
                            })
                        }
                    }
                }]).directive("addClass",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        $(b).closest(".textbox-wrap").find("[autofocus]").focus(),
                            $(b).on("blur",
                                function() {
                                    $(b).closest(".textbox-wrap").removeClass("focused")
                                }).on("focus",
                                function() {
                                    $(b).closest(".textbox-wrap").addClass("focused")
                                })
                    }
                }
            }).directive("loadScript", ["$http", "$timeout", "$rootScope",
                function(a, c, d) {
                    return {
                        link: function(c, d, e) {
                            var f = function() {
                                c.captchaLoaded = !0
                            };
                            c.$watch(function() {
                                    return d[0].getAttribute("src")
                                },
                                function(b, c) {
                                    b && a.jsonp(d[0].getAttribute("src")).success(f).error(f)
                                }),
                                c.$on("$destroy",
                                    function() {
                                        b.element(".gt_widget").remove()
                                    })
                        }
                    }
                }]),
        b.module("app.directives.autoclose", []).directive("autoClose", ["$compile",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        $(document).click(function(b) {
                            b.target.className;
                            return $(event.target).closest(".drop-area").length ? !1 : (a.showObj = {
                                showGroup: !1
                            },
                                void a.$apply())
                        })
                    }
                }
            }]),
        b.module("colorpicker.module", []).factory("Helper",
            function() {
                return {
                    closestSlider: function(a) {
                        var b = a.matches || a.webkitMatchesSelector || a.mozMatchesSelector || a.msMatchesSelector;
                        return b.bind(a)("I") ? a.parentNode: a
                    },
                    getOffset: function(a, b) {
                        for (var c = 0,
                                 d = 0,
                                 e = 0,
                                 f = 0; a && !isNaN(a.offsetLeft) && !isNaN(a.offsetTop);) c += a.offsetLeft,
                            d += a.offsetTop,
                                b || "BODY" !== a.tagName ? (e += a.scrollLeft, f += a.scrollTop) : (e += document.documentElement.scrollLeft || a.scrollLeft, f += document.documentElement.scrollTop || a.scrollTop),
                            a = a.offsetParent;
                        return {
                            top: d,
                            left: c,
                            scrollX: e,
                            scrollY: f
                        }
                    },
                    stringParsers: [{
                        re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                        parse: function(a) {
                            return [a[1], a[2], a[3], a[4]]
                        }
                    },
                        {
                            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                            parse: function(a) {
                                return [2.55 * a[1], 2.55 * a[2], 2.55 * a[3], a[4]]
                            }
                        },
                        {
                            re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
                            parse: function(a) {
                                return [parseInt(a[1], 16), parseInt(a[2], 16), parseInt(a[3], 16)]
                            }
                        },
                        {
                            re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
                            parse: function(a) {
                                return [parseInt(a[1] + a[1], 16), parseInt(a[2] + a[2], 16), parseInt(a[3] + a[3], 16)]
                            }
                        }]
                }
            }).factory("Color", ["Helper",
                function(a) {
                    return {
                        value: {
                            h: 1,
                            s: 1,
                            b: 1,
                            a: 1
                        },
                        rgb: function() {
                            var a = this.toRGB();
                            return "rgb(" + a.r + "," + a.g + "," + a.b + ")"
                        },
                        rgba: function() {
                            var a = this.toRGB();
                            return "rgba(" + a.r + "," + a.g + "," + a.b + "," + a.a + ")"
                        },
                        hex: function() {
                            return this.toHex()
                        },
                        RGBtoHSB: function(a, b, c, d) {
                            a /= 255,
                                b /= 255,
                                c /= 255;
                            var e, f, g, h;
                            return g = Math.max(a, b, c),
                                h = g - Math.min(a, b, c),
                                e = 0 === h ? null: g === a ? (b - c) / h: g === b ? (c - a) / h + 2 : (a - b) / h + 4,
                                e = (e + 360) % 6 * 60 / 360,
                                f = 0 === h ? 0 : h / g,
                            {
                                h: e || 1,
                                s: f,
                                b: g,
                                a: d || 1
                            }
                        },
                        setColor: function(b) {
                            b = b.toLowerCase();
                            for (var c in a.stringParsers) if (a.stringParsers.hasOwnProperty(c)) {
                                var d = a.stringParsers[c],
                                    e = d.re.exec(b),
                                    f = e && d.parse(e);
                                if (f) return this.value = this.RGBtoHSB.apply(null, f),
                                    !1
                            }
                        },
                        setHue: function(a) {
                            this.value.h = 1 - a
                        },
                        setSaturation: function(a) {
                            this.value.s = a
                        },
                        setLightness: function(a) {
                            this.value.b = 1 - a
                        },
                        setAlpha: function(a) {
                            this.value.a = parseInt(100 * (1 - a), 10) / 100
                        },
                        toRGB: function(a, b, c, d) {
                            a || (a = this.value.h, b = this.value.s, c = this.value.b),
                                a *= 360;
                            var e, f, g, h, i;
                            return a = a % 360 / 60,
                                i = c * b,
                                h = i * (1 - Math.abs(a % 2 - 1)),
                                e = f = g = c - i,
                                a = ~~a,
                                e += [i, h, 0, 0, h, i][a],
                                f += [h, i, i, h, 0, 0][a],
                                g += [0, 0, h, i, i, h][a],
                            {
                                r: Math.round(255 * e),
                                g: Math.round(255 * f),
                                b: Math.round(255 * g),
                                a: d || this.value.a
                            }
                        },
                        toHex: function(a, b, c, d) {
                            var e = this.toRGB(a, b, c, d);
                            return "#" + (1 << 24 | parseInt(e.r, 10) << 16 | parseInt(e.g, 10) << 8 | parseInt(e.b, 10)).toString(16).substr(1)
                        }
                    }
                }]).factory("Slider", ["Helper",
                function(b) {
                    var c = {
                            maxLeft: 0,
                            maxTop: 0,
                            callLeft: null,
                            callTop: null,
                            knob: {
                                top: 0,
                                left: 0
                            }
                        },
                        d = {};
                    return {
                        getSlider: function() {
                            return c
                        },
                        getLeftPosition: function(a) {
                            return Math.max(0, Math.min(c.maxLeft, c.left + ((a.pageX || d.left) - d.left)))
                        },
                        getTopPosition: function(a) {
                            return Math.max(0, Math.min(c.maxTop, c.top + ((a.pageY || d.top) - d.top)))
                        },
                        setSlider: function(e, f) {
                            var g = b.closestSlider(e.target),
                                h = b.getOffset(g, f);
                            c.knob = g.children[0].style,
                                c.left = e.pageX - h.left - a.pageXOffset + h.scrollX,
                                c.top = e.pageY - h.top - a.pageYOffset + h.scrollY,
                                d = {
                                    left: e.pageX,
                                    top: e.pageY
                                }
                        },
                        setSaturation: function(a, b) {
                            c = {
                                maxLeft: 100,
                                maxTop: 100,
                                callLeft: "setSaturation",
                                callTop: "setLightness"
                            },
                                this.setSlider(a, b)
                        },
                        setHue: function(a, b) {
                            c = {
                                maxLeft: 0,
                                maxTop: 100,
                                callLeft: !1,
                                callTop: "setHue"
                            },
                                this.setSlider(a, b)
                        },
                        setAlpha: function(a, b) {
                            c = {
                                maxLeft: 0,
                                maxTop: 100,
                                callLeft: !1,
                                callTop: "setAlpha"
                            },
                                this.setSlider(a, b)
                        },
                        setKnob: function(a, b) {
                            c.knob.top = a + "px",
                                c.knob.left = b + "px"
                        }
                    }
                }]).directive("colorpicker", ["$document", "$compile", "Color", "Slider", "Helper",
                function(a, c, d, e, f) {
                    return {
                        require: "?ngModel",
                        restrict: "A",
                        link: function(g, h, i, j) {
                            var k, l = {
                                    x: parseInt(i.x, 10) || 0,
                                    y: parseInt(i.y, 10) || 0
                                },
                                m = i.colorpicker ? i.colorpicker: "hex",
                                n = b.isDefined(i.colorpickerPosition) ? i.colorpickerPosition: "bottom",
                                o = b.isDefined(i.colorpickerInline) ? i.colorpickerInline: !1,
                                p = b.isDefined(i.colorpickerFixedPosition) ? i.colorpickerFixedPosition: !1,
                                q = b.isDefined(i.colorpickerParent) ? h.parent() : b.element(document.body),
                                r = b.isDefined(i.colorpickerWithInput) ? i.colorpickerWithInput: !1,
                                s = r ? '<input type="text" name="colorpicker-input">': "",
                                t = o ? "": '<button type="button" class="close close-colorpicker">&times;</button>',
                                u = '<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>' + s + t + "</div></div>",
                                v = b.element(u),
                                w = d,
                                x = v.find("colorpicker-hue"),
                                y = v.find("colorpicker-saturation"),
                                z = v.find("colorpicker-preview"),
                                A = v.find("i");
                            if (c(v)(g), r) {
                                var B = v.find("input");
                                B.on("mousedown",
                                    function(a) {
                                        a.stopPropagation()
                                    }).on("keyup",
                                    function(a) {
                                        var b = this.value;
                                        h.val(b),
                                            j && g.$apply(j.$setViewValue(b)),
                                            a.stopPropagation(),
                                            a.preventDefault()
                                    }),
                                    h.on("keyup",
                                        function() {
                                            B.val(h.val())
                                        })
                            }
                            var C = function() {
                                a.on("mousemove", E),
                                    a.on("mouseup", F)
                            };
                            "rgba" === m && (v.addClass("alpha"), k = v.find("colorpicker-alpha"), k.on("click",
                                function(a) {
                                    e.setAlpha(a, p),
                                        E(a)
                                }).on("mousedown",
                                function(a) {
                                    e.setAlpha(a, p),
                                        C()
                                })),
                                x.on("click",
                                    function(a) {
                                        e.setHue(a, p),
                                            E(a)
                                    }).on("mousedown",
                                    function(a) {
                                        e.setHue(a, p),
                                            C()
                                    }),
                                y.on("click",
                                    function(a) {
                                        e.setSaturation(a, p),
                                            E(a)
                                    }).on("mousedown",
                                    function(a) {
                                        e.setSaturation(a, p),
                                            C()
                                    }),
                                p && v.addClass("colorpicker-fixed-position"),
                                v.addClass("colorpicker-position-" + n),
                                "true" === o && v.addClass("colorpicker-inline"),
                                q.append(v),
                                j && (j.$render = function() {
                                h.val(j.$viewValue)
                            },
                                g.$watch(i.ngModel,
                                    function() {
                                        G()
                                    })),
                                h.on("$destroy",
                                    function() {
                                        v.remove()
                                    });
                            var D = function() {
                                    try {
                                        z.css("backgroundColor", w[m]())
                                    } catch(a) {
                                        z.css("backgroundColor", w.toHex())
                                    }
                                    y.css("backgroundColor", w.toHex(w.value.h, 1, 1, 1)),
                                        "rgba" === m && (k.css.backgroundColor = w.toHex())
                                },
                                E = function(a) {
                                    var b = e.getLeftPosition(a),
                                        c = e.getTopPosition(a),
                                        d = e.getSlider();
                                    e.setKnob(c, b),
                                        d.callLeft && w[d.callLeft].call(w, b / 100),
                                        d.callTop && w[d.callTop].call(w, c / 100),
                                        D();
                                    var f = w[m]();
                                    return h.val(f),
                                        j && g.$apply(j.$setViewValue(f)),
                                        r && B.val(f),
                                        !1
                                },
                                F = function() {
                                    a.off("mousemove", E),
                                        a.off("mouseup", F)
                                },
                                G = function() {
                                    w.setColor(h.val()),
                                        A.eq(0).css({
                                            left: 100 * w.value.s + "px",
                                            top: 100 - 100 * w.value.b + "px"
                                        }),
                                        A.eq(1).css("top", 100 * (1 - w.value.h) + "px"),
                                        A.eq(2).css("top", 100 * (1 - w.value.a) + "px"),
                                        D()
                                },
                                H = function() {
                                    var a, c = f.getOffset(h[0]);
                                    return b.isDefined(i.colorpickerParent) && (c.left = 0, c.top = 0),
                                            "top" === n ? a = {
                                        top: c.top - 147 + l.y,
                                        left: c.left + l.x
                                    }: "right" === n ? a = {
                                        top: c.top + l.y,
                                        left: c.left + 126 + l.x
                                    }: "bottom" === n ? a = {
                                        top: c.top + h[0].offsetHeight + 2 + l.y,
                                        left: c.left + l.x
                                    }: "left" === n ? a = {
                                        top: c.top + l.y,
                                        left: c.left - 150 + l.x
                                    }: "sceneToobar" === n && (a = {
                                        top: c.top + l.y - 110,
                                        left: c.left - 150 + l.x + 40
                                    }),
                                    {
                                        top: a.top + "px",
                                        left: a.left + "px"
                                    }
                                },
                                I = function() {
                                    K()
                                };
                            o === !1 ? h.on("click",
                                function() {
                                    G(),
                                        v.addClass("colorpicker-visible").css(H()),
                                        a.on("mousedown", I)
                                }) : (G(), v.addClass("colorpicker-visible").css(H())),
                                v.on("mousedown",
                                    function(a) {
                                        a.stopPropagation(),
                                            a.preventDefault()
                                    });
                            var J = function(a) {
                                    j && g.$emit(a, {
                                        name: i.ngModel,
                                        value: j.$modelValue
                                    })
                                },
                                K = function() {
                                    v.hasClass("colorpicker-visible") && (v.removeClass("colorpicker-visible"), J("colorpicker-closed"), a.off("mousedown", I))
                                };
                            v.find("button").on("click",
                                function() {
                                    K()
                                })
                        }
                    }
                }]),
        b.module("app.directives.rightclick", []).directive("rightClick", ["$compile",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(b, c, d) {
                        var e;
                        $(c).on("contextmenu",
                            function(d) {
                                if (d.preventDefault(), e && e[0] && e.remove(), "0" == b.categoryId) {
                                    e = $('<ul class="right-menu dropdown-menu"></ul>'),
                                        e.appendTo($(c)),
                                        e.css({
                                            left: d.pageX - $(c).offset().left,
                                            top: d.pageY - $(c).offset().top
                                        }).show();
                                    for (var f in b.myTags) {
                                        var g = '<li class="tag_list" ng-class="{selected: dropTagIndex == ' + f + '}" ng-click="selectTag(' + b.myTags[f].id + "," + f + ')">' + b.myTags[f].name + "</li>",
                                            h = a(g)(b);
                                        e.append(h)
                                    }
                                    var i = a('<li class="tag_list add_cate clearfix" style="border-top:1px solid #ccc;margin-bottom:0px;" ng-click="createCategory()"><em>+</em><span>创建分类</span></li>')(b);
                                    e.append(i);
                                    var j = a('<li class="btn-main" style="width:100%; padding:0px; border: 0;margin:0px;height:25px; line-height:25px;"><a style="height:25px;line-height:25px;text-indent:0;color:#FFF;padding:0px;text-align:center;" ng-click="setCategory(' + b.dropTagIndex + "," + b.img.id + ')">确定</a></li>')(b);
                                    e.append(j),
                                        $(j).on("click",
                                            function() {
                                                e.hide()
                                            }),
                                        $(document).mousemove(function(a) { (a.pageX < e.offset().left - 20 || a.pageX > e.offset().left + e.width() + 20 || a.pageY < e.offset().top - 20 || a.pageY > e.offset().top + e.height() + 20) && (e.hide(), $(this).unbind("mousemove"))
                                        })
                                }
                            })
                    }
                }
            }]),
        b.module("app.directives.customer", []).directive("forbiddenListClose",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        $(b).click(function(a) {
                            return ! 1
                        })
                    }
                }
            }),
        b.module("app.directives.dataDraggable", []).directive("itemDraggable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        $(b).draggable({
                            zIndex: 2700,
                            scroll: !1,
                            iframeFix: !1,
                            revert: !1,
                            helper: "clone"
                        })
                    }
                }
            }).directive("itemDroppable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        $(b).droppable({
                            hoverClass: "active",
                            out: function(a, b) {},
                            drop: function(b, c) {
                                delete a.$parent.associateData[c.draggable.parent().attr("item-id")],
                                    a.$parent.associateData[$(b.target).attr("item-id")] = c.draggable.attr("item-id");
                                var d = $(b.target).find(".list_darggable");
                                d.length > 0 && $(".item-remove-droppable").append(d),
                                    c.draggable.css({
                                        left: 0,
                                        top: 0
                                    }).prependTo(this)
                            }
                        })
                    }
                }
            }).directive("itemRemoveDroppable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        $(b).droppable({
                            hoverClass: "active",
                            drop: function(b, c) {
                                $(c.draggable).parents(".list-attribute").length > 0 && delete a.$parent.associateData[$(c.draggable).parents(".list-attribute").attr("item-id")],
                                    c.draggable.css({
                                        left: 0,
                                        top: 0
                                    }).appendTo(this)
                            }
                        })
                    }
                }
            }),
        b.module("common.directives.inputColor", []).controller("inputColorCtrl", ["$scope", "$attrs",
            function(a, b) {
                a.x = b.x || 151,
                    a.y = b.y || -2,
                    a.colorMode = b.colorMode || "rgba"
            }]).directive("eqdInputColor",
            function() {
                return {
                    restrict: "E",
                    templateUrl: "directives/inputColor.tpl.html",
                    replace: !0,
                    controller: "inputColorCtrl",
                    scope: {
                        selectColor: "=",
                        defaultColor: "="
                    }
                }
            }),
        b.module("app.directives.keymap", ["services.scene", "services.history", "services.select"]).directive("eqxKeymap", ["sceneService", "historyService", "selectService",
            function(a, b, c) {
                return {
                    restrict: "A",
                    link: function(b) {
                        var c = $(document);
                        b.$on("$destroy",
                            function() {
                                c.unbind("keydown")
                            }),
                            c.unbind("keydown").keydown(function(c) {
                                if ((c.ctrlKey || c.metaKey) && 90 == c.keyCode && a.historyBack(), (c.ctrlKey || c.metaKey) && 89 == c.keyCode && a.historyForward(), (c.ctrlKey || c.metaKey) && 86 == c.keyCode) {
                                    if ($("#btn-toolbar").length || $(".modal-dialog").length) return;
                                    a.getCopy() && a.pasteElement()
                                }
                                if ((c.ctrlKey || c.metaKey) && 67 == c.keyCode) {
                                    if ($("#btn-toolbar").length || $(".modal-dialog").length) return;
                                    a.copyElement()
                                }
                                b.$apply()
                            })
                    }
                }
            }]),
        b.module("app.directives.limitInput", []).directive("limitInput",
            function() {
                return {
                    require: "ngModel",
                    link: function(a, b, c, d) {
                        "transform" == c.cssItem && a.$on("updateTransform",
                            function(a, b) {
                                d.$setViewValue(parseInt(b, 10)),
                                    d.$render()
                            }),
                            "borderRadius" == c.cssItem && a.$on("updateMaxRadius",
                            function(b, c) {
                                a.maxRadius = parseInt(Math.min($(c).outerWidth(), $(c).outerHeight()) / 2 + 10, 10),
                                    a.maxRadius < a.model.borderRadius && (d.$setViewValue(a.maxRadius), d.$render()),
                                    a.$apply()
                            }),
                            a.$watch(function() {
                                    return $(b).val()
                                },
                                function(a) { + a > c.max && (d.$setViewValue(c.max), d.$render()),
                                    +a < c.min && (d.$setViewValue(c.min), d.$render())
                                })
                    }
                }
            }),
        b.module("app.directives.lineChart", []).directive("lineChart", ["$compile",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        var d, e;
                        a.$watch(function() {
                                return c.data
                            },
                            function() {
                                c.data && (d = JSON.parse(c.data)),
                                    e ? (e.destroy(), e = new Chart(b[0].getContext("2d")).Line(d, {
                                        scaleFontColor: "#fff"
                                    })) : e = new Chart(b[0].getContext("2d")).Line(d, {
                                        scaleFontColor: "#fff"
                                    })
                            })
                    }
                }
            }]),
        b.module("app.directives.loading", []).directive("loginLoading",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        a.$on("loginLoading",
                            function(a, c) {
                                var d = $('<div class="homeMask" style="position: absolute;width: 100%;top:0;bottom:0;background-color:#ccc;opacity:0.8;">正在跳转，请稍后...</div>');
                                d.appendTo($(b))
                            })
                    }
                }
            }),
        b.module("app.directives.comp.editor", []).directive("mapEditor",
            function() {
                return {
                    restrict: "AE",
                    templateUrl: "directives/mapeditor.tpl.html",
                    link: function(a, b, c) {
                        var d = new BMap.Map("l-map");
                        d.centerAndZoom(new BMap.Point(116.404, 39.915), 15);
                        var e = {
                                onSearchComplete: function(a) {
                                    if (f.getStatus() == BMAP_STATUS_SUCCESS) {
                                        for (var b = [], c = 0; c < a.getCurrentNumPois(); c++) b.push(a.getPoi(c).title + ", " + a.getPoi(c).address);
                                        document.getElementById("r-result").innerHTML = b.join("<br/>")
                                    }
                                }
                            },
                            f = new BMap.LocalSearch(d, e);
                        a.searchAddress = function() {
                            f.search(a.address)
                        }
                    }
                }
            }),
        b.module("app.directives.notification", []).directive("notificationFadeout", ["i18nNotifications",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(b, c, d) {
                        var e = $(c);
                        e.fadeOut(4e3,
                            function() {
                                a.remove(b.notification)
                            })
                    }
                }
            }]),
        b.module("app.directives.pageTplTypes", []).directive("pageTplTypes", ["pageTplService",
            function(a) {
                return {
                    restrict: "EA",
                    replace: !0,
                    templateUrl: "directives/page-tpl-types.tpl.html",
                    link: function(b, c, d) {
                        a.getPageTplTypes().then(function(a) {
                            a.data.list && a.data.list.length > 0 ? b.pageTplTypes = a.data.list: b.pageTplTypes = []
                        })
                    }
                }
            }]),
        b.module("app.directives.pieChart", []).directive("pieChart", ["$compile",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        var d, e;
                        a.$watch(function() {
                                return c.data
                            },
                            function() {
                                c.data && (e = JSON.parse(c.data)),
                                    d ? (d.destroy(), d = new Chart(b[0].getContext("2d")).Pie(e)) : d = new Chart(b[0].getContext("2d")).Pie(e);
                            })
                    }
                }
            }]),
        b.module("app.directives.qrcode", []).directive("qrCode",
            function() {
                return {
                    restrict: "A",
                    scope: {
                        qrUrl: "@"
                    },
                    link: function(a, b, c) {
                        a.$watch("qrUrl",
                            function(a, c) {
                                $("canvas", b).length > 0 && $("canvas", b).remove(),
                                    a && (a = a.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 4]), $(b).qrcode({
                                    render: "canvas",
                                    width: 180,
                                    height: 180,
                                    text: a + (/\?/.test(a) ? "&": "?") + "eqrcode=1"
                                }))
                            })
                    }
                }
            }).directive("qrCodeSize",
            function() {
                return {
                    restrict: "A",
                    scope: {
                        qrUrl: "@"
                    },
                    link: function(a, b, c) {
                        var d = parseInt(c.qrCodeSize, 10);
                        a.$watch("qrUrl",
                            function(a, c) {
                                $("canvas", b).length > 0 && $("canvas", b).remove(),
                                    a && (a = a.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 4]), $(b).qrcode({
                                    render: "canvas",
                                    width: d,
                                    height: d,
                                    text: a + (/\?/.test(a) ? "&": "?") + "eqrcode=1"
                                }))
                            })
                    }
                }
            }).directive("downloadCanvas",
            function() {
                return {
                    restrict: "EA",
                    link: function(a, b, c) {
                        $(b).click(function(b) {
                            var c = $(this).parent().find("canvas").get(0),
                                d = c.toDataURL("image/png");
                            this.href = d;
                            var e = a.selectedUrl.substring(a.selectedUrl.lastIndexOf("/") + 1);
                            this.download = e + ".png"
                        })
                    }
                }
            }),
        b.module("app.directives.register", []).directive("qqButton", ["$translate",
            function(a) {
                return {
                    restrict: "EA",
                    scope: {
                        someCtrlFn: "&callbackFn",
                        openid: "=",
                        accesstoken: "="
                    },
                    link: function(b, c, d) {
                        QC.Login({
                                btnId: d.id,
                                scope: "all"
                            },
                            function(a, c) {
                                var d = a;
                                QC.Login.check() && QC.Login.getMe(function(a, c) {
                                    b.openid = a,
                                        b.accesstoken = c,
                                        b.someCtrlFn({
                                            arg1: {
                                                openId: a,
                                                accessToken: c,
                                                type: "qq",
                                                userInfo: d
                                            }
                                        })
                                })
                            },
                            function(b) {
                                alert(a.instant("common.register.QQ_SUCCESS"))
                            }),
                            $("#qqLoginBtn a").removeAttr("onclick").click(function() {
                                alert(a.instant("common.register.OTHER_SUCCESS"))
                            })
                    }
                }
            }]).directive("wbButton", ["$translate",
            function(a) {
                return {
                    restrict: "EA",
                    link: function(b, c, d) {
                        WB2.anyWhere(function(a) {
                            a.widget.connectButton({
                                id: "wb_connect_btn",
                                type: "3,2",
                                callback: {
                                    login: function(a) {},
                                    logout: function() {}
                                }
                            })
                        }),
                            $("#wb_connect_btn").removeAttr("onclick").click(function(b) {
                                return b.stopPropagation(),
                                    b.preventDefault(),
                                    alert(a.instant("common.register.WEIBO_SUCCESS")),
                                    !1
                            })
                    }
                }
            }]),
        b.module("app.directives.responsiveImage", []).directive("responsiveImage", ["$compile",
            function(a) {
                return {
                    restrict: "EA",
                    scope: {
                        file: "="
                    },
                    link: function(a, b, c) {
                        "0" != a.fileType && (b.find("img").length ? $element = b.find("img") : "IMG" == b.get(0).nodeName.toUpperCase() && ($element = b), $element.bind("load",
                            function() {
                                $(this).removeAttr("style");
                                var b = $(this).parent("li").width(),
                                    c = $(this).parent("li").height();
                                a.file && (a.file.shape = {
                                    width: $(this).width(),
                                    height: $(this).height()
                                }),
                                        this.width <= b && this.height <= c ? (this.style.top = "50%", this.style.marginTop = "-" + this.height / 2 + "px", this.style.left = "50%", this.style.marginLeft = "-" + this.width / 2 + "px") : this.width > this.height ? (this.style.width = b + "px", this.height = this.height * b / this.width, this.style.top = "50%", this.style.marginTop = "-" + this.height / 2 + "px") : (this.style.height = c + "px", this.width = this.width * c / this.height, this.style.left = "50%", this.style.marginLeft = "-" + this.width / 2 + "px")
                            }))
                    }
                }
            }]),
        b.module("common.directives.scroll", []).directive("eqdScroll",
            function() {
                var a = {
                    mouseWheel: !0,
                    scrollbars: !0,
                    interactiveScrollbars: !0,
                    click: !0
                };
                return function(b, c, d) {
                    c.css({
                        position: "relative",
                        overflow: "hidden"
                    });
                    var e, f = new IScroll(c.get(0), a),
                        g = b.$watch(function() {
                            clearTimeout(e),
                                e = setTimeout(function() {
                                        f.refresh()
                                    },
                                    100)
                        });
                    c.on("$destroy",
                        function() {
                            f.destroy(),
                                f = null,
                                g(),
                                clearTimeout(e)
                        }),
                        b.$on("scroll.refresh." + d.scroll,
                            function() {
                                e = setTimeout(function() {
                                        f.refresh()
                                    },
                                    100)
                            }),
                        b.$on("scroll.scrollTo",
                            function(a, b, c) {
                                f.scrollTo(b, c)
                            })
                }
            }),
        b.module("common.directives.dropDown", []).directive("eqdSelect", ["$rootScope",
            function(a) {
                function b(b, c) {
                    function d() {
                        f.unbind("click"),
                            g.removeClass("visible")
                    }
                    function e(a) {
                        index = a.index(),
                            b.current = b.list[index],
                            g.removeClass("visible")
                    }
                    var f = (l(), $(document)),
                        g = c.find(".eqc-drop-down-list"),
                        h = g.find(".iScrollIndicator");
                    c.on("$destroy",
                        function() {
                            f.unbind("click")
                        }),
                        b.showList = function(c) {
                            return c.stopPropagation(),
                                g.hasClass("visible") ? void d() : (a.$broadcast("iscroll.refresh." + b.scrollType), $(".eqc-drop-down-list").removeClass("visible"), g.addClass("visible"), f.click(d), void h.click(function(a) {
                                    a.stopPropagation()
                                }))
                        },
                        b.selectItem = function(a) {
                            a.stopPropagation();
                            var b = a.target,
                                c = b.tagName.toLowerCase(),
                                d = $(b);
                            "li" == c ? e(d) : "div" == c && (d = d.closest("li"), e(d))
                        }
                }
                return {
                    restrict: "E",
                    replace: !0,
                    templateUrl: "directives/select.tpl.html",
                    scope: {
                        list: "=",
                        current: "=",
                        scrollType: "@",
                        fontFamily: "=",
                        isBorder: "@",
                        x: "@"
                    },
                    link: b
                }
            }]).controller("SimpleSelectController", ["$scope", "$element", "$attrs", "$parse", "$timeout",
            function(a, d, e, f, g) {
                var h = this;
                a.list = [],
                    a.current = null,
                    h.addSelectChoice = function(b) {
                        a.list.push(b)
                    },
                    h.removeSelectChoice = function(b) {
                        var c = a.list.indexOf(b); - 1 !== c && a.list.splice(c, 1)
                    };
                var i;
                h.setObjectConfig = function(a) {
                    i === c && (i = a)
                },
                    a.setDefaultSelectedValue = function() {
                        b.forEach(a.list,
                            function(b) {
                                b.value == a.model && (a.current = b)
                            })
                    };
                var j = a.$watchCollection("list",
                        function() {
                            a.setDefaultSelectedValue()
                        }),
                    k = a.$watch("current",
                        function(b) {
                            b && a.model != b.value && (a.model = b.value, g(function() {
                                    e.change && a.$parent.$eval(e.change)
                                },
                                100))
                        }),
                    l = a.$watch("model",
                        function(b) {
                            b && a.setDefaultSelectedValue()
                        });
                a.$on("$destroy",
                    function() {
                        j(),
                            k(),
                            l()
                    })
            }]).directive("eqxSelect", ["$compile",
            function(a) {
                var c = '<eqd-select list="list" class="select-contain" current="current"></eqd-select>';
                return {
                    restrict: "E",
                    scope: {
                        model: "="
                    },
                    controller: "SimpleSelectController",
                    compile: function(d, e) {
                        var f = e["class"];
                        return d.removeClass(f),
                            function(d, e, g) {
                                e.append(a(b.element(c).addClass(f))(d))
                            }
                    }
                }
            }]).directive("eqxSelectOption", ["$parse", "$interpolate",
            function(a, c) {
                return {
                    restrict: "E",
                    require: "^eqxSelect",
                    compile: function(d, e) {
                        var f, g;
                        return e.ngRepeat && (f = a(e.value), g = c(d.html())),
                            function(a, c, d, e) {
                                c.css("display", "none");
                                var h;
                                if (f) {
                                    var i = f(a);
                                    e.setObjectConfig(b.isObject(i)),
                                        h = {
                                            name: g(a),
                                            value: i
                                        }
                                } else h = {
                                    name: c.html(),
                                    value: a.$parent.$eval(d.value)
                                };
                                e.addSelectChoice(h),
                                    c.on("$destroy",
                                        function() {
                                            e.removeSelectChoice(h)
                                        })
                            }
                    }
                }
            }]),
        b.module("app.directives.numChangeAnim", []).directive("numChangeAnim", ["$filter",
            function(a) {
                return {
                    restrict: "A",
                    scope: {
                        content: "@"
                    },
                    link: function(b, c, d) {
                        function e(a, b) {
                            return Math.floor(a + Math.random() * (b - a))
                        }
                        function f(a, b) {
                            a = a > 0 ? a: 1;
                            for (var c = Math.floor(Math.log10(a)), d = Math.floor(a / Math.pow(10, c)), f = 0, g = 10, h = function(h) {
                                    setTimeout(function() {
                                            if (10 > g) f = h;
                                            else {
                                                var i = c > h ? h: c,
                                                    j = Math.pow(10, i) * d;
                                                j = j.toString().length == a.toString().length ? a: j,
                                                    f = e(f, j)
                                            }
                                            b(f, 9 == h)
                                        },
                                            (h * h + h + 2) / 2 * 30)
                                },
                                     i = 0; g > i; i++) h(i)
                        }
                        function g(b, c) {
                            $(b).children("span").text(a("number")(c))
                        }
                        b.$watch("content",
                            function(a) {
                                if (a) {
                                    var b = parseInt(a, 10);
                                    f(b,
                                        function(a, d) {
                                            g(c, a),
                                                d && (g(c, b), $(c).addClass("heartbeat").css({
                                                "animation-duration": "1s"
                                            }))
                                        })
                                }
                            })
                    }
                }
            }]),
        b.module("app.directives.style", []).directive("panelDraggable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.$on("$destroy",
                            function() {
                                $(b).draggable(),
                                    $(b).draggable("destroy"),
                                    b = null
                            }),
                            b.on("$destroy",
                                function() {
                                    $(b).draggable(),
                                        $(b).draggable("destroy"),
                                        b = null
                                }),
                            $(b).draggable()
                    }
                }
            }),
        b.module("app.directives.component", ["services.scene", "services.select", "scene.create.console.pictures", "scene.edit.trigger"]).directive("compDraggable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.$on("$destroy",
                            function() {
                                $(b).draggable(),
                                    $(b).draggable("destroy"),
                                    b = null
                            }),
                            b.on("$destroy",
                                function() {
                                    $(b).draggable(),
                                        $(b).draggable("destroy"),
                                        b = null
                                }),
                            $(b).draggable({
                                revert: !1,
                                stack: ".comp-draggable",
                                helper: "panel" == c.compDraggable || "page" == c.compDraggable ? "clone": "",
                                appendTo: "parent",
                                containment: "panel" == c.compDraggable || "page" == c.compDraggable ? "": "parent",
                                zIndex: 1049,
                                opacity: .35,
                                stop: function(a, b) {
                                    $(a.toElement).one("click",
                                        function(a) {
                                            a.stopImmediatePropagation()
                                        })
                                }
                            })
                    }
                }
            }).directive("compDroppable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.$on("$destroy",
                            function() {
                                $(b).droppable(),
                                    $(b).droppable("destroy"),
                                    b = null
                            }),
                            b.on("$destroy",
                                function() {
                                    $(b).droppable(),
                                        $(b).droppable("destroy"),
                                        b = null
                                }),
                            $(b).droppable({
                                accept: ".comp-draggable",
                                hoverClass: "drop-hover",
                                drop: function(b, c) {
                                    if (3 != c.draggable.attr("ctype")) {
                                        var d = {
                                            left: c.offset.left - $(this).offset().left + "px",
                                            top: c.offset.top - $(this).offset().top + "px"
                                        };
                                        "panel" == c.draggable.attr("comp-draggable") ? a.createComp(c.draggable.attr("ctype"), d) : a.updateCompPosition(c.draggable.attr("id"), d)
                                    } else a.createComp(3)
                                }
                            })
                    }
                }
            }).directive("compSortable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        $(b).sortable({
                            axis: "y",
                            update: function(a, b) {}
                        })
                    }
                }
            }).directive("compResizable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        $(b).resizable({
                            autoHide: !1,
                            containment: "parent",
                            stop: function(b, c) {
                                if ("4" == $(c.element).attr("ctype").charAt(0) || "n" == $(c.element).attr("ctype").charAt(0)) {
                                    var d = {
                                        width: c.size.width,
                                        height: c.size.height,
                                        imgStyle: {
                                            width: c.element.find("img").width(),
                                            height: c.element.find("img").height(),
                                            marginTop: c.element.find("img").css("marginTop"),
                                            marginLeft: c.element.find("img").css("marginLeft")
                                        }
                                    };
                                    a.updateCompSize(c.element.attr("id"), d)
                                } else a.updateCompSize(c.element.attr("id"), c.size);
                                $(b.toElement).one("click",
                                    function(a) {
                                        a.stopImmediatePropagation()
                                    })
                            },
                            resize: function(a, c) {
                                var d = $(b).find("img").width() / $(b).find("img").height();
                                if ("4" == $(c.element).attr("ctype").charAt(0) || "n" == $(c.element).attr("ctype").charAt(0)) {
                                    var e = c.size.width / c.size.height,
                                        f = c.element.find("img");
                                    d >= e ? (f.outerHeight(c.size.height), f.outerWidth(c.size.height * d), f.css("marginLeft", -(f.outerWidth() - c.size.width) / 2), f.css("marginTop", 0)) : (f.outerWidth(c.size.width), f.outerHeight(c.size.width / d), f.css("marginTop", -(f.outerHeight() - c.size.height) / 2), f.css("marginLeft", 0))
                                } else c.element.find(".element").outerWidth(c.size.width),
                                    c.element.find(".element").outerHeight(c.size.height)
                            }
                        })
                    }
                }
            }).directive("photoDraggable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.$on("$destroy",
                            function() {
                                $(b).draggable(),
                                    $(b).draggable("destroy"),
                                    b = null
                            }),
                            b.on("$destroy",
                                function() {
                                    $(b).draggable(),
                                        $(b).draggable("destroy"),
                                        b = null
                                }),
                            $(b).draggable({
                                revert: !1,
                                helper: "clone",
                                appendTo: ".img_list",
                                zIndex: 1049,
                                opacity: .35,
                                stop: function(a, b) {
                                    $(a.toElement).one("click",
                                        function(a) {
                                            a.stopImmediatePropagation()
                                        })
                                }
                            })
                    }
                }
            }).directive("cropDroppable",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.$on("$destroy",
                            function() {
                                $(b).droppable(),
                                    $(b).droppable("destroy"),
                                    b = null
                            }),
                            b.on("$destroy",
                                function() {
                                    $(b).droppable(),
                                        $(b).droppable("destroy"),
                                        b = null
                                }),
                            $(b).droppable({
                                accept: "li",
                                hoverClass: "drop-hover",
                                drop: function(b, c) {
                                    a.preSelectImage(c.draggable.attr("photo-draggable"))
                                }
                            })
                    }
                }
            }).service("Point",
            function() {
                function a(a, b) {
                    this.x = a,
                        this.y = b
                }
                return a.prototype.add = function(b, c) {
                    return new a(this.x + b, this.y + c)
                },
                    a.prototype.middle = function(b) {
                        return new a((this.x + b.x) / 2, (this.y + b.y) / 2)
                    },
                    a.prototype.detectionPointA = function(a) {
                        this.x = a.x < this.x ? a.x: this.x,
                            this.y = a.y < this.y ? a.y: this.y
                    },
                    a.prototype.detectionPointB = function(a) {
                        this.x = a.x > this.x ? a.x: this.x,
                            this.y = a.y > this.y ? a.y: this.y
                    },
                    a
            }).factory("DetectionBox", ["Point",
                function(a) {
                    function b(a) {
                        this.element = a,
                            this.init()
                    }
                    return b.prototype.init = function() {
                        var b = this.element.position();
                        this.startPointA = new a(b.left, b.top);
                        var c = this.element.get(0);
                        this.startPosition = {
                            top: parseInt(c.style.top, 10) || 0,
                            left: parseInt(c.style.left, 10) || 0
                        };
                        var d = /[0-9]*[.]*[0-9]*deg/.exec(c.style.transform || c.style.webkitTransform || c.style.mozTransform || c.style.msTransform || c.style.oTransform || ""),
                            e = d && d.length ? d[0] : "0";
                        this.angle = parseInt(e, 10),
                            this.radian = 2 * this.angle * Math.PI / 360;
                        var f = this.element.width(),
                            g = this.element.height();
                        this.elementWidth = f,
                            this.elementHeight = g,
                            this.left = this.startPosition.left,
                            this.top = this.startPosition.top,
                            this.ratio = f / g,
                            this.width = Math.abs(f * Math.cos(this.radian)) + Math.abs(g * Math.sin(this.radian)),
                            this.height = Math.abs(f * Math.sin(this.radian)) + Math.abs(g * Math.cos(this.radian)),
                            this.startPointB = this.startPointA.add(this.width, this.height),
                            this.startPointO = this.startPointA.middle(this.startPointB)
                    },
                        b.prototype.getID = function() {
                            return this.element.attr("id")
                        },
                        b.prototype.measure = function() {
                            return {
                                x: this.startPointA.x,
                                y: this.startPointA.y,
                                width: this.width,
                                height: this.height
                            }
                        },
                        b
                }]).service("panStateTracker",
            function() {
                var a = {},
                    c = {};
                return a.clear = function() {
                    c = {}
                },
                    a.register = function(a) {
                        c[a.attr("id")] = a
                    },
                    a.isElementHasBeenRegisted = function(a) {
                        return !! c[a.attr("id")]
                    },
                    a.remove = function(a) {
                        delete c[a.attr("id")]
                    },
                    a.forEach = function(a) {
                        b.forEach(c, a)
                    },
                    a
            }).controller("MouseCompSelectController", ["$scope", "$element", "Point", "DetectionBox", "panStateTracker", "selectService",
                function(c, d, e, f, g, h) {
                    function i(c, f, g, h, i) {
                        d.get(0).style.position = "relative",
                            this.startPositionX = c,
                            this.startPositionY = f,
                            this.width = g,
                            this.height = h,
                            this.selectAreaPointA = new e(c, f),
                            this.selectAreaPointB = new e(c + g, f + h),
                            this.startFlag = i,
                            this.selectAreaTemplate = d.find(".edit-area-select-container"),
                            this.selectAreaTemplate.length || (this.selectAreaTemplate = $('<div class="edit-area-select-container"></div>'), d.append(this.selectAreaTemplate));
                        var j = d.offset(),
                            k = $("#nr").offset();
                        this.offset = j,
                            this.containerOffset = k,
                            $(a).resize(function() {
                                b.extend(j, d.offset()),
                                    b.extend(k, $("#nr").offset())
                            })
                    }
                    var j = this;
                    j.allComponents = [],
                        j.selectedComponents = [],
                        i.prototype.selectStart = function(a, c) {
                            b.extend(this.offset, d.offset()),
                                b.extend(this.containerOffset, $("#nr").offset()),
                                j.allComponents = [],
                                g.forEach(function(a) {
                                    j.allComponents.push(a)
                                }),
                                this.startPositionX = a,
                                this.startPositionY = c,
                                this.startFlag = !0,
                                this.updateSelectedElements()
                        },
                        i.prototype.isSelectStarted = function() {
                            return this.startFlag
                        },
                        i.prototype.selectMove = function(a) {
                            this.width = a.clientX - this.startPositionX,
                                this.height = a.clientY - this.startPositionY,
                                this.updateCurrentPosition(),
                                this.width > 4 && this.height > 4 && (this.updateSelectArea(), this.updateSelectedElements())
                        },
                        i.prototype.selectEnd = function() {
                            this.startPositionX = this.startPositionY = this.width = this.height = 0,
                                this.startFlag = !1,
                                this.updateCurrentPosition(),
                                this.updateSelectArea()
                        },
                        i.prototype.getLocalPoint = function(a) {
                            return new e(a.x - this.offset.left, a.y - this.offset.top)
                        },
                        i.prototype.updateSelectArea = function() {
                            var a = this.getLocalPoint(this.selectAreaPointA);
                            this.selectAreaTemplate.css("left", a.x),
                                this.selectAreaTemplate.css("top", a.y),
                                this.selectAreaTemplate.height(this.height),
                                this.selectAreaTemplate.width(this.width)
                        },
                        i.prototype.updateCurrentPosition = function() {
                            this.selectAreaPointA.x = this.width > 0 ? this.startPositionX: this.width + this.startPositionX,
                                this.selectAreaPointA.y = this.height > 0 ? this.startPositionY: this.height + this.startPositionY,
                                this.width = Math.abs(this.width),
                                this.height = Math.abs(this.height),
                                this.selectAreaPointB.x = this.selectAreaPointA.x + this.width,
                                this.selectAreaPointB.y = this.selectAreaPointA.y + this.height
                        },
                        i.prototype.updateSelectedElements = function() {
                            j.selectedComponents = [];
                            var a = this,
                                c = h.getElements();
                            b.forEach(j.allComponents,
                                function(b) {
                                    var d = b.attr("id").split("_")[1];
                                    return a.contains(b) ? (b.children(".bar").show(), void( - 1 === c.indexOf(d) && h.addElement(d))) : ( - 1 !== c.indexOf(d) && h.deleteElement(d), void b.children(".bar").hide())
                                })
                        },
                        i.prototype.contains = function(a) {
                            var b = new f(a),
                                c = new e(this.containerOffset.left + b.startPointO.x, this.containerOffset.top + b.startPointO.y);
                            return c.x >= this.selectAreaPointA.x && c.x <= this.selectAreaPointB.x && c.y >= this.selectAreaPointA.y && c.y <= this.selectAreaPointB.y
                        };
                    var k = new i(0, 0, 0, 0, !1);
                    d.bind("mousedown",
                        function(a) {
                            var b = $(a.target);
                            b.hasClass("comp-resize") || b.parents("li.comp-resize").length || b.hasClass("ui-draggable") || b.parents(".ui-draggable").length || b.parents("#containment").length || b.parents(".create_left").length || ($("body").css({
                                "user-select": "none",
                                cursor: "default"
                            }), k.selectStart(a.clientX, a.clientY))
                        }),
                        d.bind("mousemove",
                            function(a) {
                                k.isSelectStarted() && k.selectMove(a)
                            }),
                        d.bind("mouseup",
                            function() {
                                k.isSelectStarted() && ($("body").css({
                                    "user-select": "initial",
                                    cursor: "default"
                                }), k.selectEnd())
                            })
                }]).directive("mouseCompSelect", [function() {
                return {
                    restrict: "A",
                    controller: "MouseCompSelectController"
                }
            }]).factory("editAreaBorderCollisionDetector", ["DetectionBox", "Point",
                function(a, c) {
                    function d() {
                        this.editAreaWidth = 320,
                            this.editAreaHeight = 486,
                            this.detectionBoxs = []
                    }
                    function e() {
                        this.editArea = new d
                    }
                    return d.prototype.initDetectBoxWithElements = function(c) {
                        this.detectionBoxs = [];
                        var d = this;
                        b.forEach(c,
                            function(b) {
                                d.detectionBoxs.push(new a(b))
                            })
                    },
                        e.prototype.initWithElements = function(a) {
                            this.editArea.initDetectBoxWithElements(a),
                                this.initBigDetectionBoxPoints()
                        },
                        e.prototype.initBigDetectionBoxPoints = function() {
                            this.bigDetectionBoxPointA = new c(this.editArea.editAreaWidth, this.editArea.editAreaHeight),
                                this.bigDetectionBoxPointB = new c(0, 0),
                                this.minimumWidth = this.editArea.editAreaWidth,
                                this.minimumHeight = this.editArea.editAreaHeight;
                            var a = this;
                            b.forEach(this.editArea.detectionBoxs,
                                function(b) {
                                    a.bigDetectionBoxPointA.detectionPointA(b.startPointA),
                                        a.bigDetectionBoxPointB.detectionPointB(b.startPointB),
                                        a.minimumWidth > b.elementWidth && (a.minimumWidth = b.elementWidth),
                                        a.minimumHeight > b.elementHeight && (a.minimumHeight = b.elementHeight)
                                });
                            var d = (this.bigDetectionBoxPointA.x + this.bigDetectionBoxPointB.x) / 2,
                                e = (this.bigDetectionBoxPointA.y + this.bigDetectionBoxPointB.y) / 2;
                            this.bigDetectionBoxPointO = new c(d, e)
                        },
                        e.prototype.refreshBoxInfo = function() {
                            b.forEach(this.editArea.detectionBoxs,
                                function(a) {
                                    a.init()
                                }),
                                this.initBigDetectionBoxPoints()
                        },
                        e.prototype.translateIntoProperMoveDelta = function(a) {
                            var b = {
                                x: a.deltaX,
                                y: a.deltaY
                            };
                            return this.bigDetectionBoxPointA.x + a.deltaX < 0 && (b.x = -Math.ceil(this.bigDetectionBoxPointA.x)),
                                this.bigDetectionBoxPointA.y + a.deltaY < 0 && (b.y = -Math.ceil(this.bigDetectionBoxPointA.y)),
                                this.bigDetectionBoxPointB.x + a.deltaX > this.editArea.editAreaWidth && (b.x = Math.ceil(this.editArea.editAreaWidth - this.bigDetectionBoxPointB.x)),
                                this.bigDetectionBoxPointB.y + a.deltaY > this.editArea.editAreaHeight && (b.y = Math.ceil(this.editArea.editAreaHeight - this.bigDetectionBoxPointB.y)),
                                b
                        },
                        e.prototype.compDragMoveDelta = function(a) {
                            return this.translateIntoProperMoveDelta(a)
                        },
                        new e
                }]).controller("MultiCompDragController", ["selectService", "$scope", "$element", "editAreaBorderCollisionDetector", "panStateTracker", "gridGuide",
                function(a, c, d, e, f, g) {
                    f.clear();
                    var h = this;
                    h.selectedComponents = [],
                        h.initCollisionDetectorWithElements = function() {
                            h.selectedComponents = [];
                            var c = $("#nr");
                            b.forEach(a.getElements(),
                                function(a) {
                                    h.selectedComponents.push(c.find("#inside_" + a))
                                }),
                                e.initWithElements(h.selectedComponents)
                        },
                        h.isKeyboard = !1,
                        h.compDragStart = function(c) {
                            a.getElements().length && (h.initCollisionDetectorWithElements(), g.guide.start({
                                action: "move"
                            }), h.isKeyboard = !!c, h.isKeyboard || b.forEach(h.selectedComponents,
                                function(a) {
                                    a.css("opacity", .35)
                                }))
                        },
                        h.compDragMove = function(c) {
                            if (a.getElements().length) {
                                var d = e.compDragMoveDelta({
                                    deltaX: c.deltaX,
                                    deltaY: c.deltaY
                                }); ! h.isKeyboard && g.guide.options.snap && g.guide.enforceGuides(d),
                                    b.forEach(e.editArea.detectionBoxs,
                                        function(a) {
                                            var b = "translate3d(" + d.x + "px, " + d.y + "px, 0) rotateZ(" + a.angle + "deg)";
                                            a.element.css("transform", b)
                                        }),
                                    g.guide.sync(d)
                            }
                        },
                        h.compDragEnd = function(d) {
                            if (a.getElements().length) {
                                b.forEach(h.selectedComponents,
                                    function(a) {
                                        a.css("opacity", 1)
                                    });
                                var f = e.compDragMoveDelta({
                                    deltaX: d.deltaX,
                                    deltaY: d.deltaY
                                }); ! h.isKeyboard && g.guide.options.snap && g.guide.enforceGuides(f);
                                var i = e.editArea.detectionBoxs.length;
                                b.forEach(e.editArea.detectionBoxs,
                                    function(a, b) {
                                        var d = "translate3d(0, 0, 0) rotateZ(" + a.angle + "deg)";
                                        a.element.css("transform", d);
                                        var e = {
                                            top: a.startPosition.top + f.y,
                                            left: a.startPosition.left + f.x
                                        };
                                        a.element.css("top", e.top),
                                            a.element.css("left", e.left),
                                            c.updateCompPosition(a.element.attr("id"), e, i - 1 > b)
                                    }),
                                    g.guide.stop()
                            }
                        },
                        g.grid.init(d),
                        g.guide.init(d)
                }]).directive("multiCompDrag",
            function() {
                return {
                    restrict: "A",
                    controller: "MultiCompDragController"
                }
            }).directive("compDrag", ["panStateTracker",
                function(a) {
                    return {
                        require: "^multiCompDrag",
                        restrict: "A",
                        link: function(b, c, d, e) {
                            if (!a.isElementHasBeenRegisted(c)) {
                                if (a.register(c), c.on("$destroy",
                                    function() {
                                        a.remove(c)
                                    }), c.find("img").length) {
                                    var f = $('<div class="dragTemplate" style="position: absolute;left: 0;top: 0;right: 0;bottom: 0;background-color: #fff;opacity: 0;"></div>');
                                    f.bind("dblclick",
                                        function() {
                                            f.siblings(".element").trigger("dblclick")
                                        }),
                                        c.find(".element-box-contents").append(f)
                                }
                                var g = new Hammer(c.find(".element-box-contents").get(0));
                                g.get("pan").set({
                                    threshold: 0
                                }),
                                    g.on("panstart",
                                        function(a) {
                                            return $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : (a.preventDefault(), a.srcEvent.preventDefault(), $("body").css({
                                                "user-select": "none",
                                                cursor: "default"
                                            }), void e.compDragStart())
                                        }),
                                    g.on("panmove",
                                        function(a) {
                                            return a.preventDefault(),
                                                $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : void e.compDragMove(a)
                                        }),
                                    g.on("panend",
                                        function(a) {
                                            return $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : (e.compDragEnd(a), $("body").css({
                                                "user-select": "initial",
                                                cursor: "default"
                                            }), void $(a.srcEvent.target).one("click",
                                                function(a) {
                                                    return a.stopImmediatePropagation(),
                                                        a.stopPropagation(),
                                                        a.preventDefault(),
                                                        !1
                                                }))
                                        })
                            }
                        }
                    }
                }]).directive("compRotate",
            function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        var d = $(b),
                            e = $('<div class="bar bar-rotate bar-radius">');
                        d.append(e).append('<div class="bar bar-line">');
                        var f, g = {},
                            h = new Hammer(e.get(0));
                        h.get("pan").set({
                            threshold: 0
                        }),
                            h.on("panstart",
                                function(a) {
                                    $("body").css({
                                        "user-select": "none",
                                        cursor: 'url("/assets/images/mouserotate.ico"), default'
                                    });
                                    var b = d.parent();
                                    g = {
                                        x: parseFloat(d.css("left")) + b.offset().left + d.width() / 2,
                                        y: parseFloat(d.css("top")) + b.offset().top + d.height() / 2
                                    }
                                }),
                            h.on("panmove",
                                function(a) {
                                    var b = a.center,
                                        c = b.x - g.x,
                                        e = b.y - g.y,
                                        h = Math.abs(c / e);
                                    f = Math.atan(h) / (2 * Math.PI) * 360,
                                            c > 0 && 0 > e ? f = 360 + f: c > 0 && e > 0 ? f = 180 - f: 0 > c && e > 0 ? f = 180 + f: 0 > c && 0 > e && (f = 360 - f),
                                        f > 360 && (f -= 360),
                                        d.css({
                                            transform: "rotateZ(" + f + "deg)"
                                        })
                                }),
                            h.on("panend",
                                function(b) {
                                    $("body").css({
                                        "user-select": "initial",
                                        cursor: "default"
                                    }),
                                        a.updateCompAngle(d.attr("id"), f),
                                        a.$broadcast("updateTransform", f)
                                })
                    }
                }
            }).directive("compResize", ["selectService", "picturesService", "triggerService", "panStateTracker", "multiCompResize", "Cursor", "gridGuide",
                function(a, b, c, d, e, f, g) {
                    function h(a, b, c, d) {
                        c.css("cursor", d);
                        var f = new Hammer(c.get(0));
                        f.get("pan").set({
                            threshold: 0,
                            direction: Hammer.DIRECTION_ALL
                        }),
                            f.on("panstart",
                                function() {
                                    $("body").css({
                                        "user-select": "none",
                                        cursor: "default"
                                    }),
                                        e.resizeStart(b),
                                        g.guide.start({
                                            action: "resize"
                                        })
                                }),
                            f.on("panmove",
                                function(a) {
                                    var c = e.resizeMove(b, d, a);
                                    g.guide.sync(c)
                                }),
                            f.on("panend",
                                function() {
                                    $("body").css({
                                        "user-select": "initial",
                                        cursor: "default"
                                    }),
                                        e.resizeEnd(a, b),
                                        g.guide.stop()
                                })
                    }
                    return {
                        restrict: "A",
                        link: function(b, c) {
                            var d = $('<div class="bar bar-n"><div class="bar-radius"></div></div>'),
                                e = $('<div class="bar bar-s"><div class="bar-radius"></div></div>'),
                                g = $('<div class="bar bar-e"><div class="bar-radius"></div></div>'),
                                i = $('<div class="bar bar-w"><div class="bar-radius"></div></div>'),
                                j = $('<div class="bar bar-ne bar-radius">'),
                                k = $('<div class="bar bar-nw bar-radius">'),
                                l = $('<div class="bar bar-se bar-radius">'),
                                m = $('<div class="bar bar-sw bar-radius">');
                            c.append(d).append(e).append(g).append(i).append(k).append(l).append(m).append(j).unbind("mousedown").mousedown(function(c) {
                                var d = !!$("#nr").find(".mask-trigger").length;
                                if (!d) {
                                    var e = $(this).attr("id").split("_")[1];
                                    if (c.ctrlKey || c.shiftKey)"none" != $(this).children(".bar").first().css("display") ? ($(this).children(".bar").hide(), a.deleteElement(e)) : ($(this).children(".bar").show(), a.addElement(e));
                                    else {
                                        if ("none" != $(this).children(".bar").first().css("display")) return;
                                        $(this).children(".bar").show().end().siblings().children(".bar").hide(),
                                            a.clearElements(),
                                            a.addElement(e)
                                    }
                                    b.safeApply(function() {})
                                }
                            }),
                                c.find(".element-box").unbind("click").bind("click",
                                    function(a) { (a.ctrlKey || a.shiftKey) && a.stopPropagation()
                                    }),
                                c.parent().unbind("mousedown").mousedown(function(c) {
                                    $(c.target).closest("li").length || ($(this).children("li").children(".bar").hide(), b.$emit("hideStylePanel"), a.clearElements(), b.safeApply(function() {}))
                                }),
                                h(b, c, g, f.RESIZE_E),
                                h(b, c, i, f.RESIZE_W),
                                h(b, c, d, f.RESIZE_N),
                                h(b, c, e, f.RESIZE_S),
                                h(b, c, j, f.RESIZE_NE),
                                h(b, c, k, f.RESIZE_NW),
                                h(b, c, l, f.RESIZE_SE),
                                h(b, c, m, f.RESIZE_SW)
                        }
                    }
                }]).service("Cursor",
            function() {
                var a = {
                    RESIZE_W: "w-resize",
                    RESIZE_E: "e-resize",
                    RESIZE_N: "n-resize",
                    RESIZE_S: "s-resize",
                    RESIZE_SE: "se-resize",
                    RESIZE_SW: "sw-resize",
                    RESIZE_NE: "ne-resize",
                    RESIZE_NW: "nw-resize"
                };
                return a
            }).factory("multiCompResize", ["selectService", "picturesService", "Cursor", "editAreaBorderCollisionDetector", "sceneService",
                function(a, c, d, e, f) {
                    var g, h, i = 1,
                        j = 1,
                        k = e.editArea.editAreaWidth,
                        l = e.editArea.editAreaHeight,
                        m = null,
                        n = null,
                        o = {};
                    return o.selectedComponents = [],
                        o.initCollisionDetectorWithElements = function() {
                            o.selectedComponents = [];
                            var c = $("#nr");
                            b.forEach(a.getElements(),
                                function(a) {
                                    o.selectedComponents.push(c.find("#inside_" + a))
                                }),
                                e.initWithElements(o.selectedComponents)
                        },
                        o.resizeStart = function() {
                            o.initCollisionDetectorWithElements(),
                                m = e.bigDetectionBoxPointA,
                                n = e.bigDetectionBoxPointB,
                                g = e.minimumWidth,
                                h = e.minimumHeight
                        },
                        o.checkTopBorder = function(a, b) {
                            return b.y + a.deltaY < 0 && (a.deltaY = -Math.floor(b.y)),
                                this
                        },
                        o.checkRightBorder = function(a, b) {
                            return b.x + a.deltaX > k && (a.deltaX = Math.floor(k - b.x)),
                                this
                        },
                        o.checkLeftBorder = function(a, b) {
                            return b.x + a.deltaX < 0 && (a.deltaX = -Math.floor(b.x)),
                                this
                        },
                        o.checkBottomBorder = function(a, b) {
                            return b.y + a.deltaY > l && (a.deltaY = Math.floor(l - b.y)),
                                this
                        },
                        o.checkMinHeight = function(a, b, c, d) {
                            var e = Math.floor(c - d);
                            return a.deltaY * b > e && (a.deltaY = e * b),
                                this
                        },
                        o.checkMinWidth = function(a, b, c, d) {
                            var e = Math.floor(c - d);
                            return a.deltaX * b > e && (a.deltaX = e * b),
                                this
                        },
                        o.compResizeWithRatio = function(a, c) {
                            switch (c) {
                                case d.RESIZE_SE:
                                    b.forEach(e.editArea.detectionBoxs,
                                        function(b) {
                                            var c = parseInt(a.deltaY * b.ratio, 10),
                                                d = a.deltaY,
                                                e = {
                                                    deltaX: c,
                                                    deltaY: d
                                                };
                                            o.checkRightBorder(e, b.startPointB).checkBottomBorder(e, b.startPointB).checkMinHeight(e, -1, b.elementHeight, j).checkMinWidth(e, -1, b.elementWidth, i),
                                                c !== e.deltaX && (d = e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d: e.deltaY),
                                                a.deltaY = e.deltaY,
                                                a.deltaX = e.deltaX
                                        });
                                    break;
                                case d.RESIZE_SW:
                                    b.forEach(e.editArea.detectionBoxs,
                                        function(b) {
                                            var c = parseInt( - a.deltaY * b.ratio, 10),
                                                d = a.deltaY,
                                                e = {
                                                    deltaX: c,
                                                    deltaY: d
                                                };
                                            o.checkLeftBorder(e, b.startPointA).checkBottomBorder(e, b.startPointB).checkMinHeight(e, -1, b.elementHeight, j).checkMinWidth(e, 1, b.elementWidth, i),
                                                c !== e.deltaX && (d = -e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d: e.deltaY),
                                                a.deltaY = e.deltaY,
                                                a.deltaX = e.deltaX
                                        });
                                    break;
                                case d.RESIZE_NE:
                                    b.forEach(e.editArea.detectionBoxs,
                                        function(b) {
                                            var c = parseInt( - a.deltaY * b.ratio, 10),
                                                d = a.deltaY,
                                                e = {
                                                    deltaX: c,
                                                    deltaY: d
                                                };
                                            o.checkTopBorder(e, b.startPointA).checkRightBorder(e, b.startPointB).checkMinHeight(e, 1, b.elementHeight, j).checkMinWidth(e, -1, b.elementWidth, i),
                                                c !== e.deltaX && (d = -e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d: e.deltaY),
                                                a.deltaY = e.deltaY,
                                                a.deltaX = e.deltaX
                                        });
                                    break;
                                case d.RESIZE_NW:
                                    b.forEach(e.editArea.detectionBoxs,
                                        function(b) {
                                            var c = parseInt(a.deltaY * b.ratio, 10),
                                                d = a.deltaY,
                                                e = {
                                                    deltaX: c,
                                                    deltaY: d
                                                };
                                            o.checkLeftBorder(e, b.startPointA).checkTopBorder(e, b.startPointA).checkMinHeight(e, 1, b.elementHeight, j).checkMinWidth(e, 1, b.elementWidth, i),
                                                c !== e.deltaX && (d = e.deltaX / b.ratio, e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d: e.deltaY),
                                                a.deltaY = e.deltaY,
                                                a.deltaX = e.deltaX
                                        })
                            }
                            return this
                        },
                        o.resizeMove = function(a, c, f) {
                            var k = {
                                    deltaX: f.deltaX,
                                    deltaY: f.deltaY
                                },
                                l = null;
                            switch (c) {
                                case d.RESIZE_W:
                                    o.checkLeftBorder(k, m).checkMinWidth(k, 1, g, i),
                                        l = {
                                            x: k.deltaX,
                                            y: 0,
                                            width: -k.deltaX,
                                            height: 0
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                a.element.css({
                                                    left: a.left + k.deltaX,
                                                    width: a.elementWidth - k.deltaX
                                                })
                                            });
                                    break;
                                case d.RESIZE_E:
                                    o.checkRightBorder(k, n).checkMinWidth(k, -1, g, i),
                                        l = {
                                            x: 0,
                                            y: 0,
                                            width: k.deltaX,
                                            height: 0
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                a.element.css("width", a.elementWidth + k.deltaX)
                                            });
                                    break;
                                case d.RESIZE_N:
                                    o.checkTopBorder(k, m).checkMinHeight(k, 1, h, j),
                                        l = {
                                            x: 0,
                                            y: k.deltaY,
                                            width: 0,
                                            height: -k.deltaY
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                a.element.css({
                                                    top: a.top + k.deltaY,
                                                    height: a.elementHeight - k.deltaY
                                                })
                                            });
                                    break;
                                case d.RESIZE_S:
                                    o.checkBottomBorder(k, n).checkMinHeight(k, -1, h, j),
                                        l = {
                                            x: 0,
                                            y: 0,
                                            width: 0,
                                            height: k.deltaY
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                a.element.css("height", a.elementHeight + k.deltaY)
                                            });
                                    break;
                                case d.RESIZE_SE:
                                    o.compResizeWithRatio(k, c),
                                        l = {
                                            x: 0,
                                            y: 0,
                                            width: k.deltaX,
                                            height: k.deltaY
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                var b = a.elementHeight + k.deltaY,
                                                    c = b * a.ratio;
                                                a.element.css({
                                                    height: b,
                                                    width: c
                                                })
                                            });
                                    break;
                                case d.RESIZE_SW:
                                    o.compResizeWithRatio(k, c),
                                        l = {
                                            x: k.deltaX,
                                            y: 0,
                                            width: -k.deltaX,
                                            height: k.deltaY
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                var b = a.elementHeight + k.deltaY,
                                                    c = b * a.ratio;
                                                a.element.css({
                                                    left: a.left - (c - a.elementWidth),
                                                    height: b,
                                                    width: c
                                                })
                                            });
                                    break;
                                case d.RESIZE_NE:
                                    o.compResizeWithRatio(k, c),
                                        l = {
                                            x: 0,
                                            y: k.deltaY,
                                            width: k.deltaX,
                                            height: -k.deltaY
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                var b = a.elementHeight - k.deltaY,
                                                    c = b * a.ratio;
                                                a.element.css({
                                                    top: a.top + k.deltaY,
                                                    height: b,
                                                    width: c
                                                })
                                            });
                                    break;
                                case d.RESIZE_NW:
                                    o.compResizeWithRatio(k, c),
                                        l = {
                                            x: k.deltaX,
                                            y: k.deltaY,
                                            width: -k.deltaX,
                                            height: -k.deltaY
                                        },
                                        b.forEach(e.editArea.detectionBoxs,
                                            function(a) {
                                                var b = a.elementHeight - k.deltaY,
                                                    c = b * a.ratio;
                                                a.element.css({
                                                    top: a.top + k.deltaY,
                                                    left: a.left - (c - a.elementWidth),
                                                    height: b,
                                                    width: c
                                                })
                                            })
                            }
                            return b.forEach(o.selectedComponents,
                                function(a) {
                                    o.setChildrenSizeMove(a)
                                }),
                                l
                        },
                        o.setChildrenSizeMove = function(a) {
                            var b = a.children(".element-box"),
                                c = {
                                    width: b.width(),
                                    height: b.height()
                                };
                            if ("4" == a.attr("ctype").charAt(0) || "n" == a.attr("ctype").charAt(0)) {
                                var d = a.find("img"),
                                    e = d.width() / d.height(),
                                    f = c.width / c.height;
                                e >= f ? (d.outerHeight(c.height), d.outerWidth(c.height * e), d.css("marginLeft", -(d.outerWidth() - c.width) / 2), d.css("marginTop", 0)) : (d.outerWidth(c.width), d.outerHeight(c.width / e), d.css("marginTop", -(d.outerHeight() - c.height) / 2), d.css("marginLeft", 0))
                            } else "p" == a.attr("ctype").charAt(0) ? a.find(".fluxslider, .images, .image1, .image2").css({
                                width: c.width,
                                height: c.height
                            }) : (a.find(".element").css({
                                width: c.width,
                                height: c.height
                            }), ("i" == a.attr("ctype") || "d" == a.attr("ctype")) && a.find(".comp_counter").css({
                                "line-height": c.height + "px"
                            }))
                        },
                        o.resizeEnd = function(a) {
                            b.forEach(o.selectedComponents,
                                function(b, c) {
                                    o.setChildrenSizeEnd(a, b, c < o.selectedComponents.length - 1),
                                        a.$broadcast("updateMaxRadius", b)
                                })
                        },
                        o.setChildrenSizeEnd = function(a, b, d) {
                            var e = b.position(),
                                g = {
                                    width: b.width(),
                                    height: b.height(),
                                    left: e.left,
                                    top: e.top
                                };
                            if (("i" == b.attr("ctype") || "d" == b.attr("ctype")) && (g.lineHeight = g.height + "px"), "4" == b.attr("ctype").charAt(0) || "n" == b.attr("ctype").charAt(0)) {
                                var h = b.find("img"),
                                    i = {
                                        width: g.width,
                                        height: g.height,
                                        left: g.left,
                                        top: g.top,
                                        imgStyle: {
                                            width: h.width(),
                                            height: h.height(),
                                            marginTop: h.css("marginTop"),
                                            marginLeft: h.css("marginLeft")
                                        }
                                    };
                                f.updateCompSize(b.attr("id"), i, d)
                            } else if ("p" == b.attr("ctype").charAt(0)) {
                                var j = c.getProperties();
                                if (!j || !j.children) return;
                                var k = b.find(".slider"),
                                    l = k.attr("id");
                                k.empty();
                                for (var m = 0; m < j.children.length; m++) k.append('<img src="' + PREFIX_FILE_HOST + j.children[m].src + '">');
                                utilPictures.deleteInterval(l),
                                    new flux.slider("#nr #" + l, {
                                        autoplay: j.autoPlay,
                                        delay: j.interval,
                                        pagination: !1,
                                        transitions: [utilPictures.getPicStyle(j.picStyle).name],
                                        width: g.width,
                                        height: g.height,
                                        bgColor: j.bgColor,
                                        onStartEnd: function(a) {
                                            utilPictures.addInterval(l, a)
                                        }
                                    }),
                                    f.updateCompSize(b.attr("id"), g, d)
                            } else f.updateCompSize(b.attr("id"), g, d)
                        },
                        o
                }]).factory("gridGuide", ["panStateTracker", "DetectionBox", "selectService", "editAreaBorderCollisionDetector",
                function(c, d, e, f) {
                    var g = {
                            init: function(a) {
                                this.color = this.getColor() ? this.getColor() : "rgba(150, 150, 150, 0.2)",
                                    this.$container = a,
                                    this.render(),
                                    setTimeout(function() {
                                            "hide" != g.getVisable() && g.show()
                                        },
                                        1)
                            },
                            render: function() {
                                this.domElement = $('<div class="eq-block-grid">'),
                                    this.canvasElement = $('<canvas class="eq-block-grid-inner">').appendTo(this.domElement)
                            },
                            show: function() {
                                this.domElement.appendTo(this.$container),
                                    this.paint(),
                                    this.enabled = !0
                            },
                            hide: function() {
                                this.domElement.remove(),
                                    this.enabled = !1
                            },
                            setVisable: function(b) {
                                a.localStorage && localStorage.setItem("sceneGridVisable", b)
                            },
                            getVisable: function() {
                                return a.localStorage ? localStorage.getItem("sceneGridVisable") : void 0
                            },
                            setColor: function(b) {
                                a.localStorage && localStorage.setItem("sceneGridColor", b)
                            },
                            getColor: function() {
                                return a.localStorage ? localStorage.getItem("sceneGridColor") : void 0
                            },
                            getGuideState: function() {
                                return a.localStorage ? localStorage.getItem("sceneGridState") : void 0;
                            },
                            setGuideState: function(b) {
                                a.localStorage && localStorage.setItem("sceneGridState", b)
                            },
                            getSnapState: function() {
                                return a.localStorage ? localStorage.getItem("sceneSnapState") : void 0
                            },
                            setSnapState: function(b) {
                                a.localStorage && localStorage.setItem("sceneSnapState", b)
                            },
                            paint: function() {
                                var a = 320,
                                    b = 486,
                                    c = this.getRows(),
                                    d = this.getCols(),
                                    e = Math.round(a / d),
                                    f = Math.round(b / c),
                                    g = (b - f * c) / 2;
                                this.canvasElement.css({
                                    left: 0,
                                    top: 0
                                }),
                                    this.canvasElement.attr({
                                        width: a,
                                        height: b
                                    });
                                var h = this.canvasElement.get(0).getContext("2d");
                                h.clearRect(0, 0, a, b);
                                for (var i = 1; d > i; i++) h.fillStyle = this.color,
                                    h.fillRect(Math.floor(i * e), 0, 1, b);
                                for (var j = 1; c > j; j++) h.fillStyle = this.color,
                                    h.fillRect(0, Math.floor(j * f) + g, a, 1)
                            },
                            getRows: function() {
                                return 16
                            },
                            getCols: function() {
                                return 10
                            }
                        },
                        h = {
                            snap: g.getSnapState() ? g.getSnapState() : !0,
                            action: "move",
                            threshold: 1,
                            enabled: g.getGuideState() ? g.getSnapState() : !0
                        },
                        i = {
                            init: function(a) {
                                this.guides = {
                                    h: [],
                                    v: []
                                },
                                    this.slideBounds = {
                                        width: 320,
                                        height: 486,
                                        x: 0,
                                        y: 0
                                    },
                                    this.render(),
                                    a.append(this.domElement),
                                    this.options = h
                            },
                            render: function() {
                                this.domElement = $('<div class="eq-block-guides">')
                            },
                            start: function(a) {
                                if (this.options.enabled) {
                                    this.allBlocks = [],
                                        c.forEach(function(a, b) {
                                            i.allBlocks.push(new d(a))
                                        }),
                                        this.targetBlocks = [],
                                        b.forEach(e.getElements(),
                                            function(a) {
                                                i.allBlocks.forEach(function(b) {
                                                    b.element.attr("id") == "inside_" + a && i.targetBlocks.push(b)
                                                })
                                            }),
                                        this.gridLines = [];
                                    var f = g.getCols(),
                                        j = g.getRows(),
                                        k = Math.round(this.slideBounds.width / f),
                                        l = Math.round(this.slideBounds.height / j),
                                        m = (this.slideBounds.height - l * j) / 2;
                                    if (g.enabled) {
                                        for (var n = 1; f > n; n++) this.gridLines.push(this.getCenterEdge({
                                                x: n * k,
                                                y: 0,
                                                width: 0,
                                                height: this.slideBounds.height
                                            },
                                                "grid-col-" + n, "horizontal"));
                                        for (var o = 1; j > o; o++) this.gridLines.push(this.getCenterEdge({
                                                x: 0,
                                                y: o * l + m,
                                                width: this.slideBounds.width,
                                                height: 0
                                            },
                                                "grid-row-" + o, "vertical"))
                                    }
                                    this.gridLines.push(this.getCenterEdge({
                                            x: this.slideBounds.width / 2,
                                            y: 0,
                                            width: 0,
                                            height: this.slideBounds.height
                                        },
                                        "grid-col-center", "horizontal")),
                                        this.gridLines.push(this.getCenterEdge({
                                                x: 0,
                                                y: this.slideBounds.height / 2,
                                                width: this.slideBounds.width,
                                                height: 0
                                            },
                                            "grid-row-center", "vertical")),
                                        this.options = $.extend(h, a)
                                }
                            },
                            stop: function() {
                                this.clearGuideElements()
                            },
                            sync: function(a) {
                                this.options.enabled && (this.findGuides(a), this.renderGuides())
                            },
                            findGuides: function(a) {
                                a = b.extend({
                                        x: 0,
                                        y: 0,
                                        width: 0,
                                        height: 0
                                    },
                                    a),
                                    this.guides.h.length = 0,
                                    this.guides.v.length = 0;
                                var c = {
                                        x: f.bigDetectionBoxPointA.x + a.x,
                                        y: f.bigDetectionBoxPointA.y + a.y,
                                        width: f.bigDetectionBoxPointB.x - f.bigDetectionBoxPointA.x + a.width,
                                        height: f.bigDetectionBoxPointB.y - f.bigDetectionBoxPointA.y + a.height
                                    },
                                    d = this.getEdges(c, "target-bounds", "resize" === this.options.action);
                                this.combinedBounds = c,
                                    this.allBlocks.forEach(function(a) { - 1 === i.targetBlocks.indexOf(a) && i.compageEdges(d, i.getEdges(a.measure(), a.getID()), i.options.threshold)
                                    }),
                                    this.gridLines.forEach(function(a) {
                                        i.compageEdges(d, a, i.options.threshold)
                                    }),
                                    this.guides.h.sort(function(a, b) {
                                        return a.distance - b.distance
                                    }),
                                    this.guides.v.sort(function(a, b) {
                                        return a.distance - b.distance
                                    })
                            },
                            enforceGuides: function(a) {
                                if (this.options.enabled) {
                                    var b = this.options.threshold;
                                    this.options.threshold = 3,
                                        this.findGuides(a),
                                        this.options.threshold = b;
                                    var c, d = 0,
                                        e = 0;
                                    this.guides.h.length && (c = this.guides.h[0], d = c.compareEdge.x - c.targetEdge.x),
                                        this.guides.v.length && (c = this.guides.v[0], e = c.compareEdge.y - c.targetEdge.y),
                                        a.x += d,
                                        a.y += e
                                }
                            },
                            compageEdges: function(a, b, c) {
                                var d;
                                a.h.forEach(function(a) {
                                    b.h.forEach(function(b) {
                                        d = Math.abs(a.x - b.x),
                                            c > d && i.guides.h.push({
                                            distance: d,
                                            targetEdge: a,
                                            compareEdge: b
                                        })
                                    })
                                }),
                                    a.v.forEach(function(a) {
                                        b.v.forEach(function(b) {
                                            d = Math.abs(a.y - b.y),
                                                c > d && i.guides.v.push({
                                                distance: d,
                                                targetEdge: a,
                                                compareEdge: b
                                            })
                                        })
                                    })
                            },
                            renderGuides: function() {
                                var a = [];
                                this.guides.h.forEach(function(b) {
                                    a.push(i.renderGuide(b))
                                }),
                                    this.guides.v.forEach(function(b) {
                                        a.push(i.renderGuide(b))
                                    }),
                                    this.clearGuideElements(a)
                            },
                            renderGuide: function(a) {
                                var b = a.targetEdge,
                                    c = a.compareEdge,
                                    d = $('[data-guide-id="' + c.id + '"]');
                                0 === d.length && (d = $('<div data-guide-id="' + c.id + '">').appendTo(this.domElement), setTimeout(function() {
                                        d.addClass("show")
                                    },
                                    1));
                                var e = {
                                    top: Math.min(c.bounds.y, this.combinedBounds.y),
                                    right: Math.max(c.bounds.x + c.bounds.width, this.combinedBounds.x + this.combinedBounds.width),
                                    bottom: Math.max(c.bounds.y + c.bounds.height, this.combinedBounds.y + this.combinedBounds.height),
                                    left: Math.min(c.bounds.x, this.combinedBounds.x)
                                };
                                if ("number" == typeof c.y) {
                                    var f = "s" === b.direction ? -1 : 0;
                                    d.addClass("guide-h"),
                                        d.css({
                                            top: Math.floor(c.y + f),
                                            left: e.left,
                                            width: e.right - e.left
                                        })
                                } else {
                                    var g = "e" === b.direction ? -1 : 0;
                                    d.addClass("guide-v"),
                                        d.css({
                                            left: Math.floor(c.x + g),
                                            top: e.top,
                                            height: e.bottom - e.top
                                        })
                                }
                                return c.id
                            },
                            getEdges: function(a, b, c) {
                                var d = {
                                    h: [{
                                        id: b + "-h1",
                                        bounds: a,
                                        x: a.x,
                                        offset: 0,
                                        direction: "w"
                                    },
                                        {
                                            id: b + "-h2",
                                            bounds: a,
                                            x: a.x + a.width / 2,
                                            offset: -a.width / 2,
                                            direction: "hc"
                                        },
                                        {
                                            id: b + "-h3",
                                            bounds: a,
                                            x: a.x + a.width,
                                            offset: -a.width,
                                            direction: "e"
                                        }],
                                    v: [{
                                        id: b + "-v1",
                                        bounds: a,
                                        y: a.y,
                                        offset: 0,
                                        direction: "n"
                                    },
                                        {
                                            id: b + "-v2",
                                            bounds: a,
                                            y: a.y + a.height / 2,
                                            offset: -a.height / 2,
                                            direction: "vc"
                                        },
                                        {
                                            id: b + "-v3",
                                            bounds: a,
                                            y: a.y + a.height,
                                            offset: -a.height,
                                            direction: "s"
                                        }]
                                };
                                return c && (d.h.splice(1, 1), d.v.splice(1, 1)),
                                    d
                            },
                            getCenterEdge: function(a, b, c) {
                                var d = {
                                    h: [],
                                    v: []
                                };
                                return "vertical" === c ? d.v.push({
                                    id: b + "-v2",
                                    bounds: a,
                                    y: a.y + a.height / 2,
                                    offset: -a.height / 2,
                                    direction: b
                                }) : d.h.push({
                                    id: b + "-h2",
                                    bounds: a,
                                    x: a.x + a.width / 2,
                                    offset: -a.width / 2,
                                    direction: b
                                }),
                                    d
                            },
                            clearGuideElements: function(a) {
                                var b = this.domElement.find(".guide-v, .guide-h");
                                a && a.length && (b = b.filter(function(b, c) {
                                    return - 1 === a.indexOf(c.getAttribute("data-guide-id"))
                                })),
                                    b.remove()
                            }
                        };
                    return {
                        grid: g,
                        guide: i
                    }
                }]).directive("pasteElement", ["sceneService",
                function(a) {
                    function b() {
                        var b = $('<ul id="pasteMenu" class="dropdown-menu" style="min-width: 100px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="paste" style="text-align:center;" role="presentation"><a role="menuitem" tabindex="-1"><div class="fa fa-paste"></div>&nbsp;&nbsp;粘贴</a></li></ul>').css({
                            position: "absolute",
                            "user-select": "none"
                        });
                        return b.find(".paste").on("click",
                            function() {
                                a.pasteElement(),
                                    b.hide()
                            }),
                            b
                    }
                    return {
                        restrict: "EA",
                        link: function(c, d, e) {
                            var f = $(d);
                            f.on("contextmenu",
                                function(c) {
                                    if (a.getCopy()) {
                                        var d = b(),
                                            e = $("#eq_main"),
                                            f = $("#pasteMenu");
                                        f.length > 0 && f.remove(),
                                            e.append(d),
                                            d.css({
                                                left: c.pageX + e.scrollLeft() + 15,
                                                top: c.pageY + e.scrollTop()
                                            }).show(),
                                            e.mousemove(function(a) {
                                                var b = $("#pasteMenu"); (a.pageX < b.offset().left - 20 || a.pageX > b.offset().left + b.width() + 20 || a.pageY < b.offset().top - 20 || a.pageY > b.offset().top + b.height() + 20) && (b.hide(), $(this).unbind("mousemove"))
                                            })
                                    }
                                    return ! 1
                                })
                        }
                    }
                }]).directive("eqxEditDestroy", ["selectService",
                function(a) {
                    return {
                        link: function(b, c) {
                            c.on("$destroy",
                                function() {
                                    a.clearElements(),
                                        utilPictures.clearInterval()
                                })
                        }
                    }
                }]).directive("elementAnim", ["selectService",
                function(a) {
                    function b(a, c, d, e) {
                        if (c.length && e < c.length) {
                            var f = a.get(0);
                            a.css("animation", ""),
                                f.offsetWidth = f.offsetWidth,
                                a.css("animation", d[e] + " " + c[e].duration + "s ease 0s").css("animation-fill-mode", "backwards"),
                                a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",
                                    function() {
                                        e++,
                                            b(a, c, d, e)
                                    })
                        }
                    }
                    return {
                        restrict: "EA",
                        link: function(a, c) {
                            var d;
                            a.$on("previewCurrentChange",
                                function(a, b) {
                                    d = d = $("#inside_" + b.elemId + " .element-box");
                                    var c = d.get(0);
                                    c.offsetWidth = c.offsetWidth,
                                        d.css("animation", b.animClasses[b.count] + " " + b.anim.duration + "s ease 0s").css("animation-fill-mode", "backwards")
                                }),
                                a.$on("previewAllChanges",
                                    function(a, c) {
                                        d = d = $("#inside_" + c.elemId + " .element-box"),
                                            b(d, c.animations, c.animClasses, c.count)
                                    })
                        }
                    }
                }]),
        b.module("app.directives.editor", []).directive("toolbar", ["$compile", "sceneService",
            function(c, d) {
                function e(e, g, h) {
                    var i = d.currentElemDef;
                    "x" == i.type ? (e.showCustomFamilyFont = !0, e.showLinkOption = !1, f(e)) : (e.showCustomFamilyFont = !1, e.showLinkOption = !0),
                        g.bind("keydown",
                            function(a) {
                                a.stopPropagation()
                            }),
                        e.internalLinks = b.copy(e.pages),
                        e.internalLink || e.externalLink || (e.internalLink = e.internalLinks[0], e.externalLink = "http://");
                    try {
                        e.fontColor = $(i.content).css("color"),
                            e.backgroundColor = $(i.content).css("background-color")
                    } catch(j) {}
                    var k = ["#000000", "#7e2412", "#ff5400", "#225801", "#0c529e", "#333333", "#b61b52", "#f4711f", "#3bbc1e", "#23a3d3", "#888888", "#d34141", "#f7951e", "#29b16a", "#97daf3", "#cccccc", "#ec7c7c", "#fdea02", "#79c450", "#563679", "#ffffff", "#ffcccc", "#d9ef7f", "#c3f649"],
                        l = $(".color-menu"),
                        m = $(".bgcolor-menu");
                    $.each(k,
                        function(a, b) {
                            l.append($('<li><a dropdown-toggle class="btn" data-edit="foreColor ' + b + '" style="background-color: ' + b + '"></a></li>'))
                        }),
                        c(l.append($('<li style="position: relative;"><a ng-model="fontColor" ng-click="setSelection()" colorpicker-Position="sceneToobar" class="btn glyphicon glyphicon-remove" colorpicker="rgba" style="background-color: transparent"></a><em style="background-color:#d34141;position:absolute;height:10px;width:10px;top:0;left:0;z-index:-1"></em><em style="background-color:#fdea02;position:absolute;height:10px;width:10px;top:0;left:10px;z-index:-1"></em><em style="background-color:#23a3d3;position:absolute;height:10px;width:10px;top:10px;left:0;z-index:-1"></em><em style="background-color:#3bbc1e;position:absolute;height:10px;width:10px;top:10px;left:10px;z-index:-1"></em></li>')))(e),
                        e.$watch("fontColor",
                            function(a, b) {
                                a && a != b && document.execCommand("foreColor", 0, a)
                            });
                    var n = function(a) {
                        var b = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
                        a = a.replace(b,
                            function(a, b, c, d) {
                                return b + b + c + c + d + d
                            });
                        var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
                        return c ? {
                            r: parseInt(c[1], 16),
                            g: parseInt(c[2], 16),
                            b: parseInt(c[3], 16)
                        }: null
                    };
                    $.each(k,
                        function(a, b) {
                            var c = n(b);
                            m.append($('<li><a dropdown-toggle class="btn" data-edit="backColor rgba(' + c.r + "," + c.g + "," + c.b + ', 0.3)" style="background-color: rgba(' + c.r + "," + c.g + "," + c.b + ', 0.3)"></a></li>'))
                        }),
                        c(m.append($('<li style="position: relative;"><a ng-model="backgroundColor" ng-click="setSelection()" colorpicker="rgba" colorpicker-Position="sceneToobar" class="btn glyphicon glyphicon-remove" style="background-color: transparent"></a><em style="background-color:#d34141;position:absolute;height:10px;width:10px;top:0;left:0;z-index:-1"></em><em style="background-color:#fdea02;position:absolute;height:10px;width:10px;top:0;left:10px;z-index:-1"></em><em style="background-color:#23a3d3;position:absolute;height:10px;width:10px;top:10px;left:0;z-index:-1"></em><em style="background-color:#3bbc1e;position:absolute;height:10px;width:10px;top:10px;left:10px;z-index:-1"></em></li>')))(e),
                        e.$watch("backgroundColor",
                            function(a) {
                                a && document.execCommand("backColor", 0, a)
                            }),
                        e.setSelection = function() {
                            var b = a.getSelection();
                            b.getRangeAt && b.rangeCount && b.getRangeAt(0),
                                b.modify("move", "left", "documentboundary"),
                                b.modify("extend", "right", "documentboundary")
                        },
                        i.css.lineHeight = (parseFloat(i.css.lineHeight) || 1).toFixed(1),
                        e.increaseLineHeight = function() {
                            var b = a.getSelection(),
                                c = b.focusNode,
                                d = $(c).parents(".element-box");
                            i.css.lineHeight = (parseFloat(i.css.lineHeight) + .1).toFixed(1),
                                d.css("line-height", i.css.lineHeight),
                                $(c.parentNode).focus()
                        },
                        e.decreaseLineHeight = function() {
                            var b = a.getSelection(),
                                c = b.focusNode,
                                d = $(c).parents(".element-box");
                            i.css.lineHeight > .1 && (i.css.lineHeight = (parseFloat(i.css.lineHeight) - .1).toFixed(1), d.css("line-height", i.css.lineHeight)),
                                $(c.parentNode).focus()
                        }
                }
                function f(a) {
                    var b = utilFont.getFontName(),
                        c = $(".fontname-menu");
                    $.each(b,
                        function(a, b) {
                            c.append($('<li class="' + a + '"><a dropdown-toggle class="btn" data-edit="fontName ' + a + '"><img src="' + CLIENT_CDN + b.blueSrc + '"/></a></li>')),
                                $("." + a).hover(function() {
                                        $(this).find("img").attr("src", CLIENT_CDN + b.src)
                                    },
                                    function() {
                                        $(this).hasClass("selected-font") || $(this).find("img").attr("src", CLIENT_CDN + b.blueSrc)
                                    })
                        })
                }
                return {
                    restrict: "EA",
                    replace: !0,
                    templateUrl: "directives/toolbar.tpl.html",
                    link: e
                }
            }]),
        b.module("app.directives.uislider", []).value("uiSliderConfig", {}).directive("uiSlider", ["uiSliderConfig", "$timeout",
            function(a, d) {
                return a = a || {},
                {
                    require: "ngModel",
                    compile: function() {
                        return function(e, f, g, h) {
                            function i(a, b) {
                                return b ? parseFloat(a) : parseInt(a, 10)
                            }
                            function j() {
                                f.slider("destroy")
                            }
                            var k = b.extend(e.$eval(g.uiSlider) || {},
                                    a),
                                l = {
                                    min: null,
                                    max: null
                                },
                                m = ["min", "max", "step"],
                                n = b.isUndefined(g.useDecimals) ? !1 : !0,
                                o = function() {
                                    b.isArray(h.$viewValue) && k.range !== !0 && (console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."), k.range = !0),
                                        b.forEach(m,
                                            function(a) {
                                                b.isDefined(g[a]) && (k[a] = i(g[a], n))
                                            }),
                                        f.slider(k),
                                        o = b.noop
                                };
                            b.forEach(m,
                                function(a) {
                                    g.$observe(a,
                                        function(b) {
                                            b && (o(), k[a] = i(b, n), f.slider("option", a, i(b, n)), h.$render())
                                        })
                                }),
                                g.$observe("disabled",
                                    function(a) {
                                        o(),
                                            f.slider("option", "disabled", !!a)
                                    }),
                                e.$watch(g.uiSlider,
                                    function(a) {
                                        o(),
                                            a !== c && f.slider("option", a)
                                    },
                                    !0),
                                d(o, 0, !0),
                                f.bind("slide",
                                    function(a, b) {
                                        h.$setViewValue(b.values || b.value),
                                            e.$apply()
                                    }),
                                h.$render = function() {
                                    o();
                                    var a = k.range === !0 ? "values": "value";
                                    k.range || !isNaN(h.$viewValue) || h.$viewValue instanceof Array ? k.range && !b.isDefined(h.$viewValue) && (h.$viewValue = [0, 0]) : h.$viewValue = 0,
                                        k.range === !0 && (b.isDefined(k.min) && k.min > h.$viewValue[0] && (h.$viewValue[0] = k.min), b.isDefined(k.max) && k.max < h.$viewValue[1] && (h.$viewValue[1] = k.max), h.$viewValue[0] > h.$viewValue[1] && (l.min >= h.$viewValue[1] && (h.$viewValue[0] = l.min), l.max <= h.$viewValue[0] && (h.$viewValue[1] = l.max)), l.min = h.$viewValue[0], l.max = h.$viewValue[1]),
                                        f.slider(a, h.$viewValue)
                                },
                                e.$watch(g.ngModel,
                                    function() {
                                        k.range === !0 && h.$render()
                                    },
                                    !0),
                                f.bind("$destroy", j);
                            var p = $('<div class="ui-slider-progress-bar"></div>');
                            f.append(p);
                            var q = e.$watch(g.ngModel,
                                function() {
                                    setTimeout(function() {
                                        p.css("width", $(".ui-slider-handle", f).css("left"))
                                    })
                                },
                                !0);
                            f.bind("$destroy",
                                function() {
                                    q()
                                })
                        }
                    }
                }
            }]),
        b.module("security.authority", []).factory("authority", ["$translate",
            function(a) {
                var b = {
                        GROUP_CUSTOMER: 1,
                        SCENE_HIDE_LASTPAGE_SETTING: 2,
                        TRANSFER_SCENE: 4,
                        SCENE_EDIT_TRIGGER: 8,
                        EXPAND_WEBSITE: 16,
                        SCENE_EDIT_SOUND: 32,
                        ACCESS_NEW_PAGEFLIP: 64,
                        COMP_ANIMATION: 128,
                        RADIO_CHECKBOX_RATING: 256,
                        INTERACTION: 512,
                        ACCESS_DOMAIN_BIND: 1024,
                        LOADING_LOGO: 2048,
                        TEMPLATE_PAYMENT: 4096,
                        INTERACTION_COUNTER: 8192,
                        SCENE_PASSWORD: 16384,
                        USERCENTER_HISTORY: 32768
                    },
                    c = {
                        1 : {
                            code: 8509,
                            name: a.instant("common.security.CUSTOM_USER")
                        },
                        2 : {
                            code: 61439,
                            name: a.instant("common.security.COMPANY_USER")
                        },
                        21 : {
                            code: 59903,
                            name: a.instant("common.security.COMPANY_USER2")
                        },
                        3 : {
                            code: 62463,
                            name: a.instant("common.security.SENIOR_USER")
                        },
                        4 : {
                            code: 62975,
                            name: a.instant("common.security.SERVICE_USER")
                        },
                        99 : {
                            code: 62463,
                            name: a.instant("common.security.VIP_USER")
                        }
                    };
                return {
                    accessDef: b,
                    userRoleDef: c
                }
            }]),
        b.module("security.authorization", ["security.service"]).provider("securityAuthorization", {
            requireAdminUser: ["securityAuthorization",
                function(a) {
                    return a.requireAdminUser()
                }],
            requireAuthenticatedUser: ["securityAuthorization",
                function(a) {
                    return a.requireAuthenticatedUser()
                }],
            $get: ["security", "securityRetryQueue",
                function(a, b) {
                    var c = {
                        requireAuthenticatedUser: function() {
                            var d = a.requestCurrentUser().then(function(d) {
                                return a.isAuthenticated() ? void 0 : b.pushRetryFn("unauthenticated-client", c.requireAuthenticatedUser)
                            });
                            return d
                        },
                        requireAdminUser: function() {
                            var d = a.requestCurrentUser().then(function(d) {
                                return a.isAdmin() ? void 0 : b.pushRetryFn("unauthorized-client", c.requireAdminUser)
                            });
                            return d
                        }
                    };
                    return c
                }]
        }),
        b.module("security", ["security.service", "security.interceptor", "security.login", "security.authorization"]),
        b.module("security.interceptor", ["security.retryQueue"]).factory("securityInterceptor", ["$injector", "$location", "securityRetryQueue", "$translate",
            function(a, b, c, d) {
                return function(e) {
                    return e.then(null,
                        function(f) {
                            return 401 === f.status && (e = c.pushRetryFn("unauthorized-server",
                                function() {
                                    return a.get("$http")(f.config)
                                })),
                                403 === f.status && (alert(d.instant("security.NO_AUTHORITY")), b.path("/home")),
                                e
                        })
                }
            }]).config(["$httpProvider",
            function(a) {
                a.responseInterceptors.push("securityInterceptor");
                var b = [PREFIX_URL + "login", PREFIX_URL + "m/scene/createPage/", PREFIX_URL + "m/scene/pageList", PREFIX_URL + "m/base/file/upload", PREFIX_URL + "m/c/group/create"];
                a.interceptors.push(["$q",
                    function(a) {
                        return {
                            request: function(c) {
                                var d = c.url;
                                for (u = 0; u < b.length; u++) 0 === d.indexOf(b[u]) && $("#loading").show();
                                return c || a.when(c)
                            },
                            response: function(b) {
                                return $("#loading").hide(),
                                    b || a.when(b)
                            }
                        }
                    }])
            }]),
        b.module("security.login.form", ["services.localizedMessages", "app.directives.addelement", "security.thirdparty"]).controller("LoginFormController", ["$scope", "$timeout", "$window", "$translate", "security", "localizedMessages", "$location", "$sce", "thirdpartyService",
            function(b, c, d, e, f, g, h, i, j) {
                if (b.user = {},
                    b.retrieve = {},
                    b.showLogin = !0, b.sendPassword = !1, b.unExist = !1, b.authError = null, b.isValidateCodeLogin = f.isValidateCodeLogin, b.validateCodeSrc = PREFIX_URL + "servlet/validateCodeServlet", b.authReason = null, f.getLoginReason() && (b.authReason = f.isAuthenticated() ? g.get("login.reason.notAuthorized") : "为了保障您的账号安全，请登录！"), a.localStorage) {
                    var k = localStorage.getItem("userEmail");
                    k && (b.user.email = k)
                }
                b.rotate = function(a) {
                    $(".modal-content").addClass("flip"),
                        $(".login-form-section").fadeOut(600),
                        c(function() {
                                b.showLogin = !a,
                                    $(".login-form-section").fadeIn(0),
                                    $(".modal-content").removeClass("flip")
                            },
                            600)
                },
                    b.login = function() {
                        b.user.rememberAcc && b.user.email ? localStorage.setItem("userEmail", b.user.email) : localStorage.removeItem("userEmail"),
                            b.authError = null;
                        var a = {
                            username: b.user.email,
                            password: b.user.password,
                            rememberMe: b.user.rememberMe
                        };
                        return ! b.isValidateCodeLogin || (a.geetest_challenge = challenge, a.geetest_validate = validate, a.geetest_seccode = seccode, challenge && validate && seccode) ? b.user.email ? b.user.password ? void f.login($.param(a)).then(function(a) {
                                challenge = null,
                                    validate = null,
                                    seccode = null,
                                    a ? (selectorA && selectorA(".gt_refresh_button").click(), 1005 === a.code, a.map && (b.isValidateCodeLogin = a.map.isValidateCodeLogin), b.authReason = "", b.authError = a.msg) : (b.authError = g.get("login.error.invalidCredentials"), submit = !1)
                            },
                            function(a) {
                                b.authError = g.get("login.error.serverError", {
                                    exception: a
                                })
                            }) : (b.authReason = "", void(b.authError = e.instant("login.PASS_TIP"))) : (b.authReason = "", void(b.authError = e.instant("login.EMAIL_TIP"))) : (b.authReason = "", void(b.authError = e.instant("login.VALADATE_TIP")))
                    },
                    b.openRegister = function() {
                        h.path("/home/register", !1)
                    },
                    b.clearForm = function() {
                        b.user = {}
                    },
                    b.cancelLogin = function() {
                        f.cancelLogin()
                    },
                    b.reset = function() {
                        b.user = {},
                            b.retrieve = {}
                    };
                var l = "http://api.geetest.com/get.php?gt=1ebc844c9e3a8c23e2ea4b567a8afd2d&time=" + (new Date).getTime();
                b.validateCodeUrl = i.trustAsResourceUrl(l),
                    c(function() {
                            $('input[name="userEmail"]').focus()
                        },
                        300),
                    b.retrievePassword = function() {
                        return b.retrieve.email ? submit ? challenge && validate && seccode ? void f.retrievePassword(b.retrieve.email, challenge, validate, seccode).then(function(a) {
                            challenge = "",
                                validate = "",
                                seccode = "",
                                    200 == a.data.code ? (b.sendPassword = !0, submit = !1) : (selectorA && selectorA(".gt_refresh_button").click(), 1003 == a.data.code ? b.retrieveError = e.instant("login.ACCOUNT_TIP") : 1005 == a.data.code && (b.retrieveError = e.instant("login.VALADATE_ERR")))
                        }) : void(b.retrieveError = e.instant("login.VALADATE_TIP")) : void(b.retrieveError = e.instant("login.VALIDATE_MACTH_TIP")) : void(b.retrieveError = e.instant("login.EMAIL_TIP"))
                    },
                    b.openThirdPatyWindow = function(a) {
                        f.cancelLogin(),
                            j.openThirtyPartyWindow(a)
                    }
            }]),
        b.module("security.login.reset", ["services.localizedMessages"]).controller("ResetFormController", ["$scope", "security", "localizedMessages", "$location", "resetKey",
            function(a, b, c, d, e) {
                a.password = {},
                    a.checkPassword = function() {
                        if (a.password.newPw) {
                            if (/^[a-zA-Z0-9]{6,16}$/g.test(a.password.newPw)) return a.passError = null,
                                !0;
                            a.passError = "密码为6~16个字符(英文字母或数字，区分大小写)"
                        } else a.passError = "新密码不能为空";
                        return ! 1
                    },
                    a.checkRepeatPassword = function() {
                        if (a.password.confirm) {
                            if (a.password.confirm == a.password.newPw) return a.rPassError = "",
                                !0;
                            a.rPassError = "两次密码输入不一致，请重新输入"
                        } else a.rPassError = "确认密码不能为空";
                        return ! 1
                    },
                    a.reset = function() {
                        a.checkPassword() && a.checkRepeatPassword() && b.resetPassByKey(a.password.newPw, e).then(function(b) {
                            200 == b.data.code ? (alert("修改成功"), a.$close(), d.path("/main").search({})) : 1011 == b.data.code && (a.authError = b.data.msg)
                        })
                    },
                    a.cancel = function() {
                        a.$dismiss()
                    }
            }]).directive("equals",
            function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(a, b, c, d) {
                        if (d) {
                            a.$watch(c.ngModel,
                                function() {
                                    e()
                                }),
                                c.$observe("equals",
                                    function(a) {
                                        e()
                                    });
                            var e = function() {
                                var a = d.$viewValue,
                                    b = c.equals;
                                d.$setValidity("equals", a === b)
                            }
                        }
                    }
                }
            }),
        b.module("security.login", ["security.login.form", "security.login.reset", "security.login.toolbar"]),
        b.module("security.login.toolbar", ["services.usercenter"]).directive("loginToolbar", ["security", "$rootScope", "usercenterService",
            function(a, b, c) {
                var d = {
                    templateUrl: "security/login/toolbar.tpl.html",
                    restrict: "E",
                    replace: !0,
                    scope: !0,
                    link: function(d, e, f, g) {
                        d.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                            d.isAuthenticated = a.isAuthenticated,
                            d.login = a.showLogin,
                            d.logout = a.logout,
                            d.requestResetPassword = a.requestResetPassword,
                            d.isAdvancedUser = b.isAdvancedUser,
                            d.isEditor = b.isEditor,
                            d.isVendorUser = b.isVendorUser,
                            d.$watch(function() {
                                    return a.currentUser
                                },
                                function(a) {
                                    d.currentUser = a,
                                        d.currentUser.headImg ? /^http.*/.test(a.headImg) && (d.headImg = a.headImg) : d.headImg = CLIENT_CDN + "assets/images/defaultuser.jpg"
                                }),
                            d.$on("headImg.change",
                                function(a, b) {
                                    d.currentUser.headImg = b
                                }),
                            d.$on("minusCount",
                                function(a, b) {
                                    d.count -= b,
                                        d.newMsgCount = d.count > 9 ? "9+": d.count
                                }),
                            d.getNewMessage = function(a, b, e) {
                                c.getNewMessage(a, b, e).then(function(a) {
                                    d.newMsgs = a.data.list,
                                        d.count = a.data.map.count,
                                        d.newMsgCount = a.data.map.count > 9 ? "9+": a.data.map.count
                                })
                            },
                            d.getNewMessage(1, 4, !0),
                            d.openMsgPanel = function() {
                                $(".mes_con").hasClass("open") || d.getNewMessage(1, 4, !0)
                            }
                    }
                };
                return d
            }]),
        b.module("security.otherregister.form", ["services.localizedMessages", "app.directives.register"]),
        b.module("security.otherregister.form").controller("OtherRegisterFormController", ["$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window", "otherRegisterInfo",
            function(a, b, c, d, e, f, g, h) {
                a.user = {},
                    a.user.agreement = !0,
                    a.getUserDetail = function() {
                        var b = {
                            type: "qq",
                            openId: h.openId,
                            accessToken: h.accessToken
                        };
                        c.getUserDetail(b.type, b.openId, b.accessToken).then(function(b) {
                            a.otherUserInfo = b.data.obj
                        })
                    },
                    a.getUserDetail()
            }]),
        b.module("security.register.form", ["services.localizedMessages", "app.directives.register", "security.thirdparty"]),
        b.module("security.register.form").controller("RegisterFormController", ["$scope", "$timeout", "$translate", "security", "localizedMessages", "$location", "$http", "$window", "thirdpartyService", "regMsg",
            function(a, b, c, d, e, f, g, h, i, j) {
                j ? a.user = j: a.user = {},
                    a.user.agreement = !0,
                    a.regErr = c.instant("register.REAL_ACCOUNT_TIP");
                var k = !1;
                a.openWeibo = function() {
                    alert(c.instant("register.WEIBO_SUCCESS"))
                },
                    a.register = function() {
                        var b = {
                            loginName: a.user.email,
                            password: a.user.password
                        };
                        if (a.userNotExist && a.checkUsername() && a.checkPassword() && a.checkRepeatPassword()) if (a.user.password === a.user.repeatPassword && a.user.agreement) {
                            if (k) return;
                            k = !0;
                            var c = "";
                            location.hash.indexOf("?") >= 0 && (c = location.hash.replace("#/home/register", "")),
                                d.register($.param(b), c).then(function(b) {
                                        k = !1,
                                            b && (a.regErr = b.msg)
                                    },
                                    function(b) {
                                        k = !1,
                                            a.regErr = e.get("register.error.serverError", {
                                                exception: b
                                            })
                                    })
                        } else a.user.password != a.user.repeatPassword ? a.regErr = e.get("register.error.match") : a.regErr = e.get("register.error.agreement")
                    },
                    a.checkUniqueness = function(b) {
                        d.checkUniqueness(b).success(function(b) {
                            a.userNotExist = b.success,
                                a.userNotExist ? a.usernameError = null: a.usernameError = c.instant("register.ACCOUNT_EXIST")
                        })
                    },
                    a.checkIconUser = "",
                    a.checkIconPass = "",
                    a.checkIconRePass = "",
                    a.checkUsername = function() {
                        if (a.user.email) {
                            if (/^[-_a-z0-9\.@]{6,40}$/g.test(a.user.email)) return a.checkUniqueness(a.user.email),
                                !0;
                            a.usernameError = c.instant("register.ACCOUNT_FORMAT")
                        } else a.usernameError = c.instant("register.ACCOUNT_TIP");
                        return ! 1
                    },
                    a.checkPassword = function() {
                        if (a.user.password) {
                            if (/^[a-zA-Z0-9]{6,16}$/g.test(a.user.password)) return a.passError = null,
                                !0;
                            a.passError = c.instant("register.PASS_FORMAT")
                        } else a.passError = c.instant("register.PASS_TIP");
                        return ! 1
                    },
                    a.checkRepeatPassword = function() {
                        if (a.user.repeatPassword) {
                            if (a.user.repeatPassword == a.user.password) return a.rPassError = "",
                                !0;
                            a.rPassError = c.instant("register.NOT_SAME")
                        } else a.rPassError = c.instant("register.REPEAT_PASS_TIP");
                        return ! 1
                    },
                    a.openLogin = function() {
                        f.path("/home/login", !1)
                    },
                    a.reset = function() {
                        a.user = {}
                    },
                    a.openThirdPatyWindow = function(a) {
                        d.cancelRegister(),
                            i.openThirtyPartyWindow(a)
                    }
            }]).controller("BindingController", ["$rootScope", "$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window",
            function(a, b, c, d, e, f, g, h) {
                b.qq_url = "https://graph.qq.com/oauth2.0/authorize?response_type=token&client_id=101149132&redirect_uri=" + redirect_uri + "&display=pc",
                    b.weibo_url = "https://api.weibo.com/oauth2/authorize?client_id=3508809852&response_type=token&redirect_uri=" + PREFIX_HOST
            }]),
        b.module("security.register", ["security.register.form", "security.otherregister.form"]),
        b.module("security.retryQueue", []).factory("securityRetryQueue", ["$q", "$log",
            function(a, d) {
                var e = [],
                    f = {
                        onItemAddedCallbacks: [],
                        hasMore: function() {
                            return e.length > 0
                        },
                        push: function(a) {
                            e.push(a),
                                b.forEach(f.onItemAddedCallbacks,
                                    function(b) {
                                        try {
                                            b(a)
                                        } catch(c) {
                                            d.error("securityRetryQueue.push(retryItem): callback threw an error" + c)
                                        }
                                    })
                        },
                        pushRetryFn: function(b, d) {
                            1 === arguments.length && (d = b, b = c);
                            var e = a.defer(),
                                g = {
                                    reason: b,
                                    retry: function() {
                                        a.when(d()).then(function(a) {
                                                e.resolve(a)
                                            },
                                            function(a) {
                                                e.reject(a)
                                            })
                                    },
                                    cancel: function() {
                                        e.reject()
                                    }
                                };
                            return f.push(g),
                                e.promise
                        },
                        retryReason: function() {
                            return f.hasMore() && e[0].reason
                        },
                        cancelAll: function() {
                            for (; f.hasMore();) e.shift().cancel()
                        },
                        retryAll: function() {
                            for (; f.hasMore();) e.shift().retry()
                        }
                    };
                return f
            }]),
        b.module("security.service", ["security.retryQueue", "security.login", "security.register", "security.authority", "ui.bootstrap.modal"]).factory("security", ["$rootScope", "$http", "$q", "$location", "securityRetryQueue", "$modal", "ModalService", "authority",
            function(b, c, d, e, f, g, h, i) {
                function j(b) {
                    b = b || "/",
                        a.location.href = b
                }
                function k() {
                    if (v && (l(v, !1), v = null), t) throw new Error("Trying to open a dialog that is already open!");
                    t = g.open({
                        windowClass: "login-container",
                        keyboard: !1,
                        templateUrl: "security/login/form.tpl.html",
                        controller: "LoginFormController"
                    }),
                        t.result.then(m, m)
                }
                function l(a, b) {
                    a.close(b)
                }
                function m(a) {
                    t = null,
                        a ? ("/home/login" == e.path() && e.path("/home", !1), f.retryAll()) : (f.cancelAll(), j())
                }
                function n(a) {
                    if (u) throw new Error("Trying to open a dialog that is already open!");
                    u = g.open({
                        windowClass: "login-container",
                        keyboard: !1,
                        templateUrl: "security/login/reset.tpl.html",
                        controller: "ResetFormController",
                        resolve: {
                            resetKey: function() {
                                return a
                            }
                        }
                    }),
                        u.result.then(function() {
                                u = null
                            },
                            function() {
                                y.currentUser || e.path("/home", !1).search({}),
                                    u = null
                            })
                }
                function o(a) {
                    if (t && (l(t, !0), t = null), v) throw new Error("Trying to open a dialog that is already open!");
                    v = g.open({
                        windowClass: "login-container",
                        keyboard: !1,
                        templateUrl: "security/register/register.tpl.html",
                        controller: "RegisterFormController",
                        resolve: {
                            regMsg: function() {
                                return a
                            }
                        }
                    }),
                        v.result.then(function() {
                                v = null
                            },
                            function() {
                                "/home/register" == e.path() && e.path("/home", !1),
                                    v = null
                            })
                }
                function p(a) {
                    if (w) throw new Error("Trying to open a dialog that is already open!");
                    w = g.open({
                        windowClass: "login-container",
                        keyboard: !1,
                        templateUrl: "security/register/otherregister.tpl.html",
                        controller: "OtherRegisterFormController",
                        resolve: {
                            otherRegisterInfo: function() {
                                return a
                            }
                        }
                    })
                }
                function q(a) {
                    x = a
                }
                function r() {
                    return x
                }
                function s() {
                    t = null
                }
                var t = null,
                    u = null,
                    v = null,
                    w = null;
                f.onItemAddedCallbacks.push(function(a) {
                    f.hasMore() && y.showLogin()
                });
                var x = {},
                    y = {
                        getLoginReason: function() {
                            return f.retryReason()
                        },
                        showLogin: function() {
                            k()
                        },
                        showRegister: function(a) {
                            o(a)
                        },
                        showOtherRegister: function() {
                            p()
                        },
                        getUserDetail: function(a, b, d) {
                            var e = PREFIX_URL + "base/relUserInfo?type=" + a + "&openId=" + b + "&accessToken=" + d,
                                f = new Date;
                            return e += "&date=" + f.getTime(),
                                c({
                                    method: "GET",
                                    url: e,
                                    withCredentials: !0
                                })
                        },
                        checkUniqueness: function(a) {
                            var b = PREFIX_S1_URL + "eqs/check/username?username=" + a,
                                d = new Date;
                            return b += "&date=" + d.getTime(),
                                c({
                                    method: "GET",
                                    url: b,
                                    withCredentials: !0
                                })
                        },
                        addRegisterInfo: q,
                        getRegisterInfo: r,
                        login: function(a) {
                            var b = this,
                                d = c.post(PREFIX_URL + "login", a, {
                                    withCredentials: !0,
                                    headers: {
                                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                    }
                                });
                            return d.then(function(a) {
                                    return 200 === a.status ? (b.isValidateCodeLogin = !1, a.data.success === !0 ? (l(t, !0), y.requestCurrentUser().then(function() { ("/home" == e.path() || "/home/login" == e.path()) && e.path("main")
                                    }), a.data) : a.data) : void y.isAuthenticated()
                                },
                                function(a) {
                                    y.isAuthenticated()
                                })
                        },
                        closeLoginDialog: s,
                        register: function(a, b) {
                            var d = c.post(PREFIX_URL + "eqs/register" + b, a, {
                                withCredentials: !0,
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                }
                            });
                            return d.then(function(a) {
                                    if (200 === a.status) {
                                        if (a.data.success !== !0) return a.data; ("/home" == e.path() || "/home/register" == e.path()) && e.path("main"),
                                            y.requestCurrentUser(),
                                            l(v, !0)
                                    } else y.isAuthenticated()
                                },
                                function(a) {
                                    y.isAuthenticated()
                                })
                        },
                        qqLogin: function(a, b) {
                            y.getThirdPartyInfo(a).then(function(c) {
                                var d = c.openid,
                                    e = (c.client_id, {
                                        email: "",
                                        password: "",
                                        openId: d,
                                        accessToken: a,
                                        type: "qq",
                                        expires: b
                                    });
                                y.thirdPartLogin(e)
                            })
                        },
                        thirdPartLogin: function(a) {
                            var b = c.post(PREFIX_URL + "eqs/relAccount", $.param(qqRegisterInfo), {
                                withCredentials: !0,
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                }
                            });
                            return b.then(function(a) {
                                    if (200 === a.status) {
                                        if (a.data.success !== !0) return a.data; ("/home" == e.path() || "/home/login" == e.path()) && e.path("main"),
                                            y.setLoginSuccess(!0),
                                            y.requestCurrentUser(),
                                            l(w, !0)
                                    } else y.isAuthenticated()
                                },
                                function(a) {
                                    y.isAuthenticated()
                                })
                        },
                        getThirdPartyInfo: function(a) {
                            var b = "https://graph.qq.com/oauth2.0/me?access_token=" + a;
                            return $.ajax({
                                type: "get",
                                url: b,
                                dataType: "jsonp",
                                jsonp: "jsoncallback",
                                jsonpCallback: "callback",
                                xhrFields: {
                                    withCredentials: !0
                                }
                            })
                        },
                        weiChatLogin: function(a) {
                            return c.post(PREFIX_URL + "eqs/relWechatAccount?code=" + a + "&isMobile=1&time=" + (new Date).getTime(), {},
                                {
                                    withCredentials: !0,
                                    headers: {
                                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                    }
                                })
                        },
                        cancelRegister: function() {
                            v = null,
                                e.path("/home", !1)
                        },
                        hasRel: function(a) {
                            v && l(v, !1);
                            var b = new Date,
                                d = PREFIX_URL + "base/user/hasRel?type=" + a.type + "&openId=" + a.openId + "&time=" + b.getTime(),
                                f = c.get(d, {
                                    withCredentials: !0
                                });
                            f.then(function(b) {
                                    200 === b.status ? b.data.success === !0 ? (("/home" == e.path() || "/home/login" == e.path()) && e.path("main"), y.requestCurrentUser()) : "未关联账号" == b.data.msg && p(a) : y.isAuthenticated()
                                },
                                function(a) {
                                    y.isAuthenticated()
                                })
                        },
                        cancelLogin: function() {
                            t = null,
                                e.path("/home", !1)
                        },
                        logout: function(a) {
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + "logout"
                            }).then(function(b) {
                                    y.currentUser = null,
                                        j(a)
                                },
                                function() {
                                    y.currentUser = null,
                                        j(a)
                                })
                        },
                        userPromise: null,
                        requestCurrentUser: function() {
                            if (y.isAuthenticated()) return d.when(y.currentUser);
                            var a = new Date;
                            var PREFIX_URL = "/";
                            return y.userPromise ? y.userPromise: (y.userPromise = c.get(PREFIX_URL + "eqs/login?time=" + a.getTime(), {
                                withCredentials: !0
                            }).then(function(a) {
                                    return y.userPromise = null,
                                        a.data.success && (y.currentUser = a.data.obj, (!y.currentUser.roleIdList || y.currentUser.roleIdList.length <= 0) && (y.currentUser.roleIdList = [2])),
                                        y.currentUser
                                },
                                function() {
                                    y.userPromise = null
                                }), y.userPromise)
                        },
                        resetPassByKey: function(a, b) {
                            var d = {
                                key: b,
                                newPwd: a
                            };
                            return c.post(PREFIX_URL + "eqs/pwd/reset", $.param(d), {
                                withCredentials: !0,
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                }
                            })
                        },
                        currentUser: null,
                        isAuthenticated: function() {
                            return !! y.currentUser
                        },
                        isLoginSuccess: !1,
                        setLoginSuccess: function(a) {
                            y.isLoginSuccess = a
                        },
                        thirdPartyUrl: {
                            weiChatUrl: "https://open.weixin.qq.com/connect/qrconnect?appid=wxc5f1bbae4bb93ced&redirect_uri=http%3A%2F%2Feqxiu.com&response_type=code&scope=snsapi_login&state=WECHAT_STATE#wechat_redirect",
                            qqUrl: "https://graph.qq.com/oauth2.0/authorize?response_type=token&client_id=101149132&redirect_uri=http%3A%2F%2Feqxiu.com&scope=get_user_info",
                            weiboUrl: "https://api.weibo.com/oauth2/authorize?client_id=3508809852&response_type=token&redirect_uri=http://eqxiu.com"
                        },
                        isAllowToAccess: function(a) {
                            if (!y.currentUser) return ! 1;
                            var b = i.userRoleDef[y.currentUser.type];
                            return b && (b.code & a) > 0 ? !0 : !1
                        },
                        accessDef: i.accessDef,
                        isEditor: function() {
                            if (!y.currentUser) return ! 1;
                            var a = y.currentUser.roleIdList;
                            if (!a) return ! 1;
                            for (var b = 0; b < a.length; b++) if ("4" == a[b]) return ! 0;
                            return ! 1
                        },
                        isAdvancedUser: function() {
                            return y.currentUser && "3" == y.currentUser.type ? !0 : !1;
                        },
                        isVendorUser: function() {
                            return y.currentUser && "4" == y.currentUser.type ? !0 : !1
                        },
                        requestResetPassword: function(a) {
                            n(a)
                        },
                        validateToken: function(a) {
                            var b = "changepw?token=" + a;
                            return c.get(PREFIX_URL + b, {
                                withCredentials: !0
                            })
                        },
                        resetPassword: function(a, b) {
                            var d = PREFIX_URL + "m/base/user/changePwd",
                                e = {
                                    oldPwd: a,
                                    newPwd: b
                                };
                            return c.post(d, $.param(e), {
                                withCredentials: !0,
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                }
                            })
                        },
                        retrievePassword: function(a, b, d, e) {
                            var f = PREFIX_URL + "eqs/pwd/retrieve",
                                g = {
                                    email: a,
                                    geetest_challenge: b,
                                    geetest_validate: d,
                                    geetest_seccode: e
                                };
                            return c.post(f, $.param(g), {
                                withCredentials: !0,
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                }
                            })
                        }
                    };
                return y
            }]),
        b.module("security.thirdparty", ["security.service"]).factory("thirdpartyService", ["$rootScope", "$http", "$location", "$window", "security", "$translate", "i18nNotifications",
            function(a, b, c, d, e, f, g) {
                function h(a) {
                    var b = "https://graph.qq.com/oauth2.0/authorize?",
                        c = "101149132",
                        d = ["client_id=" + c, "redirect_uri=" + a, "scope=get_user_info", "response_type=token"],
                        e = d.join("&");
                    return j = b + e
                }
                function i(a) {
                    var b = "https://open.weixin.qq.com/connect/qrconnect?",
                        c = "wxc5f1bbae4bb93ced",
                        d = ["appid=" + c, "redirect_uri=" + a, "scope=snsapi_login", "response_type=code", "state=WECHAT_STATE#wechat_redirect"],
                        e = d.join("&");
                    return k = b + e
                }
                var j, k, l = {
                    qqUrl: h,
                    wxUrl: i,
                    qqLogin: function(a, b) {
                        l.getThirdPartyInfo(a).then(function(c) {
                            var d = c.openid,
                                e = (c.client_id, {
                                    email: "",
                                    password: "",
                                    openId: d,
                                    accessToken: a,
                                    type: "qq",
                                    expires: b
                                });
                            l.thirdPartLogin(e)
                        })
                    },
                    thirdPartLogin: function(a) {
                        var d = b.post(PREFIX_URL + "eqs/relAccount", $.param(a), {
                            withCredentials: !0,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            }
                        });
                        return d.then(function(a) {
                                if (200 === a.status) {
                                    if (a.data.success !== !0) return a.data; ("/home" == c.path() || "/home/login" == c.path()) && c.path("main"),
                                        e.setLoginSuccess(!0),
                                        e.requestCurrentUser()
                                } else e.isAuthenticated()
                            },
                            function(a) {
                                e.isAuthenticated()
                            })
                    },
                    getThirdPartyInfo: function(a) {
                        var b = "https://graph.qq.com/oauth2.0/me?access_token=" + a;
                        return $.ajax({
                            type: "get",
                            url: b,
                            dataType: "jsonp",
                            jsonp: "jsoncallback",
                            jsonpCallback: "callback",
                            xhrFields: {
                                withCredentials: !0
                            }
                        })
                    },
                    weiChatLogin: function(a) {
                        return b.post(PREFIX_URL + "eqs/relWechatAccount?code=" + a + "&isMobile=1&time=" + (new Date).getTime(), {},
                            {
                                withCredentials: !0,
                                headers: {
                                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                                }
                            })
                    },
                    unbindRelation: function(c) {
                        var d = {
                                type: c
                            },
                            e = "m/u/unRelation";
                        b({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + e,
                            data: $.param(d),
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            }
                        }).then(function(b) {
                            b.data.success && a.$broadcast("mail.unbind.success", c)
                        })
                    },
                    wxBindAccount: function(a) {
                        l.bindAccountCommon(a)
                    },
                    qqBindAccount: function(a) {
                        l.getThirdPartyInfo(a.access_token).then(function(b) {
                                var c = b.openid,
                                    d = (b.client_id, {
                                        openId: c,
                                        accessToken: a.access_token,
                                        expires: a.expires_in,
                                        type: "qq"
                                    });
                                l.bindAccountCommon(d)
                            },
                            function(a) {})
                    },
                    bindAccountCommon: function(c) {
                        var d = "m/u/bind/third";
                        b({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + d,
                            data: $.param(c),
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            }
                        }).then(function(b) {
                                b.data.success ? a.$broadcast("rel.success", c.type) : g.pushForCurrentRoute("already.bind.error", "notify.success", {
                                    msg: b.data.msg
                                })
                            },
                            function(a) {
                                alert(f.instant("common.security.SERVER_ERROR"))
                            })
                    },
                    openThirtyPartyWindow: function(a) {
                        var b, c = "http%3A%2F%2Feqxiu.com%2Fpassport.html";
                        "qq" == a ? b = l.qqUrl(c) : "weixin" == a && (b = l.wxUrl(c)),
                            d.open(b, "_blank", "width=600,height=600,menubar=no,toolbar=no,location=no,directories=no,status=no,scrollbars=yes,resizable=yes")
                    }
                };
                return l
            }]),
        b.module("services.active", []).factory("activeService", ["$rootScope", "$http",
            function(a, b) {
                var c = {};
                return c.getActiveList = function(a, c, d) {
                    var e = PREFIX_S1_URL + "eqs/activity/scene";
                    return a && (e += /\?/.test(e) ? "&": "?", e += "promId=" + a),
                        c && (e += /\?/.test(e) ? "&": "?", e += "pageNo=" + c),
                        d && (e += /\?/.test(e) ? "&": "?", e += "pageSize=" + d),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: e
                        })
                },
                    c
            }]),
        b.module("services.breadcrumbs", []),
        b.module("services.breadcrumbs").factory("breadcrumbs", ["$rootScope", "$location",
            function(a, b) {
                var c = [],
                    d = {};
                return a.$on("$routeChangeSuccess",
                    function(a, d) {
                        var e, f = b.path().split("/"),
                            g = [],
                            h = function(a) {
                                return "/" + f.slice(0, a + 1).join("/")
                            };
                        for (f.shift(), e = 0; e < f.length; e++) g.push({
                            name: f[e],
                            path: h(e)
                        });
                        c = g
                    }),
                    d.getAll = function() {
                        return c
                    },
                    d.getFirst = function() {
                        return c[0] || {}
                    },
                    d
            }]),
        b.module("services.config", []).factory("configService", ["$http",
            function(a) {
                var b = function() {
                        var b = PREFIX_S2_URL + "eqs/image/pc/logo";
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: b
                        })
                    },
                    c = function() {
                        var b = PREFIX_S2_URL + "eqs/image/pc/banner";
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: b
                        })
                    },
                    d = function() {
                        var b = PREFIX_S2_URL + "eqs/friendlinks";
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: b
                        })
                    };
                return {
                    getLogo: b,
                    getBanners: c,
                    getFriendLinks: d
                }
            }]),
        b.module("services.crud", ["services.crudRouteProvider"]),
        b.module("services.crud").factory("crudEditMethods",
            function() {
                return function(a, c, d, e, f) {
                    var g = {};
                    return g[a] = c,
                        g[a + "Copy"] = b.copy(c),
                        g.save = function() {
                            this[a].$saveOrUpdate(e, e, f, f)
                        },
                        g.canSave = function() {
                            return this[d].$valid && !b.equals(this[a], this[a + "Copy"])
                        },
                        g.revertChanges = function() {
                            this[a] = b.copy(this[a + "Copy"])
                        },
                        g.canRevert = function() {
                            return ! b.equals(this[a], this[a + "Copy"])
                        },
                        g.remove = function() {
                            this[a].$id() ? this[a].$remove(e, f) : e()
                        },
                        g.canRemove = function() {
                            return c.$id()
                        },
                        g.getCssClasses = function(a) {
                            var b = this[d][a];
                            return {
                                error: b.$invalid && b.$dirty,
                                success: b.$valid && b.$dirty
                            }
                        },
                        g.showError = function(a, b) {
                            return this[d][a].$error[b]
                        },
                        g
                }
            }),
        b.module("services.crud").factory("crudListMethods", ["$location",
            function(a) {
                return function(b) {
                    var c = {};
                    return c["new"] = function() {
                        a.path(b + "/new")
                    },
                        c.edit = function(c) {
                            a.path(b + "/" + c)
                        },
                        c
                }
            }]),
        function() {
            function a(a) {
                this.$get = b.noop,
                    this.routesFor = function(d, e, f) {
                        var g = d.toLowerCase(),
                            h = "/" + d.toLowerCase();
                        f = f || e,
                            b.isString(e) && "" !== e && (g = e + "/" + g),
                            null !== f && f !== c && "" !== f && (h = "/" + f + h);
                        var i = function(a) {
                                return g + "/" + d.toLowerCase() + "-" + a.toLowerCase() + ".tpl.html"
                            },
                            j = function(a) {
                                return d + a + "Ctrl"
                            },
                            k = {
                                whenList: function(a) {
                                    return k.when(h, {
                                        templateUrl: i("List"),
                                        controller: j("List"),
                                        resolve: a
                                    }),
                                        k
                                },
                                whenNew: function(a) {
                                    return k.when(h + "/new", {
                                        templateUrl: i("Edit"),
                                        controller: j("Edit"),
                                        resolve: a
                                    }),
                                        k
                                },
                                whenEdit: function(a) {
                                    return k.when(h + "/:itemId", {
                                        templateUrl: i("Edit"),
                                        controller: j("Edit"),
                                        resolve: a
                                    }),
                                        k
                                },
                                when: function(b, c) {
                                    return a.when(b, c),
                                        k
                                },
                                otherwise: function(b) {
                                    return a.otherwise(b),
                                        k
                                },
                                $routeProvider: a
                            };
                        return k
                    }
            }
            a.$inject = ["$routeProvider"],
                b.module("services.crudRouteProvider", ["ngRoute"]).provider("crudRoute", a)
        } (),
        b.module("services.data", []),
        b.module("services.data").factory("dataService", ["$http", "$rootScope",
            function(a, b) {
                var c = {};
                return c.getDatas = function(c) {
                    var d = "m/scene/stat/sum";
                    return c && (d += (/\?/.test(d) ? "&": "?") + "user=" + c),
                        a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + d
                        }).then(function(a) {
                            if (a.data.success) {
                                var c = a.data.obj;
                                b.$broadcast("sceneDatas", c)
                            }
                        })
                },
                    c.getCustomDatas = function(c) {
                        var d = "m/c/stat/sum";
                        return c && (d += (/\?/.test(d) ? "&": "?") + "user=" + c),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + d
                            }).then(function(a) {
                                if (a.data.success) {
                                    var c = a.data.obj;
                                    b.$broadcast("customDatas", c)
                                }
                            })
                    },
                    c.getDataBySceneId = function(b, c, d, e) {
                        c = c || 1,
                            d = d || 10;
                        var f = "m/scene/data/" + b + "?pageNo=" + c + "&pageSize=" + d;
                        e && (f += (/\?/.test(f) ? "&": "?") + "user=" + e);
                        var g = new Date;
                        return f += "&time=" + g.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + f
                            })
                    },
                    c.deleteDataBySceneId = function(b, c) {
                        var d = "m/scene/data/delete?sceneId=" + b + "&dataIds=" + c.ids;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + d,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            }
                        })
                    },
                    c.getDataDetail = function(b, c) {
                        var d = "m/c/detail/" + b;
                        c && (d += (/\?/.test(d) ? "&": "?") + "user=" + c);
                        var e = new Date;
                        return d += (/\?/.test(d) ? "&": "?") + "date=" + e.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + d
                            })
                    },
                    c.getDataMessage = function(b) {
                        var c = "m/scene/dataScene";
                        b && (c += (/\?/.test(c) ? "&": "?") + "user=" + b);
                        var d = new Date;
                        return c += (/\?/.test(c) ? "&": "?") + "date=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    c.getAllData = function(b, c, d, e) {
                        var f = "m/c/data?pageSize=10&pageNo=" + b;
                        c && (f += (/\?/.test(f) ? "&": "?") + "user=" + c),
                            e && (f += (/\?/.test(f) ? "&": "?") + "origin=" + e),
                            d && (f += (/\?/.test(f) ? "&": "?") + "groupId=" + d);
                        var g = new Date;
                        return f += (/\?/.test(f) ? "&": "?") + "time=" + g.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + f
                            })
                    },
                    c.getProspectDataAccount = function(b) {
                        var c = "m/c/prospectCount?time=" + (new Date).getTime();
                        return b && (c += (/\?/.test(c) ? "&": "?") + "user=" + b),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    c.deleteDataById = function(b) {
                        var c = "m/c/delete/" + b;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + c
                        })
                    },
                    c.saveData = function(b) {
                        var c = "m/c/save";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            url: PREFIX_URL + c,
                            data: b
                        })
                    },
                    c.getSceneField = function(b) {
                        var c = "m/c/formField/" + b,
                            d = new Date;
                        return c += "?time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    c.getPremergeScenes = function(b) {
                        var c = "m/scene/newDataScene";
                        b && (c += (/\?/.test(c) ? "&": "?") + "user=" + b);
                        var d = new Date;
                        return c += (/\?/.test(c) ? "&": "?") + "time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    c.mergeSceneData = function(b, c) {
                        var d = "m/c/imps/" + b;
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_S3_URL + d,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(c)
                        })
                    },
                    c.getOrigin = function(b) {
                        var c = "m/c/origin";
                        return b && (c += (/\?/.test(c) ? "&": "?") + "user=" + b),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    c.getGroups = function(b) {
                        var c = "m/c/group/list";
                        return b && (c += (/\?/.test(c) ? "&": "?") + "user=" + b),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    c.assignGroup = function(b) {
                        var c = "m/c/group/set?cIds=" + b.cIds + "&gIds=" + b.gIds;
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + c,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            }
                        })
                    },
                    c.deleteAssociation = function(b) {
                        var c = "m/c/group/unset?cId=" + b.cId + "&gId=" + b.gId;
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + c,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            }
                        })
                    },
                    c.createGroup = function(b) {
                        var c = "m/c/group/create";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.deleteCustomer = function(b) {
                        var c = "m/c/delete?ids=" + b.ids;
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + c,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            }
                        })
                    },
                    c.deleteGroup = function(b) {
                        var c = "m/c/group/delete?id=" + b;
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + c,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            }
                        })
                    },
                    c
            }]),
        b.module("services.exceptionHandler", ["services.i18nNotifications"]),
        b.module("services.exceptionHandler").factory("exceptionHandlerFactory", ["$injector",
            function(a) {
                return function(b) {
                    return function(c, d) {
                        var e = a.get("i18nNotifications");
                        b(c, d),
                            e.pushForCurrentRoute("error.fatal", "error", {},
                                {
                                    exception: c,
                                    cause: d
                                })
                    }
                }
            }]),
        b.module("services.exceptionHandler").config(["$provide",
            function(a) {
                a.decorator("$exceptionHandler", ["$delegate", "exceptionHandlerFactory",
                    function(a, b) {
                        return b(a)
                    }])
            }]),
        b.module("services.file", ["services.i18nNotifications"]),
        b.module("services.file").factory("fileService", ["$rootScope", "$http", "i18nNotifications",
            function(a, b, c) {
                function d() {
                    var a = [{
                        color: "#6366C3"
                    },
                        {
                            color: "#29A1D6"
                        },
                        {
                            color: "#332E42"
                        },
                        {
                            color: "#DBF3FF"
                        },
                        {
                            color: "#434A54"
                        },
                        {
                            color: "#000000"
                        },
                        {
                            color: "#F1F03E"
                        },
                        {
                            color: "#FCF08E"
                        },
                        {
                            color: "#972D53"
                        },
                        {
                            color: "#724192"
                        },
                        {
                            color: "#967BDC"
                        },
                        {
                            color: "#EC87C1"
                        },
                        {
                            color: "#D870AF"
                        },
                        {
                            color: "#F6F7FB"
                        },
                        {
                            color: "#666C78"
                        },
                        {
                            color: "#ABB1BD"
                        },
                        {
                            color: "#CCD0D9"
                        },
                        {
                            color: "#E6E9EE"
                        },
                        {
                            color: "#48CFAE"
                        },
                        {
                            color: "#36BC9B"
                        },
                        {
                            color: "#3BAEDA"
                        },
                        {
                            color: "#50C1E9"
                        },
                        {
                            color: "#AC92ED"
                        },
                        {
                            color: "#4B89DC"
                        },
                        {
                            color: "#4B89DC"
                        },
                        {
                            color: "#5D9CEC"
                        },
                        {
                            color: "#8DC153"
                        },
                        {
                            color: "#ED5564"
                        },
                        {
                            color: "#DB4453"
                        },
                        {
                            color: "#FB6E52"
                        },
                        {
                            color: "#FFCE55"
                        },
                        {
                            color: "#F6BB43"
                        },
                        {
                            color: "#E9573E"
                        },
                        {
                            color: "#9FF592"
                        },
                        {
                            color: "#A0D468"
                        }];
                    return a
                }
                function e(c) {
                    var d = "base/class/" + ("1" == c ? "tpType": "bgType"),
                        e = new Date;
                    d += "?time=" + e.getTime(),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + d
                        }).then(function(b) {
                            b.data.success && (y.sysCategoryList = b.data.list, a.$broadcast("sysCategory.update"))
                        })
                }
                function f(c) {
                    var d = "base/class/" + ("2" == c ? "audioType": "sound_effect_type"),
                        e = new Date;
                    d += "?time=" + e.getTime(),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + d
                        }).then(function(b) {
                            b.data.success && (y.sysMusicList = b.data.list, a.$broadcast("sysMusic.update"))
                        })
                }
                function g(c) {
                    var d = "m/base/file/tag/sys";
                    c && (d += "?bizType=" + c),
                        d += (/\?/.test(d) ? "&": "?") + "time=" + (new Date).getTime(),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + d
                        }).then(function(b) {
                            b.data.success && (y.sysTagList = b.data.list, a.$broadcast("sysTag.update"))
                        })
                }
                function h(a, c, d, e, f, g, h) {
                    return a += "pageNo=" + (c ? c: 1),
                        a += "&pageSize=" + (d ? d: 10),
                        a += "&fileType=" + e,
                        (f || 0 === f) && (a += "&bizType=" + f),
                        g && (a += "&tagId=" + g),
                        h && (a += "&delete=1"),
                        a += "&time=" + Date.now(),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + a
                        })
                }
                function i(c, d, e, f, g, h) {
                    "pure" != g ? ("1" == f && (e = 18), c += "pageNo=" + (d ? d: 1), c += "&pageSize=" + (e ? e: 10), c += "&fileType=" + f, (g || 0 === g) && (c += "&bizType=" + g), h && (c += "&tagId=" + h), c += "&time=" + Date.now(), b({
                        withCredentials: !0,
                        method: "GET",
                        url: PREFIX_URL + c
                    }).then(function(b) {
                        b.data.success && (y.imgList = b.data.list, y.totalItems = b.data.map.count, y.pageNo = b.data.map.pageNo, a.$broadcast("imgList.update"))
                    })) : (d * e <= z.length ? y.imgList = z.slice((d - 1) * e, d * e) : y.imgList = z.slice((d - 1) * e, z.length), y.totalItems = z.length, y.pageNo = d, a.$broadcast("imgList.update"))
                }
                function j(a, b, c, d, e) {
                    var f = "m/base/file/sysList?";
                    return h(f, a, b, c, d, e)
                }
                function k(a, b, c, d, e) {
                    var f = "m/base/file/sysList?";
                    i(f, a, b, c, d, e)
                }
                function l(a, b, c, d, e, f) {
                    var g = "m/base/file/userList?";
                    return h(g, a, b, c, d, e, f)
                }
                function m(a, b, c, d, e) {
                    var f = "m/base/file/userList?";
                    i(f, a, b, c, d, e)
                }
                function n(c) {
                    var d = "m/base/file/delete",
                        e = {
                            id: c
                        };
                    b({
                        withCredentials: !0,
                        method: "POST",
                        url: PREFIX_URL + d,
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                        },
                        data: $.param(e)
                    }).then(function(b) {
                        b.data.success && a.$broadcast("files.delete")
                    })
                }
                function o(a, c) {
                    var d, e = "m/base/file/delete";
                    return d = c ? {
                        id: a,
                        backup: c
                    }: {
                        id: a
                    },
                        b({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + e,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(d)
                        })
                }
                function p(a, c) {
                    var d = "m/base/file/recycle/list?pageNo=" + a + "&pageSize=" + c;
                    return b({
                        withCredentials: !0,
                        method: "GET",
                        url: PREFIX_URL + d
                    })
                }
                function q(a) {
                    var c = "m/base/file/revoke?id=" + a;
                    return b({
                        withCredentials: !0,
                        method: "GET",
                        url: PREFIX_URL + c
                    })
                }
                function r(c) {
                    var d = "m/base/file/tag/create",
                        e = {
                            tagName: c
                        };
                    b({
                        withCredentials: !0,
                        method: "POST",
                        url: PREFIX_URL + d,
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                        },
                        data: $.param(e)
                    }).then(function(b) {
                            y.tagList.push({
                                id: b.data.obj,
                                name: c
                            }),
                                a.$broadcast("tagList.update")
                        },
                        function(a) {
                            $scope.authError = "创建失败"
                        })
                }
                function s() {
                    var c = "m/base/file/tag/my?time" + (new Date).getTime();
                    b({
                        withCredentials: !0,
                        method: "GET",
                        url: PREFIX_URL + c
                    }).then(function(b) {
                        b.data.success && (y.tagList = b.data.list, a.$broadcast("tagList.update"))
                    })
                }
                function t(c, d) {
                    var e = "m/base/file/tag/delete",
                        f = {
                            id: c
                        };
                    b({
                        withCredentials: !0,
                        method: "POST",
                        url: PREFIX_URL + e,
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                        },
                        data: $.param(f)
                    }).then(function(b) {
                        b.data.success && (y.tagList.splice(d, 1), a.$broadcast("tagList.delete"))
                    })
                }
                function u(c, d) {
                    var e = "m/base/file/tag/set",
                        f = {
                            tagId: c,
                            fileIds: d
                        };
                    b({
                        withCredentials: !0,
                        method: "POST",
                        url: PREFIX_URL + e,
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                        },
                        data: $.param(f)
                    }).then(function(b) {
                        b.data.success && a.$broadcast("tag.assign")
                    })
                }
                function v(c, d) {
                    var e = "m/base/file/tag/unset",
                        f = {
                            tagId: c,
                            fileIds: d
                        };
                    b({
                        withCredentials: !0,
                        method: "POST",
                        url: PREFIX_URL + e,
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                        },
                        data: $.param(f)
                    }).then(function(b) {
                        b.data.success && a.$broadcast("tag.unbind")
                    })
                }
                function w(a, c, d, e) {
                    var f = "m/base/file/sysList?";
                    "0" === d && "2" === e && (f = "m/base/file/list?"),
                        f += "pageNo=" + (a ? a: 1),
                        f += "&pageSize=" + (c ? c: 12),
                        d && "all" != d && (f += "&bizType=" + (d ? d: -1)),
                        f += "&fileType=" + (e ? e: -1);
                    var g = new Date;
                    return f += "&time=" + g.getTime(),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + f
                        })
                }
                function x(a) {
                    var c = "m/base/file/crop";
                    return b({
                        withCredentials: !0,
                        method: "POST",
                        url: PREFIX_URL + c,
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                        },
                        data: $.param(a)
                    })
                }
                var y = {
                        pageNo: 1,
                        totalItems: 0,
                        sysCategoryList: [],
                        getSysCategory: e,
                        sysTagList: [],
                        getSysMusicCategory: f,
                        userRecycle: p,
                        fileRevoke: q,
                        sysMusicList: [],
                        getSysTagByCatId: g,
                        imgList: [],
                        getSystemFiles: j,
                        getUserFiles: l,
                        getSystemFiles1: k,
                        getUserFiles1: m,
                        tagList: [],
                        createTag: r,
                        getTagList: s,
                        deleteTag: t,
                        assignTag: u,
                        unbindTag: v,
                        deleteFile: n,
                        deleteFile1: o,
                        getFileByCategory: w,
                        getBgColorList: d,
                        cropImage: x
                    },
                    z = d();
                return y
            }]),
        b.module("services.history", []).factory("historyService", ["$rootScope",
            function(a) {
                var b = {},
                    c = {},
                    d = {};
                return b.addPage = function(d, e) {
                    return c[d] || (c[d] = {
                        currentPos: 0,
                        inHistory: !1,
                        pageHistory: []
                    },
                        b.addPageHistory(d, e)),
                        a.$broadcast("history.changed"),
                        JSON.parse(c[d].pageHistory[c[d].currentPos])
                },
                    b.addPageHistory = function(b, e) {
                        d = c[b],
                            d.inHistory && (d.inHistory = !1, d.pageHistory.length = d.currentPos + 1);
                        var f = JSON.stringify(e);
                        f != d.pageHistory[d.pageHistory.length - 1] && d.pageHistory.push(f),
                            d.currentPos = d.pageHistory.length - 1,
                            a.$broadcast("history.changed")
                    },
                    b.clearHistory = function() {
                        c = {}
                    },
                    b.canBack = function(a) {
                        return d = c[a],
                            d.currentPos > 0
                    },
                    b.canForward = function(a) {
                        return d = c[a],
                            d.currentPos < d.pageHistory.length - 1
                    },
                    b.back = function(b) {
                        if (d = c[b], d.pageHistory.length) {
                            d.inHistory = !0;
                            var e = 0 === d.currentPos ? d.pageHistory[0] : d.pageHistory[--d.currentPos];
                            return a.$broadcast("history.changed"),
                                JSON.parse(e)
                        }
                    },
                    b.forward = function(b) {
                        if (d = c[b], d.pageHistory.length) {
                            d.inHistory = !0;
                            var e = d.currentPos == d.pageHistory.length - 1 ? d.pageHistory[d.currentPos] : d.pageHistory[++d.currentPos];
                            return a.$broadcast("history.changed"),
                                JSON.parse(e)
                        }
                    },
                    b
            }]),
        b.module("services.httpRequestTracker", []),
        b.module("services.httpRequestTracker").factory("httpRequestTracker", ["$http",
            function(a) {
                var b = {};
                return b.hasPendingRequests = function() {
                    return a.pendingRequests.length > 0
                },
                    b
            }]),
        b.module("services.i18nNotifications", ["services.notifications", "services.localizedMessages"]),
        b.module("services.i18nNotifications").factory("i18nNotifications", ["localizedMessages", "notifications",
            function(a, c) {
                var d = function(c, d, e, f) {
                        return b.extend({
                                message: a.get(c, e),
                                type: a.get(d, e)
                            },
                            f)
                    },
                    e = {
                        pushSticky: function(a, b, e, f) {
                            return c.pushSticky(d(a, b, e, f))
                        },
                        pushForCurrentRoute: function(a, b, e, f) {
                            return c.pushForCurrentRoute(d(a, b, e, f))
                        },
                        pushForNextRoute: function(a, b, e, f) {
                            return c.pushForNextRoute(d(a, b, e, f))
                        },
                        getCurrent: function() {
                            return c.getCurrent()
                        },
                        remove: function(a) {
                            return c.remove(a)
                        }
                    };
                return e
            }]),
        b.module("services.localizedMessages", []).factory("localizedMessages", ["$interpolate", "I18N.MESSAGES",
            function(a, b) {
                var c = function(a, b) {
                    return a || "?" + b + "?"
                };
                return {
                    get: function(d, e) {
                        var f = b[d];
                        return f ? a(f)(e) : c(f, d)
                    }
                }
            }]),
        b.module("services.mine", []),
        b.module("services.mine").factory("MineService", ["$http",
            function(a, b) {
                var c = {};
                return c.getMyScenes = function(b, c, d, e, f) {
                    var g = "m/scene/my";
                    f && (g += "/data"),
                        b && (g += "/" + b),
                        g += "?pageNo=" + (c ? c: 1),
                        g += "&pageSize=" + (d ? d: 12),
                        e && (g += "&user=" + e);
                    var h = new Date;
                    return g += (/\?/.test(g) ? "&": "?") + "time=" + h.getTime(),
                        a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + g
                        })
                },
                    c.getMyHistoryScenes = function(b, c, d) {
                        var e = "m/scene/recycle/list";
                        e += "?pageNo=" + (b ? b: 1),
                            e += "&pageSize=" + (c ? c: 12),
                            d && (e += "&user=" + d);
                        var f = new Date;
                        return e += (/\?/.test(e) ? "&": "?") + "time=" + f.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + e
                            })
                    },
                    c
            }]),
        b.module("services.modal", ["confirm-dialog", "message-dialog", "bindemail-dialog"]).factory("ModalService", ["$modal",
            function(a) {
                var b = {};
                return b.openBindEmailDialog = function() {
                    a.open({
                        keyboard: !1,
                        backdropClick: !0,
                        windowClass: "confirm-dialog",
                        templateUrl: "dialog/bindemail.tpl.html",
                        controller: "BindEmailDialogCtrl"
                    })
                },
                    b.openConfirmDialog = function(b, c, d) {
                        a.open({
                            backdrop: "static",
                            keyboard: !1,
                            backdropClick: !1,
                            windowClass: "confirm-dialog",
                            templateUrl: "dialog/confirm.tpl.html",
                            controller: "ConfirmDialogCtrl",
                            resolve: {
                                confirmObj: function() {
                                    return b
                                }
                            }
                        }).result.then(c, d)
                    },
                    b.openMsgDialog = function(b, c, d) {
                        a.open({
                            backdrop: "static",
                            keyboard: !1,
                            backdropClick: !1,
                            windowClass: "message-dialog",
                            templateUrl: "dialog/message.tpl.html",
                            controller: "MessageDialogCtrl",
                            resolve: {
                                msgObj: function() {
                                    return b
                                }
                            }
                        }).result.then(c, d)
                    },
                    b
            }]),
        b.module("I18N.MESSAGES", []).service("I18N.MESSAGES", ["$translate", "$rootScope",
            function(a, c) {
                function d() {
                    b.copy({
                            "notify.success": "success",
                            "notify.info": "info",
                            "notify.danger": "danger",
                            "notify.warning": "warning",
                            "notify.tip": "tip",
                            "errors.route.changeError": "Route change error",
                            "crud.user.save.success": "A user with id '{{id}}' was saved successfully.",
                            "crud.user.remove.success": "A user with id '{{id}}' was removed successfully.",
                            "crud.user.remove.error": "Something went wrong when removing user with id '{{id}}'.",
                            "crud.user.save.error": "Something went wrong when saving a user...",
                            "crud.project.save.success": "A project with id '{{id}}' was saved successfully.",
                            "crud.project.remove.success": "A project with id '{{id}}' was removed successfully.",
                            "crud.project.save.error": "Something went wrong when saving a project...",
                            "login.reason.notAuthorized": a.instant("notificationmsg.NOT_AUTHORIZED"),
                            "login.reason.notAuthenticated": "为了保障您的账号安全，请登录！",
                            "login.error.invalidCredentials": a.instant("notificationmsg.INVALID_CREDENTIALS"),
                            "login.error.serverError": "There was a problem with authenticating: {{exception}}.",
                            "register.error.serverError": "There was a problem with authenticating: {{exception}}.",
                            "login.reset.notmatch": a.instant("notificationmsg.NOT_MATCH"),
                            "register.error.match": a.instant("notificationmsg.MATCH"),
                            "register.error.agreement": a.instant("notificationmsg.AGREEMENT"),
                            "file.bg.pageSize": "12",
                            "scene.save.success.published": a.instant("notificationmsg.PUBLISHED"),
                            "scene.save.success.nopublish": a.instant("notificationmsg.NO_PUBLISH"),
                            "scene.save.success.companyTpl": a.instant("notificationmsg.SAVE_COMPANY_EXP"),
                            "scene.clear.success.companyTpl": a.instant("notificationmsg.CANCEL_COMPANY_EXP"),
                            "companytpl.setting.success": a.instant("notificationmsg.COMPANY_TPL"),
                            "mytpl.setting.success": a.instant("notificationmsg.MY_TPL"),
                            "scene.publish.success": a.instant("notificationmsg.PUBLISH_SUCCESS"),
                            "account.success": a.instant("notificationmsg.COMMIT_SUCCESS"),
                            "branch.open.success": a.instant("notificationmsg.BRANCH_OPEN"),
                            "branch.close.success": a.instant("notificationmsg.BRANCH_CLOSE"),
                            "dept.create.success": a.instant("notificationmsg.DEPT_CREATE"),
                            "dept.update.success": a.instant("notificationmsg.DEPT_UPDATE"),
                            "branch.create.success": a.instant("notificationmsg.ACCOUNT_CREATE"),
                            "branch.update.success": a.instant("notificationmsg.ACCOUNT_UPDATE"),
                            "scene.setting.success": a.instant("notificationmsg.SCENE_SETTING"),
                            "data.assign.success": a.instant("notificationmsg.ASSIGN_GROUP"),
                            "data.delete.success": a.instant("notificationmsg.DATA_DELETE"),
                            "custom.data.delete": a.instant("notificationmsg.ONE_DATA_DELETE"),
                            "group.delete.success": a.instant("notificationmsg.GROUP_DELETE"),
                            "group.create.success": a.instant("notificationmsg.GROUP_CREATE"),
                            "group.delete.data": a.instant("notificationmsg.REMOVE_FROM_GROUP"),
                            "rel.tip": a.instant("notificationmsg.BIND_EMAIL"),
                            "page.change.success": a.instant("notificationmsg.UPDATE_PAGENAME"),
                            "email.save.success": a.instant("notificationmsg.BIND_EMAIL_SUCCESS"),
                            "reset.psw.success": a.instant("notificationmsg.UPDATE_PASS_SUCCESS"),
                            "save.success": a.instant("notificationmsg.SAVE_SUCCESS"),
                            "mail.rel.success": a.instant("notificationmsg.REL_SUCCESS"),
                            "mail.unbind.success": a.instant("notificationmsg.CANCEL_REL_SUCCESS"),
                            "file.assign.success": a.instant("notificationmsg.ASSIGN_GROUP_SUCCESS"),
                            "already.rel": a.instant("notificationmsg.HAS_REL"),
                            "branch.reset.success": a.instant("notificationmsg.RESET_SUCCESS"),
                            "already.bind.error": "{{msg}}",
                            "reject.crop.image": a.instant("notificationmsg.REJECT_CROP_IMAGE"),
                            "visitor.apply": "信息已经提交审核，审核通过后会更新秀客信息，请耐心等待。",
                            "select.trigger.source": "请选择触发源",
                            "scratch.percentage.overflow": "涂抹比例不能大于100%",
                            "invitation.sendemail.success": "邮件发送成功!",
                            "invitation.sendemail.error": "邮件发送失败!"
                        },
                        e)
                }
                var e = {};
                return a("notificationmsg.NOT_AUTHORIZED").then(function() {
                    d()
                }),
                    c.$on("$translateChangeSuccess",
                        function() {
                            a("notificationmsg.NOT_AUTHORIZED").then(function() {
                                d()
                            })
                        }),
                    e
            }]),
        b.module("services.notifications", []).factory("notifications", ["$rootScope",
            function(a) {
                var c = {
                        STICKY: [],
                        ROUTE_CURRENT: [],
                        ROUTE_NEXT: []
                    },
                    d = {},
                    e = function(a, c) {
                        if (!b.isObject(c)) throw new Error("Only object can be added to the notification service");
                        return a.push(c),
                            c
                    };
                return a.$on("$routeChangeSuccess",
                    function() {
                        c.ROUTE_CURRENT.length = 0,
                            c.ROUTE_CURRENT = b.copy(c.ROUTE_NEXT),
                            c.ROUTE_NEXT.length = 0
                    }),
                    d.getCurrent = function() {
                        return [].concat(c.STICKY, c.ROUTE_CURRENT)
                    },
                    d.pushSticky = function(a) {
                        return e(c.STICKY, a)
                    },
                    d.pushForCurrentRoute = function(a) {
                        return e(c.ROUTE_CURRENT, a)
                    },
                    d.pushForNextRoute = function(a) {
                        return e(c.ROUTE_NEXT, a)
                    },
                    d.remove = function(a) {
                        b.forEach(c,
                            function(b) {
                                var c = b.indexOf(a);
                                c > -1 && b.splice(c, 1)
                            })
                    },
                    d.removeAll = function() {
                        b.forEach(c,
                            function(a) {
                                a.length = 0
                            })
                    },
                    d
            }]),
        b.module("services.pagetpl", []),
        b.module("services.pagetpl").factory("pageTplService", ["$http", "$rootScope", "$modal", "$q",
            function(a, b, c, d) {
                var e = {};
                return e.getPageTpls = function(b) {
                    var c = "m/scene/pageTplList/" + b,
                        d = new Date;
                    return c += (/\?/.test(c) ? "&": "?") + "time=" + d.getTime(),
                        a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + c
                        })
                },
                    e.getMyTplList = function(b) {
                        var c = "/m/scene/pageList/" + b,
                            d = new Date;
                        return c += (/\?/.test(c) ? "&": "?") + "time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    e.getPageTplTypes = function() {
                        var b = "base/class/tpl_page",
                            c = new Date;
                        return b += (/\?/.test(b) ? "&": "?") + "time=" + c.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + b
                            })
                    },
                    e.getPageTagLabel = function(b) {
                        var c = "/m/scene/tag/sys/list?type=1";
                        null != b && (c += (/\?/.test(c) ? "&": "?") + "bizType=" + b);
                        var d = new Date;
                        return c += (/\?/.test(c) ? "&": "?") + "time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    e.getTagSysListWithType = function(b) {
                        var c = "/m/scene/tag/sys/list?type=2";
                        null != b && (c += (/\?/.test(c) ? "&": "?") + "bizType=" + b);
                        var d = new Date;
                        return c += (/\?/.test(c) ? "&": "?") + "time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    e.getPageTagLabelCheck = function(b) {
                        var c = "/m/scene/tag/page/list?id=" + b,
                            d = new Date;
                        return c += (/\?/.test(c) ? "&": "?") + "time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + c
                            })
                    },
                    e.getPageTplTypestemp = function(b, c) {
                        var d = "m/scene/tpl/page/list/",
                            e = new Date;
                        return null != b && (d += (/\?/.test(d) ? "&": "?") + "tagId=" + b),
                            c && (d += (/\?/.test(d) ? "&": "?") + "bizType=" + c),
                            d += (/\?/.test(d) ? "&": "?") + "time=" + e.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + d
                            })
                    },
                    e.updataChildLabel = function(b, c) {
                        var d = "m/scene/tag/page/set/?ids=" + b;
                        null != c && (d += (/\?/.test(d) ? "&": "?") + "pageId=" + c);
                        var e = new Date;
                        return d += (/\?/.test(d) ? "&": "?") + "time=" + e.getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: PREFIX_URL + d
                            })
                    },
                    e
            }]),
        b.module("services.sample", []).factory("sampleService", ["$rootScope", "$http",
            function(a, b) {
                var c = {};
                return c.getSamples = function(a, c, d) {
                    var e = PREFIX_S2_URL + "eqs/promotion";
                    return a && (e += "?type=" + a),
                        c && (e += /\?/.test(e) ? "&": "?", e += "pageNo=" + c),
                        d && (e += /\?/.test(e) ? "&": "?", e += "pageSize=" + d),
                        b({
                            withCredentials: !0,
                            method: "GET",
                            url: e
                        })
                },
                    c.getSamplesPV = function() {
                        var a = PREFIX_S1_URL + "eqs/topThree?time=" + (new Date).getTime();
                        return b({
                            withCredentials: !0,
                            method: "GET",
                            url: a
                        })
                    },
                    c
            }]),
        b.module("services.scene", ["scene.create.console", "services.history", "services.select", "scene.create.console.pictures", "scene.edit.trigger"]),
        b.module("services.scene").factory("sceneService", ["$http", "$rootScope", "$modal", "$q", "security", "$cacheFactory", "historyService", "selectService", "picturesService", "ModalService", "triggerService", "$translate", "i18nNotifications",
            function(c, d, e, f, g, h, i, j, k, l, m, n, o) {
                function p(a) {
                    ga.splice(ga.indexOf(ha[a]), 1),
                        delete ha[a]
                }
                function q(a) {
                    fa.obj.elements = a,
                        $("#nr").empty(),
                        ea.parse({
                            def: fa.obj,
                            appendTo: "#nr",
                            mode: "edit"
                        });
                    for (var b in a) if (3 == a[b].type) {
                        var c = "";
                        a[b].properties.imgSrc && (c = a[b].properties.imgSrc),
                            d.$broadcast("show.edit.bg", c);
                        break
                    }
                    d.$broadcast("dom.changed")
                }
                function r(a) {
                    b.copy({},
                        ha),
                        $.each(a,
                            function(a, b) {
                                ha[b.id] = b
                            })
                }
                function s(a, b) {
                    var c = {},
                        d = $("#nr .edit_area"),
                        e = d.children().last(),
                        f = d.children(".maxIndex"),
                        g = 0;
                    if (g = f.length > 0 ? parseInt(f.css("z-index"), 10) + 1 : e.length > 0 ? parseInt(e.css("z-index"), 10) + 1 : 101, b) return b.zIndex = g,
                        parseInt(b.top, 10) > $("#nr .edit_area").outerHeight() - 20 && (b.top = $("#nr .edit_area").outerHeight() - 20 + "px"),
                        b;
                    var h = $("#nr .edit_area").outerWidth(),
                        i = h;
                    return "v" == a && (i = 50),
                        "4" == a && (i = 80),
                        (5 == ("" + a).charAt(0) || "6" == a || "r" == a || "c" == a || "a" == a) && (i = 200),
                        c = {
                            top: "100px",
                            left: (h - i) / 2 + "px"
                        },
                        c.zIndex = g,
                        c
                }
                function t(a, b, c, d) {
                    var e = parseInt(a.css.top, 10) + 10 * ia,
                        f = parseInt(a.css.left, 10);
                    e + 34 > $("#nr .edit_area").outerHeight() ? (b.css.top = e + "px", b.css.left = f + 10 + "px") : (b.css.top = e + 34 + "px", b.css.left = a.css.left, c == d && ia++)
                }
                function u() {
                    return Math.ceil(1e10 * Math.random())
                }
                function v(a, b, c) {
                    var d, e = u(),
                        f = {};
                    if (3 == ("" + a).charAt(0)) {
                        if ($("#editBG:visible").length > 0) {
                            var g, h = [];
                            for (g = 0; g < ga.length; g++) 3 == ga[g].type && h.push(ga[g]);
                            return f = h[h.length - 1]
                        }
                        f = {
                            content: null,
                            css: {},
                            id: e,
                            num: 0,
                            pageId: fa.obj.id,
                            properties: {
                                bgColor: null,
                                imgSrc: null
                            },
                            sceneId: fa.obj.sceneId,
                            title: null,
                            type: 3
                        }
                    }
                    return 1 == ("" + a).charAt(0) && (f = {
                        id: e,
                        properties: {
                            title: n.instant("common.scene.COMMIT")
                        },
                        type: 1,
                        pageId: fa.obj.id,
                        sceneId: fa.obj.sceneId
                    }),
                        8 == ("" + a).charAt(0) && (d = s(a, b), $.extend(!0, d, {
                        color: "rgb(255, 255, 255)",
                        width: "100px",
                        height: "40px",
                        lineHeight: "40px",
                        borderWidth: "0",
                        borderStyle: "solid",
                        borderColor: "#ccc",
                        borderRadius: "0",
                        backgroundColor: "rgb(244, 113, 31)"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            title: n.instant("common.scene.DIALING"),
                            number: ""
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: 8
                    }),
                        "l" == a && (d = s(a, b), $.extend(!0, d, {
                        color: "rgb(255, 255, 255)",
                        width: "100px",
                        height: "40px",
                        lineHeight: "40px",
                        borderWidth: "0",
                        borderStyle: "solid",
                        borderColor: "#ccc",
                        borderRadius: "0",
                        backgroundColor: "rgb(244, 113, 31)"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            title: n.instant("common.scene.BUY")
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: "l"
                    }),
                        "s" == a && (d = s(a, b), $.extend(!0, d, {
                        color: "rgb(255, 255, 255)",
                        width: "100px",
                        height: "40px",
                        lineHeight: "40px",
                        borderWidth: "0",
                        borderStyle: "solid",
                        borderColor: "#ccc",
                        borderRadius: "0",
                        backgroundColor: "rgb(244, 113, 31)"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            title: n.instant("common.scene.SURPRISE")
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: "s"
                    }),
                        (2 == ("" + a).charAt(0) || "x" == ("" + a).charAt(0)) && (d = s(a, b), $.extend(!0, d, {
                        width: 320,
                        height: 38
                    }), f = {
                        content: n.instant("common.scene.EDIT_TIP"),
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {},
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: ("" + a).charAt(0)
                    }),
                        "x" == ("" + a).charAt(0) && (f.properties = {
                        dataUrl: ""
                    }),
                        4 == ("" + a).charAt(0) && (d = s(a, b), d.width = "100px", d.height = "100px", f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            width: "100px",
                            height: "100px",
                            src: ""
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: 4
                    }),
                        "h" == a && (d = s(a, b), $.extend(!0, d, {
                        color: "#555",
                        width: "100px",
                        height: "100px"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        pageId: fa.obj.id,
                        properties: {
                            type: "rect"
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: "h"
                    }),
                        5 == ("" + a).charAt(0) && (d = s(a, b), d.width = "200px", $.extend(!0, d, {
                        color: "#676767",
                        borderWidth: "1",
                        borderStyle: "solid",
                        borderColor: "#08a1ef",
                        borderRadius: "0",
                        backgroundColor: "#ffffff"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            placeholder: n.instant("common.scene.NAMED")
                        },
                        isInput: 1,
                        sceneId: fa.obj.sceneId,
                        title: n.instant("common.scene.NAMED"),
                        type: 5
                    }),
                        "r" == a && (d = s(a, b), d.width = "200px", delete d.height, $.extend(!0, d, {
                        color: "#676767",
                        borderWidth: "1",
                        borderStyle: "solid",
                        borderColor: "#08a1ef",
                        borderRadius: "0",
                        backgroundColor: "#ffffff"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            titleStyle: {
                                backgroundColor: "#08a1ef",
                                color: "#ffffff"
                            },
                            optionStyle: {
                                borderBottomWidth: "1",
                                borderBottomStyle: "solid",
                                borderBottomColor: "#08a1ef"
                            }
                        },
                        choices: '{"seq":3,"options":[{"id":1,"label":"选项1"},{"id":2,"label":"选项2"},{"id":3,"label":"选项3"}]}',
                        isInput: 1,
                        sceneId: fa.obj.sceneId,
                        title: "",
                        type: "r"
                    }),
                        "c" == a && (d = s(a, b), d.width = "200px", delete d.height, $.extend(!0, d, {
                        color: "#676767",
                        borderWidth: "1",
                        borderStyle: "solid",
                        borderColor: "#08a1ef",
                        borderRadius: "0",
                        backgroundColor: "#ffffff"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            titleStyle: {
                                backgroundColor: "#08a1ef",
                                color: "#ffffff"
                            },
                            optionStyle: {
                                borderBottomWidth: "1",
                                borderBottomStyle: "solid",
                                borderBottomColor: "#08a1ef"
                            }
                        },
                        choices: '{"seq":3,"options":[{"id":1,"label":"选项1"},{"id":2,"label":"选项2"},{"id":3,"label":"选项3"}]}',
                        isInput: 1,
                        sceneId: fa.obj.sceneId,
                        title: "",
                        type: "c"
                    }),
                        "a" == a && (d = s(a, b), d.width = "200px", delete d.height, $.extend(!0, d, {
                        color: "#676767",
                        borderWidth: "0",
                        borderStyle: "solid",
                        borderColor: "#ccc",
                        borderRadius: "0",
                        backgroundColor: "#f9f9f9"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            icon: "eqf-star",
                            size: "rating-m",
                            color: "#ff9307"
                        },
                        isInput: 1,
                        sceneId: fa.obj.sceneId,
                        title: "",
                        type: "a"
                    }),
                        "i" == a && (d = s(a, b), $.extend(!0, d, {
                        width: "200px",
                        height: "55px",
                        lineHeight: "55px",
                        color: "#676767",
                        borderWidth: "0",
                        borderStyle: "solid",
                        borderColor: "#ccc",
                        borderRadius: "0",
                        backgroundColor: "#f9f9f9"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            layout: "counter-lr",
                            size: "counter-m",
                            color: "#08a1ef",
                            icon: "eqf-love"
                        },
                        sceneId: fa.obj.sceneId,
                        title: "",
                        type: "i"
                    }),
                        "d" == ("" + a).charAt(0) && (d = s(a, b), $.extend(!0, d, {
                        width: "200px",
                        height: "55px",
                        lineHeight: "55px",
                        color: "#676767",
                        borderWidth: "0",
                        borderStyle: "solid",
                        borderColor: "#ccc",
                        borderRadius: "0",
                        backgroundColor: "#f9f9f9"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            layout: "counter-lr",
                            size: "counter-m",
                            color: "#08a1ef",
                            icon: "eqf-eye3"
                        },
                        sceneId: fa.obj.sceneId,
                        title: "",
                        type: "d"
                    }),
                        6 == ("" + a).charAt(0) && (d = s(a, b), d.width = "200px", $.extend(!0, d, {
                        color: "#fff",
                        borderRadius: "0",
                        backgroundColor: "#08a1ef"
                    }), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            title: n.instant("common.scene.COMMIT")
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: 6
                    }),
                        "p" == a && (d = s(a, b), f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            title: n.instant("common.scene.ATLAS")
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: "p"
                    }),
                        "v" == a && (d = s(a, b), d.width = "50px", d.height = "48px", f = {
                        content: "",
                        css: d,
                        id: e,
                        num: 1,
                        pageId: fa.obj.id,
                        properties: {
                            src: ""
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: "v"
                    }),
                        "n" == a && (d = s(a, b), f = {
                        content: "",
                        css: d,
                        id: e,
                        pageId: fa.obj.id,
                        properties: {
                            pics: []
                        },
                        sceneId: fa.obj.sceneId,
                        title: null,
                        type: "n"
                    }),
                        c && $.extend(!0, f, c),
                        ga.push(f),
                        ha[f.id] = f,
                        f
                }
                function w(a, b, c) {
                    var e = ea.wrapComp(b, "edit");
                    $("#nr .edit_area").append(e);
                    for (var f = ea.getInterceptors(), g = 0; g < f.length; g++) f[g](e, b);
                    return ea.getEventHandlers()[("" + a).charAt(0)](e, b),
                        c || (i.addPageHistory(fa.obj.id, fa.obj.elements), d.$broadcast("dom.changed"), e.trigger("mousedown")),
                        e
                }
                function x(a, b) {
                    var c = [];
                    return "g101" == a && (c.push(la("501")), c.push(la("502")), c.push(la("503")), c.push(la("601"))),
                        c
                }
                function y(b, c) {
                    da.currentElemDef = c;
                    var e = c.css.height || 0;
                    $(b).css({
                        "min-height": e,
                        cursor: "text"
                    }),
                        $(b).parents("li").hasClass("inside-active") || ($(b).bind("click",
                        function(a) {
                            a.stopPropagation()
                        }), $(document).bind("mousedown",
                        function(f) {
                            d.$broadcast("convert.html.canvas", c, b),
                                $(b).css({
                                    "min-height": "inherit",
                                    cursor: "default"
                                }),
                                $("#btn-toolbar").find("input[type=text][data-edit]").blur(),
                                $("#btn-toolbar") && $("#btn-toolbar").remove(),
                                $(b).unbind("click"),
                                c.content = $(b).html();
                            var g = parseInt($(b).parent().height(), 10);
                            g > e && (c.css.height = g, $(b).parents("li").height(g)),
                                $(b).parents("li").removeClass("inside-active").css("user-select", "none"),
                                $(b).removeAttr("contenteditable"),
                                a.getSelection && a.getSelection().modify("move", "right", "line"),
                                $(document).unbind("mousedown")
                        }), $(b).parents("li").addClass("inside-active").css("user-select", "initial"), d.$broadcast("text.click", b))
                }
                function z(a) {
                    R(a,
                        function(b) {
                            a.properties.src = b.data;
                            var c = b.width / b.height,
                                d = $("#" + a.id);
                            if (d.length > 0) {
                                var e = $("#inside_" + a.id).width(),
                                    f = $("#inside_" + a.id).height(),
                                    g = e / f;
                                c >= g ? (d.outerHeight(f), d.outerWidth(f * c), d.css("marginLeft", -(d.outerWidth() - e) / 2), d.css("marginTop", 0)) : (d.outerWidth(e), d.outerHeight(e / c), d.css("marginTop", -(d.outerHeight() - f) / 2), d.css("marginLeft", 0)),
                                    d.attr("src", PREFIX_FILE_HOST + b.data),
                                    a.properties.imgStyle = {},
                                    a.properties.imgStyle.width = d.outerWidth(),
                                    a.properties.imgStyle.height = d.outerHeight(),
                                    a.properties.imgStyle.marginTop = d.css("marginTop"),
                                    a.properties.imgStyle.marginLeft = d.css("marginLeft")
                            } else b.width > $("#nr .edit_area").width() && (b.width = $("#nr .edit_area").width(), b.height = b.width / c),
                                b.height > $("#nr .edit_area").height() && (b.height = $("#nr .edit_area").height(), b.width = b.height * c),
                                a.css.width = b.width,
                                a.css.height = b.height,
                                a.properties.imgStyle = {},
                                a.properties.imgStyle.width = b.width,
                                a.properties.imgStyle.height = b.height,
                                a.properties.imgStyle.marginTop = "0",
                                a.properties.imgStyle.marginLeft = "0",
                                w(a.type, a)
                        },
                        function() {
                            a.properties.src || p(a.id)
                        })
                }
                function A(a) {
                    ma || e.open({
                        windowClass: "console six-contain shape-console",
                        templateUrl: "scene/console/shape.tpl.html",
                        controller: "ShapeConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            var c = $("#" + a.id);
                            if (a.properties.type = b.type, a.properties.viewBox = b.viewBox, c.length) {
                                c.empty();
                                var d = eqxiuSvg.ShapeFromType(b.type, c.width(), c.height());
                                d.setAttribute("fill", a.css.color),
                                    c.append(d);
                                var e = eqxiuSvg.boundingBox(d);
                                c.get(0).setAttribute("viewBox", [Math.round(e.x) || 0, Math.round(e.y) || 0, Math.round(e.width) || 64, Math.round(e.height) || 64].join(" "))
                            } else w(a.type, a)
                        },
                        function() {
                            $("#" + a.id).length || p(a.id)
                        })
                }
                function B(a) {
                    e.open({
                        windowClass: "console seven-contain",
                        templateUrl: "scene/console/button.tpl.html",
                        controller: "ButtonConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            a.properties.title = b.title,
                                a.properties.number = b.number,
                                $.extend(!0, a.css, b.btnStyle);
                            var c = $("#" + a.id, $("#nr"));
                            c.length > 0 && c.parents("li").remove(),
                                w(a.type, a)
                        },
                        function() {
                            $("#" + a.id).length || p(a.id)
                        })
                }
                function C(a) {
                    ma || (ma = e.open({
                        windowClass: "console six-contain",
                        templateUrl: "scene/console/tel.tpl.html",
                        controller: "TelConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                a.properties.title = b.title,
                                a.properties.number = b.number;
                            b.title.replace(/ /g, "&nbsp;");
                            $.extend(!0, a.css, b.btnStyle),
                                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function D(a) {
                    ma || (ma = e.open({
                        windowClass: "console seven-contain",
                        templateUrl: "scene/console/input.tpl.html",
                        controller: "InputConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                b.type && (a.type = b.type),
                                a.properties.placeholder = b.title,
                                a.properties.required = b.required,
                                a.title = b.title,
                                $.extend(!0, a.css, b.btnStyle);
                            var c = $("#" + a.id);
                            c.length > 0 && c.parents("li").remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function E(a) {
                    ma || (ma = e.open({
                        windowClass: "console seven-contain",
                        templateUrl: "scene/console/radio-checkbox.tpl.html",
                        controller: "RadioCheckboxConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                a.title = b.title,
                                a.type = b.type;
                            var c = $("#nr").find("#inside_" + a.id);
                            c.length && c.remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function F(a) {
                    ma || (ma = e.open({
                        windowClass: "console seven-contain",
                        templateUrl: "scene/console/rating.tpl.html",
                        controller: "RatingConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null;
                            var c = $("#nr").find("#inside_" + a.id);
                            c.length && c.remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function G(a) {
                    ma || (ma = e.open({
                        windowClass: "console six-contain",
                        templateUrl: "scene/console/counter.tpl.html",
                        controller: "CounterConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                $.extend(!0, a.css, b.btnStyle),
                                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function H(a) {
                    ma || (ma = e.open({
                        windowClass: "console six-contain",
                        templateUrl: "scene/console/statistics-component.tpl.html",
                        controller: "StatisticsConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                $.extend(!0, a.css, b.btnStyle),
                                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function I(a) {
                    ma || (ma = e.open({
                        windowClass: "console six-contain",
                        templateUrl: "scene/console/link-component.tpl.html",
                        controller: "LinkComponentConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                isNaN(a.properties.url) && (a.properties.url = PREFIX_S1_URL + "eqs/link?id=" + a.sceneId + "&url=" + encodeURIComponent(a.properties.url)),
                                $.extend(!0, a.css, b.btnStyle),
                                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function J(a) {
                    ma || (ma = e.open({
                        windowClass: "console six-contain",
                        templateUrl: "scene/console/sound-component.tpl.html",
                        controller: "SoundComponentConsoleCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null;
                            b.title.replace(/ /g, "&nbsp;");
                            $.extend(!0, a.css, b.btnStyle),
                                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function K(a) {
                    ma || (ma = e.open({
                        windowClass: "console seven-contain pictures1",
                        backdrop: "static",
                        templateUrl: "scene/console/pictures1.tpl.html",
                        controller: "pictures1Ctrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                a.properties = b;
                            var c = $("#inside_" + a.id);
                            c.length && c.remove(),
                                w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function L(a, b) {
                    var c = Z;
                    N(c, 2,
                        function(a) {
                            a.url || a.src ? c.bgAudio = a: c.bgAudio = null
                        },
                        function() {
                            ma = null
                        })
                }
                function M(a, b) {
                    N(a, 4,
                        function(b) {
                            var c = $("#inside_" + a.id);
                            b.src ? (a.sound = b, c.children(".sound").length || $('<div class="sound eqf-music">').click(function() {
                                M(a)
                            }).appendTo(c)) : (delete a.sound, c.children(".sound").remove())
                        },
                        function() {
                            ma = null
                        })
                }
                function N(a, b, c, d) {
                    ma || (ma = e.open({
                        windowClass: "console img_console",
                        templateUrl: "scene/console/sound.tpl.html",
                        controller: "soundCtrl",
                        resolve: {
                            obj: function() {
                                return {
                                    elemDef: a,
                                    type: b
                                }
                            }
                        }
                    }).result.then(function(a) {
                            ma = null,
                                c(a)
                        },
                        function() {
                            ma = null
                        }))
                }
                function O(a) {
                    ma || (ma = e.open({
                        windowClass: "console six-contain",
                        templateUrl: "scene/console/video.tpl.html",
                        controller: "VideoCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                a.properties.src = b,
                                $("#" + a.id).length || w(a.type, a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function P(a) {
                    R(a,
                        function(b) {
                            if ("imgSrc" == b.type) {
                                var c = {
                                    type: 3,
                                    properties: {
                                        src: b.data
                                    }
                                };
                                b.height / b.width >= 1008 / 642 && b.height / b.width <= 1.578125 ? (d.$broadcast("scene.bg.replace", {
                                        type: "imgSrc",
                                        src: b.data
                                    },
                                    a), i.addPageHistory(fa.obj.id, fa.obj.elements)) : V(c,
                                    function(b) {
                                        d.$broadcast("scene.bg.replace", {
                                                type: "imgSrc",
                                                src: b.src
                                            },
                                            a),
                                            i.addPageHistory(fa.obj.id, fa.obj.elements)
                                    },
                                    function() {
                                        $("#" + a.id).length || p(a.id)
                                    })
                            }
                            "backgroundColor" == b.type && (d.$broadcast("scene.bg.replace", b, a), i.addPageHistory(fa.obj.id, fa.obj.elements))
                        },
                        function() {
                            $("#" + a.id).length || p(a.id)
                        })
                }
                function Q(a) {
                    ma || (ma = e.open({
                        windowClass: "console six-contain randomevent-console",
                        templateUrl: "scene/console/randomevent.tpl.html",
                        controller: "RandomEventCtrl",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(b) {
                            ma = null,
                                a.properties.pics = b,
                                $("#" + a.id).length || w(a.type, a),
                                d.$broadcast("create.randomevent.trigger", a)
                        },
                        function() {
                            ma = null,
                                $("#" + a.id).length || p(a.id)
                        }))
                }
                function R(a, b, c) {
                    if (!ma) {
                        var d = "0";
                        3 == a.type && (d = "0"),
                            4 == a.type && (d = "1"),
                            ma = e.open({
                                windowClass: "console img_console",
                                templateUrl: "scene/console/bg.tpl.html",
                                controller: "BgConsoleCtrl",
                                resolve: {
                                    obj: function() {
                                        return {
                                            fileType: d,
                                            elemDef: a
                                        }
                                    }
                                }
                            }).result.then(function(a) {
                                    ma = null,
                                        b(a)
                                },
                                function(a) {
                                    ma = null,
                                        c(a)
                                })
                    }
                }
                function S(a, b, c) {
                    da.currentElemDef = a,
                        d.$broadcast("showStylePanel", {
                            activeTab: "style"
                        })
                }
                function T(a, b, c) {
                    da.currentElemDef = a,
                        d.$broadcast("showStylePanel", {
                            activeTab: "anim"
                        })
                }
                function U(a, b, c) {
                    da.currentElemDef = a,
                        d.$broadcast("showStylePanel", {
                            activeTab: "trigger"
                        })
                }
                function V(a, b, c) {
                    ma = e.open({
                        windowClass: "console seven-contain pictures1",
                        templateUrl: "scene/console/imageCrop.tpl.html",
                        controller: "imageCropCtrl",
                        backdrop: "static",
                        resolve: {
                            obj: function() {
                                return a
                            }
                        }
                    }).result.then(function(a) {
                            ma = null,
                                "function" == typeof b && b(a)
                        },
                        function(a) {
                            ma = null,
                                "function" == typeof c && c(a)
                        })
                }
                function W() {
                    $(".content").trigger("mousedown"),
                        da.currentElemDef = null,
                        d.$broadcast("showStylePanel", {
                            activeTab: "trigger"
                        })
                }
                function X(a) {
                    a.sceneId = fa.obj.sceneId,
                        e.open({
                            windowClass: "console six-contain",
                            templateUrl: "scene/console/link.tpl.html",
                            controller: "LinkConsoleCtrl",
                            resolve: {
                                obj: function() {
                                    return a
                                }
                            }
                        }).result.then(function(b) {
                                b && "http://" != b ? (isNaN(b) ? a.properties.url = PREFIX_S1_URL + "eqs/link?id=" + a.sceneId + "&url=" + encodeURIComponent(b) : a.properties.url = b, $("#inside_" + a.id).find(".fa-link").removeClass("fa-link").addClass("fa-anchor")) : (delete a.properties.url, $("#inside_" + a.id).find(".fa-anchor").removeClass("fa-anchor").addClass("fa-link"))
                            })
                }
                function Y(a, b) {
                    var c = $(".element", a)[0];
                    $(c).mousedown(function(a) {
                        $(this).parents("li").hasClass("inside-active") && a.stopPropagation()
                    }),
                        $(c).bind("contextmenu",
                            function(a) {
                                $(this).parents("li").hasClass("inside-active") ? a.stopPropagation() : $(this).blur()
                            }),
                        $(c).bind("dblclick",
                            function(a) {
                                return $("#nr").find(".mask-trigger").length ? !1 : (y(c, b), $("#popMenu").hide(), void a.stopPropagation())
                            }),
                        $(c).bind("keydown",
                            function(a) {
                                a.stopPropagation()
                            })
                }
                var Z, _, aa, ba, ca, da = {},
                    ea = eqShow.templateParser("jsonParser"),
                    fa = null,
                    ga = null,
                    ha = {},
                    ia = ($("#nr .edit_area"), 0),
                    ja = !1;
                da.historyBack = function() {
                    i.canBack(fa.obj.id) && (ga = i.back(fa.obj.id), r(ga), q(ga))
                },
                    da.historyForward = function() {
                        i.canForward(fa.obj.id) && (ga = i.forward(fa.obj.id), r(ga), q(ga))
                    };
                var ka = da.createCompGroup = function(a, b) {
                        for (var c = x(a), e = 0; e < c.length; e++) {
                            var f = v(c[e].type, b, c[e]);
                            b = b ? {
                                left: b.left,
                                top: parseInt(b.top, 10) + 50 + "px"
                            }: {
                                left: "60px",
                                top: "150px"
                            },
                                w(c[e].type, f, !0)
                        }
                        i.addPageHistory(fa.obj.id, fa.obj.elements),
                            d.$broadcast("dom.changed")
                    },
                    la = function(a, b) {
                        var c;
                        return "501" == a && (c = {
                            properties: {
                                placeholder: n.instant("common.scene.NAME")
                            },
                            title: n.instant("common.scene.NAME"),
                            type: 501
                        }),
                            "502" == a && (c = {
                            properties: {
                                placeholder: n.instant("common.scene.MOBILE")
                            },
                            title: n.instant("common.scene.MOBILE"),
                            type: 502
                        }),
                            "503" == a && (c = {
                            properties: {
                                placeholder: n.instant("common.scene.EMAIL")
                            },
                            title: n.instant("common.scene.EMAIL"),
                            type: 503
                        }),
                            "601" == a && (c = {
                            properties: {
                                title: n.instant("common.scene.COMMIT")
                            },
                            type: 601
                        }),
                            c
                    };
                da.createComp = function(b, c, d) {
                    var e;
                    if ("g" == ("" + b).charAt(0)) return void ka(b, c);
                    if ("9" == ("" + b).charAt(0)) return void L(e, 2);
                    if (e = v(b, c), 4 == b) return void z(e);
                    if ("h" == b) return void A(e);
                    if (5 == b) return void D(e);
                    if (6 == b) return void B(e);
                    if (8 == b) return void C(e);
                    if ("p" == b) return void K(e);
                    if ("v" == b) return void O(e);
                    if (3 == b) return void P(e);
                    if ("r" == b || "c" == b) return void E(e);
                    if ("a" == b) return void F(e);
                    if ("i" == b) return d && (e.properties.icon = d),
                        void G(e);
                    if ("d" == b) return d && (e.properties.icon = d),
                        void H(e);
                    if ("l" == b) return void I(e);
                    if ("s" == b) return void J(e);
                    if ("n" == b) return void Q(e);
                    if (2 == b || "x" == b) {
                        var f = w(b, e);
                        $(".element", f).trigger("dblclick").focus(),
                            setTimeout(function() {
                                if (a.getSelection) {
                                    var b = a.getSelection();
                                    b.modify("move", "left", "line"),
                                        b.modify("extend", "right", "line")
                                }
                            })
                    } else w(b, e)
                },
                    da.updateCompPosition = function(a, b, c) {
                        for (var e = 0; e < ga.length; e++)"inside_" + ga[e].id == a && (ga[e].css ? (ga[e].css.left = b.left, ga[e].css.top = b.top, c || i.addPageHistory(fa.obj.id, ga)) : (ga[e].css = b, c || i.addPageHistory(fa.obj.id, ga)));
                        d.$$phase || d.$apply()
                    },
                    da.updateCompAngle = function(a, b) {
                        for (var c = 0; c < ga.length; c++)"inside_" + ga[c].id == a && (ga[c].css ? ga[c].css.transform = "rotateZ(" + b + "deg)": ga[c].css = {},
                            i.addPageHistory(fa.obj.id, ga));
                        d.$apply()
                    },
                    da.setCopy = function(a) {
                        ja = a,
                            d.$broadcast("copyState.update", a)
                    },
                    da.getCopy = function() {
                        return ja
                    },
                    da.getPageNames = function(a) {
                        var b = "m/scene/pageList/" + a + "?date=" + (new Date).getTime();
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + b
                        })
                    },
                    da.changePageSort = function(a, b) {
                        var d = "m/scene/pageSort?id=" + b + "&pos=" + a + "&date=" + (new Date).getTime();
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + d
                        })
                    },
                    da.updateCompSize = function(a, b, c) {
                        for (var e = 0; e < ga.length; e++)"inside_" + ga[e].id == a && (ga[e].css || (ga[e].css = {}), ga[e].css.width = b.width, ga[e].css.height = b.height, b.lineHeight && (ga[e].css.lineHeight = b.lineHeight), ga[e].css.top = b.top, ga[e].css.left = b.left, ga[e].properties.width = b.width, ga[e].properties.height = b.height, b.imgStyle && (ga[e].properties.imgStyle = b.imgStyle), c || i.addPageHistory(fa.obj.id, ga));
                        d.$$phase || d.$apply()
                    },
                    da.savePageNames = function(a) {
                        var b = "m/scene/savePage",
                            d = {
                                id: a.id,
                                sceneId: a.sceneId,
                                name: a.name
                            };
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + b,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(d)
                        })
                    },
                    da.resetCss = function() {
                        $("#nr .edit_area li").each(function(a, b) {
                            var c = ha[b.id.replace(/inside_/g, "")];
                            c && (c.css || (c.css = {}), c.css.zIndex = a)
                        })
                    },
                    da.copyElement = function() {
                        ia = 0,
                            ca = fa.obj.id;
                        var a = j.getElements(),
                            c = [];
                        $.each(a,
                            function(a, b) {
                                c.push(ha[b])
                            }),
                            aa = b.copy(c),
                            ba = b.copy(c),
                            da.setCopy(!0)
                    },
                    da.isCurrentPageSubmitButtonAlreadyExist = function() {
                        var a = !1;
                        return b.forEach(fa.obj.elements,
                            function(b) {
                                6 == ("" + b.type).charAt(0) && (a = !0)
                            }),
                            a
                    },
                    da.pasteElement = function() {
                        for (var a = 0,
                                 c = [], e = da.isCurrentPageSubmitButtonAlreadyExist(), f = 0; f < aa.length; f++) if (6 !== aa[f].type && 601 !== aa[f].type || !e) {
                            aa[f].pageId = fa.obj.id,
                                aa[f].id = u(),
                                    ca == aa[f].pageId ? (a++, t(ba[f], aa[f], a, aa.length)) : (ia = 0, aa[f].css = b.copy(ba[f].css));
                            var g = b.copy(aa[f]);
                            ga.push(g),
                                ha[g.id] = g,
                                c.push(w(g.type, g, !0))
                        }
                        ca = fa.obj.id,
                            i.addPageHistory(fa.obj.id, fa.obj.elements),
                            d.$broadcast("dom.changed"),
                            b.forEach(j.getElements(),
                                function(a) {
                                    $("#inside_" + a).children(".bar").hide()
                                }),
                            j.clearElements(),
                            $.each(c,
                                function(a, b) {
                                    b.children(".bar").show(),
                                        j.addElement(b.attr("id").split("_")[1])
                                })
                    },
                    da.openCropModal = function(a, b, c) {
                        V(a, b, c)
                    },
                    da.replaceBgImage = function(a, b, c) {
                        var e = a;
                        b.style.backgroundImage = "url(" + PREFIX_FILE_HOST + e + ")",
                            c.properties.bgColor = null,
                            c.properties.imgSrc = e,
                            d.$broadcast("show.edit.bg")
                    };
                var ma = null;
                utilTrigger.getSendType(),
                    utilTrigger.getHandleType();
                return da.openTriggerMode = W,
                    ea.addInterceptor(function(a, b, c) {
                        function e() {
                            var c = $('<ul id="popMenu" class="dropdown-menu" style="min-width: 150px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="edit" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-write"></div>编辑</a></li><li class="style" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-type"></div>样式</a></li><li class="animation" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-move"></div>动画</a></li><li class="sound" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-music"></div>音效</a></li><li class="trigger" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-chufa"></div>触发</a></li><li class="link" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-link2"></div>链接</a></li><li class="copy" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-copy"></div>复制</a></li><li class="cut" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-cut"></div>裁切</a></li><li role="presentation" class="bottom_bar"><a title="' + n.instant("common.scene.TOP") + '"><div class="eqf-top3 up-all"></div></a><a title="' + n.instant("common.scene.MOVE_UP") + '"><div class="eqf-up3 up"></div></a><a title="' + n.instant("common.scene.MOVE_DOWN") + '"><div class="eqf-down3 down"></div></a><a title="' + n.instant("common.scene.BOTTOM") + '"><div class="eqf-under down-all"></div></a><a title="' + n.instant("common.scene.DELETE") + '"><div class="eqf-delete remove"></div></a></li></ul>').css({
                                position: "absolute",
                                "user-select": "none"
                            });
                            return ja && c.find(".copy").after($('<li class="paste" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-print"></div>粘贴</a></li>')),
                                c.find(".edit").click(function(d) {
                                    switch (d.stopPropagation(), b.type.toString().charAt(0)) {
                                        case "1":
                                            break;
                                        case "2":
                                            y(a.find(".element").get(0), b);
                                            break;
                                        case "x":
                                            y(a.find(".element").get(0), b);
                                            break;
                                        case "3":
                                            break;
                                        case "4":
                                            z(b);
                                            break;
                                        case "h":
                                            A(b);
                                            break;
                                        case "5":
                                            D(b);
                                            break;
                                        case "6":
                                            B(b);
                                            break;
                                        case "7":
                                            break;
                                        case "8":
                                            C(b);
                                            break;
                                        case "9":
                                            break;
                                        case "g":
                                            break;
                                        case "p":
                                            K(b);
                                            break;
                                        case "v":
                                            O(b);
                                            break;
                                        case "r":
                                        case "c":
                                            E(b);
                                            break;
                                        case "a":
                                            F(b);
                                            break;
                                        case "l":
                                            I(b);
                                            break;
                                        case "s":
                                            J(b);
                                            break;
                                        case "i":
                                            G(b);
                                            break;
                                        case "d":
                                            H(b);
                                            break;
                                        case "n":
                                            Q(b)
                                    }
                                    c.hide()
                                }),
                                c.find(".style").click(function(d) {
                                    d.stopPropagation(),
                                        S(b,
                                            function(c) {
                                                if (1 == b.type) for (var d in b.properties.labels) c.backgroundColor && (b.properties.labels[d].color.backgroundColor = c.backgroundColor, $(".label_content").css("background-color", c.backgroundColor)),
                                                    c.color && (b.properties.labels[d].color.color = c.color, $(".label_content").css("color", c.color));
                                                else $(".element-box", a).css(c),
                                                    $.extend(!0, b.css, c)
                                            }),
                                        c.hide()
                                }),
                                c.find(".animation").click(function(a) {
                                    a.stopPropagation(),
                                        T(b,
                                            function(a) {
                                                b.properties.anim = a
                                            }),
                                        c.hide()
                                }),
                                c.find(".link").click(function(a) {
                                    a.stopPropagation(),
                                        X(b),
                                        c.hide()
                                }),
                                c.find(".remove").click(function(a) {
                                    a.stopPropagation(),
                                        d.$broadcast("element.delete")
                                }),
                                c.find(".sound").click(function(a) {
                                    a.stopPropagation(),
                                        M(b, 4),
                                        c.hide()
                                }),
                                c.find(".trigger").click(function(a) {
                                    a.stopPropagation();
                                    var d = utilTrigger.getHandleType();
                                    $.each(d,
                                        function(a, c) {
                                            m.getSendIds(c.value, b.id)
                                        }),
                                        U(b,
                                            function(a) {
                                                b.properties.trigger = a
                                            }),
                                        c.hide()
                                }),
                                c.find(".down").click(function(b) {
                                    var c = a.prev();
                                    if (! (c.length <= 0)) {
                                        var d = a.css("zIndex");
                                        a.css("zIndex", c.css("zIndex")),
                                            c.css("zIndex", d),
                                            c.before(a)
                                    }
                                }),
                                c.find(".up").click(function(b) {
                                    var c = a.next();
                                    if (! (c.length <= 0)) {
                                        var d = a.css("zIndex");
                                        a.css("zIndex", c.css("zIndex")),
                                            c.css("zIndex", d),
                                            c.after(a)
                                    }
                                }),
                                c.find(".up-all").click(function(b) {
                                    var c = a.siblings("li"),
                                        d = c.last();
                                    d.after(a),
                                        a.css("zIndex", c.length + 1),
                                        c.each(function(a, b) {
                                            $(b).css("zIndex", a + 1)
                                        })
                                }),
                                c.find(".down-all").click(function(b) {
                                    var c = a.siblings("li"),
                                        d = c.first();
                                    d.before(a),
                                        a.css("zIndex", 1),
                                        c.each(function(a, b) {
                                            $(b).css("zIndex", a + 2)
                                        })
                                }),
                                c.find(".copy").click(function(a) {
                                    a.stopPropagation(),
                                        $(".modal-dialog")[0] || da.copyElement(),
                                        c.hide()
                                }),
                                c.find(".paste").click(function(a) {
                                    a.stopPropagation(),
                                        $(".modal-dialog")[0] || da.pasteElement(),
                                        c.hide()
                                }),
                                c.find(".cut").click(function(a) {
                                    a.stopPropagation(),
                                        V(b,
                                            function() {
                                                i.addPageHistory(fa.obj.id, fa.obj.elements)
                                            }),
                                        c.hide()
                                }),
                                2 != b.type && 4 != b.type && "h" != b.type && "x" != b.type && c.find(".trigger").hide(),
                                2 != b.type && 4 != b.type && 5 != b.type && "h" != b.type && "x" != b.type && 501 != b.type && 502 != b.type && 503 != b.type && c.find(".sound").hide(),
                                g.isAllowToAccess(g.accessDef.SCENE_EDIT_TRIGGER) || c.find(".trigger").hide(),
                                g.isAllowToAccess(g.accessDef.SCENE_EDIT_SOUND) || c.find(".sound").hide(),
                                4 != b.type && "h" != b.type && "x" != b.type && c.find(".link").hide(),
                                4 != b.type && c.find(".cut").hide(),
                                "p" == b.type && (c.find(".animation").hide(), c.find(".style").hide()),
                                (6 == b.type || 601 == b.type) && c.find(".copy").hide(),
                                c
                        }
                        if ("view" != c) {
                            b.trigger && m.setTrigger(b.id, b.trigger);
                            var f = $("#eq_main");
                            b.sound && $('<div class="sound eqf-music">').click(function() {
                                M(b)
                            }).appendTo(a),
                                a.on("click contextmenu", ".element-box",
                                    function(c) {
                                        function g(a, b) {
                                            $("#" + b).remove(),
                                                a.css({
                                                    left: c.pageX + f.scrollLeft() + 15,
                                                    top: c.pageY + f.scrollTop(),
                                                    zIndex: 10001
                                                }).appendTo(f),
                                                f.mousemove(function(c) {
                                                    a = $("#" + b),
                                                        (c.pageX < a.offset().left - 20 || c.pageX > a.offset().left + a.width() + 20 || c.pageY < a.offset().top - 20 || c.pageY > a.offset().top + a.height() + 20) && (a.hide(), $(this).unbind("mousemove"))
                                                })
                                        }
                                        if (c.stopPropagation(), "none" != $(".select-panel").css("display")) return ! 1;
                                        if ($("#nr").find(".mask-trigger").length) {
                                            if (da.currentElemDef && d.$broadcast("create.trigger.menu", a, c), !$(".edit_area").find(".switch-original").length) {
                                                var h = $('<div class="switch">');
                                                a.append(h).children(".bar").hide()
                                            }
                                            return ! 1
                                        }
                                        $("#comp_setting:visible").length > 0 && "p" != b.type && (da.currentElemDef = b, d.$broadcast("showStylePanel"));
                                        var i = e();
                                        return g(i, "popMenu"),
                                            !1
                                    }),
                                a.attr("title", n.instant("common.scene.EMAIL_TIP2"))
                        }
                    }),
                    ea.bindEditEvent("2",
                        function(a, b) {
                            Y(a, b)
                        }),
                    ea.bindEditEvent("x",
                        function(a, b) {
                            Y(a, b)
                        }),
                    ea.bindEditEvent("3",
                        function(a, b) {}),
                    ea.bindEditEvent("v",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        O(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("4",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        return $("#nr").find(".mask-trigger").length ? !1 : (z(b), void $("#popMenu").hide())
                                    })
                        }),
                    ea.bindEditEvent("n",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).bind("dblclick",
                                function() {
                                    return $("#nr").find(".mask-trigger").length ? !1 : (Q(b), void $("#popMenu").hide())
                                })
                        }),
                    ea.bindEditEvent("h",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        return $("#nr").find(".mask-trigger").length ? !1 : (A(b), void $("#popMenu").hide())
                                    })
                        }),
                    ea.bindEditEvent("5",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        D(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("r",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        E(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("c",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        E(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("a",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        F(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("p",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        K(b),
                                            $("#popMenu").hide()
                                    }),
                                k.setProperties(b.properties)
                        }),
                    ea.bindEditEvent("6",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        B(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("8",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        C(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("l",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        I(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("s",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        J(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("i",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        G(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("d",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            $(c).unbind("dblclick"),
                                $(c).bind("dblclick",
                                    function() {
                                        H(b),
                                            $("#popMenu").hide()
                                    })
                        }),
                    ea.bindEditEvent("7",
                        function(a, b) {
                            var c = $(".element", a)[0];
                            c.addEventListener("click",
                                function(a) {
                                    ma || e.open({
                                        windowClass: "",
                                        templateUrl: "scene/console/map.tpl.html",
                                        controller: "MapConsoleCtrl"
                                    }).result.then(function(a) {
                                            var c = new BMap.Map("map_" + b.id);
                                            c.clearOverlays();
                                            var d = new BMap.Point(a.lng, a.lat),
                                                e = new BMap.Marker(d);
                                            c.addOverlay(e);
                                            var f = new BMap.Label(a.address, {
                                                offset: new BMap.Size(20, -10)
                                            });
                                            e.setLabel(f),
                                                c.centerAndZoom(d, 12),
                                                b.properties.pointX = a.lng,
                                                b.properties.pointY = a.lat,
                                                b.properties.x = a.lng,
                                                b.properties.y = a.lat,
                                                b.properties.markTitle = a.address
                                        })
                                })
                        }),
                    da.templateEditor = ea,
                    da.getTplById = function(a) {
                        var b = "m/scene/select?id=" + a,
                            d = new Date;
                        return b += "&time=" + d.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + b
                            })
                    },
                    da.createByTpl = function(a) {
                        var b = PREFIX_URL + "m/scene/createByTpl";
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: b,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(a)
                        })
                    },
                    da.getSceneDetail = function(a, b) {
                        var d = "m/scene/detail/" + a;
                        return b && (d += (/\?/.test(d) ? "&": "?") + "user=" + b),
                            _ = c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + d
                            }),
                            Z = null,
                            _.then(function(a) {
                                Z = a.data.obj
                            }),
                            _
                    },
                    da.getCurrentScene = function() {
                        return Z
                    },
                    da.getCurrentScenePromise = function() {
                        return _
                    },
                    da.saveSceneSettings = function(a) {
                        a = b.copy(a),
                            b.isObject(a.bgAudio) && (a.bgAudio = JSON.stringify(a.bgAudio)),
                            a.image = null;
                        var d = "m/scene/saveSettings";
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + d,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            },
                            data: JSON.stringify(a)
                        })
                    },
                    da.publishScene = function(a) {
                        var b = "m/scene/publish?id=" + a,
                            d = new Date;
                        return b += "&time=" + d.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + b
                            })
                    },
                    da.closeScene = function(a) {
                        var b = "/m/scene/off?id=" + a,
                            d = new Date;
                        return b += "&time=" + d.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + b
                            })
                    },
                    da.openScene = function(a) {
                        var b = "/m/scene/on?id=" + a,
                            d = new Date;
                        return b += "&time=" + d.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + b
                            })
                    },
                    da.createBlankScene = function(a, b, d) {
                        var e = {
                                name: a,
                                type: b,
                                pageMode: d
                            },
                            f = "m/scene/create";
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + f,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(e)
                        })
                    },
                    da.copySceneById = function(a) {
                        var b = "m/scene/copyScene?id=" + a;
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + b
                        })
                    },
                    da.deleteSceneById = function(a, b) {
                        var d = "m/scene/delete?id=" + a;
                        return b && (d += "&backup=" + b),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + d
                            })
                    },
                    da.getCoverImages = function() {
                        var a = "m/base/file/list?bizType=99&fileType=1&time=" + (new Date).getTime();
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + a
                        })
                    },
                    da.revoke = function(a) {
                        var b = "m/scene/revoke?id=" + a + "&time=" + (new Date).getTime();
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + b
                        })
                    },
                    da.getSceneByPage = function(a, b, d) {
                        var e = "";
                        b || d ? (e = "m/scene/createPage/" + a, d && (e += "?copy=true")) : e = "m/scene/design/" + a;
                        var g = f.defer(),
                            h = new Date;
                        return e += (/\?/.test(e) ? "&": "?") + "time=" + h.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + e
                            }).then(function(a) {
                                    g.resolve(a),
                                        fa = a.data,
                                        fa.obj.elements || (fa.obj.elements = []),
                                        ga = fa.obj.elements;
                                    for (var b = 0; ga && b < ga.length; b++) ha[ga[b].id] = ga[b]
                                },
                                function(a) {
                                    g.reject(a)
                                }),
                            g.promise
                    },
                    da.previewSceneTpl = function(a) {
                        var b = "m/scene/pageTpl/" + a,
                            d = (f.defer(), new Date);
                        return b += (/\?/.test(b) ? "&": "?") + "time=" + d.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + b
                            })
                    },
                    da.recordTplUsage = function(a) {
                        var b = "m/scene/usePageTpl?id=" + a;
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + b
                        })
                    },
                    da.getSceneTpl = function(a) {
                        var b = h.get("tplCache") ? h.get("tplCache") : h("tplCache"),
                            d = f.defer();
                        if (b.get(a)) {
                            var e = $.extend(!0, {},
                                b.get(a));
                            e.data.obj.scene && e.data.obj.scene.bgAudio && (Z.bgAudio = e.data.obj.scene.bgAudio);
                            for (var g = 0; g < e.data.obj.elements.length; g++) {
                                var i = e.data.obj.elements[g];
                                i.id = u(),
                                    i.sceneId = fa.obj.sceneId,
                                    i.pageId = fa.obj.id
                            }
                            ga = e.data.obj.elements;
                            for (var j = 0; j < ga.length; j++) ha[ga[j].id] = ga[j];
                            d.resolve(e)
                        } else {
                            var k = "m/scene/pageTpl/" + a,
                                l = new Date;
                            k += (/\?/.test(k) ? "&": "?") + "time=" + l.getTime(),
                                c({
                                    withCredentials: !0,
                                    method: "GET",
                                    url: PREFIX_URL + k
                                }).then(function(a) {
                                        b.put(a.data.obj.id, $.extend(!0, {},
                                            a)),
                                            a.data.obj.scene && a.data.obj.scene.bgAudio && (Z.bgAudio = a.data.obj.scene.bgAudio);
                                        for (var c = 0; c < a.data.obj.elements.length; c++) {
                                            var e = a.data.obj.elements[c];
                                            e.id = u(),
                                                e.sceneId = fa.obj.sceneId,
                                                e.pageId = fa.obj.id
                                        }
                                        ga = a.data.obj.elements;
                                        for (var f = 0; f < ga.length; f++) ha[ga[f].id] = ga[f];
                                        d.resolve(a)
                                    },
                                    function(a) {
                                        d.reject(a)
                                    })
                        }
                        return d.promise
                    },
                    da.saveScene = function(a) {
                        var b = "m/scene/save";
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + b,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            },
                            data: JSON.stringify(a)
                        })
                    },
                    da.deletePage = function(a) {
                        var b = "m/scene/delPage/" + a;
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + b
                        })
                    },
                    da.getBgImages = function(a) {
                        var b = "m/scene/gallery/" + a,
                            d = new Date;
                        return b += (/\?/.test(b) ? "&": "?") + "time=" + d.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + b
                            })
                    },
                    da.createCustomComp = la,
                    da.openAudioModal = L,
                    da.openBgModal = P,
                    da.getElements = function() {
                        return ga
                    },
                    da.getElementsMap = function() {
                        return ha
                    },
                    da.deleteElement = p,
                    da.getSceneObj = function() {
                        return fa
                    },
                    da.getTpls = function(a, b, d, e) {
                        var f = "m/scene/listTpl";
                        null != a && (f += (/\?/.test(f) ? "&": "?") + "sceneType=" + a),
                            f += (/\?/.test(f) ? "&": "?") + "pageNo=" + (b ? b: 1),
                            f += (/\?/.test(f) ? "&": "?") + "pageSize=" + (d ? d: 12),
                            e && (f += (/\?/.test(f) ? "&": "?") + "orderBy=" + e);
                        var g = new Date;
                        return f += (/\?/.test(f) ? "&": "?") + "time=" + g.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + f
                            })
                    },
                    da.getSceneType = function() {
                        var a = "base/class/scene_type";
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + a
                        })
                    },
                    da.getCompanyTpls = function(a, b) {
                        var d = "/m/scene/tpl/company/list?pageNo=" + a + "&pageSize=" + b;
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + d
                        })
                    },
                    da.createCompanyTpls = function(a) {
                        var b = "/m/scene/tpl/company/set?id=" + a;
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + b
                        })
                    },
                    da.clearCompanyTpls = function(a) {
                        var b = "/m/scene/tpl/company/unset?id=" + a;
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + b
                        })
                    },
                    da.getPageTpls = function(a, b, d, e, f, g, h) {
                        var i = "/m/scene/tpl/scene/list";
                        a && (i += (/\?/.test(i) ? "&": "?") + "tplType=1"),
                            b && (i += (/\?/.test(i) ? "&": "?") + "bizType=" + b),
                            d && (i += (/\?/.test(i) ? "&": "?") + "tagId=" + d),
                            g && (i += (/\?/.test(i) ? "&": "?") + "orderBy=" + g),
                            h && (i += (/\?/.test(i) ? "&": "?") + h);
                        var j = new Date;
                        return i += (/\?/.test(i) ? "&": "?") + "pageNo=" + (e ? e: 1),
                            i += (/\?/.test(i) ? "&": "?") + "pageSize=" + (f ? f: 12),
                            i += (/\?/.test(i) ? "&": "?") + "time=" + j.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + i
                            })
                    },
                    da.getPageTplTypesTwo = function(a, b) {
                        var d = "/m/scene/tag/sys/list?type=2&bizType=" + b,
                            e = new Date;
                        return d += (/\?/.test(d) ? "&": "?") + "time=" + e.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + d
                            })
                    },
                    da.saveMyTpl = function(a) {
                        var b = "m/scene/page/mytpl/save";
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + b,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            },
                            data: JSON.stringify(a)
                        })
                    },
                    da.saveCompanyTpl = function(a) {
                        var b = "m/scene/page/companytpl/save";
                        return c({
                            withCredentials: !0,
                            method: "POST",
                            url: PREFIX_URL + b,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            },
                            data: JSON.stringify(a)
                        })
                    },
                    da.previewScene = function(a) {
                        var b = "/m/scene/page/custom/list/?id=" + a,
                            d = new Date;
                        b += (/\?/.test(b) ? "&": "?") + "time=" + d.getTime();
                        var e = f.defer();
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + b
                        }).then(function(a) {
                            for (var b = h.get("tplCache") ? h.get("tplCache") : h("tplCache"), c = 0; c < a.data.list.length; c++) {
                                var d = {
                                    data: {
                                        obj: {
                                            elements: a.data.list[c].elements,
                                            scene: a.data.obj
                                        }
                                    }
                                };
                                b.put(a.data.list[c].id, $.extend(!0, {},
                                    d))
                            }
                            e.resolve(a)
                        }),
                            e.promise
                    },
                    da.transferScene = function(a, b) {
                        var d = PREFIX_URL + "m/scene/transfer";
                        return d += "?loginName=" + b,
                            d += "&id=" + a,
                            d += "&time=" + (new Date).getTime(),
                            c({
                                withCredentials: !0,
                                method: "POST",
                                url: d
                            })
                    },
                    da.getActivities = function() {
                        var a = PREFIX_S1_URL + "eqs/activity?all=1";
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: a
                        })
                    },
                    da.getSceneTemplatePrices = function() {
                        var a = PREFIX_URL + "base/class/scene_template_prices";
                        return c({
                            withCredentials: !0,
                            method: "GET",
                            url: a
                        })
                    },
                    da.soundLink = function(a, b) {
                        var d = "m/base/file/link/save?url=" + a + "&fileType=" + b,
                            e = new Date;
                        return d += "&time=" + e.getTime(),
                            c({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + d
                            })
                    },
                    da
            }]),
        b.module("services.select", []).factory("selectService", ["$rootScope",
            function(a) {
                var b = {},
                    c = [];
                return b.addElement = function(b) {
                    b += "",
                        c.indexOf(b) >= 0 || (c.push(b), c.length > 1 && a.$broadcast("select.more"))
                },
                    b.deleteElement = function(b) {
                        a.$broadcast("select.less.id", b);
                        var d = c.indexOf(b + "");
                        0 > d || (c.splice(d, 1), c.length <= 1 && a.$broadcast("select.less"))
                    },
                    b.clearElements = function() {
                        a.$broadcast("select.less", c),
                            c = []
                    },
                    b.getElements = function() {
                        return c
                    },
                    b
            }]),
        b.module("services.spread", ["services.scene"]),
        b.module("services.spread").factory("SpreadService", ["$http", "sceneService", "$rootScope",
            function(a, b, c) {
                var d = {},
                    e = function(a) {
                        var b = new Date;
                        return b.setDate(b.getDate() + a),
                            b.setHours(0),
                            b.setMinutes(0),
                            b.setSeconds(0),
                            b.setMilliseconds(0),
                            b.getTime()
                    };
                d.getDataBySceneId = function(b, c, d, e, f, g, h) {
                    var i = "m/scene/stat?id=" + b;
                    g && (i += (/\?/.test(i) ? "&": "?") + "user=" + g),
                        h && (i += (/\?/.test(i) ? "&": "?") + "extId=" + h),
                        c && (i += "&startDate=" + c),
                        d && (i += "&endDate=" + d),
                        e && (i += "&pageSize=" + e),
                        f && (i += "&pageNo=" + f);
                    var j = new Date;
                    return i += "&time=" + j.getTime(),
                        a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + i
                        })
                },
                    d.getDevice = function(b, c, d) {
                        var e = "m/scene/pv/device?id=" + b;
                        c && (e += "&startDate=" + c),
                            d && (e += "&endDate=" + d);
                        var f = new Date;
                        return e += "&time=" + f.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + e
                            })
                    },
                    d.getDevicePv = function(a, b, f) {
                        var g = e(b),
                            h = e(f);
                        d.getDevice(a, g, h).then(function(b) {
                                c.$broadcast("scene.device", b.data.obj, a, g, h)
                            },
                            function() {})
                    },
                    d.getActivities = function() {
                        var b = new Date;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + "m/u/promotion/list?type=pc&time=" + b.getTime()
                        })
                    },
                    d.getActivityDetail = function(b) {
                        var c = new Date;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: PREFIX_URL + "m/u/promotion?code=" + b + "&time=" + c.getTime()
                        })
                    },
                    d.updateName = function(b) {
                        var c = PREFIX_URL + "m/scene/expand/save";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    };
                c.branchid;
                return d.getSceneDetail = function(a, d) {
                    b.getSceneDetail(a, d).then(function(a) {
                            c.$broadcast("scene.detail", a.data.obj, d)
                        },
                        function() {})
                },
                    d.getSceneData = function(a, b, f, g, h) {
                        var i = e(b),
                            j = e(f),
                            k = f - b;
                        d.getDataBySceneId(a, i, j, k, 0, g, h).then(function(b) {
                                c.$broadcast("scene.data", b.data.list, a, i, j, g)
                            },
                            function() {})
                    },
                    d.expandWebs = [],
                    d.getWebList = function(b, e, f) {
                        var g = "m/scene/expand/list";
                        b && (g += (/\?/.test(g) ? "&": "?") + "id=" + b),
                            f && (g += (/\?/.test(g) ? "&": "?") + "user=" + f),
                            g += (/\?/.test(g) ? "&": "?") + "time=" + (new Date).getTime(),
                            g += (/\?/.test(g) ? "&": "?") + "showPv=" + e,
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: PREFIX_URL + g
                            }).then(function(a) {
                                    a.data.success && (d.expandWebs = a.data.list, c.$broadcast("webs.update"))
                                },
                                function(a) {})
                    },
                    d.deleteWeb = function(b) {
                        var e = PREFIX_URL + "m/scene/expand/delete";
                        a({
                            withCredentials: !0,
                            method: "POST",
                            url: e,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        }).then(function(a) {
                                a.data.success && (d.expandWebs.splice(b.index, 1), c.$broadcast("webs.update"))
                            },
                            function(a) {})
                    },
                    d.queryRegion = function(b, d) {
                        var e = PREFIX_URL + "m/scene/pv/region?id=" + b + "&startDate=" + d,
                            f = {
                                id: b,
                                startDate: d
                            };
                        a({
                            withCredentials: !0,
                            method: "GET",
                            url: e,
                            data: $.param(f)
                        }).then(function(a) {
                            a.data.success && c.$broadcast("region.update", a.data.obj)
                        })
                    },
                    d
            }]),
        b.module("services.file.upload", ["angularFileUpload", "services.file"]).factory("uploaderService", ["$rootScope", "$http", "$interval", "FileUploader", "fileService", "$translate",
            function(a, b, c, d, e, f) {
                var g, h = {};
                return h.uploader = function(b, e) {
                    var h = 6; (2 == b || 4 == b) && (g = PREFIX_URL + "m/base/file/upload?bizType=0&fileType=" + b);
                    var i, j = new d({
                            url: g,
                            withCredentials: !0,
                            queueLimit: h,
                            onAfterAddingAll: function(b) {
                                a.$broadcast("uploadfiles.add"),
                                    j.uploadAll()
                            },
                            onSuccessItem: function(d, e, f, g) {
                                function h() {
                                    c.cancel(i)
                                }
                                var i = c(function() {
                                        var c = null;
                                        d.progress >= 100 && (c = 4 == b ? {
                                            id: e.obj.id,
                                            src: e.obj.path,
                                            name: e.obj.name,
                                            size: e.obj.size
                                        }: 2 == b ? {
                                            id: e.obj.id,
                                            url: e.obj.path,
                                            name: e.obj.name,
                                            size: e.obj.size
                                        }: {
                                            tmbPath: e.obj.tmbPath,
                                            id: e.obj.id,
                                            path: e.obj.path,
                                            name: e.obj.name
                                        },
                                            a.$broadcast("thumbnailList.update", c), h())
                                    },
                                    100)
                            }
                        }),
                        k = e || 3145728;
                    return "0" == b || "1" == b ? i = "|jpg|png|jpeg|bmp|gif|svg+xml|webp|": ("4" == b || "2" == b) && (i = "|wav|mp3|mpeg|"),
                        j.filters.push({
                            name: "imageFilter",
                            fn: function(a, b) {
                                var c = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
                                return - 1 !== i.indexOf(c)
                            }
                        }),
                        j.filters.push({
                            name: "imageSizeFilter",
                            fn: function(a, b) {
                                var c = a.size;
                                return c >= k && alert(f.instant("upload.SIZE_TIP1") + k / 1024 / 1024 + f.instant("upload.SIZE_TIP2")),
                                    k > c
                            }
                        }),
                        j.filters.push({
                            name: "fileNameFilter",
                            fn: function(a, b) {
                                return a.name.length > 50 && alert(f.instant("upload.NAME_LENGTH")),
                                    a.name.length <= 50
                            }
                        }),
                        j
                },
                    h
            }]),
        b.module("services.usercenter", []).factory("usercenterService", ["$http", "$rootScope",
            function(a, b) {
                var c = {};
                return c.getUserInfo = function() {
                    var b = PREFIX_URL + "m/u/info";
                    return b += "?time=" + (new Date).getTime(),
                        a({
                            withCredentials: !0,
                            method: "GET",
                            url: b
                        })
                },
                    c.getCompanyScale = function() {
                        var b = PREFIX_URL + "/base/class/company_scale";
                        return b += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.getCompanyIndustry = function() {
                        var b = PREFIX_URL + "/base/class/company_industry";
                        return b += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.getCompanyInfo = function() {
                        var b = PREFIX_URL + "m/u/company/info";
                        return b += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.saveCompanyInfo = function(b) {
                        var c = PREFIX_URL + "m/u/company/save";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.saveUserInfo = function(b) {
                        var c = PREFIX_URL + "m/u/save";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.getUserXd = function() {
                        var b = PREFIX_URL + "m/u/xd";
                        return b += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.getgiveXd = function(b) {
                        var c = PREFIX_URL + "m/u/giveXd";
                        return c += "?toUser=" + b.toUser,
                            c += "&xdCount=" + b.xdCount,
                            c += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: c
                            })
                    },
                    c.getXdlog = function(b, c) {
                        var d = PREFIX_URL + "m/u/xdlog?pageNo=" + b + "&pageSize=" + c;
                        return d += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: d
                            })
                    },
                    c.getXdStat = function() {
                        var b = PREFIX_URL + "m/u/xdStat";
                        return b += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.relAccount = function(b, c, d, e) {
                        var f = PREFIX_URL + "m/u/bind/email?loginName=" + c + "&loginPassword=" + d;
                        return e && (f += "&register=1"),
                            f += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: f,
                                headers: {
                                    "Content-Type": "text/plain; charset=UTF-8"
                                }
                            })
                    },
                    c.relEmail = function(b, c, d) {
                        var e = PREFIX_URL + "/m/u/bind/user/email?email=" + b + "&pass=" + c + "&resend=" + d;
                        return e += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: e,
                                headers: {
                                    "Content-Type": "text/plain; charset=UTF-8"
                                }
                            })
                    },
                    c.verifyEmail = function() {
                        var b = PREFIX_URL + "m/u/email/verify";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: b,
                            headers: {
                                "Content-Type": "text/plain; charset=UTF-8"
                            }
                        })
                    },
                    c.relMobile = function(b, c, d) {
                        var e = PREFIX_URL + "/m/u/phone/verify?phone=" + b + "&pass=" + c + "&code=" + d;
                        return e += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: e,
                                headers: {
                                    "Content-Type": "text/plain; charset=UTF-8"
                                }
                            })
                    },
                    c.relMobileCode = function(b) {
                        var c = PREFIX_URL + "/m/u/bind/user/phone?phone=" + b;
                        return c += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: c,
                                headers: {
                                    "Content-Type": "text/plain; charset=UTF-8"
                                }
                            })
                    },
                    c.companyMobile = function(b) {
                        var c = PREFIX_URL + "m/u/company/smscode/send?phone=" + b;
                        return c += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: c,
                                headers: {
                                    "Content-Type": "text/plain; charset=UTF-8"
                                }
                            })
                    },
                    c.setRead = function(b) {
                        var c = PREFIX_URL + "m/u/markRead?ids=" + b;
                        return c += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: c,
                                headers: {
                                    "Content-Type": "text/plain; charset=UTF-8"
                                }
                            })
                    },
                    c.getNewMessage = function(b, c, d, e) {
                        var f = PREFIX_URL + "m/u/msgList?pageNo=" + b + "&pageSize=" + c;
                        return d && (f += "&unread=" + d),
                            e && (f += "&system=" + e),
                            f += "&time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: f
                            })
                    },
                    c.getBranches = function(b, c) {
                        var d = PREFIX_URL + "m/u/sub/list";
                        return b && (d += (/\?/.test(d) ? "&": "?") + "pageSize=" + b),
                            c && (d += (/\?/.test(d) ? "&": "?") + "pageNo=" + c),
                            d += (/\?/.test(d) ? "&": "?") + "time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: d
                            })
                    },
                    c.getDepts = function() {
                        var b = PREFIX_URL + "m/u/tag/list";
                        return b += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.addDept = function(b) {
                        var c = PREFIX_URL + "m/u/tag/create";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.updateBranch = function(b) {
                        var c = PREFIX_URL + "m/u/sub/save";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.createBranch = function(b) {
                        var c = PREFIX_URL + "m/u/sub/create";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.openBranch = function(b, c) {
                        var d = PREFIX_URL;
                        return d += c ? "m/u/sub/turnOn?id=" + b: "m/u/sub/turnOff?id=" + b,
                            a({
                                withCredentials: !0,
                                method: "POST",
                                url: d,
                                headers: {
                                    "Content-Type": "text/plain; charset=UTF-8"
                                }
                            })
                    },
                    c.getDomain = function() {
                        var b = PREFIX_URL + "m/u/domain";
                        return b += "?time=" + (new Date).getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.bindDomain = function(b) {
                        var c = PREFIX_URL + "m/u/domain/bind";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.resetBranchPass = function(c) {
                        var d = PREFIX_URL + "m/u/sub/pwd/reset",
                            e = {
                                id: c
                            };
                        a({
                            withCredentials: !0,
                            method: "POST",
                            url: d,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(e)
                        }).then(function(a) {
                                a.data.success && b.$broadcast("reset.branch.success")
                            },
                            function() {})
                    },
                    c.saveApplyInfo = function(b) {
                        var c = PREFIX_URL + "m/u/showker/apply";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.resetApplyInfo = function(b) {
                        var c = PREFIX_URL + "m/u/showker/modify";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c.getVisitorMsg = function() {
                        var b = PREFIX_URL + "m/u/showker/detail",
                            c = new Date;
                        return b += "?time=" + c.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: b
                            })
                    },
                    c.getAPPlyMessage = function(b) {
                        var c = PREFIX_S2_URL + "showker/tag?type=" + b;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: c
                        })
                    },
                    c.getUserScene = function(b) {
                        var c = PREFIX_S2_URL + "showker/scene?userId=" + b,
                            d = new Date;
                        return c += "&time=" + d.getTime(),
                            a({
                                withCredentials: !0,
                                method: "GET",
                                url: c
                            })
                    },
                    c.getUserStatus = function() {
                        var b = PREFIX_URL + "m/u/showker/status";
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: b
                        })
                    },
                    c.getCompanyQrCode = function(b, c) {
                        var d = PREFIX_URL + "m/u/pay/member/url?goodsId=" + b + "&type=" + c;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: d
                        })
                    },
                    c.getUserMemberDetail = function(b) {
                        var c = PREFIX_URL + "/m/u/member/detail?userId=" + b;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: c
                        })
                    },
                    c.getPayXdQrCode = function(b, c) {
                        var d = PREFIX_URL + "m/u/pay/xd/url?goodsId=" + b + "&type=" + c;
                        return a({
                            withCredentials: !0,
                            method: "GET",
                            url: d
                        })
                    },
                    c.sendEmail = function(b) {
                        var c = PREFIX_URL + "m/u/invite/user/email";
                        return a({
                            withCredentials: !0,
                            method: "POST",
                            url: c,
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                            },
                            data: $.param(b)
                        })
                    },
                    c
            }]),
        b.module("templates-app", ["about.tpl.html", "active/active.tpl.html", "active/tab/active1.tpl.html", "data/edit/canedit.tpl.html", "data/edit/canread.tpl.html", "data/editData.tpl.html", "dialog/bindemail.tpl.html", "dialog/confirm.tpl.html", "dialog/message.tpl.html", "error.tpl.html", "error/error.tpl.html", "footer.tpl.html", "header.tpl.html", "help.tpl.html", "home/home.tpl.html", "main/console/group.tpl.html", "main/console/transferscene.tpl.html", "main/customer.tpl.html", "main/main.tpl.html", "main/recSceneList.tpl.html", "main/spread.tpl.html", "main/spreadDetail.tpl.html", "main/squareSceneList.tpl.html", "main/tab/dataDetail.tpl.html", "main/tab/ercode.tpl.html", "main/tab/qrcode.tpl.html", "main/tab/sceneStatistics.tpl.html", "main/tab/spreadMethod.tpl.html", "main/userGuide.tpl.html", "my/myscene.tpl.html", "my/upload.tpl.html", "notifications.tpl.html", "reg/agreement.tpl.html", "reg/reg.tpl.html", "sample/sample.tpl.html", "scene/console.tpl.html", "scene/console/angle-knob.tpl.html", "scene/console/anim.tpl.html", "scene/console/audio.tpl.html", "scene/console/bg.tpl.html", "scene/console/button.tpl.html", "scene/console/category.tpl.html", "scene/console/counter.tpl.html", "scene/console/cropimage.tpl.html", "scene/console/fake.tpl.html", "scene/console/imageCrop.tpl.html", "scene/console/input.tpl.html", "scene/console/link-component.tpl.html", "scene/console/link.tpl.html", "scene/console/map.tpl.html", "scene/console/microweb.tpl.html", "scene/console/pictures.tpl.html", "scene/console/pictures1.tpl.html", "scene/console/radio-checkbox.tpl.html", "scene/console/randomevent.tpl.html", "scene/console/rating.tpl.html", "scene/console/scene-setting-component.tpl.html", "scene/console/setting.tpl.html", "scene/console/shape.tpl.html", "scene/console/sound-component.tpl.html", "scene/console/sound.tpl.html", "scene/console/soundLink.tpl.html", "scene/console/statistics-component.tpl.html", "scene/console/style.tpl.html", "scene/console/tel.tpl.html", "scene/console/trigger.tpl.html", "scene/console/triggerelemlist.tpl.html", "scene/console/video.tpl.html", "scene/create.tpl.html", "scene/createNew.tpl.html", "scene/createUserGuide.tpl.html", "scene/edit/editbg/editbg.tpl.html", "scene/edit/select/select.tpl.html", "scene/effect/falling.tpl.html", "scene/effect/snowfly.tpl.html", "scene/pageeffect/fall.tpl.html", "scene/pageeffect/finger.tpl.html", "scene/pageeffect/fireworks.tpl.html", "scene/pageeffect/money.tpl.html", "scene/pageeffect/none.tpl.html", "scene/pageeffect/pageeffect.tpl.html", "scene/pageeffect/scratch.tpl.html", "scene/pageeffect/snow.tpl.html", "scene/saveTemplate.tpl.html", "scene/scene.tpl.html", "scene/support/support.tpl.html", "scene/userGuide.tpl.html", "show/active/active-xq.tpl.html", "show/active/active.tpl.html", "show/category/category.tpl.html", "show/category/nav.tpl.html", "show/index.tpl.html", "show/recommend/recommend.tpl.html", "show/search/search.tpl.html", "show/visitor/visitor-xq.tpl.html", "show/visitor/visitor.tpl.html", "usercenter/buyXd.tpl.html", "usercenter/console/apply.tpl.html", "usercenter/console/branch.tpl.html", "usercenter/console/checkMobile.tpl.html", "usercenter/console/email_fail.tpl.html", "usercenter/console/email_succeed.tpl.html", "usercenter/console/register.tpl.html", "usercenter/console/relAccount.tpl.html", "usercenter/console/relEmail.tpl.html", "usercenter/console/resetbranchpass.tpl.html", "usercenter/console/upgrade_company.tpl.html", "usercenter/payment.tpl.html", "usercenter/paymentxd.tpl.html", "usercenter/request_reg.tpl.html", "usercenter/tab/account.tpl.html", "usercenter/tab/domain.tpl.html", "usercenter/tab/history.tpl.html", "usercenter/tab/invitation.tpl.html", "usercenter/tab/message.tpl.html", "usercenter/tab/privilege.tpl.html", "usercenter/tab/reset.tpl.html", "usercenter/tab/server.tpl.html", "usercenter/tab/userinfo.tpl.html", "usercenter/tab/xd.tpl.html", "usercenter/transfer.tpl.html", "usercenter/upgrade.tpl.html", "usercenter/upgradeTip.tpl.html", "usercenter/userCenterGuid.tpl.html", "usercenter/usercenter.tpl.html"]),
        b.module("about.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("about.tpl.html", '<div class="about">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt=""></div>\n        </div>\n    </div>\n    <div class="banner">\n    	<img ng-src="{{CLIENT_CDN}}assets/images/contact1.jpg"/>\n    </div>\n    <div class="main clearfix">\n    	<h1>关于我们</h1>\n        <p>易企秀是专门为中小微企业营销人员精心打造的移动场景营销管家，旨在帮助中小微企业的营销人员通过移动互联网，轻松构建业务场景，轻量化展示产品和服务，多渠道推广，吸引沉淀客户，再营销，从而持续积累客户，提升营销效果，创造更高更好的市场业绩。</p>\n        <p>如果您需要借助移动互联网做新产品发布、客户培训会、用户沟通沙龙、移动环境中的产品演示、线上调研沟通、服务预约报名等业务活动时，就来易企秀吧，我们相信易企秀一定能帮到您。</p>\n\n        <img ng-src="{{CLIENT_CDN}}assets/images/contact2.jpg"/>\n\n        <p>联系我们：</p>\n        <p>郭鑫 18611538643 </p>\n        <p>邮件：vip@eqxiu.com</p>\n        <p>QQ：2972881348</p>\n        <p>微信公众号： \n            <img style="display: block;" src="{{CLIENT_CDN}}assets/images/code_about.jpg"/>\n        </p>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("active/active.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("active/active.tpl.html", '\n<div id="activeTwo"><!-- 性格色彩 -->\n	<div ng-include = "\'active/tab/active1.tpl.html\'"></div>\n</div>\n\n')
            }]),
        b.module("active/tab/active1.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("active/tab/active1.tpl.html", '<div class="active-banner">\n	<img ng-src="{{CLIENT_CDN}}assets/images/active/visitor_02.png" />\n</div>\n<div class="active-list" style="border-top:none;">\n	<h1>一、计划背景</h1>\n	<div class="active-bg">\n		<div class="active-con first" >\n			<p>李克强出席首届世界互联网大会时指出，互联网是大众创业、万众创新的新工具。其中“大众创业、万众创新”在2015年国家两会、政府工作报告等多个重要时刻提及。“它”被称作中国经济提质增效升级的“新引擎”。</p>\n			<p>易企秀作为H5行业的领导品牌，响应国家“大众创业、万众创新”号召，投入2亿元资源，鼓励设计师、广告、公关、营销、媒介、代理制作等服务商发展，1年扶持10000名秀客创业，年收入10万元以上。</p>\n			<p style="color:#e3001b;">首批仅开放100个名额，先申请先得！</p>\n			<h2 style="text-indent:1.6em;">说明：</h2>\n			<p>秀客：指为他人提供场景定制的设计师、广告、公关、营销、媒介、代理制作等服务商。</p>\n		</div>\n	</div>\n	<div class="triangle-bottom">\n		<div class="icon-left"></div>\n		<div class="icon-right"></div>\n	</div>\n</div>\n<div class="active-list">\n	<h1>二、扶持资源</h1>\n	<div class="active-bg">\n		<div class="active-con">\n			<p>加入“万名秀客扶持计划”，秀客将获得：<br />\n1. 使用最好的H5场景制作和营销平台---易企秀<br />\n2. 秀客订单免费去除易企秀场景首尾页的标识（200秀点）<br />\n3. 开通服务商账号，享有服务商账号使用权限<br />\n4. 官方提供的秀客平台推荐和展示，易企秀官方推荐订单<br />\n5. 提供应急审核服务：提供客户场景被审核关闭后的应急审核通道</p>\n			<h2>应急通道：</h2>\n			<p>定制场景（订单场景）审核增开加急通道，加快审核速度。<br />应急审核流程：<br />\n秀客接到场景审核关闭后，请阅读场景审核关闭原因，编辑修改场景→发邮件至专用秀客审核通道xiuke@eqxiu.com→易企秀内部优先审核打开场景。</p>\n			<h2>说明：</h2>\n			<p><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13228" target="_blank">查看秀客场景紧急审核打开邮件申请邮件模板</a></p>\n		</div>\n	</div>\n	<div class="triangle-top">\n		<div class="icon-left"></div>\n		<div class="icon-right"></div>\n	</div>	\n	<div class="triangle-bottom">\n		<div class="icon-left"></div>\n		<div class="icon-right"></div>\n	</div>\n</div>\n<div class="active-list">\n	<h1>三、申请步骤</h1>\n	<div class="active-bg">\n		<div class="active-con">\n			<h2>流程：</h2>\n			<p>流程1：申请成为秀客</p>\n			<p>\n				<img ng-src="{{CLIENT_CDN}}assets/images/active/visitor_09.png" />\n			</p>\n			<p>流程2：申请订单场景免费秀点</p>\n			<p>\n				<img ng-src="{{CLIENT_CDN}}assets/images/active/visitor_12.png" />\n			</p>\n			<h2>说明：</h2>\n			<p>必须先通过完成流程1才能进入流程2。</p>\n			<h2>具体流程步骤说明：</h2>\n			<p>第1步： 登陆易企秀官网，在用户中心申请成为秀客<a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13168" target="_blank">（查看步骤演示）</a>--——获得扶持资格；</p>\n			<p>第2步：通过秀客的，每个订单可申请免费秀点奖励。请发送邮件主题”秀客订单报备”，内容：秀客登录名+清单索取，至易企秀:xiuke@eqxiu.com邮箱，获取相关资料。易企秀官方进行订单确认后，即奖励用于去除客户订单场景上的LOGO使用秀点200个（注：指活动开始后的新订单，具体为8.29日及之后的的订单）；</p>\n			<p>第3步：按秀客向易企秀提交的订单报备数多寡，易企秀为秀客提供广告位和官方推荐订单。</p>\n			<h2>说明：</h2>\n			<p>上述订单为本次计划开启后的有效订单。<br />\n【未通过审核的处理办法】：<br />1.秀客申请未通过的，请在用户中心查看审核消息，依据秀客审核消息意见，优化申请资料。<a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13174" target="_blank">（秀客审核规则说明）</a><br />2.秀客订单免费秀点奖励未通过的，请按邮件反馈意见，提交更充实的订单凭证。</p>\n		</div>\n	</div>\n	<div class="triangle-top">\n		<div class="icon-left"></div>\n		<div class="icon-right"></div>\n	</div>	\n	<div class="triangle-bottom">\n		<div class="icon-left"></div>\n		<div class="icon-right"></div>\n	</div>\n</div>\n<div class="active-list">\n	<h1>四、权益说明</h1>\n	<div class="active-bg">\n		<div class="active-con">\n			<h2>秀客商业信息保密机制</h2>\n			<p>保密机制：易企秀保证将对秀客申请的订单信息进行严格保密。</p>\n			<h2>违规处罚</h2>\n			<p>恶意、做假申请扶持资源者，易企秀会取消秀客资格，情节严重者冻结易企秀账号。</p>\n			<h2>易企秀权利声明</h2>\n			<p>1)     以上条款解释权归易企秀<br />2)     易企秀保留对以上条款调整的权利</p>			\n		</div>\n	</div>\n	<div class="triangle-top">\n		<div class="icon-left"></div>\n		<div class="icon-right"></div>\n	</div>	\n	<div class="triangle-bottom">\n		<div class="icon-left"></div>\n		<div class="icon-right"></div>\n	</div>\n</div>\n<div class="backHome">\n	<a href="http://eqxiu.com" target="_blank">\n		<span class="eqf-scene-company"></span>\n		<span>官网首页</span>\n	</a>\n</div>')
            }]),
        b.module("data/edit/canedit.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("data/edit/canedit.tpl.html", '<div class="main clearfix">\n    <div class="panel panel-default">\n      <div class="return">\n        <a ng-href="#/main/customer"><span class="fa fa-mail-reply" translate="main.customer.BACK_UP">返回</span></a>\n      </div>\n      <div class="custom-detail">\n        <table width="100%" >\n          <tr><td><span translate="main.customer.CUSTOMER_NAME">姓名</span>：{{dataDetail.name}}</td><td><span translate="main.customer.CUSTOMER_TELEPHONE">电话</span>：{{dataDetail.tel}}</td><td><span translate="main.customer.DATA_ORIGIN">来源</span>：{{dataDetail.originName}}</td></tr>\n          <tr ng-if="isAllowedToAccessGrouping">\n            <td colspan="3"><span translate="main.customer.GROUP">分组</span>：<span class="userList" ng-repeat="groupName in groupNames">{{groupName.name}}<em class="delete" ng-click="deleteAssociation(dataDetail.id,groupName.id)">x</em></span>\n            <div class="group-cat btn-group dropdown">\n                <em class="add dropdown-toggle" title="{{\'main.customer.ADD_GROUP\' | translate}}">+</em>\n                <div class="dropdown-menu">            \n                    <ul class="group-list group-over" role="menu">\n                        <li class="group-menu" ng-repeat="group in groups" forbidden-close>\n                            <div class="select-group">\n                                <span class = "eqf-no" style="color:#ff0000" ng-click = "deleteGroup(group, $index);"></span>\n                                <div class="checkbox-square" ng-class="{checked: group.selected}">\n                                  <em class="eqf-right4"></em>\n                                  <input type="checkbox" ng-model="group.selected" name="iCheck">\n                                </div>\n                                <span>{{group.name}}</span>\n                            </div>\n                        </li>\n                    </ul>\n                    <ul class="group-list">\n                        <li class="group-menu" forbidden-close ng-click="addGroup();">\n                            <div class="select-group">\n                                <em>+</em>\n                                <span class="add-group" translate="main.customer.ADD_GROUP">添加分组</span>\n                            </div>\n                        </li>\n                        <li>\n                            <a class="confirm-add" ng-click="assignGroup();" translate="main.customer.ENSURE">确定</a>\n                        </li>\n                    </ul>\n                </div>\n                <div class="confirm-group"></div>\n            </div>                  \n            </td>\n          </tr>\n        </table>\n      </div>\n      <div class="panel-body">\n        <form name="formName" class="form-horizontal" role="form">\n          <div class="form-group">\n            <label for="userName" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_NAME">\n              姓名\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="name" ng-model="dataDetail.name" class="form-control"\n              id="userName" placeholder="{{\'main.customer.CUSTOMER_NAME\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="sex" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_SEX">\n              性别\n            </label>\n            <div class="col-sm-7">\n              <eqx-select class="customer-edit select-contain select-great" model="sex" change="updateSex(sex)">\n                <eqx-select-option value="sexOption" ng-repeat="sexOption in sexOptions">{{sexOption.name}}</eqx-select-option>\n              </eqx-select>\n            </div>\n          </div>\n          <div class="form-group" ng-repeat="mobile in formMobiles track by $index">\n            <label for="mobile" class="col-sm-3 control-label" ng-show="$index==0" translate="main.customer.CUSTOMER_MOBILE">\n              手机\n            </label>\n            <label for="{{\'main.customer.CUSTOMER_MOBILE\' | translate}}" class="col-sm-3 control-label" ng-show="$index!=0">\n            </label>\n            <div class="col-sm-7" id="mobileAddress">\n              <div class="input-group">\n                <input type="text" name="mobile" ng-model="formMobiles[$index]" class="form-control"\n                placeholder="{{\'main.customer.CUSTOMER_MOBILE\' | translate}}" show-icon callback-fn="updateData(arg1,formMobiles)">\n                <span class="input-group-btn" >\n                  <button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'mobile\', formMobiles)"\n                  type="button">\n                    <span class="fa fa-minus" >\n                    </span>\n                  </button>\n                </span>\n              </div>\n            </div>\n            <div class="col-sm-1">\n              <span ng-click="addInputs(formMobiles)" ng-show="$index==0" class="fa fa-plus add-inputs">\n              </span>\n            </div>\n          </div>\n          <div class="form-group" ng-repeat="email in formEmails track by $index">\n            <label for="email" class="col-sm-3 control-label" ng-show="$index==0" translate="main.customer.CUSTOMER_EMAIL">\n              邮箱\n            </label>\n            <label for="email" class="col-sm-3 control-label" ng-show="$index!=0">\n            </label>\n            <div class="col-sm-7" id="emailAddress">\n              <div class="input-group">\n                <input type="text" name="email" ng-model="formEmails[$index]" class="form-control"\n                placeholder="{{\'main.customer.CUSTOMER_EMAIL\' | translate}}" show-icon callback-fn="updateData(arg1,formEmails, formName.emial.$invalid)">\n                <span class="input-group-btn">\n                  <button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'email\', formEmails)"\n                  type="button">\n                    <span class="fa fa-minus">\n                    </span>\n                  </button>\n                </span>\n              </div>\n              <!-- /input-group -->\n            </div>\n            <div class="col-sm-1">\n              <span ng-click="addInputs(formEmails)" ng-show="$index==0" class="fa fa-plus add-inputs">\n              </span>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="company" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_COMPANY">\n              公司\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="company" ng-model="dataDetail.company" class="form-control"\n              id="company" placeholder="{{\'main.customer.CUSTOMER_COMPANY\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="job" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_JOB">\n              职务\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="job" ng-model="dataDetail.job" class="form-control"\n              id="job" placeholder="{{\'main.customer.CUSTOMER_JOB\' | translate}}" show-icon callback-fn="updateData(arg1)" required>\n            </div>\n          </div>\n          <div class="form-group" ng-repeat="tel in formTels track by $index">\n            <label for="tel" class="col-sm-3 control-label" ng-show="$index==0" translate="main.customer.CUSTOMER_TELEPHONE">\n              固定电话\n            </label>\n            <label for="tel" class="col-sm-3 control-label" ng-show="$index!=0">\n            </label>\n            <div class="col-sm-7" id="tel">\n              <div class="input-group">\n                <input type="text" name="tel" ng-model="formTels[$index]" class="form-control"\n                placeholder="{{\'main.customer.CUSTOMER_TELEPHONE\' | translate}}" show-icon callback-fn="updateData(arg1,formTels)">\n                <span class="input-group-btn">\n                  <button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'email\', formTels)"\n                  type="button">\n                    <span class="fa fa-minus">\n                    </span>\n                  </button>\n                </span>\n              </div>\n              <!-- /input-group -->\n            </div>\n            <div class="col-sm-1">\n              <span ng-click="addInputs(formTels)" ng-show="$index==0" class="fa fa-plus add-inputs">\n              </span>\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="address" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_ADDRESS">\n              地址\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="address" ng-model="dataDetail.address" class="form-control"\n              id="address" placeholder="{{\'main.customer.CUSTOMER_ADDRESS\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="website" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_WEBSITE">\n              个人网址\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="website" ng-model="dataDetail.website" class="form-control"\n              id="website" placeholder="{{\'main.customer.CUSTOMER_WEBSITE\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="qq" class="col-sm-3 control-label" translate="main.customer.QQ">\n              QQ号\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="qq" ng-model="dataDetail.qq" class="form-control"\n              id="qq" placeholder="{{\'main.customer.QQ\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="weixin" class="col-sm-3 control-label" translate="main.customer.WECHAT">\n              微信号\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="weixin" ng-model="dataDetail.weixin" class="form-control"\n              id="weixin" placeholder="{{\'main.customer.WECHAT\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="yixin" class="col-sm-3 control-label" translate="main.customer.YIXIN">\n              易信号\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="yixin" ng-model="dataDetail.yixin" class="form-control"\n              id="yixin" placeholder="{{\'main.customer.YIXIN\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="weibo" class="col-sm-3 control-label" translate="main.customer.WEIBO">\n              微博号\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="weibo" ng-model="dataDetail.weibo" class="form-control"\n              id="weibo" placeholder="{{\'main.customer.WEIBO\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="laiwang" class="col-sm-3 control-label" translate="main.customer.LAIWANG">\n              来往号\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="laiwang" ng-model="dataDetail.laiwang" class="form-control"\n              id="inputEmail3" placeholder="{{\'main.customer.LAIWANG\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="remark" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_REMARK">\n              其它\n            </label>\n            <div class="col-sm-7">\n              <input type="text" name="remark" ng-model="dataDetail.remark" class="form-control"\n              id="remark" placeholder="{{\'main.customer.CUSTOMER_REMARK\' | translate}}" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n        </form>\n          <div class="btn-contain btn-big">\n              <a class="btn-main login" ng-click="saveData(dataDetail)" translate="main.customer.SAVE">保存</a>\n              <a ng-click="cancel()" class="btn-grey0" translate="main.customer.CANCEL">取消</a>\n          </div>             \n      </div>\n    </div>\n</div>');
            }]),
        b.module("data/edit/canread.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("data/edit/canread.tpl.html", '<div class="main clearfix">\n    <div class="panel panel-default">\n        <div class="return">\n            <a ng-href="#/main/customer"><span class="fa fa-mail-reply" translate="main.customer.BACK_UP">返回</span></a>\n        </div>\n        <div class="custom-detail">\n            <table width="100%" >\n                <tr><td><span translate="main.customer.CUSTOMER_NAME">姓名</span>：{{dataDetail.name}}</td><td><span translate="main.customer.CUSTOMER_TELEPHONE">电话</span>：{{dataDetail.tel}}</td><td><span translate="main.customer.DATA_ORIGIN">来源</span>：{{dataDetail.originName}}</td></tr>\n                <tr ng-if="isAllowedToAccessGrouping">\n                  <td colspan="3"><span translate="main.customer.GROUP">分组</span>：<span class="userList" ng-repeat="groupName in   groupNames">{{groupName.name}}</span>                  \n                  </td>\n                </tr>\n            </table>\n        </div>\n        <div class="panel-body">\n            <form name="formName" class="form-horizontal data-detail" role="form">\n                <div class="form-group form-group-sm">\n                    <label for="userName" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_NAME">\n                        姓名：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{dataDetail.name}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="sex" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_SEX">\n                        性别：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{sex.id ? sex.name : \'\'}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="mobile" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_MOBILE">\n                        手机：\n                    </label>\n                    <div class="col-sm-7" id="mobileAddress">\n                        <span>{{formMobiles.join()}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="email" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_EMAIL">\n                        邮箱：\n                    </label>\n                    <div class="col-sm-7" id="emailAddress">\n                        <span>{{formEmails.join()}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="company" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_COMPANY">\n                        公司：\n                    </label>\n                    <div class="col-sm-7">\n                      <span>{{dataDetail.company}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="job" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_JOB">\n                        职务：\n                    </label>\n                    <div class="col-sm-7">\n                        {{dataDetail.job}}\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="tel" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_TELEPHONE">\n                        固定电话：\n                    </label>\n                    <div class="col-sm-7" id="tel">\n                        <span>{{formTels.join()}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="address" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_ADDRESS">\n                        地址：\n                    </label>\n                    <div class="col-sm-7">\n                      <span>{{dataDetail.address}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="website" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_WEBSITE">\n                        个人网址：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{dataDetail.website}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="qq" class="col-sm-3 control-label"  translate="main.customer.QQ">\n                        QQ号：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{dataDetail.qq}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="weixin" class="col-sm-3 control-label" translate="main.customer.WECHAT">\n                        微信号：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{dataDetail.weixin}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="yixin" class="col-sm-3 control-label" translate="main.customer.YIXIN">\n                        易信号：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{dataDetail.yixin}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="weibo" class="col-sm-3 control-label" translate="main.customer.WEIBO">\n                        微博号：\n                    </label>\n                    <div class="col-sm-7">\n                        {{dataDetail.weibo}}\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="laiwang" class="col-sm-3 control-label" translate="main.customer.LAIWANG">\n                        来往号：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{dataDetail.laiwang}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="remark" class="col-sm-3 control-label" translate="main.customer.CUSTOMER_REMARK">\n                        其它：\n                    </label>\n                    <div class="col-sm-7">\n                        <span>{{dataDetail.remark}}</span>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("data/editData.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("data/editData.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id="main" class="min_contain" ng-if="!hideOpea">\n    <div ng-include="\'data/edit/canedit.tpl.html\'"></div>\n</div>\n<div id="main" class="min_contain" ng-if="hideOpea">\n    <div ng-include="\'data/edit/canread.tpl.html\'"></div>\n</div>')
            }]),
        b.module("dialog/bindemail.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("dialog/bindemail.tpl.html", '<div class="email-account">\n    <h1 translate="dialog.BIND_EMAIL">您的账号还没有绑定邮箱</h1>\n    <p>\n        <span translate="dialog.BIND_TIP">去用户中心>账号管理，</span>\n        <a ng-href="#/usercenter/account?bindemail">\n            <span translate="dialog.BIND">马上绑定</span>\n        </a></p>\n</div>')
            }]),
        b.module("dialog/confirm.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("dialog/confirm.tpl.html", '<!-- <div class="modal-header">\n    <span>确认信息</span>\n</div> -->\n<div class="modal-body" ng-if="confirmObj.msg">\n	<div class="confirm-msg" ng-bind-html="confirmObj.msg"></div>\n</div>\n<div class="btn-contain btn-small">\n    <a ng-click="ok();" class="btn-main">\n        {{confirmObj.confirmName || (\'dialog.ENSURE\' | translate)}}\n    </a>\n    <a ng-click="cancel();" class="btn-grey0">\n        {{confirmObj.cancelName || (\'dialog.CANCEL\' | translate)}}\n    </a>\n</div>')
            }]),
        b.module("dialog/message.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("dialog/message.tpl.html", '<div class="modal-header">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <span>{{msgObj.title || (\'dialog.TIP\' | translate)}}</span>\n</div>\n<div class="modal-body" ng-if="msgObj.msg">\n    <div class="msg" ng-class="msgObj.title ? \'\' : \'msg-padding\'" ng-bind-html="msgObj.msg"></div>\n</div>\n<div class="modal-footer">\n	<a ng-click="close();" class="btn-main"\n    style="width: 88px;">{{msgObj.btn || (\'dialog.CLOSE\' | translate)}}</a>\n</div>')
            }]),
        b.module("error.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("error.tpl.html", '<div class="error">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt=""></div>\n        </div>\n    </div>\n    <div class="error_contain">\n        <div class="error_con">\n            <img ng-src="{{CLIENT_CDN}}assets/images/404_03.png" alt="" />\n            <p style="font-size:24px;margin-top:30px;margin-bottom:15px;">\n                <span translate="error.NOT_FIND">对不起，您想要进入的页面已经去火星了！</span>\n            </p>\n            <p style="text-align:left;">\n                <a href="#/home">\n                    <span translate="error.BACK_TO_EARTH">返回地球</span>\n                </a>\n            </p>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("error/error.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("error/error.tpl.html", '<div class="error">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt="" /></div>\n        </div>\n    </div>\n    <div class="error_contain">\n        <div class="error_con">\n            <img ng-src="{{CLIENT_CDN}}assets/images/404_03.png" alt="" />\n            <p style="font-size:24px;margin-top:30px;margin-bottom:15px;" translate="error.SORRY">对不起，您想要进入的页面已经去火星了！</p>\n            <p style="text-align:left;"><a href="#/home" translate="error.BACK_UP">返回地球</a></p>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("footer.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("footer.tpl.html", '<div class="scroll" data-ng-init="load2()" >\n  <a class="scroll_top" ng-click="goTop()">\n      <span class="eqf-chevron-thin-up"></span>\n      <span>顶部</span>\n  </a>\n</div>\n\n<div class="app-download">\n  <a class="scroll_top" ng-click="downApp()" ng-show="appIconDown">\n    <span class="eqf-phone"></span>\n    <span>APP</span>\n  </a>\n  <div ng-hide="appIconDown" class="qrcode-download" >\n    <div class="closedown eqf-wrong" ng-click="closeDown()" title="{{\'footer.CLOSE\' | translate}}"></div>\n    <div qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/appdown.html\'}}"></div>\n    <a href="http://as.eqxiu.com/download/eqxiu.apk" target="_blank" title="{{\'footer.DOWNLOAD_ANDROID_APP\' | translate}}" class="btn-main" translate="footer.DOWNLOAD_ANDROID_APP">下载android App</a>\n    <a href="https://itunes.apple.com/cn/app/yi-qi-xiu-mian-fei-wei-chang/id933128780?mt=8" target="_blank" title="{{\'footer.DOWNLOAD_IPHONE_APP\' | translate}}" class="btn-main" translate="footer.DOWNLOAD_IPHONE_APP">下载iphone App</a>\n  </div>\n</div>\n<div class="video-user">\n    <a target="_blank" href="http://class.qq.com/class/13657/p62157.html">\n        <span class="eqf-top-video"></span>\n        <span>教程</span>\n    </a>\n    <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13225">\n        <span class="eqf-top-contact"></span>\n        <span>客服</span>\n    </a>\n</div>\n<footer>\n    <article class="footer clearfix">\n      <div class="renzheng">\n        <a>\n          <em class="eqf-wechat"></em>\n          <div class="weixin"><img ng-src="{{CLIENT_CDN}}assets/images/QRcode.svg" width="120px" height="120px"></div>\n        </a>\n        <a href="http://weibo.com/eqxiu" target="_blank"><em class="eqf-weibo"></em></a>\n      </div>      \n      <div class="link">\n        <p>\n          <a target="_blank" href="http://eqxiu.com/s/84X3sY9z" translate="footer.JOIN_US">加入我们</a>|\n          <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13225">在线客服</a>|\n          <a target="_blank" href="http://eqxiu.com/s/UxzGEm" translate="footer.FEEDBACK">意见反馈</a>|\n          <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=290" translate="footer.REPORT">内容举报</a>|\n          <a target="_blank" href="http://eqxiu.com/s/ayqWAl" translate="footer.ABOUT_US">关于我们</a>|\n          <a target="_blank" href="http://bbs.eqxiu.com/portal.php" translate="footer.COMMUNITY">论坛</a>|\n          <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=72&extra=" translate="footer.HELP_CENTER">帮助中心</a>|\n          <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890&extra=page%3D1" translate="footer.AUDIT_RULES">审核规则</a>|\n          <a target="_blank" href="http://www.knet.cn" translate="footer.KNET">中网</a>\n        </p>\n        <p class="beizhu">© 2015 <a href="http://eqxiu.com">eqxiu.com</a>. All rights reserved   京ICP备09107995号-29</p>        \n      </div>\n      <div style="padding-bottom:15px;display: none;"><!-- 2015-08-26多语言先不上线 -->\n            <a ng-click="changeLanguage(\'zh-CN\')">中文</a>\n            <a ng-click="changeLanguage(\'en-US\')">English</a>\n      </div>\n      <div class="kexin" >\n        <a href="https://ss.knet.cn/verifyseal.dll?sn=e14082111011652865izip000000&amp;ct=df&amp;a=1&amp;pa=0.5974755212664604" target="_blank" rel="nofollow" style="margin: 0 auto;padding:0">\n          <img ng-src="{{CLIENT_CDN}}assets/images/kexin.svg" width="100px" height="40px">\n        </a>\n      </div>      \n    </article>\n</footer>')
            }]),
        b.module("header.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("header.tpl.html", '\n<div class="header_tpl">\n	<div class="content clearfix">\n		<div class="logo" id="logo"><a href="#/main" class="hint--bottom hint--rounded" data-hint="{{\'header.BACK_TO_SCENE_HINT\' | translate}}"><em class="eqf-eqxiu"></em></a></div>\n		<div class="head_nav" ng-if="showToolBar();">\n			<ul class="clearfix head_navs">\n				<li ng-class="{hover:isActive == \'main\'}">\n					<a href="#/main" translate="header.USER_HOME">我的场景</a>\n				</li>\n				<li ng-class="{hover:isActive == \'spread\'}">\n					<a href="#/main/spread/statistics" translate="header.USER_SPREAD">我的推广</a>\n				</li>\n				<li ng-class="{hover: isActive == \'customer\'}">\n					<a href="#/main/customer" translate="header.USER_CUSTOMER">我的客户</a>\n				</li>\n				<li ng-show="user.type == 2 || user.type == 3 || user.type == 4 || user.type == 99" style="text-align:left;">\n					<a href="{{PREFIX_CLIENT_HOST}}/print/" target="_blank" style="position:relative;padding-left:13px;">\n						<span translate="header.PRINT">轻印刷</span>\n						<em style="color:#ff0000;font-size:50%;position:absolute;top:-5px;">beta</em>\n					</a>\n				</li>\n				<li>\n					<a href="#/show" target="_blank">\n						<span translate="header.SHOW_CENTER">秀场中心</span>\n					</a>\n				</li>\n				<li class="help_center_con" ng-mouseover="showCode2 = true" ng-mouseleave="showCode2 = false">\n					<a translate="header.HELP_CENTER">帮助中心</a>\n					<div class="help_center box-shadow" ng-show="showCode2 == true">\n						<div><a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=72&extra=" translate="header.TUTORIAL">入门必读</a></div>\n						<div><a target="_blank" href="http://bbs.eqxiu.com/forum.php?gid=38" translate="header.FEEDBACK">问题反馈</a></div>\n						<div><a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=297&extra=page%3D1" translate="header.ABOUT_XIU_DIAN">关于秀点</a></div>\n						<div><a target="_blank" href="http://bbs.eqxiu.com/portal.php" translate="header.COMMUNITY">论坛帮助</a></div>\n						<div><a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13225">在线客服</a></div>\n					</div>					\n				</li>			\n			</ul>\n			<div ng-if="user.type == 2 && showBranchSelect" class="select-branch">\n				<eqx-select class="select-contain select-sm" model="global.branch" \n				change="selectBranch(global.branch)">\n                    <eqx-select-option value="null" translate="header.CURRENT_ACCOUNT">\n                    	当前账号\n                	</eqx-select-option>\n                    <eqx-select-option value="branch" ng-repeat="branch in userbranches"  >{{branch.loginName}}</eqx-select-option>\n                </eqx-select>\n			</div>\n			<login-toolbar></login-toolbar>\n		</div>\n	    \n	</div>\n</div>	\n')
            }]),
        b.module("help.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("help.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id = "usercenter" class="min_contain">\n  <div class = "main clearfix">\n    <div class="help_content">\n        <h1 translate="help.GET_XD">快速获得秀点</h1>\n        <p>\n            <span translate="help.GET_WAY1">1.场景展示得秀点</span>\n        </p>\n        <table>\n            <tr><th class="col-sm-3"><span translate="help.ACCOUNT_PROPERTY">账号属性</span></th><th class="col-sm-3"><span translate="help.GET_CONDITION">获取秀点条件</span></th><th class="col-sm-8"><span translate="help.XD_CAL">秀点计算</span></th></tr>\n            <tr><td><span translate="help.COMMON_ACCOUNT">普通账号</span></td><td><span translate="help.SHARE_LAST_PAGE">分享尾页展示</span></td><td><span  translate="help.SHOW1">5000展示=100秀点</span></td></tr>\n            <tr><td><span translate="help.ADVANCE_ACCOUNT">高级账号</span></td><td><span translate="help.SHARE_BOTTOM_LABEL">末页底标展示</span></td><td><span translate="help.SHOW2">10000展示=100秀点</span></td></tr>\n            <tr><td><span translate="help.SERVER_ACCOUNT">服务账号</span></td><td><span translate="help.SHARE_BOTTOM_LABEL">末页底标展示</span></td><td><span translate="help.SHOW2">10000展示=100秀点</span></td></tr>\n            <!-- <tr><td>企业账号</td><td>末页底标</td><td>5000展示=100秀点</td></tr> -->\n        </table>\n        <p>\n            <span translate="help.GET_WAY2">2.推荐会员得秀点</span>\n        </p>\n        <table>\n            <tr><td class="col-sm-3"><span translate="help.RECOMMOND_MEMBER">推荐会员</span></td><td class="col-sm-3"><span translate="help.REGISTER_MEMBER">注册会员</span></td><td class="col-sm-8"><span translate="help.GET_TWENTY">推荐一个会员，可以获得20个秀点</span></td></tr>\n        </table>\n        <h1 style="margin:20px 0;"><span translate="help.USE_XD">秀点使用</span></h1>\n        <table>\n            <tr><th class="col-sm-3"><span translate="help.ACCOUNT_PROPERTY">账号属性</span></th><th class="col-sm-3"><span translate="help.USE_CONTENT">使用内容</span></th><th class="col-sm-8"><span translate="help.NEED_XD">所需秀点</span></th></tr>\n            <tr><td><span translate="help.COMMON_ACCOUNT">普通账号</span></td><td><span translate="help.REMOVE_LAST_PAGE">去除分享尾页</span></td><td><span translate="help.ONE_HUNDRED">100个</span></td></tr>\n            <tr><td><span translate="help.ADVANCE_ACCOUNT">高级账号</span></td><td><span translate="help.REMOVE_BOTTOM_LABEL">去除末页底标</span></td><td><span translate="help.ONE_HUNDRED">100个</span></td></tr>\n            <tr><td><span translate="help.SERVER_ACCOUNT">服务账号</span></td><td><span translate="help.MODIFY_LOGO">去除末页底标/修改载入logo</span></td><td><span translate="help.ONE_OR_FIVE">100个/500个</span></td></tr>\n        </table>\n    </div>\n  </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("home/home.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("home/home.tpl.html", '<div id="home" class="min_contain" login-loading>\n    <header style="background-color:#fff;width:100%;">\n        <div class="we_nav content_center">\n            <div class="link_list">\n                <ul class="clearfix">\n                    <li><a target="_blank" href="#/show/visitor">场景定制</a></li>\n                    <li><a target="_blank" href="#/show" translate="home.SHOW_TIME">秀场中心</a></li>\n                    <li ng-hide="isAuthenticated()"><a ng-click = "openLogin()" translate="home.LOGIN">登录</a></li>\n                    <li ng-hide="isAuthenticated()" class=""><a ng-click = "openRegister()" id="registerFormBtn" translate="home.REGISTER">注册</a></li>\n                    <li ng-show="isAuthenticated()"><a href="#/main" translate="home.ENTER">进入</a></li>\n                </ul>\n            </div>\n            <div id="logo"><em class="eqf-eqxiu"></em></div>\n        </div>\n    </header>\n    <div id="example_con">\n        <div id="example">\n            <div slides id="slides">\n                <div class="slides_container"></div>\n                <a href="#" class="prev"><img ng-src="{{CLIENT_CDN}}assets/images/arrow-prev.png" width="60px" height="114px" alt="Arrow Prev"></a>\n                <a href="#" class="next"><img ng-src="{{CLIENT_CDN}}assets/images/arrow-next.png" width="60px" height="114px" alt="Arrow Next"></a>\n            </div>\n        </div>\n    </div>\n    <hgroup class="core_five">\n        <div class="home_core content_center">\n            <h1><img ng-src="{{CLIENT_CDN}}assets/images/home/advantage.png" /></h1>\n            <div class="advantage_con">\n                <ul class="clearfix">\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/5.png" alt="" /></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/4.png" alt="" /></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/2.png" alt="" /></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/1.png" alt="" /></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/3.png" alt="" /></li>\n                </ul>\n            </div>\n        </div>\n    </hgroup>\n    <div class="cat_xq">\n        <div class="product_contain">\n            <div class="product_con content_center">\n                <ul class="clearfix">\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_10.png" alt=""/></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_13.png" alt=""/></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_15.png" alt=""/></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_17.png" alt=""/></li>\n                </ul>\n                <ul class="clearfix">\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_24.png" alt=""/></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_26.png" alt=""/></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_27.png" alt=""/></li>\n                    <li><img ng-src="{{CLIENT_CDN}}assets/images/home/pro_28.png" alt=""/></li>\n                </ul>\n            </div>\n        </div>\n        <!--         <div class="cat_wra">\n                    <div class="cat_contain content_center">\n                        <div class="cat_head"><ul class="clearfix"><li class="mou"><span  ng-class="{hover:page == \'month\'}" ng-click="page = \'month\'"><em>月排名</em></span></li><li class="wek"><span ng-class="{hover:page == \'week\'}"  ng-click="page = \'week\'"><em>周排名</em></span></li><li class="day"><span ng-class="{hover:page == \'day\'}"  ng-click="page = \'day\'"><em>日排名</em></span></li></ul></div>\n                        <div class="cat_content">\n                            <ul class="clearfix" >\n                                <li ng-repeat="weekTop in weekTop" ng-show="page == \'week\'">\n                                    <div class="num_con">\n                                        <div class="num_head clearfix"><span>num</span><img ng-src="{{CLIENT_CDN}}assets/images/home/PV.png" /><em class="pv_numbers">{{weekTop.showCount | fixnum}}</em></div>\n                                        <div class="img_con">\n                                            <a target="_blank" ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + weekTop.code}}">\n                                                <img ng-src="{{PREFIX_FILE_HOST + weekTop.image.imgSrc}}" alt="" />\n                                            </a>\n                                            <p><a target="_blank" ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + weekTop.code}}" title="{{weekTop.name}}">{{weekTop.name}}</a></p>\n                                        </div>\n                                    </div>\n                                </li>\n                            </ul>\n                            <ul class="clearfix" >\n                                <li ng-repeat="dayTop in dayTop" ng-show="page == \'day\'">\n                                    <div class="num_con">\n                                        <div class="num_head clearfix"><span>num</span><img ng-src="{{CLIENT_CDN}}assets/images/home/PV.png" /><em class="pv_numbers">{{dayTop.showCount | fixnum}}</em></div>\n                                        <div class="img_con">\n                                            <a target="_blank" ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + dayTop.code}}">\n                                                <img ng-src="{{PREFIX_FILE_HOST + dayTop.image.imgSrc}}" alt="" />\n                                            </a>\n                                            <p><a target="_blank" ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + dayTop.code}}" title="{{dayTop.name}}">{{dayTop.name}}</a></p>\n                                        </div>\n                                    </div>\n                                </li>\n                            </ul>\n                            <ul class="clearfix" >\n                                <li ng-repeat="monthTop in monthTop" ng-show="page == \'month\'">\n                                    <div class="num_con">\n                                        <div class="num_head clearfix"><span>num</span><img ng-src="{{CLIENT_CDN}}assets/images/home/PV.png" /><em class="pv_numbers">{{monthTop.showCount | fixnum}}</em></div>\n                                        <div class="img_con">\n                                            <a  target="_blank" ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + monthTop.code}}">\n                                                <img ng-src="{{PREFIX_FILE_HOST + monthTop.image.imgSrc}}" alt="" />\n                                            </a>\n                                            <p><a target="_blank" ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + monthTop.code}}" title="{{monthTop.name}}">{{monthTop.name}}</a></p>\n                                        </div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div> -->\n    </div>\n    <div class="customer_case">\n        <div class="customer_case_con content_center clearfix">\n            <div class="case_cat">\n                <h1><img ng-src="{{CLIENT_CDN}}assets/images/home/case.png" alt="" /></h1>\n                <ul>\n                    <li id="one1" ng-class="{hover:typeindex == \'all\'}" ng-click="getHomes(\'all\', null, 1, 9);type=null" translate="home.ALL_SAMPLES">全部案例</li>\n                    <li ng-repeat = "sceneType in sceneTypes" ng-class = "{hover: typeindex == $index}" ng-click = "getHomes($index, sceneType.value, 1, 9)">\n                        {{sceneType.name}}\n                    </li>\n                </ul>\n            </div>\n            <div class="case_img">\n                <ul class="clearfix">\n                    <li ng-repeat="home in homes" style="height:235px;">\n                        <a ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + home.code}}" ng-hover resource = \'home\' target="_blank">\n                            <div ng-show="home.show" class="cj_img qrcode" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/s/\' + home.code}}" style="padding:27px 0"></div>\n                            <div ng-show="!home.show" class="cj_img">\n                                <img ng-src="{{PREFIX_FILE_HOST + home.cover}}" alt="" width="235px" />\n                            </div>\n                        </a>\n\n                        <!--                         <a ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + home.code}}" target="_blank">\n                                                    <div ng-show="showCode == true" class="cj_img qrcode" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/s/\' + home.code}}"></div>\n                                                    <div ng-hide="showCode == true" class="cj_img"><img ng-src="{{PREFIX_FILE_HOST + home.cover}}" alt="" width="235px" /></div>\n                                                    <p class="sample_erwei"><a ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + home.code}}" target="_blank" ng-mouseover="showCode = true" ng-mouseleave="showCode = false" translate="home.QR_CODE">二维码</a></p>\n                                                </a> -->\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="load">\n        <div class="content load_con clearfix content_center">\n            <div class="load_con_lef">\n                <img ng-src="{{CLIENT_CDN}}assets/images/home/down_03.png" alt="" />\n            </div>\n            <div class="load_con_rig">\n                <p translate="home.MOBILE_CLIENT">易企秀手机客户端</p>\n                <div class="arcitle clearfix">\n                    <!-- <img ng-src="{{CLIENT_CDN}}assets/images/home/er_12.png" alt="" /> -->\n                    <div class="arcitle_wz">\n                        <p translate="home.MOBILE_CLIENT_DESC1">场景应用移动管理神器</p>\n                        <p translate="home.MOBILE_CLIENT_DESC2">随时更改、制作、推广场景</p>\n                        <p translate="home.MOBILE_CLIENT_DESC3">随时监测场景传播效果</p>\n                        <div class="download">\n                            <div class="ios">\n                                <img style="float:none;" ng-src="{{CLIENT_CDN}}assets/images/home/down_06.png" alt="" ng-mouseover="showCode2 = true" ng-mouseleave="showCode2 = false" /><p translate="home.ios.VERSION_TIP">需要iOS6.0或更高版本</p>\n                                <div class="ios_down down_same" ng-show="showCode2 == true">\n                                    <p translate="home.ios.CHOICE1">方法一：去App Store下载</p>\n                                    <p translate="home.ios.CHOICE2">方法二：用手机在App Store或91手机助手中搜索“易企秀”下载</p>\n                                    <p translate="home.ios.CHOICE3">方法三：扫描二维码直接下载</p>\n                                    <div class="clearfix"><img ng-src="{{CLIENT_CDN}}assets/images/home/ios.png" alt="" /></div>\n                                </div>\n                            </div>\n                            <div class="andrion">\n                                <img style="float:none;" ng-src="{{CLIENT_CDN}}assets/images/home/down_08.png" alt="" ng-mouseover="showCode1 = true" ng-mouseleave="showCode1 = false" /><p translate="home.android.VERSION_TIP">需要android 4.0或更高版本</p>\n                                <div class="ios_down down_same" ng-show="showCode1 == true">\n                                    <p translate="home.android.CHOICE1">方法一：在应用宝、安卓市场、91手机助手安智市场中搜索“易企秀”下载</p>\n                                    <p translate="home.android.CHOICE2">方法二：扫描二维码直接下载（建议使用UC等浏览器扫码下载）</p>\n                                    <div class="clearfix"><img ng-src="{{CLIENT_CDN}}assets/images/home/android.png" width="165px"　alt="" /></div>\n                                </div>\n                            </div>\n                        </div>\n                        <!-- <p><a href="https://itunes.apple.com/cn/app/yi-qi-xiu/id933128780" target="_blank" alt="立即下载IOS客户端" title="立即下载IOS客户端"><img ng-src="{{CLIENT_CDN}}assets/images/home/load.png"  /></a></p> -->\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="hezuo">\n        <div class="hezuo_con content_center">\n            <ul class="clearfix">\n                <li ng-repeat="link in friendLinks">\n                    <a target="_blank" ng-href="{{link.url}}"><img ng-src="{{link.logo}}" alt="{{link.name}}" /></a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="home_reg">\n        <div class="home_reg_con">\n            <div><a ng-click = "register()" alt="{{\'home.REGISTER_TIP\' | translate}}" title="{{\'home.REGISTER_TIP\' | translate}}"><img ng-src="{{CLIENT_CDN}}assets/images/home/ntb_04.png" alt="" /></a></div>\n        </div>\n    </div>\n    <div class="contact">\n        <div class="contact_con content_center clearfix">\n            <aside>\n                <h4><img ng-src="{{CLIENT_CDN}}assets/images/home/wo.png" alt="" /></h4>\n                <p class="clearfix" style="padding-top:5px">\n                    <span class="con_sup con_tel">用户服务电话：010-58813666 （工作日 8:45-12:00  13:00-17:30）</span>\n                    <span class="con_sup" translate="home.SERVICE_EMAIL">用户服务邮箱：vip@eqxiu.com</span>\n                    <span class="con_sup" translate="home.SERVICE_JOB">投递简历：hr@eqxiu.com</span>\n                    <span class="con_sup con_busi" translate="home.SERVICE_BUSINESS">商务合作：bd@eqxiu.com</span>\n                </p>\n                <p class="clearfix"><span>\n                    <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=11204" title="2亿资源秀客扶持计划">扶持场景定制</a>&nbsp;&nbsp;|&nbsp;&nbsp;\n                    <a target="_blank" href="http://eqxiu.com/s/BoQUWX" translate="home.USER_MANUAL">使用手册</a>&nbsp;&nbsp;|&nbsp;&nbsp;\n                    <a target="_blank" href="http://eqxiu.com/s/84X3sY9z">加入我们</a>&nbsp;&nbsp;|&nbsp;&nbsp;\n                    <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=255" alt="{{\'home.OFFICIAL_USER_GROUP_TIP\' | translate}}" title="{{\'home.OFFICIAL_USER_GROUP_TIP\' | translate}}"><span translate="home.OFFICIAL_USER_GROUP">官方用户群</span>&nbsp;<img ng-src="{{CLIENT_CDN}}assets/images/home/group.png" style="vertical-align:center;" alt="" /></a>\n                </span></p>\n            </aside>\n            <div class="erwei">\n                <p style="text-align:right;"><img ng-src="{{CLIENT_CDN}}assets/images/home/foot_66.png" /></p>\n                <p><img ng-src="{{CLIENT_CDN}}assets/images/home/foot_73.png" /></p>\n            </div>\n        </div>\n    </div>\n\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>');
            }]),
        b.module("main/console/group.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/console/group.tpl.html", '<div class="modal-header">\n    <span translate="main.customer.CREATE_GROUP">新建组</span>\n</div>\n<div class="modal-body add-new-cat" forbidden-list-close>\n    <input type="text" class="form-control" ng-model="group.name" placeholder="{{\'main.customer.GROUP_NAME\' | translate}}"/>\n</div>\n<p ng-show="authError" style="text-align:center;">{{authError}}</p>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="main.customer.CONFIRM">确认</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="main.customer.CANCEL">取消</a>\n</div>\n')
            }]),
        b.module("main/console/transferscene.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/console/transferscene.tpl.html", '\n<div class="modal-header" ng-show="transferScene">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n        <span aria-hidden="true" ng-click="cancel()">×</span>\n    </button>\n    <h4 class="modal-title" translate="main.TRANSFER_SCENE">转送场景</h4>\n</div>\n<div class="modal-body" ng-show="transferScene">\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label for="inputPassword3" class="col-sm-3 control-label">账号:</label>\n            <div class="col-sm-7">\n                <input type="text" class="form-control" id="inputPassword3" ng-model="model.toUser">\n                <p class="scene-gift-tips"><span>*</span><em translate="main.TRANSFER_SCENE_TIP">转出后将不再拥有此场景</em></p>\n                <p  class="error" ng-show="actionerror">{{actionerror}}</p>\n            </div>\n        </div>\n    </form>\n</div>\n<div class="modal-footer" ng-show="transferScene">\n    <a class="modal-cancle" ng-click="cancel()" translate="main.CANCEL">取消</a>\n    <button type="button" class="btn btn-primary" ng-click="confirm()" translate="main.CONFIRM">确认</button>\n</div>\n\n<div ng-hide="transferScene" class="gift-success-tips" id="transfer_mes">\n    <p><i translate="main.TRANSFER_SUCCESS">您已将此场景成功转送给</i><span style="padding:0 15px">{{model.toUser}}</span></p>\n    <a ng-click="cancel()">x</a>\n</div>\n')
            }]),
        b.module("main/customer.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/customer.tpl.html", '\n<div ng-include="\'header.tpl.html\'"></div>\n<div id="customer" class="main min_contain">\n    <div class="spread-content">\n        <ul class="clearfix">\n            <li>\n                <span class="eqf-custom-v"></span>\n                <div class="big-icon phone">\n                    <p class="num">{{customCount.count || 0 | fixnum}}</p>\n                    <p class="title" translate="main.customer.CUSTOM_COUNT">已收集客户</p>\n                </div>\n            </li>\n            <li>\n                <span class="eqf-out-v"></span>\n                <div class="big-icon data-out">\n                    <p class="num">{{customCount.unImp}}</p>\n                    <p class="title" translate="main.customer.UN_IMPORT">未导入数据</p>\n                </div>\n            </li>\n        </ul>\n    </div>\n    <ul class="editor-tool" ng-if="isEditor">\n        <li class="btn-main" page-tpl-types ng-href="#/scene/create/2442?pageId=1"><i translate="main.customer.PAGE_TEMPLATE">页面模板</i></li>\n    </ul>\n\n    <tabset class="nav-bg" justified="false" ng-if="!isAllowedToAccessGrouping && !editData">\n        <tab>\n            <tab-heading><em translate="main.customer.CUSTOM_INFO">客户信息</em></tab-heading>\n            <div class="new-export clearfix">\n                <div class="fr">\n                    <a class="btn hint--bottom hint--rounded btn-primary" style="margin-left:1px;" ng-href="{{PREFIX_S3_URL + \'m/c/exp\'}}" tooltip-placement="bottom" tooltip="{{\'main.customer.EXPORT_EXCEL\' | translate}}" tooltip-append-to-body="true"><span translate="main.customer.EXPORT_EXCEL_TIP">导出Excel</span>\n                    </a>\n                </div>\n            </div>\n            <div ng-show="customerDatas && customerList" class="table-container">\n                <table class = "table table-hover" >\n                    <thead>\n                    <tr>\n                        <th translate="main.customer.CUSTOMER_NAME">姓名</th>\n                        <th translate="main.customer.CUSTOMER_MOBILE">手机</th>\n                        <th translate="main.customer.CUSTOMER_GROUP_NAME">客户群组</th>\n                        <th translate="main.customer.CUSTOMER_ORIGIN">客户来源</th>\n                        <th translate="main.customer.CUSTOMER_OPTION">管理</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr ng-class="{hovercolor: trIndex==$index}" ng-repeat="customerData in customerDatas" ng-mouseenter="addColor($index)" ng-mouseleave="removeColor()">\n                        <td>{{customerData.name}}</td>\n                        <td>{{customerData.mobile}}</td>\n                        <td>{{customerData.groupName}}</td>\n                        <td>{{customerData.originName}}</td>\n                        <!-- ng-click="editCustomer(customerData)" -->\n                        <td>\n                            <a ng-show="branchEdit" class="glyphicon glyphicon-cog" ng-click="editCustom(customerData, $index)"></a>\n                            <a ng-show="branchDelete" style="margin-left: 30px;" class="glyphicon glyphicon-trash" ng-click="removeCustomer(customerData)"></a>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n                <div ng-show="totalItems > 10">\n                    <pagination style="float: left" first-text="{{\'main.customer.FIRST_PAGE\' | translate}}" last-text="{{\'main.customer.LAST_PAGE\' | translate}}" previous-text="<" next-text=">" max-size="10" items-per-page="10" total-items="totalItems" ng-model="model.currentPage" ng-change="pageChanged(model.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                    <div class="current_page">\n                        <input type="text" ng-model="model.toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(model.toPage) : null">\n                        <a ng-click="pageChanged(model.toPage)" class="go">GO</a>\n                        <span><span translate="main.customer.CURRENT_PAGE1">当前</span>:{{model.toPage}} / {{numPages}} <span translate="main.customer.CURRENT_PAGE2">页</span></span>\n                    </div>\n                </div>\n            </div>\n        </tab>\n        <tab>\n            <tab-heading><em translate="main.customer.IMPORT_DATA">导入数据</em></tab-heading>\n            <div class="new-export new-import clearfix">\n                <div class="custom-data"><span translate="main.customer.IMPORT_DATA_CAPABLE">可导入数据</span>：<span>{{customCount.count}}</span><!-- <span>上传外部表格</span> --></div>\n\n            </div>\n            <div class="import-container clearfix" style="text-align:center;" ng-show="importDatas">\n                <div class="select-scene fl" style="text-align:left;">\n                    <h2 translate="main.customer.SELECT_SCENE">1.选择新数据场景</h2>\n                    <ul style="height:489px;">\n                        <li ng-repeat="importData in importDatas" ng-click="selectScene(importData.ID,$index)" ng-class="{active: select == $index}"><span>{{importData.TITLE}}</span></li>\n                    </ul>\n                </div>\n                <div class="data-column ml20 mr20 fl">\n                    <h2 translate="main.customer.DRAG_DATA">2.拖拽导入的数据</h2>\n                    <ul class="item-remove-droppable" style="height:489px;overflow-y:auto;width:210px;" item-remove-droppable>\n                        <li item-draggable item-id="{{field.id}}" class="list_darggable" ng-repeat="field in fields"><span>{{field.title}}</span></li>\n                    </ul>\n                </div>\n                <div class="name-to-name fl">\n                    <h2 translate="main.customer.DRAG_NAME">3.拖入对应名称</h2>\n                    <div class="clearfix drag" style="height:489px;">\n                        <div >\n                            <ul>\n                                <li style="border-bottom:none;" class="clearfix" ng-repeat="staticFiled in staticFileds">\n                                    <div class="list-attribute fl" item-droppable item-id="{{staticFiled.id}}" translate="main.customer.DRAG_HERE">拖拽到此处</div>\n                                    <div class="list-field fr">{{staticFiled.name}}</div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="action" style="text-align:right" ng-show="importDatas">\n                <span style="padding-right:60px;" translate="main.customer.DRAG_TIP">拖拽名称标签放到右侧对应名称中</span>\n                <span style="padding-right:182px;" translate="main.customer.DELETE_TIP">导入后原场景数据不会删除</span>\n                <a type="button" class="btn btn-main" ng-click="confirm()" translate="main.customer.IMPORT">导入</a>\n            </div>\n        </tab>\n    </tabset>\n\n    <tabset class="nav-bg" type="bg" justified="false" ng-if="isAllowedToAccessGrouping && !editData">\n        <tab>\n            <tab-heading><em translate="main.customer.CUSTOM_INFO">客户信息</em></tab-heading>\n            <div ng-show = "dataShow == \'message\'">\n                <div class="new-export clearfix">\n                    <div class="fr">\n                        <eqx-select class="select-sm select-contain" model="customer.group" change="getDataBySceneId(pageNo,branchid,customer.group.id,customer.origin.ID)">\n                            <eqx-select-option value="null" translate="main.customer.ALL_GROUP">全部群组</eqx-select-option>\n                            <eqx-select-option value="mygroup" ng-repeat="mygroup in groups">{{mygroup.name}}</eqx-select-option>\n                        </eqx-select>\n                        <eqx-select class="select-sm select-contain" model="customer.origin" change="getDataBySceneId(pageNo,branchid,customer.group.id,customer.origin.ID)">\n                            <eqx-select-option value="null" translate="main.customer.ALL_ORIGIN">全部来源</eqx-select-option>\n                            <eqx-select-option value="myorigin" ng-repeat="myorigin in origins">{{myorigin.TITLE}}</eqx-select-option>\n                        </eqx-select>\n                        <a ng-show="branchExport" class="btn hint--bottom hint--rounded btn-primary" style="margin-left:1px;" ng-click="downLoad(customer.group.id,customer.origin.ID)" tooltip-placement="bottom" tooltip="将数据导出为excel文件" tooltip-append-to-body="true">\n                            <span class="eqf-up3"></span>\n                            <span class="data-out" translate="main.customer.EXPORT_EXCEL">导出Excel</span>\n                        </a>\n                    </div>\n                    <div>\n                        <a class="btn btn-primary" ng-click="dataShow = \'dataIn\'" ng-show="!hideOpea"><em translate="main.customer.IMPORT_DATA">导入数据</em></a>\n                    </div>\n                </div>\n                <div class="group-action clearfix" ng-if="!hideOpea">\n                    <div class="group-cat btn-group dropdown">\n                        <a class="dropdown-toggle" translate="main.customer.ADD_TO_GROUP">\n                            添加到组\n                        </a>\n                        <div class="dropdown-menu">\n                            <ul class="group-list group-item" role="menu">\n                                <li class="group-menu" ng-hide="$index==0" ng-repeat="group in groups" forbidden-close>\n                                    <div class="select-group">\n                                        <span class = "eqf-no" style="color:#ff0000" ng-click = "deleteGroup(group, $index);"></span>\n                                        <div class="checkbox-square customer-check fr" ng-class="{checked: group.selected}">\n                                            <em class="eqf-right4"></em>\n                                            <input class="check-box" type="checkbox" ng-model="group.selected" name="iCheck">\n                                        </div>\n                                        <div class="group-name fr">{{group.name}}</div>\n                                    </div>\n                                </li>\n                            </ul>\n                            <ul class="group-list">\n                                <li class="group-menu" forbidden-close ng-click="addGroup();">\n                                    <div class="select-group">\n                                        <em>+</em>\n                                        <span class="add-group" translate="main.customer.ADD_GROUP">添加分组</span>\n                                    </div>\n                                </li>\n                                <li>\n                                    <a class="confirm-add" ng-click="assignGroup();" translate="main.customer.ENSURE">确定</a>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="confirm-group"></div>\n                    </div>\n                    <span class="mul-del" ng-show="branchDelete" ng-click="deleteCustomer();" translate="main.customer.DELETE_CUSTOMER">删除</span>\n                </div>\n                <div ng-show="customerDatas" class="table-container">\n                    <table class="table table-hover customer-data-table" >\n                        <thead>\n                        <tr>\n                            <th ng-if="!hideOpea" class="col-sm-1 check-line">\n                                <div class="checkbox-square customer-check" ng-class="{checked: allImages.selected}">\n                                    <em class="eqf-right4"></em>\n                                    <input class="check-box" type="checkbox" ng-change="selectAll()" ng-model="allImages.selected" name="iCheck">\n                                </div>\n                            </th>\n                            <th translate="main.customer.CUSTOMER_NAME">姓名</th>\n                            <th translate="main.customer.CUSTOMER_MOBILE">手机</th>\n                            <th translate="main.customer.CUSTOMER_GROUP_NAME">客户群组</th>\n                            <th translate="main.customer.CUSTOMER_ORIGIN">客户来源</th>\n                            <th ng-if="!branchid" translate="main.customer.CUSTOMER_OPTION">管理</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr ng-repeat="customerData in customerDatas">\n                            <td ng-if="!hideOpea" class="check-line">\n                                <div class="checkbox-square" ng-class="{checked: customerData.selected}">\n                                    <em class="eqf-right4"></em>\n                                    <input type="checkbox" ng-model="customerData.selected" name="iCheck" ng-change="selectCustomer(customerData)">\n                                </div>\n                            </td>\n                            <td>{{customerData.name}}</td>\n                            <td>{{customerData.mobile}}</td>\n                            <td>{{customerData.groupName}}</td>\n                            <td>{{customerData.originName}}</td>\n                            <td ng-if="!branchid">\n                                <span ng-show="branchEdit" class="hint--bottom hint--rounded" data-hint ="{{\'main.customer.EDIT_CUSTOMER\' | translate}}">\n                                    <a class="eqf-write2" ng-click="editCustom(customerData, $index)"></a>\n                                </span>\n                                <span ng-show="branchDelete" class="hint--bottom hint--rounded" data-hint ="{{\'main.customer.DELETE_CUSTOMER\' | translate}}">\n                                    <a style="margin-left: 30px;" class="eqf-scene-delete" ng-click="removeCustomer(customerData)" ng-if="!hideOpea" ></a>\n                                </span>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                    <div ng-show="totalItems > 10" class="clearfix">\n                        <pagination style="float: left" first-text="{{\'main.customer.FIRST_PAGE\' | translate}}" last-text="{{\'main.customer.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="10" total-items="totalItems" ng-model="model.currentPage" ng-change="pageChanged(model.currentPage,branchid,customer.group.id,customer.origin.ID)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                        <div class="current_page">\n                            <input type="text" ng-model="model.toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID) : null">\n                            <a ng-click="pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID)" class="go">GO</a>\n                            <span><span translate="main.customer.CURRENT_PAGE1">当前</span>: {{model.currentPage}} / {{numPages}} <span translate="main.customer.CURRENT_PAGE2">页</span></span>\n                        </div>\n                    </div>\n                </div>\n                <div style="text-align:center;padding:20px 0;" ng-hide="customerDatas" translate="main.customer.NONE_CUSTOMER_LIST">暂无客户列表</div>\n            </div>\n            <div ng-show = "dataShow == \'dataIn\' && !hideOpea">\n                <div class="new-export new-import clearfix">\n                    <div class="custom-data">\n                        <em translate="main.customer.CUSTOM_DATA">可导入数据：</em>\n                            <span>{{customCount.unImp}}</span>\n                        <span style="cursor:pointer" ng-show="customCount.unImp < 1" ng-click="dataShow = \'message\'"><em translate="main.customer.BACK_UP">返回</em></span>\n                    </div>\n                </div>\n                <div class="import-container clearfix" style="text-align:center;" ng-show="importDatas">\n                    <div class="select-scene fl" style="text-align:left;">\n                        <h2 translate="main.customer.SELECT_SCENE">1.选择新数据场景</h2>\n                        <ul style="height:489px;overflow-y:auto;">\n                            <li ng-repeat="importData in importDatas" ng-click="selectScene(importData.ID,$index)" ng-class="{active: select == $index}"><span>{{importData.TITLE}}</span></li>\n                        </ul>\n                    </div>\n                    <div class="data-column ml20 mr20 fl">\n                        <h2 translate="main.customer.DRAG_DATA">2.拖拽导入的数据</h2>\n                        <ul class="item-remove-droppable" style="height:489px;overflow-y:auto;width:210px;" item-remove-droppable>\n                            <li item-draggable item-id="{{field.id}}" class="list_darggable" ng-repeat="field in fields"><span>{{field.title}}</span></li>\n                        </ul>\n                    </div>\n                    <div class="name-to-name fl">\n                        <h2 translate="main.customer.DRAG_NAME">3.拖入对应名称</h2>\n                        <div class="clearfix drag" style="height:489px;">\n                            <div >\n                                <ul>\n                                    <li style="border-bottom:none;" class="clearfix" ng-repeat="staticFiled in staticFileds">\n                                        <div class="list-attribute fl" item-droppable item-id="{{staticFiled.id}}" translate="main.customer.DRAG_HERE">拖拽到此处</div>\n                                        <div class="list-field fr">{{staticFiled.name}}</div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="action" style="text-align:right" ng-show="importDatas">\n                    <span style="padding-right:60px;" translate="main.customer.DRAG_TIP">拖拽名称标签放到右侧对应名称中</span>\n                    <span style="padding-right:182px;" translate="main.customer.DELETE_TIP">导入后原场景数据不会删除</span>\n                    <a type="button" class="btn-grey0" ng-click="dataShow = \'message\'"><em translate="main.customer.CANCEL">取消</em></a>\n                    <a type="button" class="btn-main" ng-click="confirm()" translate="main.customer.IMPORT">导入</a>\n                </div>\n            </div>\n        </tab>\n        <tab>\n            <tab-heading><em translate="main.customer.MY_DATA">我的数据</em></tab-heading>\n            <div class="my-customer-data table-container">\n                <table class="table table-hover" >\n                    <thead>\n                    <tr>\n                        <th translate="main.customer.DATA_NAME">名称</th>\n                        <th translate="main.customer.DATA_ORIGIN">来源</th>\n                        <th translate="main.customer.DATA_OPTION">操作</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr ng-repeat="datas in dataMessage" ng-class="{hovercolor: trIndex==$index}" ng-mouseenter="addColor($index)" ng-mouseleave="removeColor()">\n                        <td>{{datas.TITLE}}</td>\n                        <td translate="main.customer.FROM_SCENE">来自场景</td>\n                        <td><span class="hint--bottom hint--rounded" data-hint="{{\'main.customer.VIEW_DETAIL\' | translate}}"><a href="#/my/scene/{{datas.ID}}" class="eqf-date3"></a></span><span ng-show="branchExport" class="hint--bottom hint--rounded" data-hint="{{\'main.customer.DOWNLOAD_SCENE\' | translate}}"><a ng-click="sceneLoad(datas.ID)" class="eqf-download" style="margin-left:30px;"></a></span></td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </tab>\n    </tabset>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("main/main.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/main.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n\n<div id="main" class="min_contain">\n    <div class="main">\n        <div class="info">\n            <div class="content_center">\n                <ul ng-show = "showScene" ng-init="showScene=true;showCustomer=false" class="clearfix changjing-item">\n                    <li ng-if="!branchid" style = "float:right;">\n                        <a href="#/scene" class="hint&#45;&#45;right hint&#45;&#45;rounded" data-hint="{{\'main.CREATE_SCENE\' | translate}}">\n                            <div class="chuangjian"></div>\n                        </a>\n                    </li>\n                    <li>\n                        <span class="eqf-phone-v"></span>\n                        <div class="big-icon phone" ng-click="showTip()">\n                            <p class="num">{{allPageCount || 0 | fixnum}}</p>\n                            <p class="title" translate="main.SCENE_SUM">场景总计</p>\n                        </div>\n                    </li>\n                    <li>\n                        <a href="#/main/spread/statistics" class="hint--right hint--rounded" data-hint="{{\'main.VIEW_DETAIL\' | translate}}">\n                            <span class="eqf-eye-v"></span>\n                            <div class="big-icon eye">\n                                <p class="num">{{datasCount.pv || 0 | fixnum}}</p>\n                                <p class="title" translate="main.SCENE_PV">场景展示</p>\n                            </div>\n                        </a>\n                    </li>\n                    <li>\n                        <span class="eqf-date-v"></span>\n                        <div class="big-icon datas">\n                            <p class="num">{{datasCount.dt || 0 | fixnum}}</p>\n                            <p class="title" translate="main.SCENE_DATA">收集数据</p>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n        <!--广告条-->\n        <div class="ad" id="ad_001" slides3 style="margin-top:20px;" width="1000px" height="40px">\n            <div class="slides_container"></div>\n<!--             <a ng-href="{{adImages.url}}" target="_blank">\n                <img ng-src="{{adImages.path}}" alt="" width="1000px" height="40px">\n            </a> -->\n        </div>\n\n        <tabset justified="true">\n            <div class="content clearfix">\n\n                <div class="scene-type">\n                    <eqx-select class="select-sm select-contain" model="scene.type" change="getMyScenes()">\n                        <eqx-select-option value="null" translate="main.ALL">全部</eqx-select-option>\n                        <eqx-select-option value="type" ng-repeat="type in scene.types">{{type.name}}</eqx-select-option>\n                    </eqx-select>\n                    <div ng-if="false">\n                        <img ng-src="{{CLIENT_CDN}}assets/images/test.gif">\n                    </div>\n\n                    <div class="list-toggle" ng-click="listToggle()">\n                        <span ng-if="listType == false" class="eqf-top-background"></span>\n                        <span ng-if="listType == true" class="eqf-scene-list"></span>\n                    </div>\n                </div>\n\n                <div ng-hide="myScenes">\n                    <em translate="main.NONE_SCENE">该分类下还没有创建场景，</em>\n                    <span ng-if="!branchid"><em translate="main.CREATE_TIP">请</em>&nbsp;<a href="#/scene" translate="main.CREATE_SCENE">创建场景</a></span>\n                </div>\n\n                <div class="mask fl" ng-show="myScenes">\n                    <div ng-include="\'main/squareSceneList.tpl.html\'" ng-show="listType == true"></div>\n                    <div ng-include="\'main/recSceneList.tpl.html\'" ng-show="listType == false"></div>\n                </div>\n                <div class="clearfix" ng-show="totalItems > 12">\n                    <pagination style="float: left" first-text="{{\'main.FIRST_PAGE\' | translate}}" last-text="{{\'main.LAST_PAGE\' | translate}}" previous-text="<" next-text=">" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                    <div class="current_page">\n                        <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                        <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                        <span><span translate="main.CURRENT_PAGE1">当前</span>: <span>{{page.currentPage}}</span> / {{numPages}} <span translate="main.CURRENT_PAGE2">页</span></span>\n                    </div>\n                </div>\n            </div>\n        </tabset>\n        <!-- 系统消息 -->\n        <div class="sys-msg" ng-show="!!sysMsgs.length && openSysMsgDialog" sys-msg-adjust>\n            <div class="sys-msg-container" ng-class="{\'is-closed\': !openSysMsg}">\n                <ul class="messages">\n                    <li class="message" ng-repeat-start="sysMsg in sysMsgs">\n                        <span>{{($index + 1) + "."}}</span><span ng-bind-html="sysMsg.content"></span>\n                    </li>\n                    <li class="separator" ng-if="!$last" ng-repeat-end></li>\n                </ul>\n            </div>\n            <a class="btn btn-link msg" ng-click="openSysMsg =!openSysMsg" ng-hide="isSysMsgVeryShort">{{openSysMsg ? ("main.SYS_MESSAGE_COLLAPSE" | translate) : ("main.SYS_MESSAGE_EXPEND" | translate)}}</a>\n            <a class="btn btn-link msg-close" ng-click="closeSysMsgDialog()" translate="main.SYS_MESSAGE_CLOSE">关闭</a>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n<div ng-include="\'main/userGuide.tpl.html\'"></div>\n<div ng-include="\'usercenter/userCenterGuid.tpl.html\'"></div>')
            }]),
        b.module("main/recSceneList.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/recSceneList.tpl.html", '<ul class="rec-scene">\n    <li ng-repeat="scene in myScenes track by $index" class="mb20 p20">\n        <div class="scene-img">\n            <div ng-click="showDetail(scene.id)" class="scene_contain" ng-hover resource="scene">\n                <a>\n                    <div class="f1-card">\n                        <!--场景图片-->\n                        <div ng-show="!scene.show && (scene.status == 1 || scene.status == 2)" class="front face" ng-style="getStyle(scene.cover)"></div>\n                        <div ng-if="!scene.show && scene.status == -1" class="scene-status scene-status-1">\n                            <span class="eqf-clock-o"></span>\n                            <p translate="main.AUDIT_NOT_PASSED">场景未通过审核</p>\n                        </div>\n                        <div ng-if="!scene.show && scene.status == -2" class="scene-status scene-status-2">\n                            <span class="eqf-glyphicon-ban"></span>\n                            <p translate="main.AUDIT_IN_PROGRESS">场景正在审核中</p>\n                        </div>\n                        <!--场景对应的二维码图片-->\n                        <div ng-show="scene.show" class="face front qrcode" qr-code qr-url="{{canvasUrl + \'/s/\' + scene.code}}">\n                        </div>\n                    </div>\n                </a>\n            </div>\n        </div>\n        <div class="scene-data">\n            <div class="scene-data-header">\n                <div class="scene-info ml20">\n                    <span class="item-title">{{scene.name}}</span>\n                    <p class="item_title" ng-class="{\'scene-description\': scene.description}" ng-model = "scene.description">{{scene.description?scene.description:(\'main.NO_DESCRIPTION\' | translate)}}</p>\n                </div>\n                <div class="bottom-info">\n                    <div style = "cursor: pointer;">\n                        <div ng-if="(!scene.publishTime || scene.updateTime > scene.publishTime) && scene.status != -1 && scene.status != -2">\n                            <div class="switch-disable switch hint--left hint--rounded" data-hint="场景未发布">\n                                <div class="circle-con">\n                                    <i class="circle"></i>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="!branchid && (scene.status == 1 || scene.status == 2)" >\n                            <div ng-if="scene.publishTime && scene.publishTime >= scene.updateTime" data-hint="{{scene.status == 1 ? (\'main.CLOSE_SCENE\' | translate) : (\'main.OPEN_SCENE\' | translate)}}" class="hint--left hint--rounded switch-open switch" ng-class="{\'switch-open\': scene.status == 1, \'switch-close\' : scene.status == 2}" ng-click="openScene(scene, scene.status == 2)">\n                                <div class="circle-con">\n                                    <i class="circle"></i>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="branchid">\n                            <span ng-if="scene.status == 1 && scene.publishTime && (scene.publishTime >= scene.updateTime)" data-hint="场景已开放" class="hint--bottom hint--rounded switch-open switch">\n                                <div class="circle-con">\n                                    <i class="circle"></i>\n                                </div>\n                            </span>\n                            <span ng-if="scene.status == 2 && scene.publishTime && (scene.publishTime >= scene.updateTime)" data-hint="场景已关闭" class="hint--bottom hint--rounded switch-close switch">\n                                <div class="circle-con">\n                                    <i class="circle"></i>\n                                </div>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="scene-data-footer">\n                <div class="user-param ml20">\n                        <a ng-href="#/main/spread/statistics/{{scene.id}}"><span class="eqf-eye2"></span><em>{{scene.showCount | fixnum}}</em></a>\n                        <a ng-show="scene.dataCount > 0" ng-href="#/my/scene/{{scene.id}}"><span class="eqf-equalizer"></span><em>{{scene.dataCount | fixnum}}</em></a>\n                </div>\n                <ul class="user-operate-site" role="menu" ng-if="!branchid">\n                    <li ng-click="deleteScene($event,scene.id)" data-hint="{{\'main.DELETE\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-scene-delete"></span><span class="delete"></span>\n                    </li>\n                    <li ng-if="scene.isTpl == 3 && userProperty.type ==2 && scene.status != -1 && scene.status != -2" ng-click="clearCompanyTpl($event,scene.id,$index)" data-hint="{{\'main.CANCEL_COMPANY_TPL\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-scene-company"></span><span class="companytpl"></span>\n                    </li>\n                    <li ng-if="scene.isTpl == 0 && userProperty.type ==2 && scene.status != -1 && scene.status != -2" ng-click="creatCompanyTpl($event,scene.id,$index)" data-hint="{{\'main.GENERATE_COMPANY_TPL\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-scene-company"></span>\n                    </li>\n                    <li ng-if="isAllowedToAccessTransfer && scene.status != -1 && scene.status != -2" ng-click="transferScene($event,scene.id)" data-hint="{{\'main.SEND\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-scene-gift"></span><span class="song"></span>\n                    </li>\n                    <li ng-if="scene.status != -1 && scene.status != -2" ng-click="copyScene($event,scene.id)" data-hint="{{\'main.COPY\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-scene-copy"></span><span class="copy"></span>\n                    </li>\n                    <li ng-if="(!scene.publishTime || scene.updateTime > scene.publishTime) && scene.status != -1 && scene.status != -2" ng-click="publishScene($event,scene)" data-hint="{{\'main.PUBLISH\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-scene-send"></span><span class="publish"></span>\n                    </li>\n                    <li ng-click="sceneSettings($event,scene.id)" data-hint="{{\'main.SETTING\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-scene-setting"></span><span class="set"></span>\n                    </li>\n                    <li ng-click="editScene($event,scene.id)" data-hint="{{\'main.EDIT\' | translate}}" class="hint--top hint--rounded">\n                        <span class="eqf-write2"></span><span class="edit"></span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </li>\n</ul>');
            }]),
        b.module("main/spread.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/spread.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id="spread" class="main clearfix">\n    <div class="spread-content">\n        <div class="content_center">\n            <ul class="clearfix">\n                <li>\n                    <a href="#/main" class="hint--left hint--rounded" data-hint ="{{\'main.spread.statistics.VIEW_DETAIL\' | translate}}">\n                        <span class="eqf-phone-v"></span>\n                        <div class="big-icon phone">\n                            <p class="num">{{allPageCount || 0 | fixnum}}</p>\n                            <p translate="main.spread.statistics.SCENE_COUNT">场景总计</p>\n                        </div>\n                    </a>\n                </li>\n                <li>\n                    <a href="#/main" class="hint--left hint--rounded" data-hint ="{{\'main.spread.statistics.VIEW_DETAIL\' | translate}}">\n                        <span class="eqf-clound-v"></span>\n                        <div class="big-icon kai">\n                            <p class="num">{{datasCount.open || 0 | fixnum}}</p>\n                            <p translate="main.spread.statistics.SCENE_OPEN">开放场景</p>\n                        </div>\n                    </a>\n                </li>\n                <li>\n                    <span class="eqf-eye-v"></span>\n                    <div class="big-icon eye">\n                        <p class="num">{{datasCount.pv || 0 | fixnum}}</p>\n                        <p translate="main.spread.statistics.SCENE_VIEW">场景展示</p>\n                    </div>\n                </li>\n                <li>\n                    <span class="eqf-date-v"></span>\n                    <div class="big-icon datas">\n                        <p class="num">{{datasCount.dt || 0 | fixnum}}</p>\n                        <p translate="main.spread.statistics.COLLECTED_DATA">已收集数据</p>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="mt20">\n        <div class="chang-contain">\n            <ul class="nav nav-bg">\n                <li ng-class="{active : tabid == \'statistics\'}" ng-click="spreadStatic();">\n                    <a translate="main.spread.statistics.SPREAD_STATIC">效果统计</a>\n                </li>\n                <li  ng-class="{active : tabid == \'expand\'}" ng-click="spreadExpand();">\n                    <a translate="main.spread.statistics.SPREAD_EXPAND">推广方法</a>\n                </li>\n            </ul>\n            <div class="tab-contain">\n                <div class="clearfix" ng-show="tabid == \'statistics\'">\n                    <div ng-show="showSpreadTable">\n                        <div ng-include = "\'main/tab/sceneStatistics.tpl.html\'" ng-controller="SceneStatisticCtrl"></div>\n                    </div>\n                    <div ng-show="!showSpreadTable">\n                        <div ng-include = "\'main/tab/dataDetail.tpl.html\'" ng-controller="DataDetailCtrl"></div>\n                    </div>\n                </div>\n                <div class="tuiguang-content" ng-show="tabid == \'expand\'">\n                    <div ng-include = "\'main/tab/spreadMethod.tpl.html\'" ng-controller="SpreadMethodCtrl"></div>\n                </div>\n            </div> \n        </div>                 \n    </div>   \n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
            }]),
        b.module("main/spreadDetail.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/spreadDetail.tpl.html", '<div id="spread" class="main clearfix">\n    <div class="spread_content">\n        <div class="chang_contain">\n            <div class="tab_two clearfix" ng-init="tabclass=\'tongji\'">\n                <div ng-class="{hover: tabclass == \'tongji\'}" ng-click="tabclass=\'tongji\'" translate="main.spread.expand.EFFECT_STATISTICS">效果统计</div>\n                <div ng-class="{hover: tabclass == \'tuiguang\'}" ng-click="tabclass= \'tuiguang\'" translate="main.spread.expand.PROMOTION_METHOD">推广方法</div>\n            </div>\n            <div class="tab_contain">\n                <div class="changjing_tongji clearfix" ng-show="tabclass == \'tongji\'">\n\n\n                </div>\n                <div class="tuiguang_content" ng-show="tabclass == \'tuiguang\'"></div>\n            </div> \n        </div>                 \n    </div>   \n</div>')
            }]),
        b.module("main/squareSceneList.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/squareSceneList.tpl.html", '<ul class="square-scene">\n    <li ng-repeat="scene in myScenes track by $index" ng-class="{mr0: $index%4 == 3}">\n        <div ng-click="showDetail(scene.id)" class="scene-contain" ng-mouseenter="showBtnGroup = true ; bottomShadow = true" ng-mouseleave="showBtnGroup = false ; bottomShadow = false">\n            <a>\n                <div class="f1-card">\n                    <!--<div ng-show="!scene.show" class="front face" ng-style="getStyle(scene.cover)" style="width:235px;height:235px;"></div>-->\n                    <div ng-show="!scene.show && (scene.status == 1 || scene.status == 2)" class="front face" ng-style="getStyle(scene.cover)"></div>\n                    <div ng-if="!scene.show && scene.status == -1" class="scene-status scene-status-1">\n                        <span class="eqf-clock-o"></span>\n                        <p translate="main.AUDIT_NOT_PASSED">场景未通过审核</p>\n                    </div>\n                    <div ng-if="!scene.show && scene.status == -2" class="scene-status scene-status-2">\n                        <span class="eqf-glyphicon-ban"></span>\n                        <p translate="main.AUDIT_IN_PROGRESS">场景正在审核中</p>\n                    </div>\n                    <div ng-show="scene.show" class="face front qrcode" qr-code qr-url="{{canvasUrl + \'/s/\' + scene.code}}">\n                    </div>\n                </div>\n            </a>\n            <a class="btn btn-border btn-sm" ng-click="editScene($event,scene.id)" ng-if="showBtnGroup == true && !branchid">\n                <span class="eqf-write2"></span><em translate="main.EDIT">编辑</em>\n            </a>\n            <ul ng-if="showBtnGroup == true && !branchid">\n                <li ng-click="sceneSettings($event,scene.id)" data-hint="{{\'main.SETTING\' | translate}}" class="hint--top hint--rounded">\n                    <span class="eqf-scene-setting" ></span>\n                </li>\n                <li ng-if="(!scene.publishTime || scene.updateTime > scene.publishTime) && scene.status != -1 && scene.status != -2" ng-click="publishScene($event,scene)" data-hint="{{\'main.PUBLISH\' | translate}}" class="hint--top hint--rounded">\n                    <span class="eqf-scene-send"></span>\n                </li>\n                <li ng-if="scene.status != -1 && scene.status != -2" ng-click="copyScene($event,scene.id)" data-hint="{{\'main.COPY\' | translate}}" class="hint--top hint--rounded">\n                    <span class="eqf-scene-copy"></span>\n                </li>\n                <li ng-if="isAllowedToAccessTransfer && scene.status != -1 && scene.status != -2" ng-click="transferScene($event,scene.id)" data-hint="{{\'main.SEND\' | translate}}" class="hint--top hint--rounded">\n                    <span class="eqf-scene-gift"></span>\n                </li>\n                <li ng-if="scene.isTpl == 0 && userProperty.type ==2 && scene.status != -1 && scene.status != -2" ng-click="creatCompanyTpl($event,scene.id,$index)" data-hint="{{\'main.GENERATE_COMPANY_TPL\' | translate}}" class="hint--top hint--rounded">\n                    <span class="eqf-scene-company"></span>\n                </li>\n                <li ng-if="scene.isTpl == 3 && userProperty.type ==2 && scene.status != -1 && scene.status != -2" ng-click="clearCompanyTpl($event,scene.id,$index)" data-hint="{{\'main.CANCEL_COMPANY_TPL\' | translate}}" class="hint--top hint--rounded">\n                    <span class="eqf-scene-company"></span>\n                </li>\n                <li ng-click="deleteScene($event,scene.id)" data-hint="{{\'main.DELETE\' | translate}}" class="hint--top hint--rounded scene-delete">\n                    <span class="eqf-scene-delete">\n                </li>\n            </ul>\n        </div>\n        <div class="scene-desc" title="{{scene.name}}">\n            <span class="item_title">{{scene.name}}</span>\n            <em data-hint="{{\'main.QR_CODE\' | translate}}" class="hint--top hint--rounded weixin" title="">\n                <span class="eqf-code" ng-hover  resource="scene"></span>\n            </em>\n        </div>\n        <div class="bottom-info">\n            <div class="control-btn">\n                <div ng-if="(!scene.publishTime || scene.updateTime > scene.publishTime) && scene.status != -1">\n                    <span data-hint="{{\'main.UNPUBLISHED\' | translate}}" class="hint--bottom hint--rounded"  >\n                        <em class="scene-none-btn"></em>\n                    </span>\n                </div>\n                <div ng-if="!branchid" class="release-btn">\n                    <span ng-if = "scene.publishTime && scene.status == 1 && (scene.publishTime >= scene.updateTime)"  ng-click = "openScene(scene, false)" data-hint="{{\'main.CLOSE_SCENE\' | translate}}" class="hint--bottom hint--rounded"  >\n                        <em class="scene-open-btn"></em>\n                    </span>\n                    <span ng-if = "scene.publishTime && scene.status == 2 && (scene.publishTime >= scene.updateTime)"  ng-click = "openScene(scene, true)" data-hint="{{\'main.OPEN_SCENE\' | translate}}" class="hint--bottom hint--rounded">\n                        <em class="scene-close-btn"></em>\n                    </span>\n                </div>\n                <div ng-if="branchid" class="release-btn">\n                    <span ng-if="scene.status == 1 && scene.publishTime && (scene.publishTime >= scene.updateTime)" data-hint="场景已开放" class="hint--bottom hint--rounded"><em class="scene-open-btn"></em></span>\n                    <span ng-if="scene.status == 2 && scene.publishTime && (scene.publishTime >= scene.updateTime)" data-hint="场景已关闭" class="hint--bottom hint--rounded"><em class="scene-close-btn"></em></span>\n                </div>\n            </div><!-- ng-href="#/main/spread/statistics/{{scene.id}}"-->\n            <a class="square-scene-data" ng-click="viewDetail(scene.id)"><span class="eqf-eye2"></span><em  style="line-height: 12px;">{{scene.showCount | fixnum}}</em></a>\n            <a ng-show="scene.dataCount > 0" class="square-scene-data" ng-href="#/my/scene/{{scene.id}}"><span class="eqf-equalizer"></span><em>{{scene.dataCount | fixnum}}</em></a>\n        </div>\n\n    </li>\n</ul>')
            }]),
        b.module("main/tab/dataDetail.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/tab/dataDetail.tpl.html", '<div class="detail-panel">\n  <div class="spread-ge">\n    <div>\n        <div class="detail-info ml20"><img ng-src="{{PREFIX_FILE_HOST + scene.cover}}"/></div>\n        <div class="scene-info">\n            <p>{{scene.name}}</p>\n            <table>\n                <tr><td><span translate="main.spread.statistics.SCENE_URL">场景网址</span>：{{url + \'/s/\' + scene.code}}</td><td><span translate="main.spread.statistics.SCENE_STATE">场景状态</span>：<span ng-show="scene.status == \'1\'" class="text-primary" translate="main.spread.statistics.SCENE_STATE_OPEN">开放</span><span ng-show="scene.status == \'2\'" translate="main.spread.statistics.SCENE_STATE_CLOSE">关闭</span></td></tr>\n                <tr><td><span translate="main.spread.statistics.SCENE_TYPE">场景类型</span>：{{sceneType}}</td><td><span translate="main.spread.statistics.WEB_TYPE">网址类型</span>：主网址</td></tr>\n                <tr><td><span translate="main.spread.statistics.UPDATE_DATE">修改时间</span>：{{scene.updateTime | date:\'yyyy年MM月dd日\'}}</td><td><span translate="main.spread.statistics.CREATE_DATE">创建时间</span>：{{scene.createTime | date:\'yyyy年MM月dd日\'}}</td></tr>\n            </table>\n        </div>\n    </div>\n  </div>\n</div>                        \n<div class="tab-view ml20 mr20 mt20">  \n    <ul class="nav nav-tabs" ng-init="tabid=\'viewinfo\'">\n        <li ng-class="{active: tabid == \'viewinfo\'}"><a ng-click="tabid=\'viewinfo\'">访问概况</a></li>\n        <li ng-class="{active: tabid == \'mobileinfo\'}"><a ng-click="tabid=\'mobileinfo\'">移动访问</a></li>\n        <li ng-class="{active: tabid == \'viewclick\'}"><a ng-click="tabid=\'viewclick\'">内容统计</a></li>\n        <!-- <li ng-class="{active: tabid == \'viewDevice\'}"><a ng-click="tabid=\'viewDevice\';getDeviceDate(scene.id,-7, 0)">设备统计</a></li> -->\n        <!-- <li ng-class="{active: tabid == \'regionalStatistics\'}"><a ng-click="tabid=\'regionalStatistics\'">地域统计</a></li> -->\n    </ul>\n</div>\n<div class="spread-contain ml20 mr20">\n    <div class="view-info clearfix day-spread text-left" ng-show="tabid != \'regionalStatistics\' ">\n        <div class="btn-group" ng-init="interval=7" ng-hide="tabid == \'viewDevice\'">\n            <button class="btn btn-default button-sm" ng-class="{active: interval==1 }" ng-click="getAllStats(scene.id,-1, 0,branchid);interval=1">昨天</button>\n            <button class="btn btn-default button-sm" ng-class="{active: interval==7 }" ng-click="getAllStats(scene.id,-7, 0,branchid);interval=7">7天</button>\n            <button class="btn btn-default button-sm" ng-class="{active: interval==15 }" ng-click="getAllStats(scene.id,-15, 0,branchid);interval=15">15天</button>\n            <button class="btn btn-default button-sm" ng-class="{active: interval==30 }" ng-click="getAllStats(scene.id,-30, 0,branchid);interval=30">30天</button>\n            <button class="btn btn-default button-sm" ng-class="{active: interval==90 }" ng-click="getAllStats(scene.id,-90, 0,branchid);interval=90">90天</button>\n            <button class="btn btn-default button-sm" ng-class="{active: interval==180 }" ng-click="getAllStats(scene.id,-180, 0,branchid);interval=180">180天</button>\n            <button class="btn btn-default button-sm" ng-class="{active: interval==360 }" ng-click="getAllStats(scene.id,-360, 0,branchid);interval=360">360天</button>\n        </div>\n        <div class="btn-group" ng-init="intervals=7" ng-show="tabid == \'viewDevice\'">\n            <button ng-class="{active: intervals==1 }" ng-click="getDeviceDate(scene.id,-1, 0);intervals=1" class="btn btn-default button-sm">昨天</button>\n            <button ng-class="{active: intervals==7 }" ng-click="getDeviceDate(scene.id,-7, 0);intervals=7" class="btn btn-default button-sm">7天</button>\n            <button ng-class="{active: intervals==30 }" ng-click="getDeviceDate(scene.id,-30,0);intervals=30" class="btn btn-default button-sm">30天</button>\n        </div>    \n        <div class="fr">\n            <div class="btn-group" ng-show="tabid == \'viewclick\'">\n           </div>       \n            <div class="btn-group" ng-show="tabid == \'mobileinfo\'">\n                <button ng-click="showLine();" ng-class="{active:viewStyle == \'line\'}" class="btn btn-default button-sm">线型</button>\n                <button ng-click="showPie();" ng-class="{active:viewStyle == \'pie\'}" class="btn btn-default button-sm">饼状</button>\n            </div>\n        </div>\n    </div>\n    <div class="view-info" ng-show="tabid == \'viewinfo\'">\n        <div class="panel-body">\n                <eqd-line-chart legend=\'["场景展示","数据收集"]\' option="{{dataLineChartDataOption}}" ></eqd-line-chart>   \n        </div>\n    </div>\n    <div class="view-info" ng-if="tabid == \'mobileinfo\'">\n        <div class="panel-body">\n                <div ng-show="viewStyle == \'line\'">\n                    <eqd-line-chart legend=\'["微信朋友圈","微信群","微信朋友","其他访问"]\' option="{{dataMobileChartOption}}" ></eqd-line-chart>                                     \n                </div>                \n                <div ng-show="viewStyle == \'pie\'" class="pie clearfix">\n                    <eqd-pie-chart data="{{dataPieChart}}" name="访问来源"></eqd-pie-chart> \n                </div>\n        </div>\n    </div>     \n    <div class="view-info" ng-show="tabid == \'viewclick\'">\n        <div class="panel-body">\n            <!-- <div ui-grid="spreadClickGridOptions" class="myGrid1" ng-show="spreadClickGridOptions.data && spreadClickGridOptions.data.length>0"></div> -->\n            <eqd-line-chart option="{{contentDataOption}}" legend=\'["电话直播","按钮点击"]\' ></eqd-line-chart>\n        </div>\n    </div>\n    <!-- <div class="map-view" ng-show="tabid==\'regionalStatistics\'">\n        <div class="container-fluid">\n            <div class="row-fluid example">\n                <div id="graphic" class="col-md-8">\n                    <div class="btn-group mt20">\n                       <button ng-click="changeMap(1)" class="btn btn-default button-sm" ng-class="{active:startDay==1}">昨天</button>\n                       <button ng-click="changeMap(7)" class="btn btn-default button-sm" ng-class="{active:startDay==7}">7天</button>\n                       <button ng-click="changeMap(30)" class="btn btn-default button-sm" ng-class="{active:startDay==30}">30天</button>\n                    </div>\n                    <eqd-map option="{{mapOption}}" ></eqd-map>\n                    <div class="pv-table">\n                        <table class="table">\n                                <tr>\n                                    <th>地域</th>\n                                    <th>访问量</th>\n                                </tr>\n                                <tr ng-repeat="data in pageData">\n                                    <td>{{data.name}}</td>\n                                    <td>{{data.value}}</td>\n                                </tr>\n                        </table>\n                        <div ng-show="totalItems > 10" class="clearfix">\n                            <pagination style="float: left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" last-text="{{\'my.scene.LAST_PAGE\' | translate}}" previous-text="{{\'my.scene.PREVIOUS_PAGE\' | translate}}" next-text="{{\'my.scene.NEXT_PAGE\' | translate}}" max-size="10" items-per-page="10" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                            <div class="current_page">\n                                <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                                <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                                <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{page.currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n    <div class="view-info" ng-show="tabid == \'viewDevice\'">\n        <div class="panel-body">\n            <eqd-pie-chart data="{{sceneDeviceData}}" name="设备"></eqd-pie-chart>\n        </div>\n    </div>    \n</div>\n<div class="expand-list clearfix" ng-show="isAllowedToAccessExpandWebsite">\n    <table class="table table-hover mt20">\n        <tr>\n            <th translate="main.spread.statistics.SCENE_NAME">场景名称</th>\n            <th translate="main.spread.statistics.SCENE_ADDRESS">场景地址</th>\n            <th translate="main.spread.statistics.SCENE_VIEW">场景展示</th>\n            <th translate="main.spread.statistics.WEB_TYPE">网址类型</th>\n            <th translate="main.spread.statistics.OPTION">操作</th>\n        </tr>\n        <tr class="spread-detail">\n            <td>{{scene.name}}</td>\n            <td>{{url + \'/s/\' + scene.code}}</td>\n            <td>{{scene.showCount}}</td>\n            <td>主网址</td>\n            <td><a ng-click="viewExpandDetail();$parent.interval=7;"><span translate="main.spread.statistics.LOOK_UP">查看</span></a></td>\n        </tr>\n        <tr class="spread-detail" ng-repeat="expandWeb in expandWebs track by $index" ng-class="{\'spread-detail\': selectIndex == $index}">\n            <td>{{expandWeb.name}}</td>\n            <td>{{url + \'/s/\' + scene.code + \'?qrc=\' + expandWeb.id}}</td>\n            <td>{{expandWeb.showCount}}</td>\n            <td>扩展网址</td>\n            <td><a ng-click="viewExpandDetail(expandWeb.id, $index);$parent.interval=7;">查看</a></td>\n        </tr>\n    </table>\n</div>')
            }]),
        b.module("main/tab/ercode.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/tab/ercode.tpl.html", '<div class="tuiguang-same" ng-controller="ErCodeCtrl" class="pb20">\n    <h4><span translate="main.spread.expand.QR_CODE">二维码</span></h4>\n    <div class="weixin-list" >\n        <p class="mb20" translate="main.spread.expand.QR_CODE_DESCRIPTION">特色二维码，可以下载场景大尺寸二维码,用于印刷。只需要选择你需要的场景即可！</p>\n        <div class="mb20 select-scene">\n        <a ng-click="open=!open;selectScene()" class="btn btn-primary"><span translate="main.spread.expand.SELECT_SCENE">选择场景</span></a>\n        </div>\n        <div ng-show="open">\n            <table class="table">\n                <tr>\n                    <th translate="main.spread.expand.SCENE_NAME">场景名称</th>\n                    <th translate="main.spread.expand.SCENE_LINK">场景链接</th>\n                    <th translate="main.spread.expand.SCENE_OPTION">场景操作</th>\n                </tr>  \n                <tr ng-repeat="myScene in spreadDatas">\n                    <td>{{myScene.name}}</td>\n                    <td>{{myScene.link}}</td>\n                    <td>\n                        <a ng-href="{{myScene.link}}" translate="main.spread.expand.PREVIEW">预览</a>\n                        <a href="" ng-click="select(myScene)" translate="main.spread.expand.SELECT">选择</a>\n                    </td>\n                </tr> \n            </table>\n            <div class="clearfix" ng-show="totalItems > 10">\n                <pagination class="mb20" style="float: left" first-text="{{\'main.spread.expand.FIRST_PAGE\' | translate}}" last-text="{{\'main.spread.expand.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="10" ng-change="pageChanged(page.currentPage)" total-items="totalItems" ng-model="page.currentPage" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                <div class="current_page mb20">\n                    <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                    <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                    <span><span translate="main.spread.expand.CURRENT_PAGE1">当前</span>: {{page.currentPage}} / {{numPages}} <span translate="main.spread.expand.CURRENT_PAGE1">页</span></span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="weixin-list" ng-if="selectedUrl">\n        <div>\n            <div class="clearfix">\n                <span class="select-url pr20">\n                    <div qr-code qr-url="{{selectedUrl}}"></div>\n                </span>\n                <div class="download">\n                    <div>\n                        <div class="qr-size" qr-code-size="256" qr-url="{{selectedUrl}}"></div>\n                        <a download-canvas target="_blank" download><em translate="main.spread.expand.QR_CODE_SIZE1">下载小尺寸二维码</em><br />\n                            <span translate="main.spread.expand.QR_CODE_SIZE1_DES">宽256px,适合置入文档</span>\n                        </a>\n                    </div>\n                    <div class="mt20 mb20">\n                        <div class="qr-size" qr-code-size="512" qr-url="{{selectedUrl}}"></div>\n                        <a download-canvas target="_blank" download><em translate="main.spread.expand.QR_CODE_SIZE2">下载中尺寸二维码</em><br />\n                            <span translate="main.spread.expand.QR_CODE_SIZE2_DES">宽512px,适合插入PPT</span>\n                        </a>\n                    </div>\n                    <div>\n                        <div class="qr-size" qr-code-size="1024" qr-url="{{selectedUrl}}"></div>\n                        <a download-canvas target="_blank" download><em translate="main.spread.expand.QR_CODE_SIZE3">下载大尺寸二维码</em><br />\n                            <span translate="main.spread.expand.QR_CODE_SIZE3_DES">宽1024px,适合海报印刷</span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>                                                  \n</div>')
            }]),
        b.module("main/tab/qrcode.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/tab/qrcode.tpl.html", '<div class="tuiguang-same" ng-controller="QrCodeCtrl">\n    <div class="weixin-list expand-contain">\n        <p class="mt20 mb20" translate="main.spread.expand.EXTEND_URL_DESCRIPTION">生成扩展网址二维码，可以用于不同渠道，可以清晰统计每个渠道数据信息</p>\n        <a class="back" ng-click="showExpandWebs=false;" ng-show="showExpandWebs">\n            <span class="eqf-back"></span>\n            <span translate="main.spread.expand.BACK_UP">返回场景列表</span>\n        </a>\n        <div ng-show="!showExpandWebs">\n            <table class="table table-bordered">\n                <tr>\n                    <th translate="main.spread.expand.SCENE">场景</th>\n                    <th translate="main.spread.expand.SHOW_TIMES">展示次数</th>\n                    <th translate="main.spread.expand.EXTEND_TIMES">扩展网址展示次数</th>\n                    <th translate="main.spread.expand.CONVERSION_RATE">转化率</th>\n                    <th translate="main.spread.expand.OPTION">设置</th>\n                </tr>  \n                <tr ng-repeat="myScene in myScenes">\n                    <td class="text-left">\n                        <img class="img-bre" ng-src="{{PREFIX_FILE_HOST + myScene.cover}}">\n                        <div class="name" title="{{myScene.name}}">\n                            {{myScene.name}}\n                        </div>\n                        <div class="link">\n                            {{myScene.link}}\n                        </div>\n                    </td>\n                    <td>{{myScene.showCount}}</td>\n                    <td>{{myScene.isShow || 0}}</td>\n                    <td>{{myScene.showCount == 0 ? "0.00%":(myScene.dataCount * 100/myScene.showCount).toFixed(2) + "%"}}</td>\n                    <td ng-click="showExpandList(myScene);">\n                        <a>\n                            <span class="eqf-scene-settingII"></span>\n                        </a>\n                    </td>\n                </tr> \n            </table>\n            <div class="clearfix" ng-show="totalItems > 10">\n                <pagination class="mb20" style="float: left" first-text="{{\'main.spread.expand.FIRST_PAGE\' | translate}}" last-text="{{\'main.spread.expand.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="10" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true"  rotate="true" num-pages="numPages"></pagination>\n                <div class="current_page mb20">\n                    <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                    <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                    <span><span translate="main.spread.expand.CURRENT_PAGE1">当前</span>: {{page.currentPage}} / {{numPages}} <span translate="main.spread.expand.CURRENT_PAGE2">页</span></span>\n                </div>\n            </div>\n        </div>\n        <div class="expand-webs" ng-show="showExpandWebs">\n            <div class="main-scene clearfix">\n                <img ng-src="{{PREFIX_FILE_HOST + selectScene.cover}}">\n                <div class="main-scene-info">\n                    <div>\n                        <span>{{selectScene.name}}</span>\n                    </div>\n                    <div class="line"></div>\n                    <div class="clearfix main-scene-panel">\n                        <div class="main-scene-form">\n                            <span><em translate="main.spread.expand.SCENE_URL">场景网址</em>：{{selectScene.link}}</span>\n                            <span><em translate="main.spread.expand.SCENE_TYPE">场景类型</em>：{{sceneType}}</span>\n                            <span><em translate="main.spread.expand.UPDATE_DATE">修改时间</em>：{{selectScene.updateTime | date:\'yyyy年MM月dd日\'}}</span>\n                        </div>\n                        <div class="main-scene-form">\n                            <span ng-show="selectScene.status == \'1\'" ng-class="text-primary" translate="main.spread.expand.SCENE_STATE1">\n                                场景状态：开放\n                            </span>\n                            <span ng-show="selectScene.status == \'2\'" translate="main.spread.expand.SCENE_STATE2">场景状态：关闭</span>\n                            <span ng-show="selectScene.status == \'-1\'" translate="main.spread.expand.SCENE_STATE3">场景状态：未通过审核</span>\n                            <span ng-show="selectScene.status == \'-2\'" translate="main.spread.expand.SCENE_STATE4">场景状态：审核中</span>\n                            <span translate="main.spread.expand.WEB_TYPE">网址类型：主网址</span>\n                            <span><em translate="main.spread.expand.CREATE_DATE">创建时间</em>：{{selectScene.createTime | date:\'yyyy年MM月dd日\'}}</span>\n                            <div class="add-extend">\n                                <a class="btn btn-primary" ng-click="addExpandWeb(expandWebs)" translate="main.spread.expand.ADD_EXTEND_URL" ng-show="!branchid">添加扩展网址</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="line"></div>\n            <div width="100%" class="expand-panel">\n                <ul auto-focus-selected>\n                    <li ng-repeat="expandWeb in expandWebs track by $index">\n                        <div class="pl20 pr20 pt20">\n                            <div class="qr-code" qr-code  qr-url="{{selectedUrl + (expandWeb.id ? (\'?qrc=\' + expandWeb.id) : \'\')}}">\n                            </div>\n                            <div>\n                            <form class="form-horizontal"><!--expand-form -->\n                                <div class="form-group">\n                                    <span class="col-sm-4 control-label">场景名称</span>\n                                    <div class="col-sm-8">\n                                    <input type="text" ng-model="expandWeb.name" ng-blur="updateName(expandWeb)" class="expand-name form-control" />\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <span class="col-sm-4 control-label">场景网址</span>\n                                    <div class="col-sm-8">\n                                    <input type="text" ng-model="expandWeb.url" disable-edit class="form-control" />\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <span class="col-sm-4 control-label">展示次数</span>\n                                    <div class="col-sm-8" style="margin-top:8px;">{{expandWeb.showCount}}</div>\n                                </div>\n                            </form>\n                            </div>\n                        </div>\n                        <div class="download-contain">\n                            <div class="download-canvas">\n                                <div class="square">\n                                    <div class="radio-square ml20" ng-class="{checked:expandWeb.downloadSize==\'small\'}">\n                                        <em></em>\n                                        <input type="radio" ng-model="expandWeb.downloadSize" value="small" />\n                                    </div>\n                                    <label class="hint--bottom hint--rounded" data-hint="{{\'main.spread.expand.DOWNLOAD_SIZE1_TIP\' | translate}}" translate="main.spread.expand.DOWNLOAD_SIZE1">小</label>\n                                    <div class="radio-square ml20" ng-class="{checked:expandWeb.downloadSize==\'middle\'}">\n                                        <em></em>\n                                        <input type="radio" ng-model="expandWeb.downloadSize" value="middle" />\n                                    </div>\n                                    <label class="hint--bottom hint--rounded" data-hint="{{\'main.spread.expand.DOWNLOAD_SIZE2_TIP\' | translate}}" translate="main.spread.expand.DOWNLOAD_SIZE2">中</label>\n                                    <div class="radio-square ml20" ng-class="{checked:expandWeb.downloadSize==\'big\'}">\n                                        <em></em>\n                                        <input type="radio" ng-model="expandWeb.downloadSize" value="big" />\n                                    </div>\n                                    <label class="hint--bottom hint--rounded" data-hint="{{\'main.spread.expand.DOWNLOAD_SIZE3_TIP\' | translate}}" translate="main.spread.expand.DOWNLOAD_SIZE3">大</label>\n                                </div>\n                            </div>\n                            <div class="download1" ng-show="expandWeb.downloadSize == \'small\'">\n                                <div class="qr-size" qr-code-size="256" qr-url="{{selectedUrl}}"></div>\n                                <a download-canvas target="_blank" download><span translate="main.spread.expand.DOWNLOAD_TIP">下载二维码</span>\n                                </a>\n                            </div>\n                            <div class="download1" ng-show="expandWeb.downloadSize == \'middle\'">\n                                <div class="qr-size" qr-code-size="512" qr-url="{{selectedUrl}}"></div>\n                                <a download-canvas target="_blank" download><span translate="main.spread.expand.DOWNLOAD_TIP">下载二维码</span>\n                                </a>\n                            </div>\n                            <div class="download1" ng-show="expandWeb.downloadSize == \'big\'">\n                                <div class="qr-size" qr-code-size="1024" qr-url="{{selectedUrl}}"></div>\n                                <a download-canvas target="_blank" download><span translate="main.spread.expand.DOWNLOAD_TIP">下载二维码</span>\n                                </a>\n                            </div>\n                            <a class="fr del" ng-click="deleteWeb($index, expandWeb)">\n                                <span class="eqf-scene-delete"></span>\n                            </a>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>                                              \n</div>');
            }]),
        b.module("main/tab/sceneStatistics.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/tab/sceneStatistics.tpl.html", '<div class="data pl20 pr20">\n    <table class = "table table-bordered" >\n        <tr>\n            <th translate="main.spread.statistics.SCENE">场景</th>\n            <th translate="main.spread.statistics.SHOW_TIMES">展示次数</th>\n            <th translate="main.spread.statistics.COLLECTION_DATA">收集数据</th>\n            <th translate="main.spread.statistics.CONVERSION_RATE">转化率</th>\n            <th translate="main.spread.statistics.DETAIL">详情</th>\n        </tr>\n        <tr ng-class="{hovercolor: trIndex==$index}" ng-repeat="spreadData in spreadDatas" ng-mouseenter="addColor($index)" ng-mouseleave="removeColor()">\n            <td class="text-left"><img ng-src="{{PREFIX_FILE_HOST +  spreadData.cover}}"><p>{{spreadData.name}}</p><p>{{spreadData.link}}</p></td>\n            <td>{{spreadData.showCount}}</td>\n            <td>{{spreadData.dataCount}}</td>\n            <td>{{spreadData.showCount == 0 ? "0.00%":(spreadData.dataCount * 100/spreadData.showCount).toFixed(2) + "%"}}</td>\n            <td><span data-hint="{{\'main.spread.statistics.VIEW_DETAIL\' | translate}}"><a class="eqf-date3 spread-detail " ng-click="viewDetail(spreadData)" ></a></span></td>\n        </tr>\n    </table>\n    <div id="main" ng-show="totalItems > 10">\n        <pagination class="mb20" style="float: left" first-text="{{\'main.spread.statistics.FIRST_PAGE\' | translate}}" last-text="{{\'main.spread.statistics.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="10" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n        <div class="current_page mb20">\n            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n            <span><span translate="main.spread.statistics.CURRENT_PAGE1">当前</span>: {{page.currentPage}} / {{numPages}} <span translate="main.spread.statistics.CURRENT_PAGE2">页</span></span>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("main/tab/spreadMethod.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/tab/spreadMethod.tpl.html", '<div class="weixin-title">\n    <ul class="nav nav-pills ml20">\n        <li ng-class="{active : spreadclass == \'mobileSpread\'}">\n            <a href="" ng-click = "spreadclass = \'mobileSpread\'"><em translate="main.spread.expand.MOBILE_SPREAD">移动端推广</em></a>\n        </li>\n        <li ng-class="{active : spreadclass == \'qr-code\'}">\n            <a href="" ng-click = "spreadclass = \'qr-code\'"><em translate="main.spread.expand.EXTEND_URL">扩展网址</em></a>\n        </li>\n        <li ng-class="{active : spreadclass == \'erweima\'}">\n            <a href="" ng-click = "spreadclass = \'erweima\'"><em translate="main.spread.expand.QR_CODE">二维码</em></a>\n        </li>\n    </ul>\n</div>\n<div ng-show = "spreadclass == \'mobileSpread\'">\n    <div class="tuiguang-common" ng-click="selectThisIndex(-1, $event)"> \n        <ul class="tuiguang-line">\n            <li ng-click="selectThisIndex(0, $event)"><span class="eqf-wechat"></span><p translate="main.spread.expand.WECHAT">微信</p></li>\n            <li ng-click="selectThisIndex(1, $event)"><span class="eqf-qq"></span><p translate="main.spread.expand.QQ">QQ</p></li>\n            <li ng-click="selectThisIndex(2, $event)"><span class="eqf-weibo"></span><p translate="main.spread.expand.MICRO_BLOG">微博</p></li>\n            <li ng-click="selectThisIndex(3, $event)"><span class="eqf-qqzone"></span><p translate="main.spread.expand.QQ_SPACE">QQ空间</p></li>\n            <div class="popover fade in tooltip" role="tooltip" ng-show="selectIndex == 0">\n                <div class="pointer" ng-class="{\'pointer-position-1\': selectIndex == 0}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.WECHAT_STEP1">1.打开手机微信.点击右上角“+”；</span><br>\n                    <span translate="main.spread.expand.WECHAT_STEP2">2.选择扫一扫，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.WECHAT_STEP3">3.点击右上角分享图标，即可分享场景。</span><br>\n                </div>\n            </div>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 1">\n                <div class="pointer" ng-class="{\'pointer-position-2\': selectIndex == 1}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.QQ_STEP1">1.打开手机QQ；</span><br>\n                    <span translate="main.spread.expand.QQ_STEP2">2.点击右上角的图标，选择扫一扫，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.QQ_STEP3">3.点击右上角分享图标，即可分享场景。</span><br>\n                </div>\n            </div>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 2">\n                <div class="pointer" ng-class="{\'pointer-position-3\': selectIndex == 2}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.MICRO_BLOG_STEP1">1.打开手机新浪微博；</span><br>\n                    <span translate="main.spread.expand.MICRO_BLOG_STEP2">2.点击右上角扫一扫，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.MICRO_BLOG_STEP3">3.点击右上角分享图标，即可分享场景。</span><br>\n                </div>\n            </div>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 3">\n                <div class="pointer" ng-class="{\'pointer-position-4\': selectIndex == 3}" >\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.QQ_SPACE_STEP1">1.打开手机QQ空间，点击底部“+”；</span><br>\n                    <span translate="main.spread.expand.QQ_SPACE_STEP2">2.选择二维码，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.QQ_SPACE_STEP3">3.点击右上角分享图标，即可分享场景。</span><br>\n                </div>\n            </div>\n        </ul>\n\n        <ul class="tuiguang-line">\n            <li ng-click="selectThisIndex(4, $event)"><span class="eqf-uc"></span><p translate="main.spread.expand.UC_BROWSER">UC浏览器</p></li>\n            <li ng-click="selectThisIndex(5, $event)"><span class="eqf-qqliulanqi"></span><p translate="main.spread.expand.QQ_BROWSER">QQ浏览器</p></li>\n            <li ng-click="selectThisIndex(6, $event)"><span class="eqf-yixin"></span><p translate="main.spread.expand.YIXIN">易信</p></li>\n            <li ng-click="selectThisIndex(7, $event)"><span class="eqf-tieba"></span><p translate="main.spread.expand.POST_BAR">贴吧</p></li>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 4">\n                <div class="pointer" ng-class="{\'pointer-position-1\': selectIndex == 4}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.UC_BROWSER_STEP1">1.打开手机uc浏览器，点击右上角图标，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.UC_BROWSER_STEP2">2.点击底部图标“ ”；</span><br>\n                    <span translate="main.spread.expand.UC_BROWSER_STEP3">3.再次点击右下角分享，即可分享场景。</span><br>\n                </div>\n            </div>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 5">\n                <div class="pointer" ng-class="{\'pointer-position-2\': selectIndex == 5}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.QQ_BROWSER_STEP1">1.点击手机QQ浏览器，点击扫一扫图标，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.QQ_BROWSER_STEP2">2.点击底部图标“ ”；</span><br>\n                    <span translate="main.spread.expand.QQ_BROWSER_STEP3">3.点击弹出面板中的分享，即可分享场景。</span><br>\n                </div>\n            </div>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 6">\n                <div class="pointer" ng-class="{\'pointer-position-3\': selectIndex == 6}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.YIXIN_STEP1">1.点击手机易信；</span><br>\n                    <span translate="main.spread.expand.YIXIN_STEP2">2.点击右上角图标“+”，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.YIXIN_STEP3">3.点击右上角分享图标“：”，即可分享场景。</span><br>\n                </div>\n            </div>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 7">\n                <div class="pointer" ng-class="{\'pointer-position-4\': selectIndex == 7}" >\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.POST_BAR_STEP1">1.打开手机贴吧；</span><br>\n                    <span translate="main.spread.expand.POST_BAR_STEP2">2.进吧，点击右上角编辑，“进入发表主题”；</span><br>\n                    <span translate="main.spread.expand.POST_BAR_STEP3">3.点击添加图片，拍摄场景二维码，点击“发帖”，即可完成。</span><br>\n                </div>\n            </div>\n        </ul>\n        <ul class="tuiguang-line">\n            <li ng-click="selectThisIndex(8, $event)"><span class="eqf-laiwang"></span><p translate="main.spread.expand.LAIWANG">来往</p></li>\n            <div class="popover fade bottom in tooltip" role="tooltip" ng-show="selectIndex == 8">\n                <div class="pointer" ng-class="{\'pointer-position-1\': selectIndex == 8}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    <span translate="main.spread.expand.LAIWANG_STEP1">1.打开手机来往，点击左上角“+”；</span><br>\n                    <span translate="main.spread.expand.LAIWANG_STEP2">2.选择扫一扫，扫描场景二维码；</span><br>\n                    <span translate="main.spread.expand.LAIWANG_STEP3">3.打开场景，点击右上角分享图标“...”，即可分享场景。</span><br>\n                </div>\n            </div>\n        </ul>\n    </div>\n</div>\n<!--扩展网址--> \n<div ng-show = "spreadclass == \'qr-code\'" ng-include="\'main/tab/qrcode.tpl.html\'">\n</div>\n<!-- 二维码 -->\n<div ng-show = "spreadclass == \'erweima\'" ng-include="\'main/tab/ercode.tpl.html\'"></div>\n')
            }]),
        b.module("main/userGuide.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("main/userGuide.tpl.html", '<div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; background: rgba(0,0,0,0.8);z-index:10000" ng-click="showGuide()" ng-show="firstLogin" ng-controller="userGuideCtrl" >\n\n    <!--场景列表页面-用户引导1-->\n\n    <div class="bind-email-guide"  ng-show="\'bindEmailGuide\' == currentGuide && isShow" >\n        <h1><em translate="main.guide.TITLE">亲爱的易企秀会员：</em><span ng-click="showNextGuide()">&times;</span></h1>\n        <p translate="main.guide.TIP">感谢您使用易企秀，为了更好的服务于您，现在您可以……</p>\n        <ul class="guide-describe">\n            <li><em translate="main.guide.TIP1">① 立即验证邮箱，享受更多易企秀服务特权服务</em>\n                <ul>\n                    <li style="list-style:disc" translate="main.guide.TIP1_1"> 提升账户安全性</li>\n                    <li style="list-style:disc" translate="main.guide.TIP1_2"> 更加贴心的技术支持服务和样例推荐</li>\n                    <li><a href="#/usercenter/account" translate="main.guide.VALIDATE">立即验证</a></li>\n                </ul>\n            </li>\n            <li><em translate="main.guide.TIP2">② 快速了解如何使用易企秀制作个性场景</em>\n                <ul>\n                    <li>\n                        <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=72" target="_blank" translate="main.guide.KNOW_DETAIL">了解详情</a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n        <div class="user-select">\n            <p><input type="checkbox" style="margin: 4px; font-size:14px" ng-click="isShow()" /><em translate="main.guide.NO_TIP">不再提示</em></p>\n            <button class="btn btn-main operation" style="line-height: 20px;" ng-click="showNextGuide()" translate="main.guide.KNEW">知道了</button>\n        </div>\n    </div>\n\n    <!--场景列表页面-用户引导2-->\n\n    <div style="width: 1000px; margin: 0 auto;" ng-show="\'createGuide\' == currentGuide">\n        <img style="margin: 109px 66px 0 30px; float: right;" ng-src="{{CLIENT_CDN}}assets/images/chuangjian.png">\n        <img style="margin: 140px 0 0 0; float: right;" ng-src="{{CLIENT_CDN}}assets/images/guide_main.png">\n    </div>\n</div>')
            }]),
        b.module("my/myscene.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("my/myscene.tpl.html", '<div ng-include="\'header.tpl.html\'" xmlns:width="http://www.w3.org/1999/xhtml"></div>\n<div class="myscene">\n    <div class="main clearfix">\n        <div class="content">\n            <div class="fl">\n                <iframe style="border: 0; width: 322px; height: 641px;" ng-src="{{customUrl}}"></iframe>\n            </div>\n            <div class="rcont" data-ng-init = "init()">\n                <div class="top">\n                    <div class="title">\n                        <!--添加外部div class="scen_top_title"-->\n                        <div class="scen-top-title">\n                            <h4 title="{{scene.sceneName}}">{{scene.name}}</h4>\n                        </div>\n                        <div ng-if="!hideOpea">\n                            <a style="display:block;line-height:50px;" class="btn-main hint--bottom hint--rounded" data-hint="{{\'my.scene.SETTING_SCENE\' | translate}}" ng-href = "#/scene/create/{{sceneId}}?pageId=1&openSetting=show" translate="my.scene.SETTING_SCENE">设置场景</a>\n                          </div>\n                    </div>\n                    <div class="mt20 spread-content">\n                        <ul>\n                            <li>\n                                <a href="#/main/spread/statistics/{{sceneId}}" class="hint--bottom hint--rounded" data-hint="{{\'my.scene.SHOW_DETAIL\' | translate}}">\n                                <span class="eqf-eye-v"></span>\n                                <div class="big-icon eye">\n                                    <p class="num">{{scene.showCount >= 0 ? scene.showCount : 0 | fixnum}}</p>\n                                    <h5 translate="my.scene.SCENE_PV">场景展示</h5>\n                                </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a ng-click = "goData()" class="hint--bottom hint--rounded" data-hint="{{\'my.scene.SHOW_DETAIL\' | translate}}">\n                                <span class="eqf-date-v"></span>\n                                <div class="big-icon datas">\n                                    <p class="num">{{totalItems | fixnum}}</p>\n                                    <h5 translate="my.scene.SCENE_DATA">收集数据</h5>\n                                </div>\n                                </a>\n                            </li>\n                            <li>\n                                <p>\n                                    <em translate="my.scene.SCENE_STATE">场景状态</em>：{{sceneMsg}}\n                                    <a ng-if="(!scene.publishTime || (scene.updateTime > scene.publishTime && scene.status != -1)) && !branchid" ng-click="publishScene(scene);" class="text-primary" translate="my.scene.PUBLISH">发布</a>\n                                    <em ng-if="!scene.publishTime" translate="my.scene.UNPUBLISHED">未发布</em>\n                                    <em data-hint="{{\'my.scene.CLOSE_SCENE\' | translate}}" class="hint--bottom hint--rounded" ng-if="scene.status == 1 && scene.publishTime">\n                                        <img ng-click = "openScene(scene,false)" ng-src="{{CLIENT_CDN}}assets/images/main/opened.png" />\n                                    </em>\n                                    <em data-hint="{{\'my.scene.OPEN_SCENE\' | translate}}" class="hint--bottom hint--rounded" ng-if="scene.status == 2 && scene.publishTime">\n                                        <img ng-click = "openScene(scene,true)" ng-src="{{CLIENT_CDN}}assets/images/main/closed.png" />\n                                    </em>\n                                </p>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n                <div class="bom mt20">\n                    <div class="title">\n                        <a href="#/main/spread/expand" class="fr text-primary" translate="my.scene.MORE_SPREAD">更多推广</a>\n                        <h4 class="title-text" translate="my.scene.QUICK_SPREAD">快速推广场景</h4>\n                    </div>\n                    <div class="share-content">\n                        <p class="second-title"><em>1</em><span translate="my.scene.MOBILE_SPREAD_TIP">点击图标，手机扫一扫，分享给更多人</span></p>\n                        <div class="clearfix icon-contain">\n                            <div class="scene-img" qr-code qr-url="{{canvasUrl}}"></div>\n                            <ul class="share-icon clearfix">\n                                <li class="qq">\n                                    <span class="eqf-qq"></span>\n                                    <div class="sao-qrcode">\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_QQ">使用QQ分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_QQ_STEP1">打开QQ软件,点击右上角</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_QQ_STEP2">选择扫一扫，扫描场景二维码</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_QQ_STEP3">点击右上角分享图标，即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="wechat">\n                                    <span class="eqf-wechat"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_WECHAT">使用微信分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_WECHAT_STEP1">打开手机微信，点击右上角“+”</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_WECHAT_STEP2">选择扫一扫，扫描场景二维码</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_WECHAT_STEP3">点击右上角分享图标，即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="weibo">\n                                    <span class="eqf-weibo"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_WEIBO">使用新浪微博分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_WEIBO_STEP1">打开手机新浪微博,点击右上角</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_WEIBO_STEP2">选择扫一扫，扫描场景二维码</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_WEIBO_STEP3">点击右上角分享图标，即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="qqzone">\n                                    <span class="eqf-qqzone"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_QZONE">使用QQ空间分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_QZONE_STEP1">打开QQ空间，点击底部“+”</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_QZONE_STEP2">选择二维码，扫描场景二维码</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_QZONE_STEP3">点击右上角分享图标，即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="uc">\n                                    <span class="eqf-uc"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_UC">使用UC浏览器分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_UC_STEP1">打开手机uc浏览器,点击右上角</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_UC_STEP2">点击底部图标</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_UC_STEP3">再此点击右下角分享，即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="liulanqi">\n                                    <span class="eqf-qqliulanqi"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_QQ_BROWSER">使用QQ浏览器分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_QQ_BROWSER_STEP1">打开手机QQ浏览器</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_QQ_BROWSER_STEP2">点击扫一扫,点击底部图标</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_QQ_BROWSER_STEP3">点击弹出面板中的分享，即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="yixin">\n                                    <span class="eqf-yixin"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_YIXIN">使用易信分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_YIXIN_STEP1">打开手机易信</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_YIXIN_STEP2">点击右上角图标“+”，扫描场景</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_YIXIN_STEP3">点击右上角分享图标“：”即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="tieba">\n                                    <span class="eqf-tieba"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_TIEBA">使用贴吧分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_TIEBA_STEP1">打开贴吧软件,点击右上角编辑</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_TIEBA_STEP2">“进入发表主题”</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_TIEBA_STEP3">点击添加图片,拍摄场景二维码</i></p>\n                                                <p><span>4</span><i translate="my.scene.USING_TIEBA_STEP4">点击”发帖“，即可完成</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="laiwang">\n                                    <span class="eqf-laiwang"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2 translate="my.scene.USING_LAIWANG">使用来往分享</h2>\n                                                <p><span>1</span><i translate="my.scene.USING_LAIWANG_STEP1">打开来往软件</i></p>\n                                                <p><span>2</span><i translate="my.scene.USING_LAIWANG_STEP2">点击右上角+，选择扫一扫</i></p>\n                                                <p><span>3</span><i translate="my.scene.USING_LAIWANG_STEP3">点击右上角分享图标“…”，即可分享场景</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="clearfix">\n                            <div class="web-share">\n                                <p class="second-title">\n                                    <a target="_blank" ng-click="openUrl();">\n                                        <span class="eqf-eye"></span><i translate="my.scene.PREVIEW">点击预览</i>\n                                    </a><em>2</em><span translate="my.scene.SHARE_SCENE_ADDR">使用场景网络地址分享</span>\n                                </p>\n\n                                <div class="scene-link">\n                                    <div class="into-content" ng-show = "intoContent">\n                                        <div class="into-block">\n                                            <textarea id="into-url"><iframe width="322px" frameborder = "0" height="641px" src="{{url}}"></iframe></textarea>\n                                        </div>\n                                        <a href="" class="tg-btn text-primary" ng-click="copyCode()" translate="my.scene.COPY_CODE">复制代码</a>\n                                        <a class="eqf-wrong" ng-click="close()"></a>\n                                    </div>\n                                    <span class="scene-url" title="{{url}}">{{url}}</span>\n\n                                    <div class="into-btn">\n                                        <a class="scene-into text-primary" href="#/main/spread/expand" ng-show="isAllowedToAccessExpandWebsite" translate="my.scene.EXPAND_WEBSITE">扩展网址</a>\n                                        <a class="scene-into text-primary" ng-click="sceneInto()" translate="my.scene.IFRAME_CODE">场景嵌入</a>\n                                        <a class="text-primary"><div  copy-button title="" translate="my.scene.COPY_ADDRESS">复制网址</div></a>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="compute-share">\n                                <p class="second-title"><em>3</em><i translate="my.scene.SHARE_FROM_COMPUTER">点击相应的工具，从电脑分享</i></p>\n                                <div class="bdsharebuttonbox" data-tag="share_1">\n                                    <a class="bds_tsina" data-cmd="tsina"></a>\n                                    <a class="bds_tqq" data-cmd="tqq"></a>\n                                    <a class="bds_qzone" data-cmd="qzone" href="#"></a>\n                                    <a class="bds_sqq" data-cmd="sqq" href="#"></a>\n                                    <a class="bds_douban" data-cmd="douban" href="#"></a>\n                                    <a class="bds_count" data-cmd="count"></a>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="edit-scene">\n                            <a ng-if="!branchid" href="#/scene/create/{{sceneId}}?pageId=1" class="btn btn-primary" data-hint="{{\'my.scene.EDIT_SCENE\' | translate}}" translate="my.scene.EDIT_SCENE">编辑场景</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </div>\n\n    </div>\n</div>\n<div class="my-data clearfix" id="myData" ng-if="totalItems">\n    <ul class="data-head">\n        <li class="active" translate="my.scene.SCENE_DATA">收集数据</li>\n    </ul>\n    <div class="data-item">\n        <div><span translate="my.scene.SCENE_DATA_SUBJECT">数据项</span>：</div>\n        <ul class="clearfix">\n            <li ng-repeat="header in dataHeaders track by $index">\n                <div class="square table-checkbox">\n                    <div class="checkbox-square" ng-class="{checked: header.selected}">\n                        <em class="eqf-right4"></em>\n                        <input type="checkbox" ng-model="header.selected" ng-change="selectHeader(header,$index,header.selected)" />\n                    </div>\n                </div>\n                <label>{{header.title}}</label>\n            </li>\n        </ul>\n    </div>\n    <div ng-show="dataContain">\n        <div class="clearfix export" id="collectData">\n            <span ng-show="branchDelete" class="data-title" ng-click="dataDelete()" translate="my.scene.DELETE_DATA">删除</span>\n            <div ng-show="!showUp && branchExport" class="no-header">\n                <a class="btn btn-primary hint--left hint--rounded" ng-click="dataOutNoHeader()" data-hint="{{\'my.scene.DATA_EXPORT_WITHOUT_HEADER_TIP\' | translate}}">\n                    <span class="export_excel eqf-download"></span>\n                </a>\n            </div>\n            <div ng-show="showUp && branchExport" class="btn-group no-header dropdown">\n                <a class="btn btn-primary dropdown-toggle hint--left hint--rounded" data-hint="{{\'my.scene.DATA_EXPORT_WITHOUT_HEADER_TIP\' | translate}}">\n                    <span class="export_excel eqf-download"></span>\n                </a>\n                <div class="data-page dropdown-menu">\n                    <ul>\n                        <li ng-repeat = "dataPageNum in dataPageNums" ng-click="dataOutNoHeaderPage(dataPageNum.start,dataPageNum.end)">{{dataPageNum.start}}-{{dataPageNum.end}}<em translate="my.scene.PAGE_UNIT">页</em></li>\n                    </ul>\n                </div>\n            </div>\n            <div ng-show="!showUp && branchExport">\n                <a class="btn btn-primary" ng-click="dataOutDirect()" >\n                    <span class="export_excel" translate="my.scene.EXPORT_EXCEL">导出excel</span>\n                </a>\n            </div>\n            <div ng-show="showUp && branchExport" class="btn-group dropdown">\n                <a class="btn btn-primary dropdown-toggle">\n                    <span class="export_excel" translate="my.scene.EXPORT_EXCEL">导出excel</span>\n                    <span class="eqf-down2"></span>\n                </a>\n                <div class="data-page dropdown-menu">\n                    <ul>\n                        <li ng-repeat = "dataPageNum in dataPageNums" ng-click="dataOutPage(dataPageNum.start,dataPageNum.end)">{{dataPageNum.start}}-{{dataPageNum.end}}<em translate="my.scene.PAGE_UNIT">页</em></li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class="data" class="mb20">\n            <div class="table-list pr20 pl20 pb20">\n                <table class="table table-bordered">\n                    <tr>\n                        <th>\n                            <div class="square table-checkbox">\n                                <div class="checkbox-square" ng-class="{checked: allSelect.selected}">\n                                    <em class="eqf-right4"></em>\n                                    <input type="checkbox" ng-model="allSelect.selected" ng-change="selectAll()" />\n                                </div>\n                            </div>\n                        </th>\n                        <th class="data_header" ng-style="{width: tdW}" ng-repeat="header in dataShow track by $index">{{header.title}}</th>\n                    </tr>\n                    <tr ng-repeat="data in dataShowList">\n                        <td>\n                            <div class="square table-checkbox">\n                                <div class="checkbox-square" ng-class="{checked: data.selected}">\n                                    <em class="eqf-right4"></em>\n                                    <input type="checkbox" ng-model="data.selected" ng-change="selectData(data)" />\n                                </div>\n                            </div>\n                        </td>\n                        <td title="{{item}}" ng-repeat="item in data track by $index">{{item}}</td>\n                    </tr>\n                </table>\n                <div ng-show="totalItems > 10" class="clearfix">\n                    <pagination style="float: left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" last-text="{{\'my.scene.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="10" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                    <div class="current_page">\n                        <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                        <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                        <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{page.currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n<script type="text/javascript">\n</script>\n');
            }]),
        b.module("my/upload.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("my/upload.tpl.html", '<div nv-file-drop="" uploader="uploader">\n\n        <div class="container">\n\n            <div class="row">\n\n                <div class="col-md-3">\n                    <div ng-show="uploader.isHTML5">\n                        <!-- 3. nv-file-over uploader="link" over-class="className" -->\n                        <div ng-show="category.fileType != \'2\'" class="well my-drop-zone" nv-file-over="" uploader="uploader">\n                            拖拽图片到此区域\n                        </div>\n                        <div ng-show="category.fileType == \'2\'" class="well my-drop-zone" nv-file-over="" uploader="uploader">\n                            拖拽音乐到此区域\n                        </div>\n                    </div>\n\n                    <!-- Example: nv-file-select="" uploader="{Object}" options="{Object}" filters="{String}" -->\n                    \n                    <div id="upload_btn" class="btn-main">\n                        <span ng-show="category.fileType == \'0\' || category.fileType == \'1\'">选择图片</span>\n                        <span ng-show="category.fileType == \'2\' || category.fileType == \'4\'">选择音乐</span>\n                        <input type="file" id="uploadBtn" ng-click = "removeQueue()" nv-file-select="" uploader="uploader" multiple/>\n                    </div>\n                    <br/>\n\n                </div>\n\n                <div class="col-md-9" style="margin-bottom: 40px">\n                    <!-- <p>等待上传图片个数: {{ uploader.queue.length }}</p> -->\n                    <p ng-show="category.fileType == \'1\' && !category.headerImage && !category.coverImage">每次最多上传5张图片，上传图片建议大小在3M以内，格式为jpg\\bmp\\png\\gif</p>\n                    <p ng-show="category.fileType == \'0\'">上传图片建议像素为640px*1008px，上传图片大小在3M以内，格式为jpg\\bmp\\png\\gif</p>\n                    <p ng-show="category.fileType == \'2\' || category.fileType == \'4\'">上传音乐大小不超过{{category.limitSize / 1024 / 1024}}M，格式为mp3</p>\n                    <p ng-show = "category.fileType == \'1\' && (category.headerImage || category.coverImage)">上传图片建议像素为250px*250px，上传图片大小在3M以内，格式为jpg\\bmp\\png\\gif</p>\n                    <table class="table">\n                        <thead>\n                            <tr>\n                                <th width="50%">名称</th>\n                                <th ng-show="uploader.isHTML5">大小</th><!-- \n                                <th ng-show="uploader.isHTML5">进度</th>\n                                <th>操作</th> -->\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr ng-repeat="item in uploader.queue">\n                                <td>\n                                    <strong>{{ item.file.name }}</strong>\n                                    <!-- Image preview -->\n                                    <!--auto height-->\n                                    <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->\n                                    <!--auto width-->\n                                    <!-- <div ng-show="uploader.isHTML5" ng-thumbnail="{ file: item._file, height: 100 }"></div> -->\n                                    <!--<div ng-thumbnail="{ file: item._file, height: 100 }"></div>\n                                    fixed width and height -->\n                                    <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->\n                                </td>\n                                <td ng-show="uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>\n                                 <td ng-show="uploader.isHTML5">\n                                    <div class="progress" style="margin-bottom: 0;">\n                                        <div class="progress-bar" role="progressbar" ng-style="{ \'width\': item.progress + \'%\' }"></div>\n                                    </div>\n                                </td>\n                                <!--<td nowrap>\n                                    <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">\n                                        <span class="glyphicon glyphicon-upload"></span> 上传\n                                    </button>\n                                    <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">\n                                        <span class="glyphicon glyphicon-ban-circle"></span> 取消\n                                    </button>\n                                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">\n                                        <span class="glyphicon glyphicon-trash"></span> 删除\n                                    </button>\n                                </td> -->\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div>\n                        <!-- <div>\n                            上传进度:\n                            <div class="progress" style="">\n                                <div class="progress-bar" role="progressbar" ng-style="{ \'width\': uploader.progress + \'%\' }"></div>\n                            </div>\n                        </div> -->\n                        <button type="button" class="btn btn-secondary btn-s" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">\n                            <span class="glyphicon glyphicon-upload"></span> 上传\n                        </button>\n                       <!--  <button type="button" class="btn btn-warning btn-s" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">\n                            <span class="glyphicon glyphicon-ban-circle"></span> 取消\n                        </button> -->\n                        <button type="button" class="btn btn-danger btn-s" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">\n                            <span class="glyphicon glyphicon-trash"></span> 删除\n                        </button>\n                    </div>\n\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>')
            }]),
        b.module("notifications.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("notifications.tpl.html", '<div ng-class="[\'alert\', \'alert-\'+notification.type]" ng-repeat="notification in notifications.getCurrent()" notification-fadeout>\n    <button class="close" ng-click="removeNotification(notification)">x</button>\n    {{notification.message}}\n</div>\n')
            }]),
        b.module("reg/agreement.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("reg/agreement.tpl.html", '<div class="about">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt=""></div>\n        </div>\n    </div>\n    <div class="banner">\n        <img ng-src="{{CLIENT_CDN}}assets/images/contact1.jpg"/>\n    </div>\n    <div class="main clearfix">\n    	<div class="reg_xy_Box">\n            <h1 translate="agreement.REG_AGREEMENT">易企秀注册协议</h1>\n            <div class="reg_xy">\n                <p translate="agreement.FIRST_PARTY">甲方：北龙中网（北京）科技有限责任公司</p>\n                <p translate="agreement.SECOND_PARTY">乙方：“易企秀”的注册用户（以下简称用户或“您”）</p>\n                <p class="para" translate="agreement.ENSURE_INFO">您确认：在您开始“易企秀”产品试用或购买前，您已充分阅读、理解并接受本协议的全部内容，一旦您选择“同意”并开始使用本服务或完成购买流程，即表示您同意遵循本协议之所有约定。不具备前述条件的，您应立即终止注册或停止使用本服务。</p>\n                <p class="para" translate="agreement.ENSURE_INFO2">甲方有权随时对协议内容进行单方面的变更，并以在eqshow.cn公告的方式予以公布，无需另行单独通知您；若您在本协议内容公告变更后继续使用本服务，表示您已充分阅读、理解并接受修改后的协议内容，也将遵循修改后的协议内容使用本服务；若您不同意修改后的协议内容，您应停止使用本服务。您可以访问 http://www.eqshow.cn来了解最新版本的服务条款。</p>\n                </p>\n                <p translate="agreement.REG_CLAUSE">帐户注册及条款</p>\n                <p translate="agreement.REG_CLAUSE1">1.  您保证具有法律规定的完全民事权利能力和民事行为能力，能够独立承担民事责任的自然人、法人或其他组织；本协议内容不会被您所属国家或地区的法律禁止。\n                <p translate="agreement.REG_CLAUSE2">2.  具体操作使用人应该是自然人。不允许采用注册机或者类似的自动化方式注册账户。\n                <p translate="agreement.REG_CLAUSE3">3.  当您注册时应当按网站要求提供您真实的信息及其他必要的信息以完成注册。\n                <p translate="agreement.REG_CLAUSE4">4.  您的登录信息只能用于一个人，不允许多人共享登录信息。您可以在网站允许的前提下注册多个登录用户名密码。\n                <p translate="agreement.REG_CLAUSE5">5.  您应当保护好自己的用户名及密码信息不被泄露。“易企秀”无法也不会保护因为您泄露用户名或密码导致的数据风险。\n                <p translate="agreement.REG_CLAUSE6">6.  同一个用户只能拥有一个免费账户。\n                <p translate="agreement.REG_CLAUSE7">7.  对于您以及您的账户所创建的内容负责。\n                <p translate="agreement.REG_CLAUSE8">8.  您不得恶意攻击“易企秀”服务。\n                <p translate="agreement.REG_CLAUSE9">9.  您不得复制、转售或转授权任何部分或者全部的”易企秀”服务。\n                <p translate="agreement.REG_CLAUSE10">10. 甲方有权但并非义务删除以下内容：非法、歧视、恐吓、诽谤、色情、淫秽或者违反中国法律的。\n                <p translate="agreement.REG_CLAUSE11">11. 您不得以口头或者文字方式攻击（包括恐吓、报复等）甲方客户、员工、成员或本产品及服务的其他使用者。\n                <p translate="agreement.REG_CLAUSE12">12. 您不得上传或者发布垃圾邮件，短信，或上传计算机病毒程序或者恶意代码。\n                <p translate="agreement.REG_CLAUSE13">13. 如果您的账户流量使用明显超过平均用户带宽使用，我们保留停用您的账户的权利，直到您降低您的流量使用。\n                <p translate="agreement.REG_CLAUSE14">14. 您在本协议期间应遵守全部中国法律、法规和规章。\n                <p translate="agreement.REG_CLAUSE15">15. 如果甲方因乙方的任何触犯中国法律法规的行为或违反本协议的行为而承受任何损失或损害，乙方应该采取所有行动使甲方免于承担责任，并对由此产生的全部损失和损害对乙方承担赔偿责任。\n                <p translate="agreement.REG_CLAUSE16">16. 如果乙方存在任何触犯中国法律法规的行为或违反本协议的行为，甲方有权根据行为的严重性自行决定立即暂停或终止乙方对本服务的使用，甲方无须就服务暂停或终止对乙方承担任何责任，并且无须返还乙方已支付的当月费用。\n\n                <p translate="agreement.PAY_CLAUSE">付费相关条款\n                <p translate="agreement.PAY_CLAUSE1">1.  “易企秀”产品目前仅提供免费产品供您使用，但甲方保留未来推出“易企秀”付费产品、功能或服务的权利。\n                <p translate="agreement.PAY_CLAUSE2">2.  您有权自由选择决定是否使用“易企秀”中的付费产品、功能或服务。\n                <p translate="agreement.PRODUCT_CLAUSE">产品服务条款\n                <p translate="agreement.PRODUCT_CLAUSE1">1.  甲方将以专业的方式提供产品及服务，但并不保证：1) 产品及服务满足您的所有需求或您的所有期待； 2) 产品及服务没有任何失误或缺陷； 或3) 产品及服务中的所有错误都会被修正。甲方无须对任何第三方提供的产品或服务负责，亦不对第三方产品或服务提供任何保证。\n                <p translate="agreement.PRODUCT_CLAUSE2">2.  甲方保留不断修改调整这项服务的权利，而无需事先通知乙方。\n                <p translate="agreement.INTELLECTUAL_CLAUSE">知识产权条款</p>\n                <p translate="agreement.INTELLECTUAL_CLAUSE1">1.  您提交的各种内容版权归属于您。\n                <p translate="agreement.INTELLECTUAL_CLAUSE2">2.  您应当了解并授权“易企秀”及“易企秀”许可的用户可以传播、二次编辑、分享您通过易企秀编辑生成的作品。\n                <p translate="agreement.INTELLECTUAL_CLAUSE3">3.  甲方提供的服务及产品（包括但不限于观感、设计、图标、代码等）的版权、商标权、专利权及其他知识产权均归属于甲方。除非获得甲方明确书面允许，您不得复制、重用任何HTML/CSS, JavaScript或者任何视觉设计，也不得对甲方产品进行反向工程、分解或进行编译或其他修改。\n                <p translate="agreement.INTELLECTUAL_CLAUSE4">4.  本协议中未明确授予您的权利将由甲方保留。\n                <p translate="agreement.TERMINATION_CLAUSE">责任限制\n                在任何情况下、甲方均无须对任何间接性、后果性、惩戒性、偶然性、特殊性或刑罚性的损害(包括但不限于乙方因使用甲方服务而遭受的利润、收入损失、或预期的节约成本的损失或商誉损失等）承担责任，即使乙方已被告知该等损失的可能性。甲方对乙方承担的全部责任总额，无论因何原因（基于合同法、侵权法或其他法规）或何种行为方式产生，始终不超过乙方在当月服务期内因使用甲方服务而已经支付给甲方的费用。\n                服务取消与终止条款\n                <p translate="agreement.TERMINATION_CLAUSE1">1.  您清楚的了解终止服务的后果。无需邮件或者电话确认，您可以在任何时候通过点击账户链接并执行相应操作来终止您的账户及相应的所有信息。\n                <p translate="agreement.TERMINATION_CLAUSE2">2.  一旦终止，所有隶属于这个账户的数据及信息将由甲方作删除处理，并且无法恢复。\n                <p translate="agreement.TERMINATION_CLAUSE3">3.  一旦终止账户，账户之下的用户将无法访问任何相关的服务。\n                <p translate="agreement.OTHER_CLAUSE">其他条款\n                <p translate="agreement.OTHER_CLAUSE1">1.  您了解甲方使用第三方的运营商和网络提供商提供必要的硬件、软件、存储或网络来运行易企秀服务。甲方无需因为第三方的、或者不在甲方控制范围内的原因（如不可抗力）造成的运行问题（如服务中断、停顿、中止等）负责。\n                <p translate="agreement.OTHER_CLAUSE2">2.  如果本协议的某一条款或某一条款的一部分无效或不可执行，不影响本协议其他条款的有效性，无效或不可执行的条款将被视作已从本协议中删除。\n                <p translate="agreement.OTHER_CLAUSE3">3.  本协议受中华人民共和国法律管辖。 在执行本协议过程中如发生纠纷，双方应及时协商解决。协商不成时，任何一方均应向甲方所在地人民法院提起诉讼。\n                <p translate="agreement.OTHER_CLAUSE4">4.  若有任何疑问，请通过浏览http://www.eqxiu.com网站下方的联系方式与我们联系。\n\n            </div>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("reg/reg.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("reg/reg.tpl.html", '<div><a ng-href="{{weiChatUrl}}">登录测试</a></div>')
            }]),
        b.module("sample/sample.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("sample/sample.tpl.html", '<div class="sample contain min_contain">	\n	    <header style="background-color:#fff;">\n	        <div class="we_nav content_center">\n	            <div class="link_list">\n	                <ul class="clearfix">\n	                    <li class="bg_hover"><a translate="sample.SAMPLES">用户案例</a></li>\n	                    <li ng-hide="isAuthenticated()"><a ng-click = "login()" translate="sample.LOGIN">登录</a></li>\n	                    <li ng-hide="isAuthenticated()" class=""><a ng-click = "register()" translate="sample.REGISTER">注册</a></li>\n	                    <li ng-show="isAuthenticated()"><a href="#/main" translate="sample.ENTER">进入</a></li>\n	                </ul>\n	            </div>                  \n	            <div id="logo"><a href="#/home"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt=""></a></div>\n	        </div>    \n	    </header>\n	    <div class="content_center">\n<!-- 		    <div class="pv_contain clearfix">\n		    	<div class="img_pv_contain">\n			    	<div class="pv_images" >\n						<ul>\n							<li  class="con_list" ng-repeat="dayTop in dayTop" ng-show="page == \'day\'">\n							<a ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + dayTop.code}}" target="_blank">\n								<div class="pv_images_cont">\n									<div ng-hide="showCode2 == true"><img ng-src="{{PREFIX_FILE_HOST + dayTop.image.imgSrc}}" alt="" width="235px" /></div>\n									<div ng-show="showCode2 == true" qr-code qr-url="{{PREFIX_FILE_HOST + dayTop.image.imgSrc}}" class="qrcode">\n									\n									</div>\n									<p class="anli_name" title="{{dayTop.name}}">{{dayTop.name}}</p>\n								</div>\n							</a>\n							<p class="changj_pv"><span class="er_name"><em>{{dayTop.userName}}</em><a ng-mouseover="showCode2 = true" ng-mouseleave="showCode2 = false" href="">二维码</a></span><span class="changj_show_num">展示:{{dayTop.showCount | fixnum}}</span></p>\n							\n						</li>\n						</ul>\n						<ul>\n							<li class="con_list" ng-repeat="monthTop in monthTop" ng-show="page == \'month\'">\n							<a ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + monthTop.code}}" target="_blank">\n								<div class="pv_images_cont">\n									<div ng-hide="showCode1 == true"><img ng-src="{{PREFIX_FILE_HOST + monthTop.image.imgSrc}}" alt="" width="235px" /></div>\n									<div ng-show="showCode1 == true" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/s/\' + monthTop.code}}" class="qrcode">\n									</div>\n								</div>\n								<p class="anli_name" title="{{monthTop.name}}">{{monthTop.name}}</p>\n							</a>\n							<p class="changj_pv"><span class="er_name"><em>{{monthTop.userName}}</em><a ng-mouseover="showCode1 = true" ng-mouseleave="showCode1 = false" href="">二维码</a></span><span class="changj_show_num">展示:{{monthTop.showCount | fixnum}}</span></p>\n							\n							</li>\n						</ul>\n						<ul>\n							<li class="con_list" ng-repeat="weekTop in weekTop" ng-show="page == \'week\'">\n							<a ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + weekTop.code}}" target="_blank">\n								<div class="pv_images_cont" >\n									<div ng-hide="showCode3 == true"><img ng-src="{{PREFIX_FILE_HOST + weekTop.image.imgSrc}}" alt="" width="235px" /></div>\n									<div ng-show="showCode3 == true" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/s/\' + weekTop.code}}" class="qrcode">\n									</div>\n									<p class="anli_name" title="{{weekTop.name}}">{{weekTop.name}}</p>\n								</div>\n\n							</a>\n							<p class="changj_pv"><span class="er_name"><em>{{weekTop.userName}}</em><a ng-mouseover="showCode3 = true" ng-mouseleave="showCode3 = false" href="">二维码</a></span><span class="changj_show_num">展示:{{weekTop.showCount | fixnum}}</span></p>\n							\n						</li>\n						</ul>\n			    	</div>		    			    			    			    	\n		 		</div>\n		    	<div class="pv_nav">\n		    		<h1><img ng-src="{{CLIENT_CDN}}assets/images/sample/desr.png" alt="" /></h1>\n		    		<ul class="clearfix">\n		    			<li ng-class="{hover:page == \'month\'}" ng-click="page = \'month\'">本月排名</li><li ng-class="{hover:page == \'week\'}" ng-click="page = \'week\'">本周排名</li><li ng-click="page = \'day\'" ng-class="{hover:page == \'day\'}">昨日排名</li>\n		    		</ul>\n		    	</div>\n		    </div> -->\n		    <div class="header_con">	\n			    <div class="sample_cat clearfix" data-ng-init="load()">\n			    	<div class="sample_images mains">\n			    		<div class="clearfix">\n							<div class="con_list" ng-repeat = "home in homes">\n								<a ng-href="{{PREFIX_CLIENT_HOST + \'/s/\' + home.code}}" target="_blank">\n									<div ng-show="showCode == true" class="cj_img qrcode" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/s/\' + home.code}}">\n										<!-- <img ng-src="{{PREFIX_SERVER_HOST + \'eqs/qrcode/\' + home.code + \'.png\'}}" alt="" width="235px" /> -->\n									</div>\n									<div ng-hide="showCode == true" class="cj_img"><img ng-src="{{PREFIX_FILE_HOST + home.cover}}" alt="" width="235px" /></div>\n									<p class="anli_name" title="{{home.name}}">{{home.name}}</p>\n								</a>\n								<p class="clearfix"><span class="er_name"><em>{{home.userName}}</em><a ng-mouseover="showCode = true" ng-mouseleave="showCode = false" href=""><span translate="sample.QR_CODE">二维码</span></a></span><span translate="sample.SCENE_VIEW">场景展示</span>:{{home.showCount | fixnum}}</p>\n							</div>\n						</div>\n						<div class="mores" ng-init = "showMoreButton = true;" ng-hide = \'homes.length < 9\'>\n					    	<a ng-click="showMore(type)" ng-show = \'showMoreButton\' translate="sample.MORE">查看更多</a>\n					    	<p ng-show = "!showMoreButton" style="font-size:16px;" translate="sample.NO_MORE">没有更多了</p>\n					    </div>\n					    <p style="text-align:center;margin-top:100px;" ng-show = \'homes.length <= 0\' translate="sample.NONE_SCENE">该分类下暂无场景</p>\n			    	</div>\n			    	<div class="sample_cats">\n				    	<div class="sample_fix fixed">\n				    		<div class="cat-list">\n					    		<h1><img ng-src="{{CLIENT_CDN}}assets/images/sample/case.png" alt="" /></h1>\n					    		<ul class="clearfix">\n				                    <li id="one1" ng-class="{hover:typeindex == \'all\'}" ng-click="getHomes(\'all\', null, 1, 9);type=null" translate="sample.ALL">全部案例</li>\n				                    <li ng-repeat = "sceneType in sceneTypes" ng-class = "{hover: typeindex == $index}" ng-click = "getHomes($index, sceneType.value, 1, 9)">\n				                        {{sceneType.name}}\n				                    </li>\n					    		</ul>\n					    	</div>\n				    		<div>\n				    			<img ng-src="{{CLIENT_CDN}}assets/images/H5.jpg" >\n				    		</div>\n				    	</div>\n			    	</div>	\n			    </div>    \n			</div>\n		</div>	\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n\n')
            }]),
        b.module("scene/console.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console.tpl.html", '<div>\n<div ng-show="comp_type==\'bg\'" ng-include="\'scene/console/bg.tpl.html\'" ng-controller="BgConsoleCtrl"></div>\n</div>')
            }]),
        b.module("scene/console/angle-knob.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/angle-knob.tpl.html", '<div class="sliderContainer">\n	<div class="sliderKnob"></div>\n</div>')
            }]),
        b.module("scene/console/anim.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/anim.tpl.html", '<div ng-if="activeTab == \'anim\'" ng-controller="AnimConsoleCtrl">\n	<div class="anim_area">\n		<div class="anim-panels" ng-if="animations.length">\n			<section ng-repeat="animation in animations track by $index">\n				<div class="style_list" ng-init="opea.show=true" ng-click="opea.show=!opea.show">\n			        <b class="caret" ng-if="opea.show"></b>\n			        <b class="caret off" ng-if="!opea.show"></b>\n			        <em translate="scene.create.animation.ANIMATION">动画</em>&nbsp;{{$index+1}}\n			        <span style="padding-right: 10px;cursor:pointer;" class="fr" ng-click="removeAnim($index, $event)"><img title="{{\'scene.create.animation.DELETE_ANIMATION_TIP\' | translate}}" ng-src="{{CLIENT_CDN + \'assets/images/delete.png\'}}" ></span>\n			    </div>\n			    <div ng-if="opea.show" class="style_list_angel clearfix">\n			        <label translate="scene.create.animation.ANIMATION_TYPE">方式</label>\n		        	<div class="flo_lef touming">\n		        		<select style="width:100px;border:1px solid #C9C9C9;" ng-model="types[$index]" ng-change="animation.type=types[$index].id; changeAnimation(animation, $index)" ng-options="animType.name group by animType.cat for animType in animTypeEnum">\n		            		<option value="-1" translate="scene.create.animation.ANIMATION_NONE_TYPE">无</option>\n		        		</select>	        		\n		    		</div>\n			    </div>\n			    <div ng-if="opea.show && animation.type == 7" class="style_list_angel clearfix">\n			        <label translate="scene.create.animation.ANIMATION_SPEED">速度</label>\n		        	<div class="clearfix touming">\n			        	<div class="num" style="text-align:right;margin-top:4px;">\n			        		<input type="checkbox" value="" ng-model="animation.linear" ng-true-value="1" style="margin-right:2px;margin-top:0px;"/><em translate="scene.create.animation.LINEAR_SPEED">匀速</em>\n			        	</div>		        			        		\n		    		</div>\n			    </div>			    \n			    <div class="row" ng-if="animation.type != -1 && animation.type != null && opea.show">            \n			        <form role="form">\n			            <div class="style_list_angel clearfix" ng-show="animation.type == 1 || animation.type == 2 || animation.type == 17 || animation.type == 19">\n			                <label translate="scene.create.animation.DIRECTION">方向</label>\n			                <div class="flo_lef touoming"><select style="color:#999" class="form-control" ng-model="directions[$index]" ng-change="animation.direction=directions[$index].id;changeAnimation(animation, $index)" ng-options="animDirection.name for animDirection in animDirectionEnum">\n			                </select></div>\n			            </div>\n			            <div class="style_list_angel">\n			                <label translate="scene.create.animation.DURATION">时间</label>\n			                <div class="touming clearfix">\n			                    <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" ng-model="animation.duration" /></p>\n			                    <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="animation.duration"></div>\n			                </div>\n			            </div>              \n			            <div class="style_list_angel">\n			                <label translate="scene.create.animation.DELAY">延迟</label>\n			                <div class="touming clearfix">\n			                    <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" class="form-control" ng-model="animation.delay"/></p>\n			                    <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="animation.delay"></div>\n			                </div>\n			            </div>\n			            <div class="style_list_angel">\n			                <label translate="scene.create.animation.COUNT">次数</label>\n			                <div class="touming clearfix">\n			                    <p class="num" style="float:left;margin-right:10px;"><input ng-disabled  = "animation.count" limit-input class="input_kuang short" type="number" min="1" max="10" class="form-control" ng-model="animation.countNum" /></p>\n			                    <div class="num" style="text-align:right;margin-top:0px;"><input type="checkbox" value="" id="xunhuan" ng-model="animation.count" style="margin-right:2px;margin-top:0px;" /><em translate="scene.create.animation.LOOP">循环</em></div>\n			                </div>\n			                              \n			            </div>\n			        </form>                 \n			    </div>\n			</section>\n		</div>\n		<div class="add-anim">\n			<a ng-click="addAnim()" class="add-anims"><span class="eqf-plus2"></span><span translate="scene.create.animation.ADD_ANIMATION">添加动画</span></a>\n			<a style="margin-top:10px;" ng-click="previewAnim()" class="broad-anim"><span class="eqf-eye"></span><span translate="scene.create.animation.PLAY_ANIMATION">播放动画</span></a>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<a class="btn-main" ng-click="cancel()" translate="scene.create.animation.CONFIRM">确定</a>\n		<a class="btn-grey0" ng-click="clear()" translate="scene.create.animation.CLEAR">清除动画</a>\n	</div>\n</div>')
            }]),
        b.module("scene/console/audio.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/audio.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.audio.TITLE">音乐素材</h1>\n        <p ng-show=\'!authError\' translate="scene.create.audio.TIPS">选择音乐库中音乐或把喜欢的乐曲上传到我的音乐中</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n<!--	<div class="category_list nav-list">\n		<ul class="category_list_container clearfix">\n			<li ng-class="{active: category.value == model.bgAudio.type}" ng-repeat="category in categoryList" ng-click="model.bgAudio.type = category.value">\n				{{category.name}}\n			</li>\n		</ul>\n	</div>-->\n	<div class="dialog-content bg_console clearfix" style="background-color:#E7E7E7;">\n		<div class="fl" style="width:200px;">\n			<ul class="nav nav-tabs tabs-left" style="padding-top:0;"><!-- \'tabs-right\' for right tabs -->\n				<li ng-class="{active: !isMySound}">\n					<a ng-click="selectTab(false)" translate="scene.create.audio.MUSIC_LIB">音乐库</a>\n				</li>\n				<li ng-class="{active: isMySound}">\n					<a ng-click="selectTab(true)" translate="scene.create.audio.MY_MUSICS">我的音乐</a>\n				</li>\n			</ul>\n		</div>\n		<div class="fl bg-rig">\n			<div id="bg_contain" class="tab-head">\n				<!--<form class="form-contain" role="form">-->\n	<!--			<div ng-if="model.bgAudio.type == \'1\'" class="form-list audio_area clearfix">\n					<lable class="form-label">链接地址：</lable>\n					<div class="form-input">\n						<input class="" type="text" ng-model="model.type1" placeholder="请输入mp3文件链接">\n					</div>\n				</div>-->\n<!--				<div ng-if="isMySound" class="sound-list clearfix">\n					<ul>\n						<li ng-repeat="s in sounds">\n							{{s.name}}\n						</li>\n					</ul>\n	&lt;!&ndash;				<div class="form-input" style="margin-left:0;">\n						<select class="float-lf selectcartoon" ng-change="selectAudio(2)" ng-model="model.selectedMyAudio" ng-options="myAudio.name for myAudio in myAudios" id="nb_musicurl">\n						<option value="">选择我的音乐</option>\n						</select>\n						<p style="text-align:left;"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target="_blank" style="font-size:12px;"> 如何裁剪音乐？</a></p>\n					</div>\n					<span class="btn-main" ng-click="goUpload()">上传音乐</span>\n					<div ng-if = "model.type2" style = "margin-top:10px;">\n						<audio ng-src="{{model.type2}}" controls="controls">\n						</audio>\n					</div>&ndash;&gt;\n				</div>-->\n<!--				<div ng-if="!isMySound" class="sound-list clearfix">\n					<ul>\n						<li ng-repeat="reservedAudio in reservedAudios">\n							{{reservedAudio.name}}\n						</li>\n					</ul>\n					&lt;!&ndash;<select class="float-lf selectcartoon" ng-change="selectAudio(3)" ng-model="model.selectedAudio" ng-options="reservedAudio.name for reservedAudio in reservedAudios" id="nb_musicurl">\n						<option value="">选择音乐库文件</option>\n					</select>\n					<div ng-if = "model.type3" style = "margin-top:10px;">\n						<audio  ng-src="{{model.type3}}" controls="controls">\n						</audio>\n					</div>&ndash;&gt;\n				</div>-->\n				<div class="tab-pane">\n					<div class="img_list">\n						<div class="sound-list clearfix">\n							<ul>\n								<li style="cursor:pointer;" ng-class="{active: sound.src == s.src}" ng-click="selectSound($index)" ng-repeat="s in sounds">\n                                       <span>\n                                           <a class="sound eqf-play" title="{{s.isPlaying ? (\'scene.create.audio.PAUSE\' | translate) : (\'scene.create.audio.PLAY\' | translate)}}" ng-class="{\'eqf-play\': !s.isPlaying, \'eqf-stop\': s.isPlaying}" ng-click="playSound($event, $index)"></a>\n                                           <a class="del eqf-delete" title="{{\'scene.create.audio.DELETE\' | translate}}" ng-show="isMySound" ng-click="deleteMySound($event, $index)"></a>\n                                       </span>{{s.name}}\n								</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class="fanye_foot clearfix">\n					<div class="pagination_container fl">\n						<pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="{{\'scene.create.audio.FIRST_PAGE\' | translate}}" last-text="{{\'scene.create.audio.LAST_PAGE\' | translate}}" max-size="5" items-per-page="pagination.pageSize" total-items="pagination.totalItems" ng-model="pagination.currentPage" ng-change="getSounds(pagination.currentPage)" boundary-links="true" rotate="true" num-pages="pagination.numPages"></pagination>\n						<div class="current_page">\n							<input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? getSounds(toPage) : null">\n							<a ng-click="getSounds(toPage)" class="go">GO</a>\n<!-- 							<span><span translate="scene.create.audio.CURRENT_PAGE1">当前</span>: {{pagination.currentPage}} / {{pagination.numPages}} <span translate="scene.create.audio.CURRENT_PAGE2">页</span></span> -->\n						</div>\n					</div>\n					<div style="text-align:right;">\n						<a class="btn-main login" ng-click="confirm()" translate="scene.create.audio.CONFIRM">确定</a>\n						<a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.audio.CANCEL">取消</a>\n					</div>\n				</div>\n			</div>\n		<!--</form>-->\n		</div>\n	</div>\n</div>\n')
            }]),
        b.module("scene/console/bg.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/bg.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.bg.TITLE">素材库</h1>\n        <a ng-show="fileType ==\'0\'" class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1921&page=1&extra=#pid6652">\n            <span class="eqf-exclaquestion-sign"></span></a>\n        <a ng-show="fileType ==\'1\'" class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696">\n            <span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\' translate="scene.create.bg.TIPS">选择素材库的图片或上传图片，选择即可使用(一次性最多上传6张)</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="dialog-content bg_console sound-flex" style="background-color:#f0f0f0;">\n        <div class="cate-title" style="width:200px;">\n             <ul class="nav nav-tabs tabs-left" style="padding-top:0;"><!-- \'tabs-right\' for right tabs -->\n                <li ng-class="{active: systemImages}">\n                    <a href="" ng-show="fileType == \'0\'" ng-click="switchToSystemImages(\'true\');getSystemFiles();" data-toggle="tab" translate="scene.create.bg.BACKGROUND_IMAGE_LIB">背景库</a>\n                    <a href="" ng-show="fileType == \'1\'" ng-click="switchToSystemImages(\'true\');getSystemFiles();" data-toggle="tab" translate="scene.create.bg.IMAGE_LIB">图片库</a>\n                </li>\n                <li ng-class="{active: !systemImages && !userTagId}">\n                    <a href="" ng-show="fileType == \'0\'" ng-click="switchToSystemImages(\'false\');getUserFiles(0)" data-toggle="tab" translate="scene.create.bg.MY_BACKGROUND_IMAGE">我的背景</a>\n                    <a href="" ng-show="fileType == \'1\'" ng-click="switchToSystemImages(\'false\');getUserFiles(0)" data-toggle="tab" translate="scene.create.bg.MY_IMAGE">我的图片</a>\n                </li>\n                <li class="add-tag" ng-if="type != \'p\' && type !=\'n\'">\n                    <a ng-click="createTag();" style="border-bottom:none;"><span class="eqf-plus"></span>&nbsp;<em translate="scene.create.bg.ADD_GROUP">添加分组</em></a>\n                </li>\n                <li class="my-bg-upload bg-img-upload">\n                    <div class="hint--top hint--rounded" data-hint="{{\'scene.create.bg.UPLOAD_IMAGE_TIP\' | translate}}">\n                        <span class="eqf-upload"></span><em translate="scene.create.bg.UPLOAD">上传</em>\n                        <input type="file" nv-file-select="" uploader="uploader" options multiple="multiple" style="width:200px;height: 55px;overflow: hidden;position: absolute;top: 0;right: 0;left:-50px;bottom:0;cursor: pointer;opacity:0;">  \n                    </div>\n                        \n                </li>\n              </ul>\n              <ul class="nav nav-tabs tabs-left user-tabs" style="padding-top:0">\n                <li ng-class="{active: userTagId == tag.id && !systemImages}" ng-repeat="tag in tagList" ng-click="switchToSystemImages(\'false\');getUserFiles(tag.id)" ng-hover resource="tag">\n                    <a href="" data-toggle="tab">\n                        <span class="eqf-no del-tag" ng-if="tag.show && type != \'p\'\n                         && type != \'n\'" style="float:right;margin-top:15px;opacity:0.8;" ng-click="deleteTag(tag.id, $index)"></span>\n                        {{tag.name}}\n                    </a>\n                </li>\n              </ul>\n        </div>\n        <div class="cate-list bg-rig">\n            <div class="tab-content" id="bg_contain">\n                <div class="tab-pane active tab-head" ng-show="systemImages">\n                    <div class="img_list">\n                        <!--系统分类-->\n                        <div class="category_list clearfix">\n                            <ul class="category_list_container clearfix">\n                                <li class="category_item" ng-class="{\'active\': sysCatId == \'0\'}" ng-click="getSysCatAndList(\'0\')">\n                                <span translate="scene.create.bg.LATEST">最新</span>\n                                </li>\n                                <li class="category_item" ng-class="{\'active\': sysCatId == sysCategory.value}" ng-repeat="sysCategory in sysCategoryList" ng-click="getSysCatAndList(sysCategory.value)">\n                                    {{sysCategory.name}}\n                                </li>\n                                <li ng-show="fileType == \'0\'" class="category_item" ng-class="{\'active\': sysCatId == \'pure\'}" ng-click="getSysCatAndList(\'pure\')">\n                                <span translate="scene.create.bg.PURE_COLOR_BG">纯色背景</span>\n                                </li>\n                            </ul>                   \n                        </div>\n                        <div class="cat_two_list clearfix">\n                            <ul>\n                                <li ng-repeat = "sysTag in sysTagList" ng-class="{\'active\': sysTagId == sysTag.id}" ng-click="getSysImgByTag(sysTag.id);" style="cursor:pointer;">\n                                    {{sysTag.name}}\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <!--非系统图库-->\n                <div class="tab-pane active tab-head" ng-show="!systemImages && type != \'p\' && type != \'n\'">\n                    <div class="my-bg">\n                        <span style="float:right" ng-if="!userTagId">\n                            <a class="manage-all" ng-show="!mangeObj.manageAll" ng-click="mangeObj.manageAll = true;">\n                                <em translate="scene.create.bg.MANAGE">管理</em>\n                            </a>\n                            <a class="mul-del" ng-show="mangeObj.manageAll" ng-click="deleteFile();">\n                                <em translate="scene.create.bg.DELETE">删除</em>\n                            </a>\n                            <a class="cancel-all" ng-show="mangeObj.manageAll" ng-click="cancelSelect();mangeObj.manageAll = false;">\n                                <em translate="scene.create.bg.CANCEL">取消选择</em>\n                            </a>\n                        </span>\n                        <span style="float:right" ng-if="userTagId">\n                             <span ng-if="userTagId && mangeObj.manageAll" style="cursor:pointer;" class="cancel-all" ng-click="unbindTag(userTagId);" translate="scene.create.bg.REMOVE">移除</span>\n                             <a class="cancel-all" ng-show="mangeObj.manageAll" ng-click="cancelSelect();mangeObj.manageAll = false;">\n                                <em translate="scene.create.bg.CANCEL">取消选择</em>\n                            </a>\n                            <a class="manage-all" ng-show="!mangeObj.manageAll" ng-click="mangeObj.manageAll = true;">\n                                <em translate="scene.create.bg.MANAGE">管理</em>\n                            </a>\n                        </span>\n                        <span>                       \n                            <a class="assign-group drop-area" ng-click="showObj.showGroup=!showObj.showGroup">\n                                <em translate="scene.create.bg.GROUP">分组</em>&nbsp;&nbsp;&nbsp;\n                                <span class="eqf-down2"></span>\n                            </a>\n                        </span>\n                    </div>\n                    <div class="group-panel" ng-if="showObj.showGroup && tagList.length" auto-close>\n                        <ul>\n                            <li ng-repeat="tag in tagList" ng-click="assignTag(tag.id)">\n                                {{tag.name}}\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="img_list">\n                    <div class="img_list_container photo_list">\n                        <ul class="img_box clearfix">\n                            <li ng-if="!systemImages && uploader.queue.length" class="imgList" ng-repeat="item in uploader.queue.slice().reverse()">\n                                <div class="progress" style="position: absolute;top: 50%;width: 100%;margin-top: -10px;width: 90%;margin-left: 5%;">\n                                    <div style="background-color:#08a1ef" class="progress-bar" role="progressbar" ng-style="{ \'width\': item.progress + \'%\' }"></div>\n                                </div>\n                            </li>\n                            <li id="userlist" ng-if="sysCatId != \'pure\'" class="imageList" ng-repeat="img in imgList" ng-click="replaceByClick(img, $shape, $event);switchSelect(img, $shape, $event);" resource="img">\n                                <img ng-src="{{PREFIX_FILE_HOST + img.tmbPath}}" responsive-image file="img" ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\' && type != \'n\'}"/>\n                                <!--<img ng-if="fileType == \'1\'" ng-src="{{PREFIX_FILE_HOST + img.tmbPath}}" responsive-image file="img" ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\'}"/>-->\n                                <div class="img-mask" ng-show="type == \'p\' || type == \'n\' || ((selectedImages.length || img.show || img.selected || mangeObj.manageAll) && !systemImages)">\n                                    <a class="del-file ope-img" ng-if="!mangeObj.manageAll && !userTagId && type != \'p\' && type != \'n\'" ng-click="deleteFile(img.id)">\n                                        <span class="eqf-no ope-icon"></span>\n                                    </a>\n                                    <a class="sel-file ope-img" ng-class="{\'sel-active\': img.selected, \'hide-del\': mangeObj.manageAll || userTagId || type == \'p\' || type == \'n\'}">\n                                        <span class="eqf-yes ope-icon"></span>\n                                    </a>\n                                </div>\n                            </li>\n                            <li id="userlist" class="imageList" ng-repeat="img in imgList" ng-if="fileType == \'0\' && sysCatId == \'pure\'"  resource="img" ng-click="replaceByClick(img)" ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\' && type != \'n\'}">\n                                <div ng-style="{\'background-color\': img.color}" style="position: relative;height:100%;width:63px;margin: 0 auto;"></div>\n                                <!-- <div class="img-mask" ng-show="img.show || img.selected" ng-click="$event.stopPropagation();">\n                                    <a class="del-file ope-img" ng-if="!mangeObj.manageAll" ng-click="deleteFile(img.id)">\n                                        <span class="eqf-no ope-icon"></span>\n                                    </a>\n                                    <a class="sel-file ope-img" ng-class="{\'sel-active\': img.selected}"  ng-click="switchSelect(img, $shape, $event)">\n                                        <span class="eqf-yes ope-icon"></span>\n                                    </a>\n                                </div> -->\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="fanye_foot clearfix">\n                        <div class="fr" ng-click="replaceImage();"><a class="btn-main" href="" style="color:#FFF;" translate="scene.create.bg.CONFIRM">确定</a></div>\n                        <div class="btn-grey0 cancel fr" style="margin-right:10px;" ng-click="cancel()">\n                            <a style="color:#fff;" translate="scene.create.bg.CANCEL">取消</a>\n                        </div>\n                        <div class="pagination_container fl" ng-show="numPages > 1">\n                            <pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="{{\'scene.create.bg.FIRST_PAGE\' | translate}}" last-text="{{\'scene.create.bg.LAST_PAGE\' | translate}}" max-size="5" items-per-page="pageSize" total-items="totalItems" ng-model="$parent.currentPage" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                            <div class="current_page">\n                                <input type="text" ng-model="$parent.toPage" ng-keyup="$event.keyCode == 13 ? getImgByPage() : null">\n                                <a ng-click="getImgByPage()" class="go">GO</a>\n                                <!-- <span><span translate="scene.create.bg.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="scene.create.bg.CURRENT_PAGE2">页</span></span> -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>');
            }]),
        b.module("scene/console/button.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/button.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1 translate="scene.create.button.TITLE">按钮名称</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=5051&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show="!authError"translate="scene.create.button.TIPS">每个场景只能添加一个提交按钮</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="modify_area tel_title tab-same clearfix" style="padding-left:30px;">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="modify_area form-list clearfix" style="margin-left: 100px;">\n                <label class="form-label" translate="scene.create.button.BUTTON_NAME">按钮名称：</label>\n                <div class="form-input" style="width: 400px;">\n                    <input type="text" check-count="40" ng-model="model.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px;"/>\n                    <!--<span class="title-tip">{{model.title.length}}/15</span>-->\n                </div>\n            </div>           \n        </form>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.button.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.button.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/category.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/category.tpl.html", '<div class="modal-header">\n    <span translate="scene.create.category.TITLE">创建分类</span>\n</div>\n<div class="modal-body add-new-cat">\n    <input type="text" class="form-control" ng-model="category.name" placeholder="{{\'scene.create.category.PLACEHOLDER\' | translate}}" autofocus stop-propagation/>\n</div>\n<p ng-show="authError" style="text-align:center;font-size:12px;color:#ff0000">{{authError}}</p>\n<div class="btn-contain btn-small">\n    <a ng-click="confirm()" class="btn-main login" translate="scene.create.category.CONFIRM">确定</a>\n    <a ng-click="cancel();" class="btn-grey0" translate="scene.create.category.CANCEL">取消</a>\n</div>    ')
            }]),
        b.module("scene/console/counter.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/counter.tpl.html", '<div class="dialog-contain counter">\n    <div class="dialog-head">\n        <h1 translate="scene.create.counter.TITLE">计数</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13239&page=1&extra=#pid104204"><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show = \'!authError\' translate="scene.create.counter.TIPS">可以更换自己的图标</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="tab-same">\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-love\'}">\n            <a ng-click="chooseEqfont(\'eqf-love\')"><span class="eqf-love"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-good\'}">\n            <a ng-click="chooseEqfont(\'eqf-good\')"><span class="eqf-good"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-flower2\'}">\n            <a ng-click="chooseEqfont(\'eqf-flower2\')"><span class="eqf-flower2"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-vote\'}">\n            <a ng-click="chooseEqfont(\'eqf-vote\')"><span class="eqf-vote"></span></a>\n        </span>\n        <div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="{{\'scene.create.counter.UPLOAD_TIP\' | translate}}" ng-click="openImageModal()">\n            <em class="eqf-upload" style="font-size:16px;"></em><em translate="scene.create.counter.CUSTOM">自定义</em>\n        </div>\n    </div>\n    <div class="form_console dialog-content">\n        <div class="modify_area">\n            <div class="counter-group" ng-if="model.properties.imgSrc">\n                <span class="title" translate="scene.create.counter.COUNTER_ICON">计数图标</span>\n                <div class="form-image btn-small counter-choice">\n                    <img style="width: 115px;height: 115px;" ng-src="{{PREFIX_FILE_HOST + model.properties.imgSrc}}" alt="{{\'scene.create.counter.IMAGE_TIP\' | translate}}"/>\n                    <a class="btn-main btn-picture" ng-click="openImageModal()" translate="scene.create.counter.CHANGE_IMAGE">更换图片</a>\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title" translate="scene.create.counter.COUNTER_COLOR">颜色</span>\n                <div class="counter-choice">\n                    <a class="color-picker" ng-style="{backgroundColor: model.properties.color}" ng-model="model.properties.color" colorpicker="rgba" ></a>\n                    <input class="color-picker-input" ng-model="model.properties.color" type="text" />\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title" translate="scene.create.counter.COUNTER_SIZE">字号</span>\n                <div class="counter-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-l\'" translate="scene.create.counter.LARGE">大</label>\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-m\'" translate="scene.create.counter.MIDDLE">中</label>\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-s\'" translate="scene.create.counter.SMALL">小</label>\n                    </div>\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title" translate="scene.create.counter.COUNTER_LAYOUT">布局</span>\n                <div class="counter-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-counter" ng-model="model.properties.layout" btn-radio="\'counter-lr\'" translate="scene.create.counter.LEFT_RIGHT">左右</label>\n                        <label class="btn btn-counter" ng-model="model.properties.layout" btn-radio="\'counter-tb\'" translate="scene.create.counter.TOP_BOTTOM">上下</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.counter.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.counter.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/cropimage.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/cropimage.tpl.html", '<div class="dialog-contain cropimage">\n    <div class="dialog-head">\n        <h1>图片裁切</h1>\n        <p style="margin-top:0">请根据您的需要，点击自定义或匹配单签上方按钮进行裁切</p>\n    </div>\n	<div class="crop-content dialog-content">\n		<div class="crop-control">\n			<ul>\n				<li ng-class="{active: !fit}">\n					<div class="pl">\n						<div class="check" ng-click="fit = false"></div>\n						<div class="cha text-center">自定义</div>\n					</div>\n					<div class="pr">\n						<div class="kuan cha" ng-show="!fit">宽度: <span class="cropWidth"></span></div>\n						<div class="kuan cha" ng-show="!fit">高度: <span class="cropHeight"></span></div>\n						<div class="kuan cha"><input type="checkbox" ng-disabled="fit" ng-model="lockRatio"/>锁定当前比例</div>\n					</div>\n				</li>\n				<li ng-class="{active: fit}">\n					<div class="pl">\n						<div class="check" ng-click="fit = true"></div>\n						<div class="cha text-center">匹配当前</div>\n					</div>\n					<div class="pr">\n						<div class="kuan cha" ng-show="fit">宽度: <span class="cropWidth"></span></div>\n						<div class="kuan cha" ng-show="fit">高度: <span class="cropHeight"></span></div>\n						<div class="kuan cha">匹配当前图片框比例</div>\n					</div>\n				</li>\n				<li class="crop-btn fr">\n					<a class=" btn-main" href="" ng-click="crop()">确定</a>\n					<a class=" btn-grey0" style="margin-top:20px;" href="" ng-click="cancel()">取消</a>\n				</li>\n			</ul>\n		</div>\n		<div class="image_crop ">\n			<img id="target">\n		</div>\n	</div>\n</div>')
            }]),
        b.module("scene/console/fake.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/fake.tpl.html", '<div class="modal-footer">\n	<div class="alert alert-info" role="alert">此功能为高级账号功能，点击按钮免费申请成为高级账号！</div>\n    <a class="btn-main login" target="_blank" style="width: 188px;" ng-href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77">免费成为高级账号</a>\n</div>\n<div class="anim_area" style="padding: 0 20px 20px;">\n	<img title="点击上方按钮成为高级账号" ng-show="type==\'style\'" src="{{CLIENT_CDN}}assets/images/create/fakestyle.png"/>\n	<img title="点击上方按钮成为高级账号" ng-show="type==\'anim\'" src="{{CLIENT_CDN}}assets/images/create/fakeanim.png"/>\n</div>')
            }]),
        b.module("scene/console/imageCrop.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/imageCrop.tpl.html", '<div class="dialog-contain cropimage">\n    <div class="dialog-head">\n        <h1>{{cropOption.title}}</h1>\n        <p style="margin-top:0">{{cropOption.desc}}</p>\n    </div>\n    <div class="crop-content dialog-content clearfix">\n        <div class="image_crop crop-img-cut" ctype="{{cropOption.type}}" ng-class="{\'bg-crop\': !cropOption.showItems}">\n            <img id="target" eqx-crop-preview ng-src="{{PREFIX_FILE_HOST + cropOption.imgSrc}}">\n        </div>\n        <div class="cut-size" ng-show="cropOption.showItems">\n            <ul>\n                <li ng-repeat="item in cropOption.cropItems">\n                    <input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)">\n                    <label for="{{item.desc}}">{{item.desc}}</label>\n                    <span ng-if="item.lock != null">\n                        <input type="checkbox" id="lock" ng-model="item.lock" ng-change="cropItemChange(item)">\n                        <label for="lock" translate="scene.create.imageCrop.LOCK">锁定</label>\n                    </span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="btn-contain btn-small">\n        <a class="btn-main login" ng-click="ok()" translate="scene.create.imageCrop.CONFIRM">确定</a>\n        <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.imageCrop.CANCEL">取消</a>\n    </div>    \n</div>')
            }]),
        b.module("scene/console/input.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/input.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.input.TITLE">输入框组件</h1>\n		<a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1935&page=\n"><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\' translate="scene.create.input.TIPS">在场景中添加输入框可以用来收集数据信息</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n	<div class="modify_area  tel_title tab-same clearfix" style="padding-left:30px;">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<a style="border-width: 2px !important;" ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n	</div>\n	<div class="form_console dialog-content">\n		<div class="modify_area">\n			<span class="label" translate="scene.create.input.INPUT_NAME">输入框名称：</span>\n			<input type="text" ng-model="model.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n			<input type="checkbox" id="checkbox_required" ng-model="model.required" ng-true-value="required" style="margin-top:0;margin-left:5px;" />\n			<label for="checkbox_required" style="font-weight: lighter; margin:0;font-size:12px;" translate="scene.create.input.REQUIRED">必填</label>\n		\n			<div class="customized_container">\n				<input type="radio" id="input_name" ng-model="model.type" ng-change="model.title=(\'scene.create.input.NAME\' | translate)" value="501" /><label for="input_name" translate="scene.create.input.NAME">姓名</label>\n				<input type="radio" id="input_phone" ng-model="model.type" ng-change="model.title=(\'scene.create.input.PHONE\' | translate)" value="502" /><label for="input_phone" translate="scene.create.input.PHONE">手机</label>\n				<input type="radio" id="input_email" ng-model="model.type" ng-change="model.title=(\'scene.create.input.EMAIL\' | translate)" value="503" /><label for="input_email" translate="scene.create.input.EMAIL">邮箱</label>\n				<input type="radio" id="input_text" ng-model="model.type" ng-change="model.title=(\'scene.create.input.TEXT\' | translate)" value="5" /><label for="input_text" translate="scene.create.input.TEXT">文本</label>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.input.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.input.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/link-component.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/link-component.tpl.html", '<div class="dialog-contain link-component">\n    <div class="dialog-head">\n        <h1 translate="scene.create.linkComponent.TITLE">链接组件</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13069&extra"><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\' translate="scene.create.linkComponent.TIPS">两种链接：可以跳转到场景外部的链接，或者内部导航链接</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="tab-same">\n        <span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n        <div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="{{\'scene.create.linkComponent.UPLOAD_TIP\' | translate}}" ng-click="openImageModal()">\n            <em class="eqf-upload" style="font-size:16px;"></em><em translate="scene.create.linkComponent.CUSTOM">自定义</em>\n        </div>\n    </div>\n    <div class = "link-modal dialog-content">\n        <form class="form-contain">\n            <div class="form-list clearfix" ng-if="!model.imgSrc">\n                <label for="buttonName" class="form-label" translate="scene.create.linkComponent.BUTTON_NAME">按钮名称：</label>\n                <div class="form-input">\n                    <input id="buttonName" class="btn-name" style="height:35px;width:300px;" type="text" ng-model="model.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n                </div>\n            </div>\n            <div class="form-list clearfix" ng-if="model.imgSrc">\n                <label class="form-label" translate="scene.create.linkComponent.IMAGE_TIP">按钮图片：</label>\n                <div class="form-image btn-small">\n                    <img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="{{\'scene.create.linkComponent.IMAGE_TIP\' | translate}}"/>\n                    <a class="btn-main btn-picture" ng-click="openImageModal()" translate="scene.create.linkComponent.CHANGE_IMAGE">更换图片</a>\n                </div>\n            </div>\n            <div class="form-list clearfix" style="position: relative;">\n                <label for="externalRadio" class="form-label">\n                    <input type="radio" name="externalRadio" id="externalRadio" ng-model = "model.url.link" value="external" ng-change = "changed()" style="margin:0px;"><span translate="scene.create.linkComponent.WEBSITE_ADDRESS">网站地址：</span>\n                </label>\n                <div class="form-input">\n                    <input class = "" style="height:35px;width:300px;" type="text" ng-model = "model.url.externalLink" name="externalLink" id="externalLink" placeholder = "{{\'scene.create.linkComponent.WEBSITE_ADDRESS_TIP\' | translate}}" ng-disabled = "url.link == \'internal\'" ng-change = "selectRadio(\'external\')"  limit-link-length stop-propagation/>\n                    <a style = "font-size: 16px;display: inline-block; margin-top: 5px;background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'external\'" class = "delete-link" ng-click = "removeLink(\'external\')"></a>\n                </div>\n                <a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;position: absolute;top: 10px;right: -30px;" target="_blank" translate="scene.create.linkComponent.GEN_SHORT_LINK">生成短链接</a>\n            </div>\n            <div class="form-list clearfix">\n                <label for="internalRadio" class="form-label">\n                    <input type="radio" name="internalRadio" id="internalRadio" value="internal" ng-model = "model.url.link" ng-change = "changed()" style="margin:0px;"><span translate="scene.create.linkComponent.SCENE_PAGE">场景页面：</span>\n                </label>\n                <div class="form-input">\n                    <select style = "width:300px;" ng-model="model.url.internalLink" ng-options="page.id as page.name for page in pageList" ng-disabled = "url.link == \'external\'" ng-change = "selectRadio(\'internal\')"></select>\n                    <a style = "display: inline-block;font-size: 16px; background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'internal\'" ng-click = "removeLink(\'internal\')"></a>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.linkComponent.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.linkComponent.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/link.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/link.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1 translate="scene.create.link.TITLE">链接组件</h1>\n        <p style="margin-top:0" translate="scene.create.link.TIPS">可以链接到场景其他页面或者链接网站地址</p>\n    </div>\n	<div class = "link-modal dialog-content">\n		<form class="form-contain">\n			<div class="form-list clearfix">\n	            <label for="externalRadio" class="form-label">\n	            	<input type="radio" name="externalRadio" id="externalRadio" ng-model = "url.link" value="external" ng-change = "changed()" style="margin:0px;"><em translate="scene.create.link.WEBSITE_ADDRESS">网站地址：</em>\n				</label>\n	            <div class="form-input">\n	                <input class = "" style="height:35px;width:300px;" type="text" ng-model = "url.externalLink" name="externalLink" id="externalLink" placeholder = "{{\'scene.create.link.WEBSITE_ADDRESS_TIP\' | translate}}" ng-disabled = "url.link == \'internal\'" ng-change = "selectRadio(\'external\')"  limit-link-length/>\n					<a style = "font-size: 16px;display: inline-block; margin-top: 5px;background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'external\'" class = "delete-link" ng-click = "removeLink(\'external\')"></a>\n	            </div>\n				<a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;position: absolute;top: 10px;right: -30px;" target="_blank" translate="scene.create.link.GEN_SHORT_LINK">生成短链接</a>\n	        </div>\n	        <div class="form-list clearfix">\n	            <label for="internalRadio" class="form-label">\n	            	<input type="radio" name="internalRadio" id="internalRadio" value="internal" ng-model = "url.link" ng-change = "changed()" style="margin:0px;"><em translate="scene.create.link.SCENE_PAGE">场景页面：</em>\n				</label>\n				<div class="form-input">\n					<select style = "width:300px;" ng-model = "url.internalLink" ng-options = "page.name for page in pageList" ng-disabled = "url.link == \'external\'" ng-change = "selectRadio(\'internal\')"></select>\n					<a style = "display: inline-block;font-size: 16px; background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'internal\'" ng-click = "removeLink(\'internal\')"></a>					\n				</div>\n	        </div>\n		</div>\n	</div>\n</div>\n<div class = "btn-contain btn-small">\n	<a class = "btn-main login" ng-click = "confirm()" translate="scene.create.link.CONFIRM">确定</a>\n	<a class = "btn-grey0 cancel" ng-click = "cancel()" translate="scene.create.link.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/map.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/map.tpl.html", '<div class="map_console">\n	<div id="l-map"></div>\n	<div class="search_area">\n		<div class="input-group">\n		  <input type="text" class="form-control" ng-model="search.address" ng-keyup="$event.keyCode == 13 ? searchAddress() : null" placeholder="请输入地名">\n		  <span class="input-group-btn">\n		    <button ng-click="searchAddress()" class="btn btn-default" type="button">搜索</button>\n		  </span>\n		</div><!-- /input-group -->\n		<div id="r-result">\n			<ul class="list-group">\n				<li class="list-group-item" ng-repeat="address in searchResult" ng-click="setPoint(address.point.lat, address.point.lng, address.address)">\n					{{address.address}}	\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n<div class="modal-footer">\n    <a class="btn-main login" style="width: 88px;" ng-click="resetAddress()">确定</a>\n    <a class="btn-grey0 cancel" style="width: 88px;" ng-click="cancel()">取消</a>\n</div>')
            }]),
        b.module("scene/console/microweb.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/microweb.tpl.html", '<div class="button_console">\n	<div class="modify_area">\n		<div>导航样式:\n			<ul>\n				<li ng-click = "selectColor(color)" ng-class = "{colorborder: model.color == color.backgroundColor}" style = "display: inline-block; margin: 10px;" ng-repeat = "color in backgroundColors"><div style = "width: 50px; height: 30px; margin: 10px; cursor:pointer;" ng-style = "color"></div></li>\n			</ul>\n		</div>\n	</div>\n	<div class = "divider" style = "margin-top: 10px; height: 1px; background: #ccc;"></div>\n	<div class="modify_area">\n		<div>\n			<ul class="clearfix" style="left:50%;margin-left:-160px;position:relative;height:65px;">\n				<li class = "title_color" ng-class = "{colorborder:labelIndex == $index && labelName.mousedown,selectedcolor: labelName.selected,whitecolor: labelName.color.backgroundColor == \'#fafafa\'}" ng-click = "switchLabel(labelName, $index)" style = "display: inline-block;float:left;" ng-repeat = "labelName in labelNames"><div style = "margin: 10px; width:50px; height: 30px;line-height:30px; border: 1px solid #ccc; cursor: pointer;" ng-style = "labelName.color">{{labelName.title}}</div></li>\n			</ul>\n		</div>\n		<span class="label">导航名称：</span>\n		<input type="text" ng-model="model.title" ng-change = "changeLabelName()" ng-keyup="$event.keyCode == 13 ? confirm() : null" placeholder = "导航名称" maxlength = "4"/>\n	</div>\n\n	<div class="modify_area">\n		<span class="label">链接页面：</span>\n		<select style = "width: 181px; height: 30px; display: inline-block;" ng-model = "model.link" ng-options = "page.name for page in pageList" ng-change = "selectLink(model.link)"></select>\n	</div>\n\n	<div class="modify_area" style = "color: #ff0000">\n		至少选择两个标签，并分别添加链接\n	</div>\n	\n</div>\n<div class="modal-footer">\n    <a class="btn-main login" style="width: 88px;" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" style="width: 88px;" ng-click="cancel()">取消</a>\n</div>')
            }]),
        b.module("scene/console/pictures.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/pictures.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>图集组件</h1>\n        <p ng-show=\'!authError\'>图集中可以添加多张图片</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div> \n    <div class="pic-contain">\n        <div class="pic-head clearfix pic-same">\n            <div class="select-img">\n                <a ng-click="choosePic()">选择图片</a>\n                <span>最多可选择6张图片</span>\n            </div>\n            <div class="select-style clearfix">\n                <select ng-model="properties.picStyle" ng-options="pic.desc for pic in picStyles">\n                    <!--<option value ="">图片轮播</option>-->\n                    <!--<option value ="">翻书效果</option>-->\n                    <!--<option value="">轮播效果</option>-->\n                    <!--<option value="">上下效果</option>-->\n                </select>\n                <span class="bg-color" ng-style="{\'background-color\': properties.bgColor}"></span>\n                <span class="select-bg-color" colorpicker="rgba" ng-model="properties.bgColor">背景颜色</span>\n            </div>\n        </div> \n        <div class="pic-img-list pic-same">\n            <ul class="clearfix">\n                <li eqx-pictures-image-click ng-class="{hover: currentImageIndex === $index}" ng-repeat="img in properties.children track by $index">\n                    <img class="pic-img" ng-src="{{PREFIX_FILE_HOST + img.src}}"/>\n                    <i class="delete-img"><img ng-src="{{CLIENT_CDN}}assets/images/bg_07.png" /></i>\n                </li>\n            </ul>\n        </div>\n        <div class="pic-preview" ng-style="{\'background-color\': properties.bgColor, width: position.width, height: position.height}">\n            <!--<img eqx-image-crop ng-src="{{CLIENT_CDN}}assets/images/scene6.jpg" />\n            <div class="operation">\n                <a class="quxiao ">取消</a><a class="finish">完成</a>\n            </div>\n            <div class="shape">\n                <span><a>自由裁切</a>|<a>正方形</a>|<a>标准</a></span>\n            </div>-->\n        </div>\n        <div class="operation-pre">\n            <!--<a class="enhance">增强</a><a class="rotation">旋转</a>--><a class="cut" eqx-pictures-image-crop>裁切</a>\n        </div>\n        <div class="pic-same pic-play clearfix">\n            <div class="set-play clearfix">\n               <!--  class=on  开启 off 关闭 -->\n                <span ng-show="properties.autoPlay"><span class="button on" ng-click="properties.autoPlay = false"><i></i></span>已开启自动播放</span>\n                <span ng-show="!properties.autoPlay"><span class="button off" ng-click="properties.autoPlay = true"><i></i></span>已关闭自动播放</span>\n            </div>\n            <div class="btn-content btn-contain" style="padding:0">\n                <a class="btn-grey0 cancel" style="margin-right:8px;" ng-click="cancel()">取消</a>\n                <a class="btn-main login" ng-click="ok()">确定</a>\n            </div>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("scene/console/pictures1.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/pictures1.tpl.html", '<div class="dialog-contain cropimage">\n    <div class="dialog-head">\n        <h1>{{imageOption.title}}</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1938&page=1&extra=#pid6709">\n            <span class="eqf-exclaquestion-sign"></span></a>\n        <p style="margin-top:0">{{imageOption.desc}}</p>\n    </div>\n    <div class="crop-content dialog-content clearfix">\n        <div class="image-con" style="width:100%" ng-hide="imageOption.showCrop">\n            <div class="add-img" ng-click="addPictures($event, 0, \'first\')"><i translate="scene.create.pictures1.ADD_PICTURE_TIP1">点击此处，添加图片</i><p style="padding-top: 5px;font-size: 14px;"><i translate="scene.create.pictures1.ADD_PICTURE_TIP2">（最多可添加6张图片）</i></p></div>\n        </div>\n        <div class="clearfix" ng-show="imageOption.showCrop">\n            <div class="picture-img">\n                <div class="image_crop" ng-class="{\'bg-crop\': !cropOption.showItems}">\n                    <img id="img_preview" eqx-pictures-crop-preview index="{{imageOption.currentImage.index}}" ng-src="{{imageOption.currentImage.src ? PREFIX_FILE_HOST + imageOption.currentImage.src : \'\'}}">\n                    <!--<a class="eqf-left nav-left"></a>-->\n                    <!--<a class="eqf-right nav-right"></a>-->\n                </div>\n                <div class="img-abbre">\n                    <ul class="clearfix">\n                        <li ng-repeat="child in properties.children" ng-class="{active: imageOption.currentImage.index === $index}" ng-style="{\'background-image\':  child.src ? \'url(\' + PREFIX_FILE_HOST + child.src + \')\' : \'\'}" ng-click="changePicture($index)">\n                            <div class="img-set" ng-show="child.src.length">\n                                <div class="delete-img hint--top hint--rounded" data-hint="{{\'scene.create.pictures1.DELETE_PICTURE\' | translate}}" ng-click="delPicture($index)">\n                                    <span class="eqf-no"></span>\n                                </div>\n                                <div class="abbre hint--bottom hint--rounded" data-hint="{{\'scene.create.pictures1.CHANGE_PICTURE\' | translate}}" ng-click="addPictures($event, $index)">\n                                    <span class="eqf-top-pic"></span>\n                                </div>\n                            </div>\n                            <p class="eqf-plus2" ng-hide="child.src.length" ng-click="addPictures($event, $index, \'more\')"></p>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div class="cut-size picture-size" ng-show="cropOption.showItems">\n                <ul>\n                    <li ng-repeat="item in cropOption.cropItems">\n                        <input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)">\n                        <label for="{{item.desc}}">{{item.desc}}</label>\n                        <span ng-if="item.lock != null">\n                            <input type="checkbox" id="lock" ng-model="item.lock" ng-change="cropItemChange(item)">\n                            <label for="lock" translate="scene.create.pictures1.LOCK">锁定</label>\n                        </span>\n                    </li>\n                </ul>\n                <ul style="margin-top:10px;" class="picture-set">\n                    <li class="clearfix"><span class="switch-circle on" ng-class="{on: properties.autoPlay, off: !properties.autoPlay}" ng-click="properties.autoPlay = !properties.autoPlay"><i></i></span>{{properties.autoPlay ? (\'scene.create.pictures1.AUTO_PLAY\' | translate) : (\'scene.create.pictures1.HANDY_PLAY\' | translate)}}</li>\n                    <li><p><i translate="scene.create.pictures1.INTERVAL">切换时间：</i>{{properties.interval / 1000}}<i translate="scene.create.pictures1.INTERVAL_UNIT">秒</i></p></li>\n                    <li class="switch-time" style="padding-top: 5px;">\n                        <div ui-slider step="1000" min="1000" max="5000" ng-model="properties.interval" ng-class="{disable: !properties.autoPlay}"></div>\n                        <div class="time-mark" ng-hide="properties.autoPlay"></div>\n                    </li>\n                    <li><p translate="scene.create.pictures1.ANIMATION">切换动画</p></li>\n                    <li>\n                        <select style="width:100%" ng-model="properties.picStyle" ng-options="pic.desc for pic in picStyles"></select>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="btn-contain btn-small">\n        <a class="btn-main login" ng-click="ok()" ng-show="imageOption.showCrop" translate="scene.create.pictures1.CONFIRM">确定</a>\n        <a class="btn-grey0 cancel" ng-click="cancel()" ng-style="{\'margin-left\': imageOption.showCrop ? 25 : 0}" translate="scene.create.pictures1.CANCEL">取消</a>\n    </div>\n</div>\n<div class="loading-mask" ng-show="imageOption.showLoading">\n    <img ng-src="{{CLIENT_CDN}}assets/images/oval.svg">\n</div>');
            }]),
        b.module("scene/console/radio-checkbox.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/radio-checkbox.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>{{model.type ==\'r\' ? (\'scene.create.radio.checkbox.RADIO_TITLE\' | translate): (\'scene.create.radio.checkbox.CHECKBOX_TITLE\' | translate)}}</h1>\n        <a ng-show="model.type ==\'r\'" class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9374&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <a ng-show="model.type ==\'c\'" class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9375&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\'>{{model.type ==\'r\' ? (\'scene.create.radio.checkbox.RADIO_TIPS\' | translate) : (\'scene.create.radio.checkbox.CHECKBOX_TIPS\' | translate)}}</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="modify_area  tel_title tab-same clearfix" style="padding-left:30px;">\n		<span ng-repeat = "button in buttons" ng-class = "{spanborder: $index == btnIndex}">\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">\n                <input type="radio" ng-if="model.type == \'r\'" style="margin-top: -1px;"/>\n                <input type="checkbox" ng-if="model.type == \'c\'" style="margin-top: -1px;"/>\n                <span>{{model.type ==\'r\' ? (\'scene.create.radio.checkbox.RADIO_COMPONENT\' | translate):(\'scene.create.radio.checkbox.CHECKBOX_COMPONENT\' | translate)}}</span>\n            </a>\n		</span>\n    </div>\n    <div class="form_console dialog-content input-content">\n        <div class="input-preview" style="border-color:  {{buttons[btnIndex].btnStyle.borderColor}}">\n            <div class="preview-title" ng-style="buttons[btnIndex].properties.titleStyle">{{model.title?model.title:(\'scene.create.radio.checkbox.DEMO_TITLE\' | translate)}}</div>\n            <div class="preview-options" >\n                <div class="preview-option" ng-repeat="option in model.options" ng-style="buttons[btnIndex].properties.optionStyle">\n                    <input type="radio" disabled ng-if="model.type == \'r\'" style="margin-top: -1px;"/>\n                    <input type="checkbox" disabled ng-if="model.type == \'c\'" style="margin-top: -1px;"/>\n                    <span>{{option.label}}</span>\n                </div>\n            </div>\n        </div>\n        <div class="modify_area input-design">\n            <div class="input-title">\n                <div>\n                    <span class="title" translate="scene.create.radio.checkbox.INPUT_TITLE">标题</span>\n                    <!--<span class="title-tip">{{model.title.length}}/41</span>-->\n                </div>\n                <textarea class="form-control" ng-model="model.title" placeholder="{{\'scene.create.radio.checkbox.INPUT_TIPS\' | translate}}" id="radioTitle" rows="3" check-count="82" stop-propagation autofocus style="width: 400px;"></textarea>\n                <span style="position: relative;display: inline-block;vertical-align: middle;height: 74px;line-height: 74px;">\n                    <label for="checkbox_required" style="font-weight: lighter; margin:0;font-size:12px;position: absolute;width: 67px;">\n                        <input type="checkbox" id="checkbox_required" ng-model="model.required" ng-true-value="required" style="margin-top:0;margin-left:5px;" /><span translate="scene.create.radio.checkbox.REQUIRED">必填</span>\n                    </label>\n                </span>\n            </div>\n            <div class="input-options">\n                <div class="input-option">\n                    <span class="option" translate="scene.create.radio.checkbox.OPTIONS">选项</span>\n                    <span class="option-tip" translate="scene.create.radio.checkbox.OPTION_TIPS">（您可以添加八个选项，每个选项最多请不要超过41字）</span>\n                </div>\n                <div id="optionGroupContainer" class="option-group-container" style="position:relative;">\n                    <div class="option-group" ng-repeat="option in model.options">\n                        <textarea class="option-label form-control" rows="2" ng-model="option.label" check-count="82" stop-propagation></textarea>\n                        <div class="operations">\n                            <span class="eqf-delete2" ng-click="deleteTheOption($index)"></span>\n                            <span class="eqf-plus" ng-click="addNewOption($index)"></span>\n                        </div>\n                    </div>\n                </div>\n                <div class="input-tip clearfix">\n                    <span class="add-option" ng-click="addNewOption(model.options.length)">\n                        <span class="eqf-plus2"></span><i translate="scene.create.radio.checkbox.ADD_OPTION">增加选项</i></span>\n                    <span class="page-indicator">{{model.options.length}}/8</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.radio.checkbox.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.radio.checkbox.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/randomevent.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/randomevent.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1 translate="scene.create.randomevent.TITLE">随机事件</h1>\n        <p ng-show="!authError" translate="scene.create.randomevent.TIPS">可以从素材库中添加图片</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n        <ul>\n            <li ng-click="choosePic()" ng-hide="picList.length >= 10">\n                <a href="" translate="scene.create.randomevent.ADD">添加</a>\n            </li>\n            <li ng-repeat="pic in picList">\n                <div class="img-set">\n                    <div class="delete-img hint--top hint--rounded" data-hint="{{\'scene.create.randomevent.DELETE_IMAGE\' | translate}}" ng-click="delImage($index)">\n                        <span class="eqf-no"></span>\n                    </div>\n                    <div class="abbre hint--bottom hint--rounded" data-hint="{{\'scene.create.randomevent.CHANGE_IMAGE\' | translate}}" ng-click="replaceImage($index)">\n                        <span class="eqf-top-pic"></span>\n                    </div>\n                </div>\n                <img ng-src="{{PREFIX_FILE_HOST + pic.src}}" responsive-image />\n            </li>\n        </ul>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.randomevent.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.randomevent.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/rating.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/rating.tpl.html", '<div class="dialog-contain rating-content">\n    <div class="dialog-head">\n        <h1 translate="scene.create.rating.TITLE">评分</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9376&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show = \'!authError\' translate="scene.create.rating.TIPS">请输入少于12个字的评分标题</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="tab-same">\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-star\'}">\n            <a ng-click="chooseEqfont(\'eqf-star\')"><span class="eqf-star"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-love\'}">\n            <a ng-click="chooseEqfont(\'eqf-love\')"><span class="eqf-love"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-roll\'}">\n            <a ng-click="chooseEqfont(\'eqf-roll\')"><span class="eqf-roll"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-flower\'}">\n            <a ng-click="chooseEqfont(\'eqf-flower\')"><span class="eqf-flower"></span></a>\n        </span>\n    </div>\n    <div class="form_console dialog-content rating-preview-design">\n        <div class="comp_rating rating rating-preview">\n            <div class="rating-title ellipsis">{{model.title?model.title:(\'scene.create.rating.PREVIEW_TITLE\' | translate)}}</div>\n            <div class="rating-icons">\n                <span class="{{model.properties.icon}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n            </div>\n        </div>\n        <div class="modify_area rating rating-design">\n            <div class="rating-group">\n                <span class="title" translate="scene.create.rating.RATING_TITLE">标题</span>\n                <div class="rating-choice">\n                    <input type="text" class="form-control" ng-model="model.title" placeholder="{{\'scene.create.rating.RATING_TITLE_TIP\' | translate}}" check-count="40" id="ratingTitle" stop-propagation autofocus/>\n                    <!--<span class="title-tip">{{model.title.length}}/12</span>-->\n                    <span style="display: inline-block;position: relative;vertical-align: middle;height: 35px;line-height: 35px;">\n                        <label for="checkbox_required" style="font-weight: lighter; margin:0;font-size:12px;position: absolute;width: 70px;">\n                            <input type="checkbox" id="checkbox_required" ng-model="model.properties.required" ng-true-value="required" style="margin-top:0;margin-left:5px;" class="ng-pristine ng-valid"><span translate="scene.create.rating.REQUIRED">必填</span>\n                        </label>\n                    </span>\n                </div>\n            </div>\n            <div class="rating-group">\n                <span class="title" style="vertical-align: top;line-height: 28px;height: 28px;" translate="scene.create.rating.RATING_COLOR">颜色</span>\n                <div class="rating-choice">\n                    <eqd-input-color select-color="model.properties.color" default-color="\'rgba(255, 147, 7, 1)\'" x="24" stop-propagation></eqd-input-color>\n                    <!--<a class="color-picker" ng-style="{backgroundColor: model.properties.color}" ng-model="model.properties.color" colorpicker="rgba" ></a>-->\n                    <!--<input class="color-picker-input" ng-model="model.properties.color" type="text" stop-propagation/>-->\n                </div>\n            </div>\n            <div class="rating-group">\n                <span class="title" translate="scene.create.rating.RATING_SIZE">大小</span>\n                <div class="rating-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-rating" ng-model="model.properties.size" btn-radio="\'rating-l\'" translate="scene.create.rating.LARGE">大</label>\n                        <label class="btn btn-rating" ng-model="model.properties.size" btn-radio="\'rating-m\'" translate="scene.create.rating.MIDDLE">中</label>\n                        <label class="btn btn-rating" ng-model="model.properties.size" btn-radio="\'rating-s\'" translate="scene.create.rating.SMALL">小</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.rating.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.rating.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/scene-setting-component.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/scene-setting-component.tpl.html", '<div class="scene-setting-component">\n    <div class="setting-bg" ng-click="$parent.sceneSetting.showFlag = false"></div>\n    <div class="scene-setting-info fade">\n        <div class="alert alert-warning" role="alert" ng-if="invalidText">\n            {{invalidText}}\n        </div>\n        <form class="form-horizontal" role="form" name="myForm" novalidate>\n            <div class="basic-setting clearfix">\n                <div class="title">\n                    <h2 translate="scene.create.scene.setting.BASIC_SETTING">基本设置</h2>\n                </div>\n                <div class="content clearfix">\n                    <div class="basic-info clearfix">\n                        <div class="left">\n                            <div class="cover-img">\n                                <a ng-click = "openImageModal()">\n                                    <img style="width:150px; height:150px;" ng-src="{{PREFIX_FILE_HOST +  scene.cover}}" />\n                                    <em translate="scene.create.scene.setting.CHANGE_COVER">更换封面</em>\n                                </a>\n                            </div>\n                        </div>\n                        <div class="right">\n                            <div class="setting-group setting-name">\n                                <label for="name" class="setting-label" translate="scene.create.scene.setting.SCENE_NAME">场景名称</label>\n                                <div class="setting-value">\n                                    <input name = "name" type="text" class="form-control name" id="name" placeholder="{{\'scene.create.scene.setting.SCENE_NAME\' | translate}}" ng-model="scene.name" stop-propagation>\n                                </div>\n                            </div>\n                            <div class="setting-group setting-description">\n                                <label for="description" class="setting-label" translate="scene.create.scene.setting.DESCRIPTION">场景描述</label>\n                                <div class="setting-value">\n                                    <textarea ng-model = "scene.description" class="description form-control" rows="2" id = "description" name = "description" ng-change="maxLength30()" placeholder="{{\'scene.create.scene.setting.DESCRIPTION_TIP\' | translate}}" stop-propagation></textarea>\n                                </div>\n                            </div>\n                            <div class="setting-group">\n                                <label for="type" class="setting-label" translate="scene.create.scene.setting.SCENE_TYPE">场景类型</label>\n                                <div class="setting-value">\n                                    <select ng-model="scene.type" ng-options="scenetype.value as scenetype.name for scenetype in types" id = "type" class = "scene-type form-control"></select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="setting-group setting-flip">\n                        <label for="page_mode" class="setting-label" translate="scene.create.scene.setting.PAGE_MODE">翻页方式</label>\n                        <div class="setting-value">\n                            <select ng-model="scene.pageMode" ng-options="pagemode.id as pagemode.name for pagemode in pagemodes" id = "page_mode" class = "form-control"></select>\n                        </div>\n                        <div class="auto-flip">\n                                <span class="flip-loop">\n                                    <input type="checkbox" ng-model="scene.property.triggerLoop"/> <i translate="scene.create.scene.setting.LOOP">循环</i>\n                                </span>\n                            <input type="checkbox" ng-model="scene.property.autoFlip"/> <span translate="scene.create.scene.setting.AUTO_FLIP">自动翻页</span>\n                            <div class="flip-speed" ng-show="scene.property.autoFlip">\n                                <!-- <select ng-model="scene.property.autoFlipTime" ng-options="autoFlipTime.id as autoFlipTime.name for autoFlipTime in autoFlipTimes" id = "page_mode" class = "form-control" style="padding:6px 10px;">\n                                    <option value="">选择翻页频率</option>\n                                </select> -->\n                                <input type="number" min="0" max="60" ng-model="scene.property.autoFlipTime" style="width:50%;margin-left:10px;" stop-propagation/><span style="margin-left: 10px;" translate="scene.create.scene.setting.TIME_UNIT">秒</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="setting-group setting-music">\n                        <label for="type" class="setting-label" translate="scene.create.scene.setting.BG_MUSIC">场景音乐</label>\n                        <div class="setting-value">\n                            <span class="form-control bg-music ellipsis" ng-click="openAudioModal()">{{(!!scene.bgAudio) ? (scene.bgAudio.name ? scene.bgAudio.name : (\'scene.create.scene.setting.ALREADY_EXIST\' | translate)) : (\'scene.create.scene.setting.NOT_EXIST\' | translate)}}</span>\n                        </div>\n                        <div class="setting-progress-bar">\n                            <label for="type" class="setting-label" translate="scene.create.scene.setting.PAGE_NUM">场景页码</label>\n                            <input type="checkbox" ng-model="scene.property.slideNumber"/> <i translate="scene.create.scene.setting.PAGE_NUM_TIP">显示当前页码</i>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="share-scene">\n                <div class="title" ng-click="(eqSceneSettingCurrent == eqSceneSettingTabs.SHARE_SCENE) ? (eqSceneSettingCurrent = null) : (eqSceneSettingCurrent = eqSceneSettingTabs.SHARE_SCENE)">\n                    <h2 class="title" translate="scene.create.scene.setting.SHARE_SCENE">场景共享</h2>\n                    <span ng-class="{\'eqf-chevron-thin-down\': eqSceneSettingCurrent != eqSceneSettingTabs.SHARE_SCENE, \'eqf-chevron-thin-up\': eqSceneSettingCurrent == eqSceneSettingTabs.SHARE_SCENE}"></span>\n                </div>\n                <div class="content" ng-show="eqSceneSettingCurrent == eqSceneSettingTabs.SHARE_SCENE">\n                    <div class="select-option" ng-if="scene.publishTime">\n                        <input id="eqShowGround" type="checkbox" class="option" ng-true-value="1" ng-false-value="0" ng-model="scene.isShow" ng-disabled="scene.accessCode">\n                        <label for="eqShowGround" class="option-name"><i translate="scene.create.scene.setting.APPLY_SHOWTIME">申请加入秀场</i>\n                            <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip-html-unsafe="{{\'scene.create.scene.setting.SHOWTIME_TIP\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                            <span class="option-tips" ng-switch="scene.isShow">\n                                <span class="not-yet" ng-switch-default translate="scene.create.scene.setting.SHOWTIME_NOT_YET">未申请</span>\n                                <span class="in-progress" ng-switch-when="1" translate="scene.create.scene.setting.SHOWTIME_JOIN_IN">加入</span>\n                            </span>\n                            <span class="scene-tags" ng-if="scene.isShow == \'1\'">\n                                <label for="tag" translate="scene.create.scene.setting.SCENE_TAG">场景标签</label>\n                                <select ng-model="scene.tagId" class="scene-tag form-control" id="tag" ng-options="sceneTag.id as sceneTag.name for sceneTag in sceneTags">\n                                    <option value="" translate="scene.create.scene.setting.SCENE_TAG_EMPTY">请选择标签</option>\n                                </select>\n                            </span>\n                        </label>\n                    </div>\n                    <div class="select-option" ng-if="!scene.publishTime" translate="scene.create.scene.setting.SHOWTIME_LIMIT">您未发布场景，不能申请加入秀场</div>\n                    <!-- <div class="select-option">\n                        <input type="checkbox" class="option" checked disabled ng-if="scene.applyPromotion == 2"/>\n                        <input id="eqSample" type="checkbox" class="option" ng-true-value="1" ng-false-value="0"\n                               ng-model="scene.applyPromotion" ng-if="scene.applyPromotion != 2" ng-disabled="scene.accessCode">\n                        <label for="eqSample" class="option-name"><i translate="scene.create.scene.setting.APPLY_PROMOTION">申请易企秀推荐</i>\n                            <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip-html-unsafe="{{\'scene.create.scene.setting.APPLY_PROMOTION_TIP\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                            <span class="option-tips" ng-switch="scene.applyPromotion">\n                                <span class="not-yet" ng-switch-default translate="scene.create.scene.setting.PROMOTION_NOT_YET">未申请<a style="padding-left:10px;" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8492" target="_blank" translate="scene.create.scene.setting.APPLY_TIP">申请技巧</a></span>\n                                <span class="in-progress" ng-switch-when="1" translate="scene.create.scene.setting.PROMOTION_IN_PROGRESS">申请中</span>\n                                <span class="you-passed" ng-switch-when="2" translate="scene.create.scene.setting.PROMOTION_PASSED">审核通过</span>\n                                <span class="not-passed" ng-switch-when="-1" translate="scene.create.scene.setting.PROMOTION_NOT_PASSED">审核未通过</span>\n                            </span>\n                        </label>\n                    </div> -->\n                    <div class="select-option">\n                        <input type="checkbox" class="option" checked disabled ng-if="scene.applyTemplate == 2"/>\n                        <input id="eqTemplate" type="checkbox" class="option" ng-true-value="1" ng-false-value="0"\n                               ng-model="scene.applyTemplate" ng-if="scene.applyTemplate != 2" ng-disabled="scene.accessCode || !scene.publishTime">\n                        <label for="eqTemplate" class="option-name"><i translate="scene.create.scene.setting.APPLY_TEMPLATE">申请为样例模版</i>\n                            <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="{{\'scene.create.scene.setting.APPLY_TEMPLATE_TIP\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                            <span class="option-tips" ng-switch="scene.applyTemplate">\n                                <span class="not-yet" ng-switch-default translate="scene.create.scene.setting.TEMPLATE_NOT_YET">未申请<a style="padding-left:10px;" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8491" target="_blank" translate="scene.create.scene.setting.APPLY_TIP">申请技巧</a></span>\n                                <span class="in-progress" ng-switch-when="1" translate="scene.create.scene.setting.TEMPLATE_IN_PROGRESS">申请中</span>\n                                <span class="you-passed" ng-switch-when="2" translate="scene.create.scene.setting.TEMPLATE_PASSED">审核通过</span>\n                                <span class="not-passed" ng-switch-when="-1" translate="scene.create.scene.setting.TEMPLATE_NOT_PASSED">审核未通过</span>\n                            </span>\n                        </label>\n                    </div>\n                    <div class="select-option" ng-if="isTemplatePaymentAccessible && scene.applyTemplate != 0 && scene.price != -1">\n                        <label for="tplPrice" class="option-name" style="margin-left: 20px;"><i translate="scene.create.scene.setting.TEMPLATE_PRICE">使用秀点</i>\n                            <select ng-model="scene.price" id="tplPrice" ng-options="price.value as price.name for price in tplPrices" style="width: 100px;"></select>\n                            <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="{{\'scene.create.scene.setting.TEMPLATE_PRICE_TIP\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                        </label>\n                    </div>\n                    <div class="select-option eq-activity" ng-if="activities.length">\n                        <input id="joinInActivity" type="checkbox" class="option" ng-checked="scene.promIds" style="visibility: hidden;">\n                        <label for="joinInActivity" class="option-name"><i translate="scene.create.scene.setting.JOIN_IN_ACTIVITY">参加活动</i>\n                            <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="{{\'scene.create.scene.setting.JOIN_IN_ACTIVITY_TIP\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                            <!-- <span class="option-tips"><a ng-click="moreActivities()">更多活动</a></span> -->\n                        </label>\n                        <div class="activities">\n                            <select class="form-control activity" ng-model="scene.promIds" ng-disabled="scene.accessCode" ng-change="getActivityPageTpl(true)"\n                                    ng-options="activity.id as activity.title for activity in activities">\n                                <option value="" translate="scene.create.scene.setting.ACTIVITY_NOT_YET">未参加活动</option>\n                            </select>\n                            <a class="activity-more-info" ng-if="selectedActivity.link" href="{{selectedActivity.link}}" target="_blank" translate="scene.create.scene.setting.ACTIVITY_DETAIL">活动详情</a>\n                            <div class="activity-tip" ng-show="activityPageTpls.length">\n                                <i translate="scene.create.scene.setting.ACTIVITY_LAST_PAGE">活动尾页</i>\n                                <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="{{\'scene.create.scene.setting.ACTIVITY_LAST_PAGE_TIP\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                            </div>\n                            <div class="scene-last-cover" ng-show="activityPageTpls.length">\n                                <nobr>\n                                    <ul>\n                                        <li class="last-cover-img" ng-repeat="pageTpl in activityPageTpls" ng-click="chooseActivityPageTpl(pageTpl.id)">\n                                            <img ng-class="{checked: scene.property.activityPageId == pageTpl.id}" class="lp-list"\n                                                 ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}"/>\n                                        </li>\n                                    </ul>\n                                </nobr>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="select-option" ng-show="userProperty.type ==2 && scene.status != -1 && scene.status != -2">\n                        <input id="eqEnterpriseTemplate" type="checkbox" class="option" ng-true-value="3" ng-false-value="0" ng-model="scene.isTpl">\n                        <label for="eqEnterpriseTemplate" class="option-name"><i translate="scene.create.scene.setting.COMPANY_TEMPLATE">设置为企业样例</i>\n                            <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="{{\'scene.create.scene.setting.COMPANY_TEMPLATE_TIP\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                        </label>\n                    </div>\n                    <div class="select-option" ng-if="isScenePasswordAccessible">\n                    <!--<div class="select-option" ng-if="false">&lt;!&ndash; 密码设置这期不上 &ndash;&gt;-->\n                        <input style="visibility: hidden;" id="accessPassword" type="checkbox" class="option" ng-checked="scene.accessCode">\n                        <label for="accessPassword" class="option-name"><i translate="scene.create.scene.setting.SCENE_PASSWORD">设置场景密码</i>\n                            <input name="accessCode" type="text" class="form-control password" id="accessCode" placeholder="{{\'scene.create.scene.setting.SCENE_PASSWORD_PLACEHOLDER\' | translate}}" ng-model="scene.accessCode" maxlength="4" ng-change="fourNumberPassword()" stop-propagation\n                                   ng-disabled="scene.applyPromotion == \'1\' || oldSceneApplyState.applyPromotion == \'1\' || oldSceneApplyState.applyPromotion == \'2\' || scene.applyTemplate == \'1\' || oldSceneApplyState.applyTemplate == \'1\' || oldSceneApplyState.applyTemplate == \'2\' || scene.isShow == \'1\' || scene.promIds">\n                            <span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="{{\'scene.create.scene.setting.SCENE_PASSWORD_PLACEHOLDER\' | translate}}" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="isLoadingLogoAccessible" class="loading-logo">\n                <!--<div ng-if="false" class="loading-logo">&lt;!&ndash; LOGO加载先不上 &ndash;&gt;-->\n                <div class="title" ng-click="(eqSceneSettingCurrent == eqSceneSettingTabs.LOADING_LOGO) ? ($parent.eqSceneSettingCurrent = null) : ($parent.eqSceneSettingCurrent = eqSceneSettingTabs.LOADING_LOGO)">\n                    <h2 class="title" translate="scene.create.scene.setting.LOGO_SETTING_TITLE">加载设置</h2>\n                    <span ng-class="{\'eqf-chevron-thin-down\': eqSceneSettingCurrent != eqSceneSettingTabs.LOADING_LOGO, \'eqf-chevron-thin-up\': eqSceneSettingCurrent == eqSceneSettingTabs.LOADING_LOGO}"></span>\n                </div>\n                <div class="content logo-option" ng-show="eqSceneSettingCurrent == eqSceneSettingTabs.LOADING_LOGO">\n                    <span class="upload-logo" ng-click="uploadLoadingLogo()">\n                        <span ng-if="!scene.loadingLogo || \'blank\' == scene.loadingLogo"><i class="fa fa-plus"></i></span>\n                        <img ng-if="scene.loadingLogo && \'blank\' != scene.loadingLogo" ng-src="{{PREFIX_FILE_HOST + scene.loadingLogo}}" style="width:110px; height:110px;"/>\n                        <span class="setting-logo-tip" translate="scene.create.scene.setting.SETTING_LOGO">设置logo</span>\n                    </span>\n                    <div class="logo-tip">\n                        <p class="logo-description">\n                            <i translate="scene.create.scene.setting.SETTING_LOGO_TIP1">请上传128*128px，大小30k以内的gif、png、jpeg图片</i><br/>\n                            <a class="btn-main reset-logo" ng-click="scene.loadingLogo = \'\'"><i translate="scene.create.scene.setting.RESET_LOGO">重置为默认LOGO</i></a><br/>\n                            <i translate="scene.create.scene.setting.SETTING_LOGO_TIP2">该功能消耗</i><strong style="color: red;">100</strong><i translate="scene.create.scene.setting.SETTING_LOGO_TIP3">秀点，一次消耗，可多次更换，复制后场景，需重新消耗秀点</i>\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div class="eq-show">\n                <div class="title" ng-click="(eqSceneSettingCurrent == eqSceneSettingTabs.EQSHOW) ? (eqSceneSettingCurrent = null) : (eqSceneSettingCurrent = eqSceneSettingTabs.EQSHOW)">\n                    <h2 class="title" translate="scene.create.scene.setting.EQSHOW">友情展示</h2>\n                    <span ng-class="{\'eqf-chevron-thin-down\': eqSceneSettingCurrent != eqSceneSettingTabs.EQSHOW, \'eqf-chevron-thin-up\': eqSceneSettingCurrent == eqSceneSettingTabs.EQSHOW}"></span>\n                </div>\n                <div class="content" ng-show="eqSceneSettingCurrent == eqSceneSettingTabs.EQSHOW">\n                    <!-- 免费更换尾页 -->\n                    <section class="eq-free" ng-class="{\'selected\': eqShowType == \'eqFree\'}">\n                        <div class="select-option">\n                            <input id="eqFree" style="display: none;" class="option" type="radio" ng-model="eqShowType" value="eqFree" ng-click="switchToAdState(eqADTypeChoice.FREEPAGE)">\n                            <label for="eqFree" class="option-name"><span translate="scene.create.scene.setting.EQSHOW_LAST_PAGE">易企秀尾页</span></label>\n                        </div>\n                        <div class="scene-last-cover" ng-show="eqShowType == \'eqFree\'">\n                            <nobr>\n                                <ul>\n                                    <li class="last-cover-img" ng-click="chooseLastPage(null)">\n                                        <span class="lp-list default-last-page" ng-class="{checked: !scene.property.lastPageId}" translate="scene.create.scene.setting.EQSHOW_DEFAULT">默认</span>\n                                    </li>\n                                    <li class="last-cover-img" ng-repeat="pageTpl in pageTpls" ng-click="chooseLastPage(pageTpl.id)">\n                                        <img ng-class="{checked: scene.property.lastPageId == pageTpl.id}" class="lp-list"\n                                             ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}"/>\n                                    </li>\n                                </ul>\n                            </nobr>\n                        </div>\n                    </section>\n                    <!-- 友情链接：底标 -->\n                    <section class="eq-link" ng-class="{\'selected\': eqShowType == \'eqLink\'}">\n                        <div class="select-option">\n                            <input id="eqLink" style="display: none;" class="option" type="radio" ng-model="eqShowType" value="eqLink" ng-click="switchToAdState(eqADTypeChoice.DEFAULT_BOTTOM)">\n                            <label for="eqLink" class="option-name"><span translate="scene.create.scene.setting.EQSHOW_BOTTOM_LABEL">易企秀底标</span>\n                                <span class="option-tips" ng-if="!isVipUser"><span class="price" translate="scene.create.scene.setting.EQSHOW_BT_LABEL_PRICE">消耗15或30个秀点</span>&nbsp;|&nbsp;<span class="mine" translate="scene.create.scene.setting.USER_XD_REMAIN">当前秀点余额</span><span class="price">{{(userXd | fixnum) || 0}}</span><span translate="scene.create.scene.setting.XIU_DIAN_UNIT">个</span>&nbsp;\n                                    <span class="get-xd"><a href="#/usercenter/xd" target = "_blank" translate="scene.create.scene.setting.GET_XIU_DIAN">获取秀点</a></span>\n                                    <a class="vip-right" target="_blank" href="#/usercenter/privilege" translate="scene.create.scene.setting.FREE_TO_USE">免费使用</a>\n                                </span>\n                                <span class="option-tips" ng-if="isVipUser"><span class="vip" translate="scene.create.scene.setting.VIP_RIGHT">当前帐号尊享免费使用特权</span>\n                                    <a class="vip-right" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77" translate="scene.create.scene.setting.MY_RIGHT">我的特权</a>\n                                </span>\n                            </label>\n                        </div>\n                        <div class="bottom-label-link" ng-show="eqShowType == \'eqLink\'">\n                            <div class="bottom-label-info clearfix">\n                                <input id="defaultBottomLabel" class="option" ng-model="scene.property.eqAdType" type="radio" value="2" ng-value="2" ng-click="switchToAdState(eqADTypeChoice.DEFAULT_BOTTOM)"/>\n                                <label for="defaultBottomLabel" class="option-name">\n                                    <span class="default-bottom-label" translate="scene.create.scene.setting.DEFAULT_LABEL">易企秀技术支持</span>\n                                    <span class="option-tips"><span class="price" ng-if="!isVipUser" translate="scene.create.scene.setting.DEFAULT_LABEL_PRICE">消耗15个秀点</span><span class="price" ng-if="isVipUser" translate="scene.create.scene.setting.FREE_CHARGE">免费</span></span>\n                                </label>\n                            </div>\n                            <div class="bottom-label-info clearfix">\n                                <input id="customBottomLabel" type="radio" class="option" ng-model="scene.property.eqAdType" value="3" ng-value="3" ng-click="switchToAdState(eqADTypeChoice.CUSTOM_BOTTOM)"/>\n                                <label for="customBottomLabel" class="option-name">\n                                    <span class="option-tips"><span translate="scene.create.scene.setting.CUSTOM_LABEL">联合底标</span> <span class="price" ng-if="!isVipUser" translate="scene.create.scene.setting.CUSTOM_LABEL_PRICE">消耗30个秀点</span><span class="price" ng-if="isVipUser" translate="scene.create.scene.setting.FREE_CHARGE">免费</span></span>\n                                </label>\n                                <div class="custom-label-info">\n                                    <label for="changeMessage" class="col-sm-2 control-label" translate="scene.create.scene.setting.CUSTOM_LABEL_NAME">名称</label>\n                                    <div class="col-sm-3">\n                                        <input type="text" ng-model="scene.property.bottomLabel.name" id="changeMessage" placeholder="{{\'scene.create.scene.setting.CUSTOM_LABEL_NAME_TIP\' | translate}}" ng-disabled="scene.property.eqAdType != 3" stop-propagation/>\n                                    </div>\n                                    <label for="linkAddress" class="col-sm-2 control-label" translate="scene.create.scene.setting.CUSTOM_LABEL_LINK">链接地址</label>\n                                    <div class="col-sm-4">\n                                        <input type="text" ng-model="scene.property.bottomLabel.url" id="linkAddress" placeholder="{{\'scene.create.scene.setting.CUSTOM_LABEL_LINK_TIP\' | translate}}" ng-disabled="scene.property.eqAdType != 3" stop-propagation/>\n                                    </div>\n                                    <section style="margin-left: 15px;">\n                                        <div class="form-group">\n                                            <div class = "cover-panel" style = "margin-left: 20px;">\n                                                <div class = "cover-list col-sm-11 bottom-list">\n                                                    <nobr>\n                                                        <ul>\n                                                            <li ng-repeat="bottomPageTpl in bottomPageTpls" ng-click="chooseCustomBottomLabel(bottomPageTpl.id)">\n                                                                <a><img ng-class="{checked: scene.property.eqAdType == 3 && scene.property.bottomLabel.id == bottomPageTpl.id}"\n                                                                        ng-src="{{PREFIX_FILE_HOST + bottomPageTpl.properties.thumbSrc}}"/></a>\n                                                            </li>\n                                                        </ul>\n                                                    </nobr>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </section>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                    <!-- 取消展示：全部隐藏？ -->\n                    <section class="eq-hide" ng-class="{\'selected\': eqShowType == \'eqHide\'}">\n                        <div class="select-option">\n                            <input id="eqHide" style="display: none;" class="option" type="radio" ng-model="eqShowType" value="eqHide" ng-click="switchToAdState(eqADTypeChoice.HIDE)">\n                            <label for="eqHide" class="option-name"><span translate="scene.create.scene.setting.EQSHOW_HIDE">去掉易企秀展示</span>\n                                <span class="option-tips"><span class="price" translate="scene.create.scene.setting.EQSHOW_HIDE_PRICE">消耗100个秀点</span>&nbsp;|&nbsp;<span class="mine" translate="scene.create.scene.setting.USER_XD_REMAIN">当前秀点余额</span><span class="price">{{(userXd | fixnum) || 0}}</span><span translate="scene.create.scene.setting.XIU_DIAN_UNIT">个</span>&nbsp;&nbsp;<span class="get-xd"><a href="#/usercenter/xd" target = "_blank" translate="scene.create.scene.setting.GET_XIU_DIAN">获取秀点</a></span></span>\n                            </label>\n                        </div>\n                    </section>\n                </div>\n            </div>\n        </form>\n        <div class="setting-operations">\n            <a ng-click="cancelSceneSetting()" class="btn-grey0 cancel" translate="scene.create.scene.setting.CANCEL">取消</a>\n            <a ng-click="saveSceneSettings(scene)" style="margin-left: 30px;" class="btn-main save" translate="scene.create.scene.setting.CONFIRM">确定</a>\n        </div>\n    </div>\n</div>');
            }]),
        b.module("scene/console/setting.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/setting.tpl.html", '<div panel-draggable id="comp_setting">\n	<div class="cancel"><a href="" title="{{\'scene.create.setting.CLOSE\' | translate}}" ng-click="cancel()">x</a></div>\n	<div class="style_head clearfix">\n		<ul class="clearfix">\n			<li><a ng-click="activeTab = \'style\'" ng-class="{hover:activeTab == \'style\'}"><span translate="scene.create.setting.STYLE">样式</span></a></li>\n			<li><a ng-click="activeTab = \'anim\'" ng-class="{hover:activeTab == \'anim\'}"><span translate="scene.create.setting.ANIMATION">动画</span></a></li>\n			<li><a ng-click="activeTab = \'trigger\'" ng-class="{hover:activeTab == \'trigger\'}"><span translate="scene.create.setting.TRIGGER">触发</span></a></li>\n		</ul>\n	</div>\n	<div class="style_content">\n		<div ng-include="\'scene/console/anim.tpl.html\'"></div>\n		<div ng-include="\'scene/console/style.tpl.html\'"></div>\n		<div ng-include="\'scene/console/trigger.tpl.html\'"></div>\n	</div>		\n	\n</div>')
            }]),
        b.module("scene/console/shape.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/shape.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.shape.TITLE">形状组件</h1>\n        <p translate="scene.create.shape.TIPS">你可以从形状库中选择喜欢得形状添加到页面</p>\n    </div>\n    <div class="dialog-content bg_console clearfix" style="background-color:#fff;">\n        <div class="svg-panel" render-shape-element>\n            <ul></ul>\n        </div>\n        <div class="fanye_foot clearfix">\n            <div class="pagination_container fl">\n                <pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="{{\'scene.create.shape.FIRST_PAGE\' | translate}}" last-text="{{\'scene.create.shape.LAST_PAGE\' | translate}}" max-size="5" items-per-page="pageSize" total-items="totalItems" ng-model="$parent.currentPage" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                <div class="current_page">\n                    <input type="text" ng-model="$parent.toPage" ng-keyup="$event.keyCode == 13 ? getImgByPage() : null">\n                    <a ng-click="getImgByPage()" class="go">GO</a>\n                    <span><span translate="scene.create.shape.CURRENT_PAGE1">当前:</span> {{currentPage}} / {{numPages}} <span translate="scene.create.shape.CURRENT_PAGE2">页</span></span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.shape.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.shape.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/sound-component.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/sound-component.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.soundComponent.TITLE">音效组件</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=10990&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show=\'!authError\' translate="scene.create.soundComponent.TIPS">音效不能大于100kb</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div>\n    <div class="modify_area  tel_title tab-same clearfix">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n        <div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="{{\'scene.create.soundComponent.UPLOAD_TIP\' | translate}}" ng-click="openImageModal()">\n            <em class="eqf-upload" style="font-size:16px;"></em><em translate="scene.create.soundComponent.CUSTOM">自定义</em>\n        </div>\n    </div>\n    <div class="button_console dialog-content">\n        <form class="form-contain" form="role">\n            <div class="form-list clearfix" ng-if="!model.imgSrc">\n                <label for="buttonName" class="form-label" translate="scene.create.soundComponent.BUTTON_NAME">按钮名称：</label>\n                <div class="form-input">\n                    <input id="buttonName" class="btn-name" type="text" ng-model="model.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n                </div>\n            </div>\n            <div class="form-list clearfix" ng-if="model.imgSrc">\n                <label class="form-label" translate="scene.create.soundComponent.BUTTON_IMAGE">按钮图片：</label>\n                <div class="form-image btn-small">\n                    <img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="{{\'scene.create.soundComponent.IMAGE_TIP\' | translate}}"/>\n                    <a class="btn-main btn-picture" ng-click="openImageModal()" translate="scene.create.soundComponent.CHANGE_IMAGE">更换图片</a>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label for="btnSound" class="form-label" translate="scene.create.soundComponent.SOUND">音效：</label>\n                <div class="form-input">\n                    <a id="btnSound" class="btn-main" ng-click="openSoundModal()" translate="scene.create.soundComponent.SET_SOUND">设置音效</a>\n                </div>\n            </div>\n            <div class="form-list clearfix" ng-show="model.sound.name">\n                <label class="form-label" translate="scene.create.soundComponent.HAVE_CHOSEN">已选择：</label>\n                <div class="form-input"><span>{{model.sound.name}}</span></div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="btn-content btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.soundComponent.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.soundComponent.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/sound.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/sound.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 ng-if="type == 4" translate="scene.create.sound.SOUND_TITLE">音效设置</h1>\n        <h1 ng-if="type == 2" translate="scene.create.sound.MUSIC_TITLE">音乐素材</h1>\n        <p ng-show=\'type == 4 && !selectSoundError\' translate="scene.create.sound.SOUND_TIPS">你可以从音效库中选择，也可以把你喜欢的音效上传使用(一次性最多上传6首)</p>\n        <p ng-show=\'type == 2 && !selectSoundError\' translate="scene.create.sound.MUSIC_TIPS">选择音乐库中音乐或把喜欢的乐曲上传到我的音乐中(一次性最多上传6首)</p>\n        <p ng-show=\'selectSoundError\'>{{selectSoundError}}</p>\n    </div>\n    <div class="dialog-content bg_console clearfix" style="background-color:#E7E7E7;position:relative;">\n        <div ng-show="soundAction" style="position:absolute;left:0;right:0;top:0;bottom:0;background-color:#000;z-index: 1;opacity: 0.2">\n        </div>\n        <div class="sound-action-upload" ng-show="soundAction">\n            <p><span translate="scene.create.sound.SOUND_UPLOAD_TIP">可以通过左侧“添加外链”或“上传”按钮上传您喜爱的音乐，上传的音乐将被保存至服务器中，您可以随时随地访问并使用它们请确保上传的文件大小不超过4m，格式为mp3\n                请注意：文件大小会影响最终浏览效果，如果为了实现更加流畅的浏览和加载效果，请尽量减少文件大小。了解如何减少文件大小，请查看</span><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target="_blank" translate="scene.create.sound.HOW_TO_EDIT_SOUND">如何裁剪音乐</a></p>\n            <div class="know">\n                <input type="checkbox" ng-model="actionShow" ng-change="isCheckbox(actionShow)"><span translate="scene.create.sound.DO_NOT_ASK_AGAIN">不再提示</span>\n                <span style="position:relative;">\n                    <a class="btn-main" translate="scene.create.sound.CONFIRM_MSG">知道了</a>\n                    <input type="file" ng-click="closeAction()" nv-file-select="" uploader="uploader" multiple="multiple" style="width:90px;height: 35px;overflow: hidden;position: absolute;top:-10px;right: 0;left:10px;bottom:0;cursor: pointer;opacity:0;">\n                </span>\n            </div>\n        </div>\n        <div class="sound-flex">\n            <div class="cate-title" style="width:200px;">\n                <ul class="nav nav-tabs tabs-left" style="padding-top:0;"><!-- \'tabs-right\' for right tabs -->\n                    <li ng-class="{active: !isMySound}" ng-show="type == 2">\n                        <a ng-click="selectTab(false)" translate="scene.create.sound.MUSIC_LIB">音乐库</a>\n                    </li>\n                    <li ng-class="{active: !isMySound}" ng-show="type == 4">\n                        <a ng-click="selectTab(false)" translate="scene.create.sound.SOUND_LIB">音效库</a>\n                    </li>\n                    <li ng-class="{active: isMySound}" ng-show="type == 2">\n                        <a ng-click="selectTab(true)" translate="scene.create.sound.MY_MUSIC">我的音乐</a>\n                    </li>\n                    <li ng-class="{active: isMySound}" ng-show="type == 4">\n                        <a ng-click="selectTab(true)" translate="scene.create.sound.MY_SOUND">我的音效</a>\n                    </li>\n                    <li class="add-tag">\n                        <a ng-click="urlLink()"><span class="eqf-link3" style="color:#666;padding-right:10px;" ></span><span translate="scene.create.sound.SOUND_HYPE_LINK">添加外链</span></a>\n                    </li>\n                    <li class="my-bg-upload">\n                        <div id="upload-progress"></div>\n                        <div class="my-upload-action" ng-if="alertAction" ng-click="popSoundAction()">\n                        </div>\n                        <div class="sound-upload form">\n                            <div class="form-menus">\n                                <div class="popover right">\n                                    <div class="arrow"></div>\n                                    <div class="popover-content" style="font-size:12px;">\n                                        <i translate="scene.create.sound.SOUND_SIZE_SHRUNK">链接如何减少文件大小，请查看</i><a style="padding:0;font-size:12px;display:inline;margin:0;height:20px;line-height:20px;border:none;color:#08a1ef!important" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target="_blank" translate="scene.create.sound.HOW_TO_EDIT_SOUND">如何裁剪音乐</a>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <span class="eqf-upload" ></span><em translate="scene.create.sound.UPLOAD">上传</em>\n                            <input type="file" nv-file-select="" uploader="uploader" multiple="multiple" style="width:200px;height: 55px;overflow: hidden;position: absolute;top: 0;right: 0;left:0;bottom:0;cursor: pointer;opacity:0;">\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <div class="cate-list bg-rig" style="min-height:396px;">\n                <div class="clearfix">\n                    <audio style="margin: 25px 0 0 20px;height:30px;"  eqx-audio></audio>\n                    <div style="margin-right: 20px; font-size: 14px; width: 250px;height:40px;line-height:40px;overflow:hidden;float:right;">\n                        <span ng-show="sound.name"><i translate="scene.create.sound.HAVE_CHOSEN">已选择：</i>{{sound.name | maxLength: 17}}\n                        <a class="eqf-no" style="margin-left: 20px;" title="{{\'scene.create.sound.CLEAR\' | translate}}" ng-click="clear()"></a>\n                    </span>\n                    </div>\n                    <div class="music-cate">\n                        <ul class="clearfix" ng-init="$parent.sysCatId = \'0\'" ng-show=\'sysCate\'>\n                            <li ng-class="{\'active\': sysCatId == \'0\'}" ng-click="getSysMusicList(\'0\')">最新</li>\n                            <li ng-repeat="music in sysMusicList" ng-class="{active:sysCatId == music.value}" ng-click="getSysMusicList(music.value)">{{music.name}}</li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="tab-content" id="bg_contain">\n                    <div class="tab-pane tab-head active" style="height:320px;">\n                        <div class="tab-pane">\n                            <div class="img_list">\n                                <div class="sound-action" ng-show="actionContent">\n                                    <p><span translate="scene.create.sound.MUSIC_UPLOAD_TIP1">可以通过左侧“添加外链”或“上传”按钮上传您喜爱的音乐，上传的音乐将被保存至服务器中，您可以随时随地访问并使用它们</span><br />\n                                        <span translate="scene.create.sound.MUSIC_UPLOAD_TIP2">请确保上传的文件大小不超过4m，格式为mp3</span><br />\n                                        <span translate="scene.create.sound.MUSIC_UPLOAD_TIP3">请注意：文件大小会影响最终浏览效果，如果为了实现更加流畅的浏览和加载效果，请尽量减少文件大小。了解如何减少文件大小，请查看</span><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target="_blank" translate="scene.create.sound.HOW_TO_EDIT_SOUND">如何裁剪音乐</a></p>\n                                </div>\n                                <div class="sound-list clearfix" ng-show="!actionContent">\n                                    <ul style="height:300px;overflow:hidden;">\n                                        <li style="cursor:pointer;" ng-class="{active: isSoundSelected(type, sound, s)}" ng-click="selectSound(s,type, isSoundSelected(type, sound, s))" ng-repeat="s in sounds track by $index">\n                                           <span>\n                                               <em>{{s.size}}</em>\n                                               <a class="sound eqf-play" title="{{s.isPlaying ? (\'scene.create.sound.PAUSE\' | translate) : (\'scene.create.sound.PLAY\' | translate)}}" ng-class="{\'eqf-play\': !s.isPlaying, \'eqf-stop\': s.isPlaying}" ng-click="playSound($event, $index)"></a>\n                                               <a class="del eqf-no" title="{{\'scene.create.sound.DELETE\' | translate}}" ng-show="isMySound" ng-click="deleteMySound($event, $index)"></a>\n                                           </span>\n                                            <div class="linkName" title="{{s.name}}">{{s.name}}<em style="padding-left:10px;" class="eqf-link3" ng-show="s.isValue"></em></div>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="img_list " style="padding-top:0;">\n                        <div class="fanye_foot clearfix">\n                            <div class="pagination_container fl" ng-show="pagination.totalItems > 10">\n                                <pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="{{\'scene.create.sound.FIRST_PAGE\' | translate}}" last-text="{{\'scene.create.sound.LAST_PAGE\' | translate}}" max-size="5" items-per-page="pagination.pageSize" total-items="pagination.totalItems" ng-model="pagination.currentPage" ng-change="getSounds(pagination.currentPage)" boundary-links="true" rotate="true" num-pages="pagination.numPages"></pagination>\n                                <div class="current_page">\n                                    <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? getSounds(toPage) : null">\n                                    <a ng-click="getSounds(toPage)" class="go">GO</a>\n                                    <!-- <span><span translate="scene.create.sound.CURRENT_PAGE1">当前:</span> {{pagination.currentPage}} / {{pagination.numPages}} <span translate="scene.create.sound.CURRENT_PAGE2">页</span></span> -->\n                                </div>\n                            </div>\n                            <div style="text-align:right;">\n                                <a class="btn-grey0" ng-click="cancel()" style="margin-right:10px;" translate="scene.create.sound.CANCEL">取消</a>\n                                <a class="btn-main" ng-click="ok()" translate="scene.create.sound.CONFIRM">确定</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("scene/console/soundLink.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/soundLink.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.soundLink.TITLE">外部链接</h1>\n        <p ng-show=\'!authError\' translate="scene.create.soundLink.TIPS">可从外部使用链接添加音乐</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list audio_area clearfix">\n                <lable class="form-label" translate="scene.create.soundLink.LINK_ADDRESS">链接地址：</lable>\n                <div class="form-input">\n                    <input type="text" class="link" ng-model="soundLink.src" ng-click="selectLink()" placeholder="{{\'scene.create.soundLink.SOUND_LINK\' | translate}}" />\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.soundLink.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.soundLink.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/statistics-component.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/statistics-component.tpl.html", '<div class="dialog-contain counter">\n    <div class="dialog-head">\n        <h1 translate="scene.create.statistics.TITLE">统计</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9364&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show=\'!authError\' translate="scene.create.statistics.TIPS">记录并显示当前作品的展示次数</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="tab-same">\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-eye3\'}">\n            <a ng-click="chooseEqfont(\'eqf-eye3\')"><span class="eqf-eye3"></span></a>\n        </span>\n    </div>\n    <div class="form_console dialog-content">\n        <div class="modify_area">\n            <div class="counter-group">\n                <span class="title" translate="scene.create.statistics.STATISTICS_COLOR">颜色</span>\n                <div class="counter-choice">\n                    <a class="color-picker" ng-style="{backgroundColor: model.properties.color}" ng-model="model.properties.color" colorpicker="rgba" ></a>\n                    <input class="color-picker-input" ng-model="model.properties.color" type="text" />\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title" translate="scene.create.statistics.STATISTICS_SIZE">字号</span>\n                <div class="counter-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-l\'" translate="scene.create.statistics.LARGE">大</label>\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-m\'" translate="scene.create.statistics.MIDDLE">中</label>\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-s\'" translate="scene.create.statistics.SMALL">小</label>\n                    </div>\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title" translate="scene.create.statistics.STATISTICS_LAYOUT">布局</span>\n                <div class="counter-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-counter" ng-model="model.properties.layout" btn-radio="\'counter-lr\'" translate="scene.create.statistics.LEFT_RIGHT">左右</label>\n                        <label class="btn btn-counter" ng-model="model.properties.layout" btn-radio="\'counter-tb\'" translate="scene.create.statistics.TOP_BOTTOM">上下</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.statistics.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.statistics.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/console/style.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/style.tpl.html", '<div ng-if="activeTab == \'style\'" ng-controller="StyleConsoleCtrl">\n	<div class="yangshi">\n		<section>\n			<div class="style_list" ng-init="showBasic=true" ng-click="showBasic = !showBasic; showBorder = false; showShadow = false;">\n				<b class="caret" ng-show="showBasic"></b><b class="caret off" ng-show="!showBasic"></b><span translate="scene.create.style.BASIC_STYLE">基础样式</span>\n			</div>\n			<div ng-show="showBasic"  class="style_con_hei">\n				<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.BACKGROUND_COLOR">背景颜色</label>\n					<div class="color_select clearfix">\n						<a class="input_kuang flo_lef" ng-style="{backgroundColor: model.backgroundColor}" ng-model="model.backgroundColor" colorpicker="rgba"></a>\n			    		<input class=" flo_right" style="width:110px;" style-input elem-id="{{elemDef.id}}" ng-model="model.backgroundColor" css-item="backgroundColor" type="text" />\n			    	</div>\n				</div>\n				<div class="style_list_angel clearfix" ng-show="elemDef.type == \'2\' ||elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'r\' || elemDef.type == \'c\' || elemDef.type == \'h\' || elemDef.type == \'x\'">\n			  		<label translate="scene.create.style.FONT_COLOR">文字颜色</label>\n			  		<div class="color_select clearfix">\n			  			<a class="input_kuang flo_lef" ng-style="{backgroundColor: model.color}" ng-model="model.color" colorpicker="rgba" ></a>\n			  			<input class=" flo_right" style="width:110px;" style-input elem-id="{{elemDef.id}}" ng-model="model.color" css-item="color" type="text" />\n			    	</div>\n			  	</div>\n				<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.OPACITY">透明度</label>\n					<div class="touming clearfix">\n				  		<p class="num"><input class="short" type="number" min="0" max="100" limit-input style-input elem-id="{{elemDef.id}}" css-item="opacity" ng-model="model.opacity"/></p>\n						<div style="width: 100px;" ui-slider min="0" max="100" ng-model="model.opacity"></div>\n				  	</div>\n			  	</div>				  	\n			  	<div class="style_list_angel clearfix" ng-show="elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'2\' || (\'\'+elemDef.type).charAt(0) == \'5\'">\n			  		<div>\n						<label translate="scene.create.style.PADDING">边距</label>\n						<div class="touming clearfix">\n					  		<p class="num"><input class="short" min="0" max="20" limit-input class="input_kuang short" type="number" style-input css-item="padding" ng-model="model.paddingTop"/></p>				\n					  		<div style="width: 100px;" ui-slider min="0" max="20" ng-model="model.paddingTop"></div>\n					  	</div>\n					</div>\n				</div>\n				<div class="style_list_angel clearfix" ng-show="elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'2\' || (\'\'+elemDef.type).charAt(0) == \'5\'">\n					<div>\n						<label translate="scene.create.style.LINE_HEIGHT">行高</label>\n						<div class="touming clearfix">\n					  		<p class="num"><input class="short" min="0" max="3" limit-input step="0.1" class="input_kuang short" type="number" style-input css-item="lineHeight" ng-model="model.lineHeight"/></p>			\n					  		<div style="width: 100px;" use-decimals step="0.1" ui-slider min="0" max="3" ng-model="model.lineHeight"></div>\n					  	</div>\n					</div>\n				</div>\n			</div>\n		</section>\n		<section>\n			<div class="style_list" ng-click="showBorder = !showBorder; showBasic=false;showShadow=false;">\n				<b class="caret" ng-show="showBorder"></b><b class="caret off" ng-show="!showBorder"></b><span translate="scene.create.style.BORDER_STYLE">边框样式</span>\n			</div>\n			<div ng-show="showBorder" class="style_con_hei">\n				<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.BORDER_WIDTH">边框尺寸</label>\n					<div class="touming clearfix">\n				  		<p class="num"><input class="input_kuang short" limit-input type="number" min="0" max="20" style-input css-item="borderWidth" ng-model="model.borderWidth"/></p>				\n				  		<div style="width: 100px;" ui-slider min="0" max="20" ng-model="model.borderWidth"></div>\n				  	</div>\n				</div>\n				<div class="style_list_angel clearfix">\n			  		<label translate="scene.create.style.BORDER_RADIUS">边框弧度</label>\n			    	<div class="touming clearfix">\n			    		<p class="num"><input class="input_kuang short" type="number" min="0" max="{{maxRadius}}" limit-input style-input css-item="borderRadius" ng-model="model.borderRadius" /></p>  		\n				  		<div class="num" style="width:100px;" ui-slider min="0" max="{{maxRadius}}" ng-model="model.borderRadius"></div>\n			    	</div>\n			  	</div>	\n				<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.BORDER_STYLE">边框样式</label>\n					<div class="touming">\n						<select style="border:1px solid #ccc;height:20px;" style-input css-item="borderStyle" ng-model="model.borderStyle">\n							<option value="solid" translate="scene.create.style.border.SOLID">直线</option>\n							<option value="dashed" translate="scene.create.style.border.DASHED">破折线</option>\n							<option value="dotted" translate="scene.create.style.border.DOTTED">点状线</option>\n							<option value="double" translate="scene.create.style.border.DOUBLE">双划线</option>\n							<option value="groove" translate="scene.create.style.border.GROOVE">3D凹槽</option>\n							<option value="ridge" translate="scene.create.style.border.RIDGE">3D垄状</option>\n							<option value="inset" translate="scene.create.style.border.INSET">3D内嵌</option>\n							<option value="outset" translate="scene.create.style.border.OUTSET">3D外嵌</option>\n						</select>\n					</div>\n			  	</div>\n				<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.BORDER_COLOR">边框颜色</label>\n					<div class="color_select clearfix">\n						<input class="flo_right short"  style="width:110px;" style-input ng-model="model.borderColor" css-item="borderColor" type="text" />\n						<a class="input_kuang flo_lef" ng-style="{backgroundColor: model.borderColor}" ng-model="model.borderColor" colorpicker="rgba"></a>\n						\n			    	</div>\n			  	</div>\n			  	<div class="style_list_angel clearfix">\n					<div>\n						<label translate="scene.create.style.TRANSFORM">旋转</label>\n						<div class="touming clearfix">\n					  		<p class="num"><input min="0" max="360" limit-input style-input css-item="transform" class="input_kuang short" type="number"  ng-model="model.transform"/></p>			\n					  		<div style="width: 100px;" ui-slider min="0" max="360" ng-model="model.transform"></div>\n					  	</div>\n					</div>\n				</div>			  	\n			</div>\n		</section>\n		<section>\n			<div class="style_list" ng-click="showShadow = !showShadow; showBasic=false;showBorder=false;">\n				<b class="caret" ng-show="showShadow"></b><b class="caret off" ng-show="!showShadow"></b><span translate="scene.create.style.SHADOW_STYLE">阴影样式</span>\n			</div>\n			<div ng-show="showShadow" class="style_con_hei">\n				<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.SHADOW_SIZE">大小</label>\n					<div class="touming clearfix">\n						<div style="width: 100px;" ui-slider min="0" max="20" ng-model="tmpModel.boxShadowSize"></div>\n						<p class="num"><input limit-input class="input_kuang short" min="0" max="20" type="number" style-input css-item="boxShadow" ng-model="tmpModel.boxShadowSize"/></p>\n					</div>\n			  	</div>\n			  	<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.SHADOW_BLUR">模糊</label>\n					<div class="touming clearfix">\n						<div style="width: 100px;" ui-slider min="0" max="20" ng-model="tmpModel.boxShadowBlur"></div>\n						<p class="num"><input limit-input class="input_kuang short" min="0" max="20" type="number" style-input css-item="boxShadow" ng-model="tmpModel.boxShadowBlur"/></p>\n					</div>\n			  	</div>\n			  	<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.SHADOW_COLOR">颜色</label>\n					<div class="clearfix color_select">\n			    		<input class=" flo_right short" style="width:110px;" style-input  ng-model="tmpModel.boxShadowColor" css-item="boxShadow" type="text" />	\n						<a class="input_kuang flo_lef" ng-style="{backgroundColor: tmpModel.boxShadowColor}" ng-model="tmpModel.boxShadowColor" colorpicker="rgba" colorpicker-fixed-position="true"></a>\n			    	</div>\n				</div>	\n			  	<div class="style_list_angel clearfix">\n					<label translate="scene.create.style.SHADOW_DIRECTION">方向</label>\n					<div class="clearfix">\n				  		<div class="fr">\n				  			<p class="num" style="margin-top:18px;"><input style="width:58px;margin-right:5px;padding:0;" min="0" max="359" limit-input class="input_kuang" type="number" style-input css-item="boxShadow" ng-model="tmpModel.boxShadowDirection" /></p>\n				  		</div>					\n				  		<angle-knob class="flo_lef" style="display: block;position: relative;height: 55px;margin-left:28px;margin-top:5px;"></angle-knob>\n				  	</div>\n				</div>\n			</div>\n		</section>\n	</div>\n	<div class="modal-footer">\n		<a class="btn-main" ng-click="cancel()" translate="scene.create.style.CONFIRM">确定</a>\n		<a class="btn-grey0" ng-click="clear()" translate="scene.create.style.CLEAR_STYLE">清除样式</a>\n	</div>\n</div>\n')
            }]),
        b.module("scene/console/tel.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/tel.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.tel.TITLE">电话组件</h1>\n		<a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13070&extra"><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show=\'!authError\' translate="scene.create.tel.TIPS">填写按钮名称和联系号码，点击可以直接拨打</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div>\n	<div class="modify_area  tel_title tab-same clearfix">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<!-- <a ng-class = "{btn1: $index==0, btn2: $index == 1, btn3: $index ==2, btn4: $index ==3}" ng-click = "chooseTelButton(button, $index, $event)" selected><span class = "glyphicon glyphicon-earphone"></span>{{button.text}}</a> -->\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n		<div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="{{\'scene.create.tel.UPLOAD_TIP\' | translate}}" ng-click="openImageModal()">\n			<em class="eqf-upload" style="font-size:16px;"></em><em translate="scene.create.tel.CUSTOM">自定义</em>\n		</div>\n	</div>\n	<div class="button_console dialog-content">\n		<form class="form-contain" form="role">\n			<div class="form-list clearfix" ng-if="!model.imgSrc">\n	            <label for="buttonName" class="form-label" translate="scene.create.tel.BUTTON_NAME">按钮名称：</label>\n	            <div class="form-input">\n	                <input id="buttonName" class="btn-name" type="text" ng-model="model.title" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n	            </div>\n	        </div>\n			<div class="form-list clearfix" ng-if="model.imgSrc">\n	            <label class="form-label" translate="scene.create.tel.BUTTON_IMAGE">按钮图片：</label>\n	            <div class="form-image btn-small">\n					<img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="{{\'scene.create.tel.IMAGE_TIP\' | translate}}"/>\n					<a class="btn-main btn-picture" ng-click="openImageModal()" translate="scene.create.tel.CHANGE_IMAGE">更换图片</a>\n	            </div>\n	        </div>\n			<div class="form-list clearfix">\n	            <label for="phoneNumber" class="form-label" translate="scene.create.tel.PHONE">手机/电话：</label>\n	            <div class="form-input">\n	                <input id="phoneNumber" check-count="40" class = "tel-button" type="text" placeholder = "{{\'scene.create.tel.PHONE_PLACEHOLDER\' | translate}}" ng-model="model.number" ng-keyup="$event.keyCode == 13 ? confirm() : null" stop-propagation/>\n	            </div>\n	        </div>	        \n		</form>\n	</div>\n</div>\n<div class="btn-content btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.tel.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.tel.CANCEL">取消</a>\n</div>');
            }]),
        b.module("scene/console/trigger.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/trigger.tpl.html", '<div ng-if="activeTab == \'trigger\'" ng-controller="TriggerConsoleCtrl" eqx-trigger>\n    <div class="trigger-area">\n        <div class="trigger-panels">\n            <div class="style_list_angel clearfix">\n                <label style="width: 100px" translate="scene.create.trigger.TRIGGER_ACTION">浏览页面时，当</label>\n                <div class="flo_lef touming">\n                    <select style="width:100px;border:1px solid #C9C9C9;" ng-model="sendType" ng-options="v.title for (k, v) in sendTypes" />\n                </div>\n            </div>\n            <div class="style_list_angel clearfix">\n                <label translate="scene.create.trigger.TRIGGER_SOURCE">页面元素</label> \n                <div class="flo_lef touming">\n                    <select style="width:100px;border:1px solid #C9C9C9;" ng-model="sourceElem" ng-change="getTriggerSources(sourceElem)" ng-options="triggerSource.name for triggerSource in triggerSources">\n                        <option value="">点击选择元素</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n        <div class="event-list">\n            <div ng-repeat="triggerEvent in triggerEvents track by $index" ng-init="sendIndex = $index">\n                <div class="select-exist-elem" ng-show="triggerEvent.value == 1">\n                    <section>\n                        <div class="style_list" ng-init="opea.show=true" ng-click="opea.show=!opea.show">\n                            <b class="caret" ng-if="opea.show"></b>\n                            <b class="caret off" ng-if="!opea.show"></b>\n                            {{triggerEvent.title}}\n                            <span ng-click="addTriggerItem(triggerEvent, $index, $event);opea.show=!opea.show;">&nbsp;&nbsp;&nbsp;&nbsp;编辑</span>\n                            <span style="padding-right: 10px;cursor:pointer;" class="fr" ng-click="removeTrigger($index, $event)"><img title="{{\'scene.create.trigger.DELETE_TRIGGER_TIP\' | translate}}" ng-src="{{CLIENT_CDN + \'assets/images/delete.png\'}}" ></span>\n                        </div>              \n                        <div class="row" ng-if="opea.show">            \n                            <form role="form">\n                                <div class="style_list_angel">\n                                    <label translate="scene.create.trigger.DELAY">延迟时间</label>\n                                    <div class="touming clearfix">\n                                        <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" ng-model="triggerEvent.delay" /></p>\n                                        <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="triggerEvent.delay"></div>\n                                    </div>\n                                </div>  \n                                <div class="select-trigger-item">\n                                    <ul ng-show="triggerEvent.handles.length">\n                                        <li ng-repeat="triggerElement in triggerEvent.triggerElements">\n                                            <div style="padding: 10px 0;">\n                                                <span hover-element id="triggerElement.id" style="cursor: pointer;">\n                                                    <span id="{{\'tip_\' + triggerElement.id}}"></span> {{$index+1}}\n                                                </span>\n                                                <div class="fr">\n                                                    <span style="padding-right: 5px;" class="fl" ng-click="switchShow(false, triggerElement.handleType, triggerElement.id, sendIndex)" ng-show="triggerElement.handleType.type==1">显示</span>\n                                                    <span style="padding-right: 5px;" class="fl" ng-click="switchShow(true, triggerElement.handleType, triggerElement.id, sendIndex)" ng-show="triggerElement.handleType.type==2">隐藏</span>\n                                                    <div class="switch switch-close fl switch-close" ng-show="triggerElement.handleType.type==2" ng-click="switchShow(true, triggerElement.handleType, triggerElement.id, sendIndex)"> \n                                                        <div style="height: 16px;width: 35px;" class="circle-con">\n                                                            <i style="left: 1px; top: 1px; height: 14px;" class="circle"></i>\n                                                        </div>\n                                                    </div>\n                                                    <div class="switch switch-open fl" ng-show="triggerElement.handleType.type==1" ng-click="switchShow(false, triggerElement.handleType, triggerElement.id, sendIndex)"> \n                                                        <div style="height: 16px;width: 35px;" class="circle-con">\n                                                            <i style="left: 1px; top: 1px; height: 14px;" class="circle"></i>\n                                                        </div>\n                                                    </div>\n                                                    <span style="padding-left: 10px;" class="eqf-glyphicon-remove fail" ng-click="cancelTriggerElem(triggerElement.id, sendIndex);"></span>\n                                                </div>\n                                            <div>\n                                        </li> \n                                        <!-- <li ng-repeat="handle in triggerEvent.handles">\n                                            <div style="padding: 10px 0;" ng-repeat="id in handle.ids">\n                                                <span hover-element id="id" style="cursor: pointer;"><span id="{{\'tip_\' + id}}"></span> {{$index+1}}</span>\n                                                <div class="fr">\n                                                    <span style="padding-right: 5px;" class="fl" ng-click="switchShow(false, handle, id, sendIndex)" ng-show="handle.type==1">显示</span>\n                                                    <span style="padding-right: 5px;" class="fl" ng-click="switchShow(true, handle, id, sendIndex)" ng-show="handle.type==2">隐藏</span>\n                                                    <div class="switch fl" ng-class="{\'switch-open\' : handle.type==1, \'switch-close\' : handle.type==2}"> \n                                                        <div style="height: 16px;width: 35px;" class="circle-con">\n                                                            <i style="left: 1px; top: 1px; height: 14px;" class="circle"></i>\n                                                        </div>\n                                                    </div>\n                                                    <span ng-click="cancelTriggerElem(id, sendIndex);" translate="scene.create.trigger.CANCEL">取消</span>\n                                                </div>\n                                            </div>\n                                        </li> -->\n                                    </ul>\n                                </div>            \n                            </form>                 \n                        </div>\n                    </section>\n                </div>\n                <div class="random-event" ng-show="triggerEvent.value == 2">\n                    <section>\n                        <div class="style_list" ng-init="opea.show=true" ng-click="opea.show=!opea.show">\n                            <b class="caret" ng-if="opea.show"></b>\n                            <b class="caret off" ng-if="!opea.show"></b>\n                            {{triggerEvent.title}}\n                            <span style="padding-right: 10px;cursor:pointer;" class="fr" ng-click="removeTrigger($index, $event)"><img title="{{\'scene.create.trigger.DELETE_ANIMATION\' | translate}}" ng-src="{{CLIENT_CDN + \'assets/images/delete.png\'}}" ></span>\n                        </div>              \n                        <div class="row" ng-if="opea.show">            \n                            <form role="form">\n                                <div class="style_list_angel">\n                                    <label translate="scene.create.trigger.DELAY">延迟时间</label>\n                                    <div class="touming clearfix">\n                                        <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" ng-model="triggerEvent.delay" /></p>\n                                        <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="triggerEvent.delay"></div>\n                                    </div>\n                                </div>  \n                                <div class="select-trigger-item">\n                                    <div ng-show="triggerEvent.handles.length">\n                                        <div ng-repeat="handle in triggerEvent.handles">\n                                            <div ng-repeat="id in handle.ids">\n                                                <span style="cursor:pointer;padding: 10px 20px;" hover-element id="id"><span translate="scene.create.trigger.RANDOM_IMAGE">随机图片</span> {{$index+1}}</span>\n                                                <a style="display: inline;" ng-click="cancelTriggerElem(id, sendIndex);" translate="scene.create.trigger.CANCEL">取消</a>\n                                            </div>\n                                        </fiv>\n                                    </div>\n                                </div>            \n                            </form>                 \n                        </div>\n                    </section>\n                </div>\n            </div>\n        </div>\n        <div class="trigger-btn" leave-panel>\n            <div class="event-panel" style="margin-bottom: 5px;">\n                <a ng-click="obj.showTriggerPanel = true;" class="add-trigger">\n                    <span class="eqf-plus2"></span><span>添加触发</span>\n                </a>\n                <div>\n                    <div class="arrow"></div>\n                    <ul ng-show="obj.showTriggerPanel">\n                        <li ng-repeat="eventType in eventTypes" ng-click="addTriggerEvent(eventType, triggerEvents.length || 0);obj.showTriggerPanel = false;">\n                            {{eventType.title}}\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <a class="btn-main" ng-click="confirm()" translate="scene.create.trigger.CONFIRM">确定</a>\n        <a class="btn-grey0" ng-click="clear()" translate="scene.create.trigger.CLEAR">清除</a>\n    </div>\n</div>')
            }]),
        b.module("scene/console/triggerelemlist.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/triggerelemlist.tpl.html", '<div class="trigger-list">\n    <div class="modal-header">\n        <h4 class="modal-title">选择触发哪些元素显示或隐藏</h4>\n    </div>\n    <div class="modal-body">\n        <ul highlight-element>\n            <li class="trigger-elem" ng-repeat="triggerElement in triggerElements track by $index" id="{{\'trigger_\' + triggerElement.id}}">\n                <div>\n                    <div class="square one-line">\n                        <div class="checkbox-square" ng-class="{checked: triggerElement.checked}">\n                            <em class="eqf-right4"></em>\n                            <input type="checkbox" ng-model="triggerElement.checked" ng-change="changed(triggerElement)"/>\n                        </div>\n                        <label>\n                            {{triggerElement.name}}\n                        </label>\n                        <div class="fr" ng-if="triggerElement.checked">\n                            <a style="padding-right: 5px;" class="fl" ng-click="switchShow(false, 2, triggerElement.id, currentIndex);triggerElement.triggerType=2;" ng-show="triggerElement.triggerType==1">显示</a>\n                            <a style="padding-right: 5px;" class="fl" ng-click="switchShow(true, 1, triggerElement.id, currentIndex);triggerElement.triggerType=1;" ng-show="triggerElement.triggerType==2">隐藏</a>\n                            <div class="switch switch-open fl" ng-show="triggerElement.triggerType==1" ng-click="switchShow(false, 2, triggerElement.id, currentIndex)"> \n                                <div style="height: 16px;width: 35px;" class="circle-con">\n                                    <i style="left: 1px; top: 1px; height: 14px;" class="circle"></i>\n                                </div>\n                            </div>\n                            <div class="switch switch-close fl" ng-show="triggerElement.triggerType==2" ng-click="switchShow(true, 1, triggerElement.id, currentIndex)"> \n                                <div style="height: 16px;width: 35px;" class="circle-con">\n                                    <i style="left: 1px; top: 1px; height: 14px;" class="circle"></i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n        </ul>\n    </div>\n    <div class="modal-footer">\n        <a class="btn btn-primary" ng-click="confirmList()">\n            <span translate="scene.create.triggerelemlist.CONFIRM">确定\n            </span>\n        </a>\n    </div>\n</div>')
            }]),
        b.module("scene/console/video.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/console/video.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="scene.create.video.TITLE">视频组件</h1>\n		<a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1926&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show=\'!authError\' translate="scene.create.video.TIPS">把视频通用代码复制到框中即可使用</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div>\n	<div class="nav-list">\n		<ul>\n			<li class="active" translate="scene.create.video.VIDEO_TAB">视频</li>\n		</ul>\n	</div>    \n	<div class="video_console dialog-content">\n		<div class="modify_area" style="height:auto">\n			<div class="video_tip">\n				<span translate="scene.create.video.VIDEO_CODE">视频通用代码：</span>\n				<span class="video_code"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target="_blank"><ins translate="scene.create.video.VIDEO_CODE_TIP">什么是视频通用代码？</ins></a></span>\n			</div>\n			<div class="video_tip">\n				<textarea style="border-radius:0px;" class = "video_src" ng-model="model.src" ng-keyup="$event.keyCode == 13 ? confirm() : null"/>\n			</div>\n			<div class="video_tip"><span translate="scene.create.video.VIDEO_TIP">将视频的通用代码粘贴到文本框里即可。</span><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target="_blank"><ins translate="scene.create.video.HELP">查看帮助</ins></a></div>\n			<div class="video_tip"><span translate="scene.create.video.VIDEO_SUPPORT">支持的视频：</span><a href="http://www.youku.com/" target="_blank"><ins translate="scene.create.video.YOUKU">优酷</ins></a>、<a href="http://www.tudou.com/" target="_blank"><ins translate="scene.create.video.TUDOU">土豆</ins></a>、<a href="http://v.qq.com/" target="_blank"><ins translate="scene.create.video.QQ">腾讯视频</ins></a></div>\n		</div>	\n	</div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.video.CONFIRM">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.video.CANCEL">取消</a>\n</div>')
            }]),
        b.module("scene/create.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/create.tpl.html", '<div class="create-bg" style="position: fixed;top: 0;left: 0;right: 0;bottom: 0;background-color: #d0cfd8"></div>\n<div class="creat_head" conver-to-image>\n  <div class="creat_head_con clearfix">\n	<div class="creat_logo"><a href="#/main"  class="hint--bottom hint--rounded " data-hint="{{\'scene.create.BACK_HOME_TIP\' | translate}}" ng-click="stopCopy()">\n		<em class="eqf-eqxiu"></em><!-- <img ng-src="{{CLIENT_CDN}}assets/images/logo-white.png" /> --></a></div>\n	<div class="creat_con clearfix">\n		<ul class="comp_panel clearfix">\n			<li comp-draggable="panel" ctype="x" class="comp-draggable text hint--bottom hint--rounded" data-hint="点击添加秀字体" ng-click="showFirstTimeTip(\'x\');">\n		  		<span class="eqf-brush"></span>\n				<span translate="scene.create.XIU_TEXT_MENU">秀字体</span>\n		  	</li>\n			<li comp-draggable="panel" ctype="2" class="comp-draggable text hint--bottom hint--rounded" data-hint="点击添加文本" ng-click="createComp(\'2\');">\n			  	<span class="eqf-text-word"></span>\n				<span translate="scene.create.TEXT_MENU">文本</span>\n			</li>\n		  <li comp-draggable="panel" ctype="3" class="comp-draggable bg hint--bottom hint--rounded" data-hint="{{\'scene.create.BACKGROUND_TIP\' | translate}}" ng-click="createComp(\'3\');">\n		  	<span class="eqf-top-background"></span>\n			<span translate="scene.create.BACKGROUND_MENU">背景</span>\n		  </li>\n		  <li comp-draggable="panel" ctype="9" class="comp-draggable music hint--bottom hint--rounded" data-hint="{{\'scene.create.MUSIC_TIP\' | translate}}" ng-click="createComp(\'9\');">\n		  	<span class="eqf-top-music"></span>\n			<span translate="scene.create.MUSIC_MENU">音乐</span>\n		  </li>  \n		  <li comp-draggable="panel" ctype="v" class="comp-draggable vedio hint--bottom hint--rounded" data-hint="{{\'scene.create.VIDEO_TIP\' | translate}}" ng-click="createComp(\'v\');">\n		  	<span class="eqf-top-video"></span>\n			<span translate="scene.create.VIDEO_MENU">视频</span>\n		  </li>        \n		  <li comp-draggable="panel" ctype="4" class="comp-draggable image hint--bottom hint--rounded" data-hint="{{\'scene.create.IMAGE_TIP\' | translate}}" ng-click="createComp(\'4\');">\n		  	<span class="eqf-top-pic"></span>\n			<span translate="scene.create.IMAGE_MENU">图片</span>\n		  </li>\n		  <li comp-draggable="panel" ctype="h" class="comp-draggable image hint--bottom hint--rounded" data-hint="{{\'scene.create.SHAPE_TIP\' | translate}}" ng-click="createComp(\'h\');">\n			<span class="eqf-shape"></span>\n			<span translate="scene.create.SHAPE_MENU">形状</span>\n		  </li>\n		  <li comp-draggable="panel" ctype="p" class="comp-draggable images hint--bottom hint--rounded" data-hint="{{\'scene.create.IMAGE_GROUP_TIP\' | translate}}" ng-click="createComp(\'p\');">\n		  	<span class="eqf-top-pics"></span>\n			<span translate="scene.create.IMAGE_GROUP_MENU">图集</span>\n		  </li>\n		  <li class="interaction hint--bottom hint--rounded">\n			  <span class="eqf-refresh"></span>\n			  <div class="form-menus">\n				  <div class="popover bottom">\n					  <div class="arrow"></div>\n					  <div class="popover-content">\n						  <ul class="menus">\n							  <li ng-if="isInteractionAccessable" comp-draggable="panel" ctype="l" class="menu-item comp-draggable button hint--right hint--rounded" data-hint="{{\'scene.create.LINK_TIP\' | translate}}" ng-click="createComp(\'l\');">\n								  <span class="eqf-link"></span>\n								  <span class="menu-item-name" translate="scene.create.LINK_MENU">链接</span>\n							  </li>\n							  <li comp-draggable="panel" ctype="8" class="menu-item comp-draggable phone hint--right hint--rounded" data-hint="{{\'scene.create.PHONE_TIP\' | translate}}" ng-click="createComp(\'8\');">\n								  <span class="eqf-top-phone"></span>\n								  <span class="menu-item-name" translate="scene.create.PHONE_MENU">电话</span>\n							  </li>\n							  <li ng-if="isInteractionAccessable" comp-draggable="panel" ctype="6" class="menu-item comp-draggable button hint--right hint--rounded" data-hint="{{\'scene.create.TRIGGER_TIP\' | translate}}" ng-click="openTriggerMode()">\n								  <span class="eqf-chufa"></span>\n								  <span class="menu-item-name" translate="scene.create.TRIGGER_MENU">触发</span>\n							  </li>\n							  <li ng-if="isInteractionAccessable" comp-draggable="panel" ctype="s" class="menu-item comp-draggable button hint--right hint--rounded" data-hint="{{\'scene.create.SOUND_TIP\' | translate}}" ng-click="createComp(\'s\');">\n								  <span class="eqf-music"></span>\n								  <span class="menu-item-name" translate="scene.create.SOUND_MENU">音效</span>\n							  </li>\n							  <li ng-if="isInteractionCounterAccessable" class="menu-item">\n								  <span class="eqf-clock-o"></span>\n								  <span class="menu-item-name" translate="scene.create.COUNTER_MENU">计数</span>\n								  <span class="caret"></span>\n								  <div class="menu-item-menu">\n									  <div class="popover right">\n										  <div class="arrow"></div>\n										  <div class="popover-content">\n											  <ul class="menus">\n												  <li comp-draggable="panel" ctype="i" class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint="{{\'scene.create.COUNTER_TIP\' | translate}}" ng-click="createComp(\'i\', \'eqf-love\');">\n													  <span class="eqf-love"></span>\n													  <span class="menu-item-name" translate="scene.create.COUNTER_LIKE_MENU">喜欢</span>\n												  </li>\n												  <li comp-draggable="panel" ctype="i" class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint="{{\'scene.create.COUNTER_TIP\' | translate}}" ng-click="createComp(\'i\', \'eqf-good\');">\n													  <span class="eqf-good"></span>\n													  <span class="menu-item-name" translate="scene.create.COUNTER_GOOD_MENU">顶起</span>\n												  </li>\n												  <li comp-draggable="panel" ctype="i" class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint="{{\'scene.create.COUNTER_TIP\' | translate}}" ng-click="createComp(\'i\', \'eqf-flower2\');">\n													  <span class="eqf-flower2"></span>\n													  <span class="menu-item-name" translate="scene.create.COUNTER_FLOWER_MENU">送花</span>\n												  </li>\n												  <li comp-draggable="panel" ctype="i" class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint="{{\'scene.create.COUNTER_TIP\' | translate}}" ng-click="createComp(\'i\', \'eqf-vote\');">\n													  <span class="eqf-vote"></span>\n													  <span class="menu-item-name" translate="scene.create.COUNTER_VOTE_MENU">投票</span>\n												  </li>\n											  </ul>\n										  </div>\n									  </div>\n								  </div>\n							 </li>\n						  	<li comp-draggable="panel"class="menu-item comp-draggable button hint--bottom hint--rounded">\n							  	<span class="eqf-date22"></span>\n							  	<span class="menu-item-name" translate="scene.create.STATISTICS_MENU">统计</span>\n							  	<span class="caret"></span>\n							  	<div class="menu-item-menu">\n								  	<div class="popover right">\n									  	<div class="arrow"></div>\n									  	<div class="popover-content">\n										  	<ul class="menus">\n											  	<li comp-draggable="panel" ctype="d" class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint="{{\'scene.create.COUNTER_TIP\' | translate}}" ng-click="createComp(\'d\', \n											  	\'eqf-eye3\');">\n												  	<span class="eqf-eye3"></span>\n												  	<span class="menu-item-name" translate="scene.create.READ_COUNT">阅读量</span>\n											  	</li>\n											</ul>\n										</div>\n									</div>\n								</div>\n							</li>\n						  	</ul>\n					  	</div>\n				  	</div>\n			  </div>\n			  <span translate="scene.create.INTERACTION_MENU">互动</span>\n		  </li>\n		  <li class="form hint--bottom hint--rounded">\n		  	<span class="eqf-top-list"></span>\n		    <div class="form-menus">\n				  <div class="popover bottom">\n					  <div class="arrow"></div>\n					  <div class="popover-content">\n						  <ul class="menus">\n							  <li class="menu-item">\n								  <span class="eqf-glyphicon-list"></span>\n								  <span class="menu-item-name" translate="scene.create.QUICK_FORM_MENU">快捷表单</span>\n								  <span class="caret"></span>\n								  <div class="menu-item-menu">\n									  <div class="popover right">\n										  <div class="arrow"></div>\n										  <div class="popover-content">\n											  <ul class="menus">\n												  <li comp-draggable="panel" ctype="g101" class="menu-item comp-draggable contact hint--right hint--rounded" data-hint="{{\'scene.create.CONTACT_TIP\' | translate}}" ng-click="createCompGroup(\'g101\');">\n													  <span class="eqf-top-contact"></span>\n													  <span class="menu-item-name" translate="scene.create.CONTACT_MENU">联系人</span>\n												  </li>\n											  </ul>\n										  </div>\n									  </div>\n								  </div>\n							  </li>\n							  <li class="menu-item">\n								  <span class="eqf-date3"></span>\n								  <span class="menu-item-name" translate="scene.create.FORM_OPTION_MENU">选项</span>\n								  <span class="caret"></span>\n								  <div class="menu-item-menu">\n									  <div class="popover right">\n										  <div class="arrow"></div>\n										  <div class="popover-content">\n											  <ul class="menus">\n												  <li comp-draggable="panel" ctype="5" class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint="{{\'scene.create.INPUT_TIP\' | translate}}" ng-click="createComp(\'5\');">\n													  <span class="eqf-write"></span>\n													  <span class="menu-item-name" translate="scene.create.INPUT_MENU">输入框</span>\n												  </li>\n												  <li ng-if="isRadioCheckboxRatingAccessable" comp-draggable="panel" ctype="r" class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint="{{\'scene.create.RADIO_TIP\' | translate}}" ng-click="createComp(\'r\');">\n													  <span class="eqf-single"></span>\n													  <span class="menu-item-name" translate="scene.create.RADIO_MENU">单选</span>\n												  </li>\n												  <li ng-if="isRadioCheckboxRatingAccessable" comp-draggable="panel" ctype="c" class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint="{{\'scene.create.CHECKBOX_TIP\' | translate}}" ng-click="createComp(\'c\');">\n													  <span class="eqf-more"></span>\n													  <span class="menu-item-name" translate="scene.create.CHECKBOX_MENU">多选</span>\n												  </li>\n												  <li ng-if="isRadioCheckboxRatingAccessable" comp-draggable="panel" ctype="a" class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint="{{\'scene.create.RATING_TIP\' | translate}}" ng-click="createComp(\'a\');">\n													  <span class="eqf-star"></span>\n													  <span class="menu-item-name" translate="scene.create.RATING_MENU">评分</span>\n												  </li>\n											  </ul>\n										  </div>\n									  </div>\n								  </div>\n							  </li>\n							  <li comp-draggable="panel" ctype="6" class="menu-item comp-draggable button hint--right hint--rounded" data-hint="{{\'scene.create.BUTTON_TIP\' | translate}}" ng-click="createComp(\'6\');">\n								  <span class="eqf-top-button"></span>\n								  <span class="menu-item-name" translate="scene.create.BUTTON_MENU">提交按钮</span>\n							  </li>\n						  </ul>\n					  </div>\n				  </div>\n			  </div>\n		    <span translate="scene.create.FORM_MENU">表单</span>\n		  </li>\n		  <li ng-click="openPageEffectModal(tpl.obj.properties)" class="texiao hint--bottom hint--rounded" data-hint="{{\'scene.create.EFFECT_TIP\' | translate}}">\n		  	<span class="eqf-top-star"></span>\n			<span><a id = "toggle_button" class="page_effect" translate="scene.create.EFFECT_MENU">特效</a></span>\n		  </li>\n		</ul>\n    </div>\n	<div class="create-action">\n		<ul>\n			<li class="act-border setting hint--bottom hint--rounded" ng-class="{\'active\': sceneSetting.showFlag}" data-hint="{{\'scene.create.SETTING_TIP\' | translate}}" ng-click="sceneSetting.showFlag=!sceneSetting.showFlag">\n				<span class="eqf-scene-settingII"></span>\n				<span class="create-setting" translate="scene.create.SETTING_MENU">设置</span>\n			</li>\n			<li class="act-border save hint--bottom hint--rounded" data-hint="{{\'scene.create.SAVE_TIP\' | translate}}" ng-click="saveScene(true)">\n				<span class="eqf-top-svae"></span>\n				<span class="create-save" translate="scene.create.SAVE_MENU">保存</span>\n			</li>\n			<li class="publish hint--bottom hint--rounded" data-hint="{{\'scene.create.PUBLISH_TIP\' | translate}}" ng-click="publishScene()">\n				<span class="eqf-scene-send"></span>\n				<span class="create-publish" translate="scene.create.PUBLISH_MENU">发布</span>\n			</li>\n			<li class="act-border quit hint--bottom hint--rounded" data-hint="{{\'scene.create.EXIT_TIP\' | translate}}" ng-click="exitScene()">\n				<span class="eqf-top-quite"></span>\n				<span class="create-quit" translate="scene.create.EXIT_MENU">退出</span>\n			</li> \n		</ul>\n	</div>\n	<div ng-hide="showToolBar();">\n		<div ng-show="isEditor" style="position: absolute;right: 225px;top: 20px;">\n			<select ng-model="scene.isTpl">\n				<option value="0" translate="scene.create.NOT_TEMPLATE">非模板</option>\n				<option value="1" translate="scene.create.PC_TEMPLATE">保存为pc模板</option>\n				<option value="2" translate="scene.create.MOBILE_TEMPLATE">保存为移动端模板</option>\n			</select>\n		</div>\n	</div>\n</div>\n</div>\n<div class="create_scene">\n  <div class="main clearfix" mouse-comp-select>\n	  <div class="content">\n		  <div class="create_left" conver-to-image>\n			<tabset justified="true">\n			  <tab heading="{{\'scene.create.PAGE_TEMPLATE\' | translate}}" class="hint--bottom hint--rounded" style = "width: 290px;">\n				  <tabset justified="true" class="tpl_tab">\n					<tab ng-repeat="pageTplType in pageTplTypes" heading="{{pageTplType.name}}" ng-click="getPageTplsByType(pageTplType.value)">\n					  <div class="nav2 clearfix" dropdown >\n						<div class="others dropdown-toggle hint--bottom hint--rounded" ng-show="otherCategory.length > 0" data-hint="{{\'scene.create.MORE\' | translate}}">\n							<span></span>\n						</div>\n						<ul class="clearfix nav2_list">\n						  <li ng-class="{active:childCat.id == categoryId}" ng-click="getPageTplTypestemp(childCat.id ,bizType)" ng-repeat="childCat in childCatrgoryList">{{childCat.name}}</li>\n						</ul>\n						<ul class="clearfix nav2_other dropdown-menu">\n						  <li ng-class="{active:othercat.id == categoryId}" ng-click="getPageTplTypestemp(othercat.id ,bizType)" ng-repeat="othercat in otherCategory">{{othercat.name}}</li>\n						</ul>                        \n					  </div>\n					  <ul class="page_tpl_container top20 clearfix">\n						<li class="page_tpl_item comp-draggable " ng-repeat="pageTpl in pageTpls"  title="点击使用" ng-click="insertPageTpl(pageTpl.id);">\n						  <img ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}" />\n						</li>\n					  </ul>\n					</tab>\n					<tab ng-repeat="myname in myName" heading="{{myName[0].name}}" active="myname.active" ng-if = "pageTplTypes" ng-click = "getPageTplsByMyType()">\n					  <div style="padding:10px;" ng-hide="myPageTpls" translate="scene.create.MY_PAGE_TPLS_TIP">在页面管理中选中页面，点击生成模板，即可生成我的页面模板！</div>\n					  <ul class="page_tpl_container clearfix">\n						<li thumb-tpl my-tpl="pageTpl" style="position: relative;" id="my-tpl" class="nr page_tpl_item comp-draggable my-tpl" ng-repeat="pageTpl in myPageTpls" title="{{\'scene.create.INSERT_INTO_EDIT_AREA\' | translate}}" ng-click="insertPageTpl(pageTpl.id);">\n						</li>\n					  </ul>\n					</tab>\n					<!-- 获取企业模板 -->\n					<tab ng-repeat="mycompany in myCompany" heading="{{myCompany[0].name}}" active="mycompany.active" ng-if = "pageTplTypes" ng-click = "getPageTplsByCompanyType()" ng-show="userProperty.type ==2 || userProperty.type ==21">\n						<div style="padding:10px;" ng-hide="myCompanyTpls" translate="scene.create.COMPANY_PAGE_TPLS_TIP">在页面管理中选中页面，点击企业模板，即可生成企业页面模板！</div>\n						<ul class="page_tpl_container clearfix">\n							<li thumb-tpl my-tpl="pageTpl" style="position: relative;" title="{{\'scene.create.TPL_USER_TIP\' | translate}}" id="company-tpl" class="nr page_tpl_item comp-draggable my-tpl" ng-repeat="pageTpl in myCompanyTpls" ng-click="insertPageTpl(pageTpl.id);">\n							</li>\n						</ul>\n					</tab>                    \n				  </tabset>\n			  </tab>\n			</tabset>\n		  </div> \n		  <div class="phoneBox" multi-comp-drag>\n			<div edit-common edit-keymap>\n				<div class="top"></div>\n				<div class = "phone_menubar"></div>\n				<div class="scene_title_baner">\n				  <div ng-bind="scene.name" class="scene_title"></div>\n				</div>\n				<div class="nr sortable" id="nr" element-anim paste-element></div>\n				<div class="bottom"></div>\n				<div class = "tips" translate="scene.create.USER_BROWSER_CHOICES">为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</div>\n			</div>\n			<div class="phone_texiao">\n				<div id="editBG" ng-show="controlView.showBgTag">\n					<span class="hint--right hint--rounded" data-hint="{{\'scene.create.BACKGROUND_STATE_TIP\' | translate}}" ng-click="replaceBg(currentBgDef)" translate="scene.create.BACKGROUND_STATE">背景</span>\n					<a style = "color: #666; margin-top: 10px;" class="hint--bottom hint--rounded" data-hint="{{\'scene.create.BACKGROUND_EDIT_TIP\' | translate}}">\n						<span ng-click="showEditBgPanel()" class="eqf-scene-settingII"></span>\n					</a>\n					<div class="manage-bg" style="display: none;margin-top: 5px;" ng-controller="editBgCtrl" ng-include="\'scene/edit/editbg/editbg.tpl.html\'">\n					</div>\n				</div>\n				<div id="editBGAudio" ng-click="openAudioModal()" ng-show="scene.bgAudio">\n					<span class="hint--right hint--rounded" data-hint="{{\'scene.create.BG_SOUND_STATE_TIP\' | translate}}" translate="scene.create.BG_SOUND_STATE">音乐</span><!-- <div style="margin:10px 0;border-bottom: 2px solid #666;"></div> --><a style = "color: #666; margin-top: 10px;" class="hint--bottom hint--rounded" data-hint="{{\'scene.create.REMOVE_BG_SOUND_TIP\' | translate}}"><span ng-click="removeBGAudio($event)" class="eqf-wrong"></span></a>\n				</div>\n				<div id="editScratch" ng-click="openPageEffectModal(tpl.obj.properties)" ng-show="tpl.obj.properties">\n					<span class="hint--right hint--rounded" data-hint="{{\'scene.create.PAGE_EFFECT_STATE_TIP\' | translate}}">{{effectName}}</span><!-- <div style="margin:10px 0;border-bottom: 2px solid #666;"></div> --><a style = "color: #666; margin-top: 10px;" class="hint--bottom hint--rounded" data-hint="{{\'scene.create.REMOVE_PAGE_EFFECT_TIP\' | translate}}"><span ng-click="removeScratch($event)" class="eqf-wrong"></span></a>\n				</div>\n			</div>\n			<div class="history">\n				<a data-hint="{{\'scene.create.BACKWARD\' | translate}}" class="hint--left hint--rounded" ng-click="back()"><i class="eqf-bg" ng-class="{active: canBack}"></i></a>\n				<a data-hint="{{\'scene.create.FORWARD\' | translate}}" class="hint--left hint--rounded" ng-click="forward()"><i class="eqf-back" ng-class="{active: canForward}"></i></a>\n				<a data-hint="{{\'scene.create.REFRESH_PREVIEW\' | translate}}" class="hint--left hint--rounded" style="margin-top:10px;" ng-click="refreshPage(tpl.obj, pageNum, $event)"><i class="eqf-eye2"></i></a>\n				<a data-hint="{{\'scene.create.GRID_SETTING\' | translate}}" class="hint--left hint--rounded grid-guide" style="margin-top:10px;" ng-click="gridGuideSetting.showFlag = !gridGuideSetting.showFlag"><i class="eqf-wangge" ng-class="{\'active\': gridGuideSetting.isGridEnabled}"></i></a>\n				<div class="grid-guide-container" ng-class="{\'on\': gridGuideSetting.showFlag}" grid-guide-setting></div>\n			</div>\n		  </div>\n		  <div id = "containment" class="create_right" conver-to-image>\n			<div class="guanli" translate="scene.create.PAGE_MANAGE">页面管理</div>\n			<div class = "nav_top">\n			  <div class="nav_top_list">\n				  <div class="save_template" ng-include="\'scene/saveTemplate.tpl.html\'" ng-controller="saveTemplateCtrl"></div>\n			  </div>\n			</div>\n\n			<div class="nav_content">\n			  <ul id = "pageList" ui-sortable = "sortableOptions" ng-model="pages">\n				<li class = "blurClass" ng-repeat="page in pages track by $index" ng-click="navTo(page, $index, $event)" ng-init = "editableStatus[$index] = false" ng-class="{current: pageNum-1 == $index}" blur-children>\n					<span style = "float: left; margin-top: 17px; background: #fff; color: #666; font-weight: 200;border-radius:9px;width:18px;height:18px;padding:0px;text-align:center;line-height:18px;" class = "badge">{{$index+1}}</span>\n					<span style = "margin-left: 17px;" class="hint--bottom hint--rounded" data-hint="{{\'scene.create.PAGE_NAME_TIP\' | translate}}" ng-click = "editableStatus[$index] = true" ng-show = "!editableStatus[$index]">{{page.name}}</span>\n					<input style = "width: 165px;display:inline-block; height: 25px; line-height: 25px; margin-left: 10px; color: #999;" type = "text" ng-model = "page.name" ng-show = "editableStatus[$index]" ng-blur = "editableStatus[$index] = false;savePageNames(page, $index)" ng-focus = "getOriginPageName(page)" check-count="30" custom-focus stop-propagation/>\n				</li>\n			  </ul>\n			  <div class = "page-list-label" ng-show="isEditor && pageList == true">  \n				  <label ng-repeat = "allchild in pageLabelAll">\n					  <input type="checkbox" name="" value="" ng-model = "allchild.ischecked">{{allchild.name}}\n				  </label>                                                 \n				  <div class="select-labels">\n					  <a ng-click="pageChildLabel()" translate="scene.create.EDITOR_CONFIRM">确定</a>\n				  </div>\n			  </div>               \n			</div>\n			<div class="nav_bottom">\n			  <a ng-click="insertPage()" class="hint--bottom hint--rounded" data-hint="{{\'scene.create.INSERT_PAGE_TIP\' | translate}}" >+</a>\n			 <!--  <a ng-click="duplicatePage()" class="duplicate_page">复制一页</a> -->\n			</div>\n\n			<div ng-show="isEditor" style="position: absolute;bottom: 20px;right: 268px;width: 100px;">\n			  <div class="btn-main" style="width: 100px;" ng-click="chooseThumb()" translate="scene.create.CHOOSE_THUMB_TIP">选择本页缩略图</div>\n			  <img width="100" ng-src="{{PREFIX_FILE_HOST + tpl.obj.properties.thumbSrc}}"></img>\n			</div>\n		  </div>\n		  <div ng-include="\'scene/edit/select/select.tpl.html\'" ng-controller="selectCtrl">\n	  </div>\n  </div>\n</div>\n<div ng-if="showXiuFontTip" style="position: absolute; width: 500px; z-index: 1000; left: 50%; margin-left: -200px;top:150px;background-color: #fff;">\n	<div class="modal-header">\n	    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="$parent.showXiuFontTip=false;">\n	        <span aria-hidden="true">×</span>\n	    </button>\n	    <h4 class="modal-title">秀字体</h4>\n	</div>\n	<div class="modal-body">\n	    <p style="line-height: 30px;">\n	    	秀字体在保存后会成为图片，添加过多秀字体会影响您的场景加载速度。<br/>\n	    	秀字体的创建和您的网速有关系，为了保证您的秀字体能正常使用，请等待字体完全加载后再进行下一步操作。\n	    </p>\n	</div>\n	<div class="modal-footer">\n	    <input type="checkbox" style="margin-top:0;margin-right:5px;" ng-model="hideFontTip" ng-change="switchShowFontTip(hideFontTip)"><span style="margin-right:10px;" translate="scene.create.sound.DO_NOT_ASK_AGAIN">不再提示</span>\n	    <a type="button" class="btn btn-primary" ng-click="createComp(\'x\');$parent.showXiuFontTip=false;">确定</a>\n	</div>\n</div>\n<div class="scene-setting" ng-if="sceneSetting.showFlag" scene-setting-component></div>\n</div>\n<div class="creat-feedback">\n	<div class="video-user" style="position:relative;bottom:23px;">\n	    <a target="_blank" href="http://class.qq.com/class/13657/p62157.html">\n	        <span class="eqf-top-video"></span>\n	        <span>教程</span>\n	    </a>\n	    <a target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13225">\n	        <span class="eqf-top-contact"></span>\n	        <span>客服</span>\n	    </a>\n	</div>	\n	  <div class="feedback" style="position:relative;">\n	      <a ng-href="http://eqxiu.com/s/QblumX2x" target="_blank" style="padding-top:6px;">\n	          <span class="eqf-scene-send"></span>\n	          <span class="feedback-word">反馈</span>\n	      </a>\n	      <div class="feedback-bg"></div>\n	  </div>\n</div>\n<div ng-include="\'scene/userGuide.tpl.html\'"></div>');
            }]),
        b.module("scene/createNew.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/createNew.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1 translate="scene.createNew.TITLE">新建场景</h1>\n        <p ng-show = \'!authError\' translate="scene.createNew.TIP">填写场景名称，点击创建即刻拥有自己的场景了</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class = "dialog-content">\n        <form name="resetForm" novalidate class="form-horizontal">\n            <div class="form-group">\n                <div class="col-sm-offset-3 col-sm-6">\n                    <input name="name" class="form-control" placeholder="{{\'scene.createNew.NAME_TIP\' | translate}}" type="text" ng-model="scene.name" required autofocus>\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-offset-3 col-sm-6">\n                    <eqx-select class="select-contain select-great" model="scene.type" change="selectBranch(global.branch)">\n                        <eqx-select-option value="scenetype" ng-repeat="scenetype in scene.types">{{scenetype.name}}</eqx-select-option>\n                    </eqx-select>\n                </div>\n            </div>\n            <div class="form-list" ng-show = "false">\n                <select ng-model="scene.pageMode" ng-options="pagemode.name for pagemode in pagemodes"></select>\n            </div>\n            <div class="btn-contain btn-small">\n                <a class="btn-main login" ng-click="create()" ng-disabled=\'form.$invalid\' translate="scene.createNew.CONFIRM">创建</a>\n                <a class="btn-grey0 cancel" ng-click="cancel()" ng-disabled=\'form.$invalid\' translate="scene.createNew.CANCEL">取消</a>\n            </div>  \n        </form>\n        <p style="font-size:12px;text-align:center;margin-bottom:20px;color:#666;"><em style="color:red;" translate="scene.createNew.DECLARATION">特别说明：</em><span translate="scene.createNew.DESCRIPTION1">不允许有奖转发、诱导关注、医药、色情、不良风气等内容发布</span>，<span translate="scene.createNew.DESCRIPTION2">详情</span><a target="_blank" style="color:red" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890&extra=" translate="scene.createNew.DESCRIPTION3">请查看审核规则</a></p>\n</div>\n')
            }]),
        b.module("scene/createUserGuide.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/createUserGuide.tpl.html", '<div class="create-user-guide" ng-show="firstLogin" ng-controller="CreateUserGuideCtrl">\n    <div class="carousel-user-guide">\n        <h2><em translate="scene.USER_GUIDE">用户引导</em><span ng-click="close()">&times;</span></h2>\n        <div class="carousel-user-guide-container">\n            <carousel interval="myInterval">\n                <slide ng-repeat="slide in userGuideSlides" active="slide.active">\n                    <img ng-src="{{slide.image}}">\n                </slide>\n            </carousel>\n            <button ng-show="currentIndex == 5" class="btn btn-main operation" ng-click="close()" translate="scene.CONFIRM_TIP">我知道了</button>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("scene/edit/editbg/editbg.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/edit/editbg/editbg.tpl.html", '<div class="arrow"></div>\n<ul class="">\n    <li ng-click="cropBg(currentBgDef)"><span class="eqf-cut"></span><span translate="scene.create.editbg.CUT">裁剪</span></li>\n    <li ng-click="replaceBg(currentBgDef)"><span class="eqf-top-background"></span><span translate="scene.create.editbg.CHANGE">更换</span></li>\n    <li ng-click="showBgEffect();"><span class="eqf-xiaoguo"></span><span translate="scene.create.editbg.EFFECT">效果</span></li>\n    <li ng-click="removeBG($event)"><span class="eqf-scene-delete"></span><span translate="scene.create.editbg.DELETE">删除</span></li>\n</ul>\n\n<div class="bg-effect" switch-display style="display: none;">\n    <div class="arrow"></div>\n    <ul>\n        <li ng-class="{\'effect-selected\': currentBgDef.effect.type == \'scaleUp\'}" ng-click="scaleUpBg(currentBgDef)">\n            <span class="eqf-bigger"></span><span translate="scene.create.editbg.SCALE_UP">放大</span>\n            <!-- <span class="eqf-glyphicon-ok" style="margin-left: 50px"></span> -->\n            <span style="margin-left: 60px;" ng-show="currentBgDef.effect.type == \'scaleUp\'" class="eqf-glyphicon-remove" ng-click="removeBgEffect(\'scaleUp\', $event)"></span>\n        </li>\n        <li ng-class="{\'effect-selected\': currentBgDef.effect.type == \'scaleDown\'}" ng-click="scaleDownBg(currentBgDef)">\n            <span class="eqf-small"></span><span translate="scene.create.editbg.SCALE_DOWN">缩小</span>\n            <!-- <span class="eqf-glyphicon-ok" style="margin-left: 50px"></span> -->\n            <span style="margin-left: 60px;" ng-show="currentBgDef.effect.type == \'scaleDown\'" class="eqf-glyphicon-remove" ng-click="removeBgEffect(\'scaleDown\', $event)"></span>\n        </li>\n    </ul>\n</div>')
            }]),
        b.module("scene/edit/select/select.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/edit/select/select.tpl.html", '<div class="select-panel" ng-show="showSelectPanel" panel-draggable>\n    <div class="modal-header ng-scope">\n        <span translate="scene.create.select.SELECT">多选操作</span>\n    </div>\n    <div class="select-content">\n        <ul>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.ALIGN_LEFT\' | translate}}" eqx-align-left><span class="eqf-left5"></span></a></li>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.ALIGN_HORIZONTAL_CENTER\' | translate}}" eqx-align-horizontal-center><span class="eqf-middle"></span></a></li>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.ALIGN_RIGHT\' | translate}}" eqx-align-right><span class="eqf-right7"></span></a></li>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.ALIGN_TOP\' | translate}}" eqx-align-top><span class="eqf-top4"></span></a></li>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.ALIGN_VERTICAL_CENTER\' | translate}}" eqx-align-vertical-center><span class="eqf-center"></span></a></li>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.ALIGN_BOTTOM\' | translate}}" eqx-align-bottom><span class="eqf-under2"></span></a></li>\n            <li><a  class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.VERTICAL_AVERAGE\' | translate}}" eqx-vertical-average><span class="eqf-putmiddle"></span></a></li>\n            <li><a  class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.HORIZONTAL_AVERAGE\' | translate}}" eqx-horizontal-average><span class="eqf-putcenter"></span></a></li>\n        </ul>\n        <ul>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.COPY\' | translate}}" eqx-copy><span class="eqf-scene-copy"></span></a></li>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.PASTE\' | translate}}" eqx-paste ng-style="{opacity: pasteOpacity}"><span class="eqf-print"></span></a></li>\n            <li><a class="hint--bottom hint--rounded" data-hint="{{\'scene.create.select.DELETE_MORE\' | translate}}" eqx-delete-more><span class="eqf-scene-delete"></span></a></li>\n        </ul>\n    </div>\n</div>')
            }]),
        b.module("scene/effect/falling.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/effect/falling.tpl.html", '<div id = "page_panel" ng-if="effectType == \'fallingObject\'" class="dropdown-menu1 panel panel-default">\n    <div class="panel-heading">落物设置</div>\n    <div class="panel-body">\n      <form class="form-horizontal" role="form">\n        <div class="form-group form-group-sm" style="margin-bottom:10px;">\n          <label class="col-sm-5 control-label">环境图片</label>\n          <div class="col-sm-7">\n            <select ng-model = "falling.src" ng-options = "fallingObj.name for fallingObj in fallings">\n            </select>\n          </div>\n        </div>\n        <div class = "divider"></div>\n        <div class = "well" style="margin-bottom:15px;text-align: center;background-color: #ddd">\n          <img ng-src="{{falling.src.path}}" style="width:60px;height:60px;"/>\n        </div>\n        <div class = "divider"></div>\n        <div class="form-group form-group-sm" style="margin-bottom:10px;">\n          <label class="col-sm-5 control-label">环境氛围</label>\n          <div class="col-sm-7">\n          	<div style="line-height: 24px;font-size: 12px;"><span style="margin-right:39px;">弱</span><span style="margin-right:37px;">中</span><span>强</span></div>\n          	<div style="width: 100px;" ui-slider min="1" max="3" ng-model="falling.density"></div>\n\n          </div>\n        </div>\n        \n        <div class="form-group form-group-sm" style="margin-bottom:0px;">\n          <div class="modal-footer" style="padding-bottom:0px;">\n            <a class="btn-main" dropdown-toggle type="button" ng-click = "saveEffect(falling)" class="btn btn-success btn-sm btn-main login" style="width:88px;">保存</a>\n            <a dropdown-toggle type="button" ng-click = "cancelEffect()" class="btn-grey0" style="width:88px;">取消</a>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>')
            }]),
        b.module("scene/effect/snowfly.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/effect/snowfly.tpl.html", "")
            }]),
        b.module("scene/pageeffect/fall.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/fall.tpl.html", '<div class="effect-img" style="background-color:#ccc">\n    <img ng-src="{{falling.src.path}}" style="width:60px;height:60px;top:50%;margin-top:-30px;left:50%;margin-left:-30px;position: absolute;"/>\n</div>\n<div class="effect-form">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <lable class="form-label" translate="scene.create.fall.FALL_IMAGE">环境图片：</lable>\n            <div class="form-input">\n                <select ng-model = "falling.src" ng-options = "fallingObj.name for fallingObj in fallings">\n                </select>\n            </div>\n        </div>\n        <div class="form-list clearfix" style="margin-top: 10px;">\n            <lable class="form-label" translate="scene.create.fall.FALL_ATMOSPHERE">环境氛围：</lable>\n            <div class="form-input">\n                <div style="line-height: 24px;font-size: 12px;"><span style="margin-right:39px;" translate="scene.create.fall.WEAK">弱</span><span style="margin-right:37px;" translate="scene.create.fall.MIDDLE">中</span><span translate="scene.create.fall.STRONG">强</span></div>\n                <div style="width: 100px;" ui-slider min="1" max="3" ng-model="falling.density"></div>\n            </div>\n        </div>\n    </form>\n</div>')
            }]),
        b.module("scene/pageeffect/finger.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/finger.tpl.html", '<div class="effect-img">\n    <img ng-src="{{finger.bgImage.path}}"/>\n    <img class="finger-zw" ng-src="{{finger.zwImage.path}}"/>\n    <img class="finger-line" ng-src = "{{CLIENT_CDN + \'view/images/finger_line.png\'}}" finger-move>\n</div>\n<div class="effect-form">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <label class="form-label" translate="scene.create.finger.BACKGROUND_IMAGE">背景图片：</label>\n            <div class="form-input">\n                <select ng-model = "finger.bgImage" ng-options = "bgImage.name for bgImage in fingerBackgrounds" ng-change="replaceImg(finger)">\n                    <option value="" translate="scene.create.finger.CUSTOM">自定义</option>\n                </select>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <label class="form-label" translate="scene.create.finger.FINGER_IMAGE">指纹图片：</label>\n            <div class="form-input">\n                <select ng-model = "finger.zwImage" ng-options = "zwImage.name for zwImage in fingerZws"/>\n            </div>\n        </div>\n    </form>\n</div>')
            }]),
        b.module("scene/pageeffect/fireworks.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/fireworks.tpl.html", '<div class="effect-img">\n    <img ng-src="{{CLIENT_CDN + \'assets/images/create/firework.gif\'}}"/>\n</div>')
            }]),
        b.module("scene/pageeffect/money.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/money.tpl.html", '<div class="effect-img">\n    <img ng-src="{{CLIENT_CDN + \'assets/images/create/money_thumb2.jpg\'}}"/>\n</div>\n<div class="effect-form">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <label class="form-label" translate="scene.create.money.LABEL">提示文字：</label>\n            <div class="form-input">\n                <input type="text" ng-model="money.tip" placeholder="{{\'scene.create.money.PLACEHOLDER\' | translate}}" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px;"/>\n            </div>\n        </div>\n    </form>\n</div>\n')
            }]),
        b.module("scene/pageeffect/none.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/none.tpl.html", '<div style="padding-top:100px;font-size:24px;" translate="scene.create.none.TIPS">点击确定，即可去除特效。</div>')
            }]),
        b.module("scene/pageeffect/pageeffect.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/pageeffect.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1 translate="scene.create.pageeffect.TITLE">页面特效</h1>\n        <a class="close-icon" ng-click="cancel()">&times;</a>\n        <a class="bbs-help-tip-media" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1939&extra="><span class="eqf-exclaquestion-sign"></span></a>\n    </div>\n    <div class="form_console dialog-content" >\n        <div class="modify_area">\n            <div class="effect-list">\n                <ul>\n                    <li ng-class="{\'select-effect\': controlView.effectIndex == $index || controlView.effectType == effect.type}" ng-repeat="effect in effectList" ng-click="selectEffect(effect, $index)">\n                        {{effect.name}}\n                    </li>\n                </ul>\n            </div>\n            <div class="effect-detail">\n                <div class="scratch-effect" ng-show="controlView.effectType == \'scratch\'" ng-include="\'scene/pageeffect/scratch.tpl.html\'" ng-controller="scratchEffectCtrl"></div>\n                <div class="finger-effect" ng-show="controlView.effectType == \'finger\'" ng-include="\'scene/pageeffect/finger.tpl.html\'" ng-controller="fingerEffectCtrl"></div>\n                <div class="money-effect" ng-show="controlView.effectType == \'money\'" ng-include="\'scene/pageeffect/money.tpl.html\'" ng-controller="moneyEffectCtrl"></div>\n                <div class="fall-effect" ng-show="controlView.effectType == \'fallingObject\'" ng-include="\'scene/pageeffect/fall.tpl.html\'" ng-controller="fallEffectCtrl"></div>\n                <div class="snow-effect" ng-show="controlView.effectType == \'snowFly\'" ng-include="\'scene/pageeffect/snow.tpl.html\'" ng-controller="snowEffectCtrl"></div>\n                <div class="firework-effect" ng-show="controlView.effectType == \'fireWorks\'" ng-include="\'scene/pageeffect/fireworks.tpl.html\'" ng-controller="fireWorksCtrl"></div>\n                <div class="none-effect" ng-show="controlView.effectType == \'none\'" ng-include="\'scene/pageeffect/none.tpl.html\'" ng-controller="noneEffectCtrl"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-grey0 cancel" ng-click="cancel()" translate="scene.create.pageeffect.CANCEL">取消</a>\n    <a class="btn-main login" ng-click="confirm()" translate="scene.create.pageeffect.CONFIRM">确定</a>\n</div>')
            }]),
        b.module("scene/pageeffect/scratch.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/scratch.tpl.html", '<!-- <div class="effect-img scratch-img" scratch-effect>\n    \n</div> -->\n<div class="scratch-pre">\n    <!-- <div class="phone-title"></div>\n    <div class="phone-menubar"></div> -->\n    <div class="effect-img scratch-img" scratch-effect>\n         <img ng-src="{{scratch.image.path}}" />\n         <!--<canvas style="position:absolute;" width="150" height="200"></canvas>-->\n    </div>\n    <!-- <div class="phone-bottom"></div> -->\n</div>\n<div class="effect-form scratch-form" style="margin-left: 210px;">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <label class="form-label" translate="scene.create.scratch.SCRATCH_IMAGE">覆盖效果</label>\n            <div class="form-input">\n                <select class="scratch-select" ng-model="scratch.image" style="width:144px;height:30px" ng-options="scracthImage.name for scracthImage in scratches" ng-change="replaceImage(scratch)">\n                    <option class="custom" value="" translate="scene.create.scratch.CUSTOM">自定义</option>\n                </select>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <label class="form-label" translate="scene.create.scratch.OPACITY">透明度</label>\n            <div class="form-input">\n                <eqd-input-number ng-model=\'scratch.opacity\' min=\'0\' max=\'100\' unit=\'%\' ng-mouseenter="currentTipsIndex = 1" ng-mouseleave="currentTipsIndex = 0" ></eqd-input-number>\n            </div>\n            <div class="tooltip right" role="tooltip" ng-show="currentTipsIndex == 1">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner" translate="scene.create.scratch.SCRATCH_TIPS">\n                   双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值\n                </div>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <label class="form-label" translate="scene.create.scratch.PERCENTAGE">涂抹比例</label>\n            <div class="form-input">\n                <eqd-input-number ng-model=\'scratch.percentage\' min=\'0\' max=\'100\' unit=\'%\' ng-mouseenter="currentTipsIndex = 1" ng-mouseleave="currentTipsIndex = 0" ></eqd-input-number>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <label class="form-label" translate="scene.create.scratch.LABEL_TIP">提示文字</label>\n            <div class="form-input">\n                <input type="text" ng-model="scratch.tip" placeholder="{{\'scene.create.scratch.LABEL_TIP\' | translate}}" check-count="40" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px;"/>\n            </div>\n        </div>\n    </form>\n</div>')
            }]),
        b.module("scene/pageeffect/snow.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/pageeffect/snow.tpl.html", '<div class="effect-img">\n    <img ng-src="{{CLIENT_CDN + \'assets/images/create/snowmove.gif\'}}"/>\n</div>')
            }]),
        b.module("scene/saveTemplate.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/saveTemplate.tpl.html", '<div class="btn-group" ng-show="userProperty.type ==2">\n    <!--<div class="btn-box">-->\n        <button type="button" class="btn" style="border-right: 0;" ng-class="{\'dropdown-toggle-mouseover\': showStyle == 1}" ng-mouseenter="showStyle = 1" ng-mouseleave="showStyle = 0">\n            <a ng-click = "creatMyTemplate()" ng-show=\'btnGroup.selectItem == 2\'   class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint="{{\'scene.create.saveTemplate.MY_TEMPLATE\' | translate}}">\n                <span translate="scene.create.saveTemplate.SAVE_MY_TEMPLATE">保存到我的模板</span>\n            </a>\n            <a ng-click = "creatCompanyTemplate()" ng-show=\'btnGroup.selectItem == 1\' class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint="{{\'scene.create.saveTemplate.COMPANY_TEMPLATE\' | translate}}">\n                <span translate="scene.create.saveTemplate.SAVE_COMPANY_TEMPLATE">保存到企业模板</span>\n            </a>\n        </button>\n        <button type="button" class="btn dropdown-toggle" style="border-left: 0;" ng-class="{\'dropdown-toggle-mouseover\': showStyle == 1}"  ng-click="openMenu()" ng-mouseenter="showStyle = 1" ng-mouseleave="showStyle = 0" ng-init="showStyle = 0">\n            <span class="caret"></span>\n        </button>\n    <!--</div>-->\n    <ul class="dropdown-menu" ng-show="btnGroup.caretSwitch">\n        <li ng-click = "creatCompanyTemplate();selectedTemplate(\'companyTemplate\');btnGroup.selectItem = 1;btnGroup.caretSwitch = false">\n            <a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 1}" > <!--data-hint="当前页存为企业模板"-->\n                <!--<span><b ng-show=\'btnGroup.selectItem == 1\'>√</b></span>-->\n                <span translate="scene.create.saveTemplate.SAVE_COMPANY_TEMPLATE">保存到企业模板</span>\n            </a>\n        </li>\n        <li ng-click = "creatMyTemplate();selectedTemplate(\'myTemplate\');btnGroup.caretSwitch = false">\n            <a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 2}"> <!--data-hint="当前页存为我的模板"-->\n                <!--<span><b ng-show=\'btnGroup.selectItem == 0\'>√</b></span>-->\n                <span translate="scene.create.saveTemplate.SAVE_MY_TEMPLATE">保存到我的模板</span>\n            </a>\n        </li>\n    </ul>\n</div>\n<a ng-click = "creatMyTemplate()" ng-show=\'userProperty.type!==2\' class="hint&#45;&#45;bottom hint&#45;&#45;rounded" data-hint="{{\'scene.create.saveTemplate.MY_TEMPLATE\' | translate}}">保存到我的模板</a>\n<div class="copy-and-delete">\n    <a ng-click="duplicatePage()" class="hint--left hint--rounded" data-hint="{{\'scene.create.saveTemplate.COPY_PAGE\' | translate}}">\n        <span translate="scene.create.saveTemplate.COPY">复制</span>\n    </a>\n    <a class="hint--left hint--rounded" data-hint="{{\'scene.create.saveTemplate.DELETE_PAGE\' | translate}}" ng-click = "deletePage($event)" ng-show = "pages.length != 1">\n        <span translate="scene.create.saveTemplate.DELETE">复制</span>\n    </a>\n</div>\n\n')
            }]),
        b.module("scene/scene.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/scene.tpl.html", '\n<div ng-include="\'header.tpl.html\'"></div>\n<div class="choose_template min_contain">\n    <div class="main clearfix">\n        <div class="title">\n            <span translate="scene.TITLE">空白自主创建，或者选择一个样例</span>\n            <a class="bbs-help-tip" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1906&page=1&extra=#pid6622">\n                <span class="eqf-exclaquestion-sign"></span></a>\n            <!-- <a class="btn-secondary" ng-click="createScene()">or自主创建</a> -->\n        </div>\n\n        <div class="scene_type clearfix">\n            <div class="new_hot">\n                <div class="product" style="float:right">\n                    <a style="padding-right:5px" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8103" target="_blank" translate="scene.BUSINESS_SUPPORT">品牌合作</a>|\n                    <a style="padding-left:5px" href=" http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8293" target="_blank" translate="scene.PUBLIC_TEMPLATE">样例提交</a>\n                </div>\n                <a ng-class="{hover: order==\'new\'}" ng-click="freeTplChoice=\'\';tplnew(\'new\');"><span translate="scene.NEW_SCENE">最新场景</span></a>\n                <a ng-class="{hover: order==\'hot\'}" ng-click="freeTplChoice=\'\';tplnew(\'hot\')"><span translate="scene.HOT_SCENE">热门场景</span></a>\n                <a ng-class="{hover: freeTplChoice==\'free\'}" ng-click="order=\'\';freeTpl(\'free\')"><span translate="scene.FREE_SCENE">免费</span></a>\n                <a ng-class="{hover: freeTplChoice==\'noFree\'}" ng-click="order=\'\';freeTpl(\'noFree\')"><span translate="scene.PAY_SCENE">付费</span></a>\n            </div>\n            <div class="scene_list">\n                <ul class="clearfix scene_cat">\n                    <li ng-class="{active : 0 == childcat}" ng-click="allpage(null,null)" translate="scene.ALL">全部</li>\n                    <li ng-class="{active : pageTplType.value == childcat}" ng-click="getPageTplsByType(pageTplType.value,pageTplType.id)" ng-repeat="pageTplType in pageTplTypes">{{pageTplType.name}}</li>\n                    <li ng-class="{active: 1 == childcat}" ng-click="getCompanyTpl()" ng-show="userProperty.type ==2 || userProperty.type ==21" translate="scene.COMPANY_SAMPLES">企业样例</li>\n                </ul>\n                <ul class="clearfix child_cat">\n                    <li ng-click="getPageTpls(type,childCat.bizType,childCat.id)" ng-class="{active:childCat.id == categoryId}" ng-repeat="childCat in childCatrgoryList">{{childCat.name}}</li>\n                </ul>                \n            </div>\n        </div>\n        \n        <div class="content clearfix">\n            <div class="mask">\n                <ul>\n                    <li ng-click = "createScene()" title="{{\'scene.CREATE_SCENE_TIP\' | translate}}">\n                        <div style="height:240px; background-color:#bdd5ef;"><i class = "fa fa-plus"></i></div>\n                        <p style="height:100px;"><span translate="scene.CREATE_BLANK">自主创建</span><i class="add_icon"></i></p>\n                    </li>\n                    <li ng-repeat="tpl in tpls track by $index" ng-class="{mr0:$index%4 == 2}">         \n                        <div class = "roll" ng-hover resource="tpl">\n                            <div class = "mask-floor" ng-show="tpl.show">\n                            </div>\n                            <img style="width:235px;height:240px;" ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" alt="" />\n                            <div class="my_xinxi"><p>{{tpl.name}}<i class="add_icon"></i></p>\n                                <p style="background-color:#FFF;color:#999;padding-right:10px;"><span translate="scene.AUTHOR">作者</span>：{{tpl.userName}}</p>\n                            </div>\n                            <a ng-show="tpl.show" class = "preview_scene btn" href="{{PREFIX_CLIENT_HOST + \'/s/\' + tpl.code}}" target="_blank" translate="scene.PREVIEW">预览</a>\n                            <a ng-show="tpl.show" class = "preview_scene edit_scene btn" ng-click="createScene(tpl)" translate="scene.CHOOSE_TEMPLATE">就这个了</a>\n                            <span class="tpl-price" ng-if="!!tpl.price"><strong>{{tpl.price}}<em translate="scene.XIU_DIAN">秀点</em></strong></span>\n                        </div>                \n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="clearfix fl" ng-show="totalItems > 11 && tpls.length">\n            <pagination style="float: left" first-text="{{\'scene.FIRST_PAGE\' | translate}}" last-text="{{\'scene.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="11" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n            <div class="current_page">\n                <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                <span><span translate="scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="scene.CURRENT_PAGE2">页</span></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n<div ng-include="\'scene/createUserGuide.tpl.html\'"></div>')
            }]),
        b.module("scene/support/support.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/support/support.tpl.html", '<div class="support-contain">\n	<div class="imgie">\n		<img class="mt20" ng-src="{{CLIENT_CDN}}assets/images/support/HTML5.svg" />\n	</div>\n	<h3 class="h3ie" translate="scene.create.support.TITLE">尊敬的易企秀用户：</h3>\n	<p>\n		<span translate="scene.create.support.SUPPORT_TIP">为了保证您在易企秀内的使用体验，建议您从下列浏览器中选择一款进行访问。若坚持使用该浏览器，请</span>\n		<a class="text-primary" ng-click="continue()">\n			<span translate="scene.create.support.CONTINUE_USE">继续使用</span>\n		</a>\n	</p>\n	<ul>\n		<li>\n			<a id="download_Chorme" ng-href="{{download_Chorme}}" target="_blank">\n				<img ng-src="{{CLIENT_CDN}}assets/images/support/chrome.svg" />\n				<span translate="scene.create.support.CHROME">Chrome</span>\n			</a>\n		</li>\n		<li>\n			<a id="download_IE" ng-href="{{download_IE}}" target="_blank">\n				<img ng-src="{{CLIENT_CDN}}/assets/images/support/IE11.svg" />\n				<span translate="scene.create.support.IE11">IE11</span>\n			</a>\n		</li>\n		<li>\n			<a id="download_360" ng-href="{{download_360fast}}" target="_blank">\n				<img class="ml20" ng-src="{{CLIENT_CDN}}/assets/images/support/360fast.svg" />\n				<span translate="scene.create.support.360SPEED">360极速浏览器</span>\n			</a>\n		</li>\n		<li>\n			<a id="download_360" ng-href="{{download_360}}" target="_blank">\n				<img ng-src="{{CLIENT_CDN}}/assets/images/support/360safe.svg" />\n				<span>360浏览器</span><br/>\n				<span>极速模式</span>\n			</a>\n		</li>\n	</ul>\n</div>')
            }]),
        b.module("scene/userGuide.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("scene/userGuide.tpl.html", '<div class="scene-user-guide" ng-click="showNextGuide()" ng-show="firstLogin" ng-controller="SceneUserGuideCtrl">\n    <!-- 菜单栏 -->\n    <div class="menu-tool-bar" ng-class="{\'active\': 2 == currentGuideIndex}"></div>\n    <!-- 页面模板 -->\n    <div class="page-template" ng-class="{\'active\': 0 == currentGuideIndex}">\n    </div>\n    <!-- 页面管理 -->\n    <div class="page-manager" ng-class="{\'active\': 1 == currentGuideIndex}"></div>\n    <!-- 工具栏设置 -->\n    <div class="tool-bar-setting" ng-class="{\'active\': 3 == currentGuideIndex}"></div>\n\n    <!-- 工具栏非提示区域 -->\n    <div class="tool-bar-no-guide"></div>\n    <!-- 编辑区域 -->\n    <div class="page-edit-area" ng-class="{\'active\': 4 == currentGuideIndex}"></div>\n\n    <!-- 页面模板-guide -->\n    <div class="scene-guide-info " ng-show="0 == currentGuideIndex">\n        <div class="tooltip right" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                <span translate="scene.create.guide.PAGE_TEMPLATE_TIP">页面模板，内容丰富，点击使用</span>\n                <div class="tooltip-know" translate="scene.create.guide.TIP_CONFIRMED">知道了</div>\n            </div>\n        </div>\n    </div>\n    <!-- 页面管理-guide -->\n    <div class="scene-guide-info" ng-show="1 == currentGuideIndex">\n        <div class="tooltip left" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                <span translate="scene.create.guide.PAGE_MANAGE_TIP1">点击“+”可以添加新页面</span><br />\n                <span translate="scene.create.guide.PAGE_MANAGE_TIP2">按住页面可以随意拖拽更换顺序</span> <br />\n                <span translate="scene.create.guide.PAGE_MANAGE_TIP3">点击 复制/删除 当前页面，双击更改名称</span>\n                <div class="tooltip-know" translate="scene.create.guide.TIP_CONFIRMED">知道了</div>\n            </div>\n        </div>\n    </div>\n    <!-- 菜单栏-guide -->\n    <div class="scene-guide-info" ng-show="2 == currentGuideIndex">\n        <div class="tooltip bottom" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                <span translate="scene.create.guide.MENU_TIP">自由组件，点击添加组件</span>\n                <div class="tooltip-know" translate="scene.create.guide.TIP_CONFIRMED">知道了</div>\n            </div>\n        </div>\n    </div>\n\n    <!-- 设置-guide -->\n    <div class="scene-guide-info" ng-show="3 == currentGuideIndex">\n        <div class="tooltip bottom tooltip-setting" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                <div class="tooltip_setting_head" translate="scene.create.guide.SCENE_SETTING_TIP1">场景设置搬家啦！在这里可以进行：</div>\n                <div>\n                    <p translate="scene.create.guide.SCENE_SETTING_TIP2">①设置场景封面</p>\n                    <p translate="scene.create.guide.SCENE_SETTING_TIP3">②修改场景封面</p>\n                </div>\n                <div>\n                    <p translate="scene.create.guide.SCENE_SETTING_TIP4">③设置翻页方式</p>\n                    <p translate="scene.create.guide.SCENE_SETTING_TIP5">④设置场景尾页</p>\n                </div>\n                <div class="tooltip-know" translate="scene.create.guide.TIP_CONFIRMED">知道了</div>\n            </div>\n        </div>\n    </div>\n    <!-- 编辑区域-guide -->\n    <div class="scene-guide-info " ng-show="4 == currentGuideIndex">\n        <div class="tooltip right tooltip-edit" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                <span translate="scene.create.guide.EDIT_AREA_TIP">场景编辑区域，任意摆放所见即所得</span>\n                <div class="tooltip-know" translate="scene.create.guide.TIP_CONFIRMED">知道了</div>\n            </div>\n        </div>\n    </div>\n</div>');
            }]),
        b.module("show/active/active-xq.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/active/active-xq.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n	<div class="cake">\n		<div class="same-content">\n			<a href="#/show" translate="show.active.INDEX">秀场</a> > <a href="#/show/active" translate="show.active.ACTIVITY">活动</a> > {{activeMes.title}}\n		</div>\n	</div>\n	<div class="same-content">\n		<div class="active-lunbo mt" slides2 id="{{\'ac_\' + activeId}}" width="1000px" height="400px" style="width:1000px;height:400px;">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<div class="show-list tuijian">\n			<h2><em translate="show.active.RECOMMEND">推荐</em><a href="" ng-click="attend()" translate="show.active.JOIN_ATTEND">我要参加</a><span translate="show.active.RECOMMEND">RECOMMEND</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="recList in recSceneList">\n					<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + recList.code}}" target="_blank">\n						<img ng-src="{{PREFIX_FILE_HOST + recList.cover}}" />\n						<p>{{recList.name}}</p>\n						<p>\n							<span class="auth"><img title="{{recList.userLoginName}}" ng-src="{{recList.headImg}}" /></span>\n							<span><em class="eqf-eye"></em>{{recList.showCount}}</span>\n						</p>\n					</a>\n				</li>\n			</ul>\n		</div>\n		<div id="introduction" ng-bind-html="activeMes.introduction"></div>\n		<div class="show-list">\n			<h2><em translate="show.active.NEW">最新</em><span translate="show.active.NEW_TIP">NEW</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="scene in sceneList">\n					<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + scene.code}}" target="_blank">\n						<img ng-src="{{PREFIX_FILE_HOST + scene.cover}}" />\n						<p>{{scene.name}}</p>\n						<p>\n							<span class="auth"><img title="{{scene.userLoginName}}" ng-src="{{scene.headImg}}" /></span>\n							<span><em class="eqf-eye2"></em>{{scene.showCount}}</span>\n						</p>\n					</a>\n				</li>\n			</ul>\n		</div>\n		<div class="same-content clearfix" ng-show="totalItems > 16">\n			<pagination style="float:left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" last-text="{{\'my.scene.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="16" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n	        <div class="current_page">\n	            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n	            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n	            <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n	        </div>\n		</div>\n		<div class="same-content hezuo" ng-show="friendLinks.length > 0">\n			<h2><em translate="show.active.FRIEND">合作</em><span translate="show.active.FRIEND_TIP">FRIEND</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="link in friendLinks">\n					<a href="{{link.url}}" target="_blank">\n						<img ng-src="{{link.logo}}" title="{{link.name}}" logo="{{link.name}}"/></a>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
            }]),
        b.module("show/active/active.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/active/active.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n<!--	<div class="cake">\n		<div class="same-content">\n			<a href="#/show">秀场</a> > 活动\n		</div>\n	</div>-->\n	<div class="same-content">\n		<div class="active-lunbo mt" slides2 id="active" width="1000px" height="400px" style="width:1000px;height:400px;">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<div class="active-list mt">\n			<h2><em translate="show.active.ACTIVITY">活动</em><span translate="show.active.ACTIVITY_TIP">ACTIVITY</span></h2>\n			<ul>\n				<li ng-repeat="hdList in activeList">\n					<div class="join">\n						<span><em translate="show.active.WORKS">作品</em>：{{hdList.joinNum}}</span><span><em translate="show.active.DEADLINE">截止日期</em>：{{hdList.endDate | date:\'yyyy-MM-dd\'}}</span>\n						<a ng-show="hdList.join" ng-click="attend()" translate="show.active.ATTEND">参加</a>\n						<a ng-show="!hdList.join" style="background-color:#ccc" translate="show.active.OVER">结束</a>\n					</div>\n					<div>\n						<a ng-click="join(hdList.id)">\n							<img ng-src="{{PREFIX_FILE_HOST + hdList.image}}" />{{hdList.title}}\n						</a>\n					</div>\n				</li>\n			</ul>\n		</div>\n		<div class="same-content clearfix" ng-show="totalItems > 10">\n			<pagination style="float:left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" last-text="{{\'my.scene.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n	        <div class="current_page">\n	            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n	            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n	            <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n	        </div>\n		</div>\n		<div class="same-content hezuo" ng-show="friendLinks.length > 0">\n			<h2>合作<span>FRIEND</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="link in friendLinks">\n					<a href="{{link.url}}" target="_blank">\n						<img ng-src="{{link.logo}}" title="{{link.name}}" alt="{{link.name}}" />\n					</a>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
            }]),
        b.module("show/category/category.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/category/category.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n	<div class="show-con same-content clearfix">\n		<div class="hd-lunbo" slides2 id="sceneType" width="650px" height="260px">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<aside>\n			<h2><a href="#/show/active" translate="show.category.MORE">更多</a><em translate="show.category.ACTIVITY">活动</em><span translate="show.category.ACTIVITY_TIP">ACTIVITY</span></h2>\n			<ul>\n				<li ng-repeat="hdList in activeList">\n					<a ng-click="join(hdList.id)">\n						<img ng-src="{{PREFIX_FILE_HOST + hdList.image}}" />\n						{{hdList.title}}\n					</a>\n				</li>\n			</ul>\n		</aside>\n	</div>\n	<div class="show-list same-content">\n		<h2>\n			<span class="category_sort">\n				<a ng-class="{active:order == null}" ng-click="tplNew(null)" translate="show.category.NEW">最新</a>\n				<!--<a ng-class="{active:order == \'3\'}" ng-click="tplNew(\'3\')">最热</a>-->\n				<!-- <a ng-class="{active:order == \'1\'}" ng-click="tplNew(\'1\')" translate="show.category.TEMPLATE">样例</a></span>{{catName}} -->\n			</span>\n			{{catName}}\n		</h2>\n		<div class="category">\n			<ul class="category_two clearfix">\n				<li ng-repeat="child in childCatrgoryList" ng-class="{active:child.id == categoryId}" ng-click="getPageTpls(order,child.id)">\n					<a title="{{child.name}}" >{{child.name}}</a>\n				</li>\n			</ul>\n		</div>\n	</div>\n	<div class="show-list same-content">\n		<ul class="clearfix" ng-show="tpls.length">\n			<li ng-repeat="tpl in tpls">\n				<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + tpl.code}}" target="_blank">\n					<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n					<p>{{tpl.name}}</p>\n					<p>\n						<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n						<span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n					</p>\n				</a>\n				<a ng-if="tpl.isTemplate == 1" class="screen-use" target="_blank" ng-click="userTpl(tpl)" translate="show.category.USE">使用</a>\n			</li>\n		</ul>\n		<div style="margin:20px;" ng-hide="tpls.length" translate="show.category.NONE_SCENE">此分类下暂无场景</div>\n	</div>\n	<div class="same-content clearfix" ng-show="totalItems > 16" style="margin-bottom:20px;">\n		<pagination style="float:left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" last-text="{{\'my.scene.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="16" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n		<div class="current_page">\n            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n            <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n        </div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
            }]),
        b.module("show/category/nav.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/category/nav.tpl.html", '<div class="show-head">\n	<header class="clearfix">\n		<ul ng-hide="1" class="clearfix">\n			<li><a href="" translate="show.DISCOVER">发现</a></li>\n			<li><a href="" translate="show.FORUM">论坛</a></li>\n			<li><a href="" translate="show.NAME">NAME</a></li>\n		</ul>\n		<a class="logo" href="#/home" target="_blank">\n			<img ng-src="{{CLIENT_CDN}}assets/images/show/logo.png" />\n		</a>\n	</header>\n	<div class="banner">\n		<div class="big-font"><img ng-src="{{CLIENT_CDN}}assets/images/show/faxian.png" /></div>\n		<div class="input-search">\n			<input class="search" type="text" value="" ng-model="val" ng-change="search(val)" ng-keypress="EnterPress(event,val)" ng-keydown="EnterPress(val)" />\n			<span class="eqf-serach search-icon" ng-click="submit()" style="cursor:pointer"></span>\n		</div>\n	</div>\n	<nav>\n		<ul class="clearfix">\n			<li><a href="#/show/" ng-class="{active: childCat == \'index\'}" translate="show.INDEX">秀场</a></li>\n			<li><a href="#/show/active" ng-class="{active: childCat == \'active\'}" translate="show.ACTIVITY">活动</a></li>\n			<li><a href="#/show/recommend" ng-class="{active: childCat == \'recommend\'}" translate="show.RECOMMEND">推荐</a></li>\n			<li ng-repeat="type in sceneType" >\n				<a ng-class="{active: childCat == type.value}" ng-click="getCategoryPage(type.value,type.id)">{{type.name}}</a>\n			</li>\n			<li><a href="#/show/visitor" ng-class="{active: childCat == \'visitor\'}" translate="show.VISITOR">秀客</a></li>\n		</ul>\n	</nav>\n</div>\n')
            }]),
        b.module("show/index.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/index.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n	<div class="show-con same-content clearfix">\n		<div class="hd-lunbo" slides2 id="index" width="650px" height="260px">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<aside>\n			<h2><a href="#/show/active" translate="show.MORE">更多</a><i translate="show.ACTIVITY">活动</i><span translate="show.ACTIVITY_TIP">ACTIVITY</span></h2>\n			<ul>\n				<li ng-repeat="hdList in activeList">\n					<a ng-click="join(hdList.id)">\n						<img ng-src="{{PREFIX_FILE_HOST + hdList.image}}" />\n						{{hdList.title}}\n					</a>\n				</li>\n			</ul>\n		</aside>\n	</div>\n	<div class="show-list same-content">\n		<h2>\n			<a href="#/show/recommend" translate="show.MORE">更多</a><i translate="show.RECOMMEND">推荐</i><span translate="show.RECOMMEND_TIP">RECOMMEND</span>\n		</h2>\n		<ul class="clearfix">\n			<li ng-repeat="tpl in sceneList">\n				<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + tpl.code}}" target="_blank">\n					<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n					<p>{{tpl.name}}</p>\n\n					<p>\n						<span class="auth">\n							<img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" />\n						</span>\n						<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n					</p>\n				</a>\n				<a ng-if="tpl.isTemplate == 1" class="screen-use" target="_blank" ng-click="userTpl(tpl)" translate="show.USE">使用</a>\n			</li>\n		</ul>\n	</div>\n	<div class="hezuo same-content" ng-show="friendLinks.length>0">\n		<h2><em translate="show.FRIEND">合作</em><span translate="show.FRIEND_TIP">FRIEND</span></h2>\n		<ul class="clearfix">\n			<li ng-repeat="list in friendLinks">\n				<a href="{{list.url}}" target="_blank">\n					<img ng-src="{{list.logo }}" alt="{{list.name}}" title="{{list.name}}" />\n				</a>\n			</li>\n		</ul>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
            }]),
        b.module("show/recommend/recommend.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/recommend/recommend.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n<!--	<div class="cake">\n		<div class="same-content">\n			<a href="#/show">首页</a> > 推荐\n		</div>\n	</div>-->\n	<div class="show-list same-content">\n		<h2>\n			<span class="category_sort">\n				<a ng-class="{active:order == null}" ng-click="tplNew(null)" translate="show.recommend.LATEST">最新</a>|\n				<!--<a ng-class="{active:order == \'3\'}" ng-click="tplNew(\'3\')">最热</a>-->\n				<a ng-class="{active:order == \'1\'}" ng-click="tplNew(\'1\')" translate="show.recommend.TEMPLATE">样例</a></span>\n			<i translate="show.recommend.RECOMMEND1">推荐</i><span translate="show.recommend.RECOMMEND2">RECOMMEND</span>\n		</h2>\n		<ul class="clearfix">\n			<li ng-repeat="tpl in recommendList">\n				<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + tpl.code}}" target="_blank">\n					<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n					<p>{{tpl.name}}</p>\n					<p>\n						<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n						<span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n					</p>\n				</a>\n				<a ng-if="tpl.isTemplate == 1" class="screen-use" target="_blank" ng-click="userTpl(tpl)" translate="show.recommend.USE_TEMPLATE">使用</a>\n			</li>\n		</ul>\n	</div>\n	<div class="same-content clearfix" style="margin-bottom:20px;" ng-show="totalItems > 16">\n		<pagination style="float:left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" last-text="{{\'my.scene.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n        <div class="current_page">\n            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n            <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n        </div>\n\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
            }]),
        b.module("show/search/search.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/search/search.tpl.html", '<div id="show-contain">\n	<div class="show-head">\n		<header class="clearfix">\n			<ul ng-hide="1" class="clearfix">\n				<li><a href="" translate="show.search.DISCOVER">发现</a></li>\n				<li><a href="" translate="show.search.FORUM">论坛</a></li>\n				<li><a href="" translate="show.search.NAME">NAME</a></li>\n			</ul>\n			<a class="logo" href="#/home" target="_blank">\n				<img ng-src="{{CLIENT_CDN}}assets/images/show/logo.png" />\n			</a>\n		</header>\n		<div class="banner">\n			<div class="big-font"><img ng-src="{{CLIENT_CDN}}assets/images/show/faxian.png" /></div>\n		</div>\n	</div>\n	<div class="cake">\n		<div class="same-content">\n			<a href="#/show" translate="show.search.HOME">首页</a> > <i translate="show.search.SEARCH">搜索</i>-{{name}}\n		</div>\n	</div>\n	<div class="same-content" style="margin-bottom:20px;">\n		<div class="show-list same-content">\n			<h2>\n				<i translate="show.search.SEARCH">搜索</i><span><i translate="show.search.SEARCH_EN">SEARCH</i></span>\n			</h2>\n			<div class="search clearfix">\n				<input type="text" value="" id = "search" ng-model="val" onchange="search(val)" ng-keypress="EnterPress(event,val)" ng-keydown="EnterPress(val)">\n				<a href="" ng-click="submit(val)"><em class="eqf-serach"></em><i translate="show.search.SEARCH">搜索</i></a>\n			</div>\n			<div class="search-con">\n				<p><i translate="show.search.KEY_WORD">您搜索的关键词：</i><span class="key">{{name}}</span> <i translate="show.search.RESULT_PREFIX">共有</i><span class="key">{{totalItems}}</span><i translate="show.search.RESULT_SUFFIX">条结果</i></p>\n			</div>\n			<ul class="clearfix">\n				<li ng-repeat="tpl in searchList">\n					<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + tpl.code}}" target="_blank">\n						<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n						<p>{{tpl.name}}</p>\n						<p>\n							<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n							<span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n						</p>\n					</a>\n					<a ng-if="tpl.isTemplate" class="screen-use" target="_blank" ng-click="userTpl(tpl)" translate="show.search.USE_TEMPLATE">使用</a>\n				</li>\n			</ul>\n		</div>\n		<div class="same-content clearfix" ng-show="totalItems > 16">\n			<pagination style="float:left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n	        <div class="current_page">\n	            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n	            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n	            <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n	        </div>\n		</div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
            }]),
        b.module("show/visitor/visitor-xq.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/visitor/visitor-xq.tpl.html", '<div id="show-contain">\n    <div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n    <div class="cake">\n        <div class="same-content">\n            <a href="#/show" translate="show.visitorXq.SHOW_TIME">秀场</a> > <a href="#/show/visitor" translate="show.visitorXq.SHOW_CASTER">秀客</a> > {{visitorMsg.name}}\n        </div>\n    </div>\n    <div class="visitor-xq same-content">\n        <div class="clearfix">\n            <img ng-src="{{visitorMsg.headImg}}" width="200px" height="200px">\n            <div class="visitor-dec">\n                <h4><!--<span><em class="eqf-phone"></em>个人名片场景<em>人气：33943</em></span>-->{{visitorMsg.name}}</h4>\n                <p class="des">{{visitorMsg.introduction}}</p>\n                <ul>\n\n                    <li><span translate="show.visitorXq.TALENT_SKILL">擅长领域：</span><span ng-repeat="cate in cateTag">{{cate.name}}</span></li>\n                    <li><span translate="show.visitorXq.SERVICE_ADDRESS">服务地域：</span><span ng-repeat="server in serverTag">{{server.name}}</span></li>\n                    <li><span translate="show.visitorXq.PAYWAY">支付方式：</span><span ng-repeat="pay in payTag">{{pay.name}}</span></li>\n                </ul>\n            </div>\n        </div>\n        <div class="contact">\n            <!-- <a ng-if="visitorMsg.qq" href="http://wpa.qq.com/msgrd?v=3&amp;uin=\'+ {{visitorMsg.qq}} +\'&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank" class="qq"><em class="eqf-qq"></em></a> -->\n            <a class="qq hint--top hint--rounded" data-hint="{{qqAction}}{{visitorMsg.qq}}"><em class="eqf-qq"></em></a>\n            <a class="hint--top hint--rounded weixin" data-hint="{{(\'show.visitorXq.WECHAT\' | translate) + visitorMsg.wechat}}"><em class="eqf-wechat"></em></a>\n            <a class="phone hint--top hint--rounded" data-hint="{{(\'show.visitorXq.PHONE\' | translate) + visitorMsg.tel}}"><em class="eqf-glyphicon-earphone"></em></a>\n            <a ng-if="visitorMsg.email" class="sixin hint--top hint--rounded" data-hint="邮箱：{{visitorMsg.email}}" href="mailto:\'+ {{visitorMsg.email}} +\'"><em class="eqf-envelope"></em></a>\n            <a ng-if="!visitorMsg.email" class="hui hint--top hint--rounded" data-hint="{{\'show.visitorXq.NO_EMAIL_HINT\' | translate}}"><em class="eqf-envelope"></em></a>\n        </div>\n        <!--<p class="guanzhu"><a href=""><em class="eqf-plus2"></em>关注</a><a href=""><em class="eqf-envelope"></em>私信</a></p>-->\n\n    </div>\n    <div class="show-list same-content">\n        <h2>\n            <i translate="show.visitorXq.SAMPLE_WORKS">作品</i><span translate="show.visitorXq.WORKS">WORKS</span>\n        </h2>\n        <ul class="clearfix">\n            <li ng-repeat="tpl in visitorWorks">\n                <a href="{{PREFIX_CLIENT_HOST + \'/s/\' + tpl.code}}" target="_blank">\n                    <img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n                    <p>{{tpl.name}}</p>\n                    <p>\n                        <span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n                        <span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n                    </p>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div class="same-content clearfix" ng-show="totalItems > 16">\n        <pagination style="float:left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}"  last-text="{{\'my.scene.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" items-per-page="pageSize" total-items="totalItems" max-size="10" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n        <div class="current_page">\n            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n            <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("show/visitor/visitor.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("show/visitor/visitor.tpl.html", '<div id="show-contain">\n    <div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n<!--    <div class="cake">\n        <div class="same-content">\n            <a href="#/show">首页</a> > 秀客\n        </div>\n    </div>-->\n    <div class="visitor-contain">\n        <div class="visitor same-content clearfix">\n            <section>\n                <h2><span ng-hide="1"><a href="/#/usercenter/account" translate="show.visitor.JOIN_SHOW_CASTER">加入秀客</a><a ng-hide="1" href="" translate="show.visitor.SHOW_GROUND">秀客家园</a><a href="http://eqxiu.com/s/UxzGEm" translate="show.visitor.FEEDBACK">反馈</a></span><em translate="show.visitor.FIND_SHOW_CASTER">找秀客</em></h2>\n                    <div class="select-list">\n                        <span translate="show.visitor.SERVICE_ADDRESS">服务地域</span>|<a ng-class="{active:serverAll == \'all\'}" ng-click="serverWu(\'province\',\'serverAll\')" translate="show.visitor.UNLIMITED">不限</a>\n                        <a ng-repeat="server in serverLabel | filter: getLimitedServeRegion" ng-click="subServer(server)" ng-class="{active:currentServer ==server}">{{server.name}}</a>\n                        <a ng-show="moreArea" class="more" data-toggle="dropdown" translate="show.visitor.MORE">更多</a>\n                        <div class="other-label dropdown-menu">\n                            <a ng-repeat="otherServer in serverLabel | filter: getOtherServeRegion" ng-click="subServer(otherServer)" ng-class="{active:currentServer == otherServer}">\n                                {{otherServer.name}}\n                            </a>\n     <!--                       <div style="text-align: center;"><a class="btn-main" >确认</a></div>-->\n                        </div>\n                    </div>\n                    <div class="select-list" style="position:relative;">\n                        <span translate="show.visitor.TALENT_SKILL">擅长领域</span>|<a ng-class="{active:cateAll == \'all\'}" ng-click="serverWu(\'company_industry\',\'cateAll\')" translate="show.visitor.UNLIMITED">不限</a>\n                        <a ng-repeat="tag in cateLabel | filter: getLimitedCateRegion" ng-click="subLabel(tag)" ng-class="{active:currentCate ==tag}">{{tag.name}}</a>\n                        <a data-toggle="dropdown" ng-show="moreLabel" class="more" translate="show.visitor.MORE">更多</a>\n                        <div class="other-label dropdown-menu">\n                            <a ng-repeat="otherCate in cateLabel | filter: getOtherCateRegion" ng-click="subLabel(otherCate)" ng-class="{active:currentCate == otherCate}">\n                                {{otherCate.name}}\n                            </a>\n                            <!--<div style="text-align: center;"><a class="btn-main" ng-click="queren()">确认</a></div>-->\n                        </div>\n                    </div>\n                    <div class="select-list">\n                        <span translate="show.visitor.PAYWAY">付款方式</span>|<a ng-class="{active:payAll == \'all\'}" ng-click="serverWu(\'payType\',\'payAll\')" translate="show.visitor.UNLIMITED">不限</a>\n                        <a ng-repeat="pay in payLabel" ng-click="subPay(pay)" ng-class="{active: currentPay == pay}">{{pay.name}}</a>\n                    </div>\n            </section>\n            <aside class="visitor-list">\n                <h2 translate="show.visitor.STAR_OF_WEEK">本周之星</h2>\n                <div class="visitor-same">\n                    <div class="visitor-one clearfix">\n                        <a ng-click="visitorXq(recommendVisitor.userId)">\n                            <img ng-src="{{recommendVisitor.headImg}}" width="80px" height="80px">\n                        </a>\n                        <h3><a ng-click="visitorXq(recommendVisitor.userId)">{{recommendVisitor.name}}</a></h3>\n                        <p class="dec" style="white-space:normal" title="{{recommendVisitor.introduction}}">{{recommendVisitor.introduction}}</p>\n                        <!--<p class="guanzhu"><a href=""><em class="eqf-plus2"></em>关注</a><a href=""><em class="eqf-envelope"></em>私信</a></p>-->\n                    </div>\n                    <div class="visitor-works">\n                        <ul>\n                            <li class="ellipsis"><span translate="show.visitor.SAMPLE_WORK">作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + work1Code}}" target="_blank">{{work1Name}}</a></li>\n                            <li class="ellipsis"><span translate="show.visitor.SAMPLE_WORK">作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + work2Code}}"  target="_blank">{{work2Name}}</a></li>\n                            <li class="ellipsis"><span translate="show.visitor.SAMPLE_WORK">作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + work3Code}}" target="_blank">{{work3Name}}</a></li>\n                        </ul>\n                    </div>\n                </div>\n            </aside>\n        </div>\n        <div class="same-content visitor-item">\n            <h2 translate="show.visitor.SHOW_CASTER_LIST"><!-- <a><em class="eqf-refresh"></em>换一批</a> -->秀客列表</h2>\n            <div class="visitor-content">\n                <p ng-if="visitorList.length == 0" style="padding:20px 0;">暂无秀客列表</p>\n                <ul class="clearfix" ng-if="visitorList.length >0">\n                    <li class="visitor-list visitor-same" ng-repeat="visitor in visitorList">\n                        <div class="visitor-one clearfix">\n                            <a ng-click="visitorXq(visitor.userId)">\n                                <img ng-src="{{visitor.headImg}}" width="80px" height="80px">\n                            </a>\n                            <div>\n                                <h3><a ng-click="visitorXq(visitor.userId)">{{visitor.name}}</a></h3>\n                                <p class="dec" style="white-space:normal" title="{{visitor.introduction}}"><span>{{visitor.introduction}}</span></p>\n                                <!--<p class="guanzhu"><a href=""><em class="eqf-plus2"></em>关注</a><a href=""><em class="eqf-envelope"></em>私信</a></p>-->\n                            </div>\n                        </div>\n                        <div class="visitor-works">\n<!--                             <ul>\n                                <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + visitor.represent1.split(\'_\')[0]}}" target="_blank">{{visitor.represent1.substring(visitor.represent1.indexOf(\'_\')+1)}}</a></li>\n                                <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + visitor.represent2.split(\'_\')[0]}}" target="_blank">{{visitor.represent2.substring(visitor.represent2.indexOf(\'_\')+1)}}</a></li>\n                                <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + visitor.represent3.split(\'_\')[0]}}" target="_blank">{{visitor.represent3.substring(visitor.represent3.indexOf(\'_\')+1)}}</a></li>\n                            </ul> -->\n                            <ul>\n                                <li class="ellipsis"><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + visitor.represent1Code}}" target="_blank">\n                                    {{visitor.represent1Name}}</a></li>\n                                <li class="ellipsis"><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + visitor.represent2Code}}" target="_blank">\n                                    {{visitor.represent2Name}}</a></li>\n                                <li class="ellipsis"><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/s/\' + visitor.represent3Code}}" target="_blank">\n                                    {{visitor.represent3Name}}</a></li>\n                            </ul>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="same-content clearfix" ng-show="totalItems > 12" style="margin-bottom:20px;">\n            <pagination style="float:left;" first-text="{{\'my.scene.FIRST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" last-text="{{\'my.scene.LAST_PAGE\' | translate}}" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n            <div class="current_page">\n                <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                <span><span translate="my.scene.CURRENT_PAGE1">当前</span>: {{currentPage}} / {{numPages}} <span translate="my.scene.CURRENT_PAGE2">页</span></span>\n            </div>\n        </div>\n    </div>\n\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("usercenter/buyXd.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/buyXd.tpl.html", '<div class="modal-body">\n	<button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n	<div class="confirm-msg">\n		<h4 class="text-left" translate="usercenter.xd.TITLE">尊敬的易企秀用户</h4>\n    	<p class="mt20 text-left ml20 mr20" style="line-height: 1.5em;">\n    		感谢您对易企秀的支持，您即将购买500个秀点。购买、发票等相关问题，请<a class="text-primary" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324">查看详情</a>。<br/>\n    		1.暂仅支持一次购买500秀点，费用500元；<br/>\n    		2.包年购买、优惠购买，请先<a class="text-primary" href="/#/usercenter/privilege" target="_blank">升级企业账号</a>；<br/>\n    		3.购买需要发票的，请联系fapiao@eqxiu.com；\n    	</p>\n	</div>\n</div>\n<div class="text-right pb20 btn-small">\n    <a class="btn btn-primary mr20" ng-click="confirm()">立即购买</a>\n</div>')
            }]),
        b.module("usercenter/console/apply.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/apply.tpl.html", '<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n    <h4 class="modal-title" translate="usercenter.APPLY_NAME">申请秀客</h4>\n</div>\n<div class="modal-body">\n    <form class="form-horizontal">\n<!--         <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.NAME_INTRODUCTION">     昵称\n            </label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" ng-model="userinfo.name" />\n            </div>\n        </div>  -->       \n        <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.SHORT_INTRODUCTION">\n                简短介绍\n            </label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" ng-model="applyInfo.shortIntroduction" placeholder="{{\'usercenter.SHORT_INTRODUCTION_TIP\' | translate}}" ng-class="{error: introError}" ng-blur="checkIntroFormat(applyInfo)"/>\n                <p class="error" ng-show="introError">{{introError}}</p>\n            </div>\n        </div>        \n        <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.INTRODUCTION">秀客介绍</label>\n            <div class="col-sm-9">\n                <textarea class="form-control" ng-model="applyInfo.introduction" placeholder="{{\'usercenter.INTRODUCTION_TIP\' | translate}}" ng-class="{error: introError1}" ng-blur="checkIntroFormat1(applyInfo)" maxlength = "200"></textarea>\n                <p class="error" ng-show="introError1">{{introError1}}</p>\n            </div>\n        </div>\n<!--         <div class="form-group">\n            <div class="col-sm-offset-2 col-sm-9">\n                <input type="text" class="form-control" ng-model="applyInfo.selfScene" placeholder="{{\'usercenter.SELF_SCENE\' | translate}}" ng-class="{error: selfSceneError}" ng-blur="checkSelfSceneFormat(applyInfo)"/>\n                <p class="error" ng-show="selfSceneError">{{selfSceneError}}</p>\n            </div>\n        </div> -->\n        <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.REPRESENTATIVE_WORKS">代表作品</label>\n            <div ng-show="myShowScene">\n                <div class="col-sm-3">\n                    <eqx-select class="select-contain select-base" model="applyInfo.represent1">\n                        <eqx-select-option value="null" translate="usercenter.REPRESENTATIVE_WORKS1">代表作品1</eqx-select-option>\n                        <eqx-select-option value="scene" ng-repeat="scene in myShowScene">{{scene.name}}</eqx-select-option>\n                    </eqx-select>\n                    <p class="error" ng-show="representError1">{{representError1}}</p>\n                </div>\n                <div class="col-sm-3">\n                    <eqx-select class="select-contain select-base" model="applyInfo.represent2">\n                        <eqx-select-option value="null" translate="usercenter.REPRESENTATIVE_WORKS2">代表作品2</eqx-select-option>\n                        <eqx-select-option value="scene" ng-repeat="scene in myShowScene">{{scene.name}}</eqx-select-option>\n                    </eqx-select>\n                    <p class="error" ng-show="representError2">{{representError2}}</p>\n                </div>\n                <div class="col-sm-3">\n                    <eqx-select class="select-contain select-base" model="applyInfo.represent3">\n                        <eqx-select-option value="null" transalte="usercenter.REPRESENTATIVE_WORKS3">代表作品3</eqx-select-option>\n                        <eqx-select-option value="scene" ng-repeat="scene in myShowScene">{{scene.name}}</eqx-select-option>\n                    </eqx-select>\n                    <p class="error" ng-show="representError3">{{representError3}}</p>\n                </div>\n                <div class="col-sm-offset-2 col-sm-3">\n                    <p class="error" ng-show="worksRepeatError">{{worksRepeatError}}</p>\n                </div>\n            </div>\n            <div class="col-sm-10" style="padding-top:10px;color:#ff0000" ng-show="!myShowScene" translate="usercenter.NONE_SCENE">\n                您暂无代表作品，请先创建场景，或者将已有场景加入秀场（此操作在场景设置页）。\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="col-sm-2 text-right" translate="usercenter.SERVICE_AREA">服务地域</label>\n            <div class="col-sm-offset-2">\n                <div class="square col-sm-2" ng-repeat="server in serverLabel | filter: getLimitedServeRegion">\n                    <div class="checkbox-square" ng-class="{checked: server.ischecked}">\n                        <em class="eqf-right4"></em>\n                        <input type="checkbox" id="{{server.name + $index}}" ng-model="server.ischecked" />\n                    </div>\n                    <label for="{{server.name + $index}}">{{server.name}}</label>\n                </div>\n            </div>\n            <div class="col-sm-1 dropdown">\n                <a ng-show="moreArea" class="more dropdown-toggle" translate="usercenter.MORE">更多</a>\n                <div class="other-label dropdown-menu">\n                    <div class="square col-sm-4" ng-repeat="otherServer in serverLabel | filter: getOtherServeRegion" forbidden-close>\n                        <div class="checkbox-square" ng-class="{checked: otherServer.ischecked}">\n                            <em class="eqf-right4"></em>\n                            <input type="checkbox" id="{{otherServer.name + $index}}" class="area" ng-model="otherServer.ischecked">\n                        </div>\n                        <label for="{{otherServer.name + $index}}">{{otherServer.name}}\n                        </label>\n                    </div>\n                    <div class="col-sm-12 text-center">\n                        <span class="btn btn-primary" ng-click="areaQr()" translate="usercenter.CONFIRM">确认</span>\n                    </div>\n                </div>\n            </div>\n            <div class="col-sm-offset-2 col-sm-10" ng-show="serverError">\n                <p class="error">{{serverError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="col-sm-2 text-right" translate="usercenter.SKILLED_AREA">擅长领域</label>\n            <div class="col-sm-offset-2">\n                <div class="square col-sm-2" ng-repeat="tag in cateLabel | filter: getLimitedCateRegion">\n                    <div class="checkbox-square" ng-class="{checked: tag.ischecked}">\n                        <em class="eqf-right4"></em>\n                        <input type="checkbox" id="{{tag.name + $index}}" class="area" ng-model="tag.ischecked" ng-value="tag"/>\n                    </div>\n                    <label for="{{tag.name + $index}}">{{tag.name}}</label>\n                </div>\n            </div>\n            <div class="col-sm-1 dropdown">\n                <a ng-show="moreLabel" class="more dropdown-toggle" translate="usercenter.MORE">更多</a>\n                <div class="other-label dropdown-menu">\n                    <div class="square col-sm-3" ng-repeat="otherCate in cateLabel | filter: getOtherCateRegion" forbidden-close>\n                        <div class="checkbox-square" ng-class="{checked: otherCate.ischecked}">\n                            <em class="eqf-right4"></em>\n                            <input type="checkbox" id="{{otherCate.name + $index}}" class="area" ng-model="otherCate.ischecked" ng-value="other"/>\n                        </div>\n                        <label for="{{otherCate.name + $index}}">\n                            {{otherCate.name}}\n                        </label>\n                    </div>\n                    <div class="col-sm-12 text-center">\n                        <span class="btn btn-primary" ng-click="queren()" translate="usercenter.CONFIRM">确认\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="col-sm-offset-2 col-sm-3" ng-show="cateError">\n                <p class="error">{{cateError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="col-sm-2 text-right" translate="usercenter.PAYMENT">支付方式</label>\n            <div class="square col-sm-2" ng-repeat="pay in payLabel" ng-class="{\'col-sm-offset-2 pt20\': $index%4 == 0 && $index}">\n                <div class="checkbox-square" ng-class="{checked: pay.ischecked}">\n                    <em class="eqf-right4"></em>\n                    <input type="checkbox" id="{{pay.name + $index}}" ng-model="pay.ischecked" class="area"/>\n                </div>\n                <label for="{{pay.name + $index}}">{{pay.name}}</label>\n            </div>\n            <div class="col-sm-offset-2 col-sm-10" ng-show="payError">\n                <p class="error">{{payError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.QQ_SERVICE">\n                服务QQ\n            </label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" ng-model="applyInfo.qq" value=""  ng-class="{error: qqError}" ng-blur="checkQQFormat(applyInfo)"/>\n                <p class="error" ng-show="qqError">{{qqError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.WECHAT">微信号</label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" ng-model="applyInfo.wechat" value="" />\n                <p class="error" ng-show="wechatError">{{wechatError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.TEL">联系电话</label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" ng-model="applyInfo.phone" value="" ng-class="{error: telError}" ng-blur="checkTelForamt(applyInfo)"/>\n                <p class="error" ng-show="telError">{{telError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="control-label col-sm-2" translate="usercenter.MAIL">\n                联系邮箱\n            </label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" ng-model="applyInfo.email" value="" ng-class="{error: emailError}" ng-blur="checkEmailFormat(applyInfo)"/>\n                <p class="error" ng-show="emailError">{{emailError}}</p>\n            </div>\n        </div>\n    </form>\n</div>\n<div class="modal-footer">\n    <a class="modal-cancle" ng-click="cancel()" translate="usercenter.CANCEL">取消</a>\n    <a class="btn btn-primary" ng-click="submit(applyInfo)" translate="usercenter.APPLYING">提交申请</a>\n</div>')
            }]),
        b.module("usercenter/console/branch.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/branch.tpl.html", '<div class="modal-header">\n    <a class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </a>\n    <h4 class="modal-title" translate="usercenter.account.ADD_BRANCH">添加子账号</h4>\n</div>\n<div class="modal-body">\n    <form class="form-horizontal" role="form">\n        <div class="form-group clearfix">\n            <label class="control-label col-sm-3" translate="usercenter.account.BRANCH_ACCOUNT">分账号</label>\n            <div class="col-sm-7">\n                <input type="text" class="form-control" ng-model="branch.loginName" placeholder="{{\'usercenter.account.BRANCH_EMAIL\' | translate}}" ng-readonly="originData" ng-class="{error: emailFormatError}" ng-blur="checkEmailFormat(branch)"/>\n                <p class="error" ng-show="emailFormatError">{{emailFormatError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="control-label col-sm-3" translate="usercenter.account.BRANCH_PASSWORD">账号密码</label>\n            <div class="col-sm-7">\n                <div class="form-control" translate="usercenter.account.DEFAULT_PASSWORD">默认密码为eqxiu</div>\n            </div>\n            <div class="col-sm-2 tip">\n                <a ng-show="resetDefalt" ng-click="openResetModal(branch);">\n                    <span class="enable" translate="usercenter.account.RESET_BRANCH_PASSWORD">重置</span>\n                </a>\n                <a ng-show="!resetDefalt">\n                    <span class="disable" translate="usercenter.account.RESET_BRANCH_PASSWORD">重置</span>\n                </a>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="control-label col-sm-3" translate="usercenter.account.BRANCH_NAME">用户名</label>\n            <div class="col-sm-7">\n                <input type="text" class="form-control" ng-model="branch.name" placeholder="{{\'usercenter.account.WRITE_LOGIN_NAME\' | translate}}" ng-class="{error: nameFormatErr}" ng-blur="checkNameFormat(branch)"/>\n                <p class="error" ng-show="nameFormatErr">{{nameFormatErr}}</p>\n            </div>\n        </div> \n        <div class="form-group">\n            <label class="control-label col-sm-3" translate="usercenter.account.BRANCH_DEPT">部门</label>\n            <div class="col-sm-7">\n                <eqx-select class="select-contain select-great" model="branch.dept">\n                    <eqx-select-option value="null" translate="usercenter.account.ALL_BRANCH">全部</eqx-select-option>\n                    <eqx-select-option value="dept" ng-repeat="dept in depts">{{dept.name}}</eqx-select-option>\n                </eqx-select>\n            </div>\n            <div class="col-sm-2 tip" ng-show="!showAddSec" style="padding-top: 10px;">\n                <a ng-click="showAddSec = true;">\n                    <span class="enable" translate="usercenter.account.ADD_BRANCH_DEPT">添加部门</span>\n                </a>\n            </div>\n        </div>\n        <div class="form-group" ng-show="showAddSec">\n            <div class="col-sm-offset-3 col-sm-7">\n                <input class="form-control" type="text" ng-model="dept.name" placeholder="输入部门名称" ng-class="{error: deptFormatErr}" ng-blur="checkDeptFormat(dept)"/>\n                <p class="error" ng-show="deptFormatError">{{deptFormatError}}</p>\n            </div>\n            <div class="col-sm-2 tip">\n                <a ng-click="addDept();">\n                    <span class="enable" translate="usercenter.account.ADD">添加\n                    </span>\n                </a>\n                <a ng-click="showAddSec = false;">\n                    <span class="fail" translate="usercenter.account.CANCEL">取消</span>\n                </a>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-sm-offset-3 col-sm-7">\n                <p class="error" ng-show="serverError">{{serverError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label class="col-sm-3 text-right" translate="usercenter.account.ACCOUNT_AUTHORITY">账号权限</label>\n            <div class="col-sm-7">\n                <div class="square">\n                    <div class="checkbox-square" ng-class="{checked: branchPermi.edit}">\n                        <em class="eqf-right4"></em>\n                        <input type="checkbox" ng-model="branchPermi.edit" />\n                    </div>\n                   <label translate="usercenter.account.EDIT">允许编辑数据内容</label>\n                </div>\n                <div class="square one-line">\n                    <div class="checkbox-square" ng-class="{checked: branchPermi.delete}">\n                        <em class="eqf-right4"></em>\n                        <input type="checkbox" ng-model="branchPermi.delete" />\n                    </div>\n                   <label translate="usercenter.account.DELETE">允许删除数据内容</label>\n                </div>\n                <div class="square one-line">\n                    <div class="checkbox-square" ng-class="{checked: branchPermi.export}">\n                        <em class="eqf-right4"></em>\n                        <input type="checkbox" ng-model="branchPermi.export" />\n                    </div>\n                   <label translate="usercenter.account.EXPORT">允许导出数据内容</label>\n                </div>\n            </div>\n        </div>                                                           \n    </form>\n</div>\n<div class="modal-footer">\n    <a class="modal-cancle" ng-click="cancel()" translate="usercenter.account.CANCEL">取消</a>\n    <a  class="btn btn-primary" ng-click="confirm()" translate="usercenter.account.SAVE">保存</a>\n</div>')
            }]),
        b.module("usercenter/console/checkMobile.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/checkMobile.tpl.html", '<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n    <h4 class="modal-title">{{title}}</h4>\n</div>\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label for="inputMobile" class="control-label col-sm-3" translate="usercenter.account.MOBILE">手机号</label>\n            <div class="col-sm-7">\n                <input id="inputMobile" class="form-control" type="text" ng-model="userinfo.phone" ng-blur="checkMobile();" placeholder="{{\'usercenter.account.MOBILE_TIP\' | translate}}"/>\n                <p class="error" ng-show="mobileError">{{mobileError}}</p>\n            </div>\n            <div class="col-sm-2 tip">\n                <a ng-click="getCode()" ng-show="!isCodeAccessiable">\n                    <span class="enable" translate="usercenter.account.GET_CODE">\n                    </span>\n                </a>\n                <a ng-show="isCodeAccessiable">\n                    <span class="disable">{{codeTip}}</span>\n                </a>\n            </div>\n        </div>\n        <div class="form-group"> \n            <label for="inputValidate" class="control-label col-sm-3" translate="usercenter.account.VALIDATE_CODE">验证码</label>\n            <div class="col-sm-7">\n                <input id="inputValidate" type="text" class="form-control code" maxlength="12" ng-model="userinfo.code" ng-blur="checkCode()" placeholder="{{\'usercenter.account.VALIDATE_CODE_TIP\' | translate}}"/>\n                <p class="error" ng-show="codeError">{{codeError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="inputPass" class="control-label col-sm-3" translate="usercenter.account.PASSWORD">密码</label>\n            <div class="col-sm-7">\n                <input id="inputPass" type="password" class="form-control" maxlength = "16" ng-model="userinfo.password" placeholder="{{\'usercenter.account.ENTRY_PASSWORD_ACCOUNT\' | translate}}"/>\n                <p class="error" ng-show="relErr">{{relErr}}</p>\n            </div>\n        </div>\n    </form>\n</div>\n<div class="modal-footer">\n    <a class="modal-cancle" ng-click="cancel()" translate="usercenter.account.CANCEL">取消</a>\n    <button type="button" class="btn btn-primary" ng-click="relAccount()" translate="usercenter.account.CONFIRM">确定</button>\n</div>')
            }]),
        b.module("usercenter/console/email_fail.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/email_fail.tpl.html", '<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8">\n    <style>\n        *{margin:0;padding:0;}\n        body{\n            font-family: "Microsoft YaHei", Tahoma, Helvetica, Arial, sans-serif;\n        }\n        .content{\n            font-size: 18px;\n            height:200px;\n            width:400px;\n            position: absolute;\n            top:50%;\n            left:50%;\n            margin-top: -100px;\n            margin-left: -200px;\n        }\n        p{margin-top:15px;}\n        a{color:#08a1ef;font-size: 14px;}\n\n    </style>\n</head>\n<body>\n    <div class="content">\n        <p>无效的请求，原因可能是：</p>\n        <p>1.无效的验证信息；</p>\n        <p>2.验证信息已经过期，请在获得链接后立即使用；</p>\n        <p>3.验证信息已经被使用，请重新申请；</p>\n        <p><a href="http://eqxiu.com/#/home" style="background-color:#08a1ef;padding:4px 8px;color:#fff;text-decoration:none;">进首页看看</a></p>\n    </div>\n</body>\n</html>')
            }]),
        b.module("usercenter/console/email_succeed.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/email_succeed.tpl.html", '<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8">\n    <style>\n        *{margin:0;padding:0;}\n        body{\n            font-family: "Microsoft YaHei", Tahoma, Helvetica, Arial, sans-serif;\n        }\n        .content{\n            font-size: 18px;\n            height:80px;\n            width:400px;\n            position: absolute;\n            top:50%;\n            left:50%;\n            margin-top: -40px;\n            margin-left: -200px;\n        }\n        p{margin-top:15px;}\n        a{color:#08a1ef;}\n    </style>\n	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>\n	<script language="javascript">\n		$(document).ready(function() {\n			function jump(count) {\n				window.setTimeout(function(){\n					count--;\n					if(count > 0) {\n						$(\'#num\').attr(\'innerHTML\', count);\n						jump(count);\n					} else {\n						location.href="http://eqxiu.com/#/usercenter/userinfo";\n					}\n				}, 1000);\n			}\n			jump(5);\n		});\n	</script>\n</head>\n<body>\n    <div class="content">\n        <p>您的邮箱验证成功！</p>\n        <p style="margin-top:15p;"><a href="#">如果您的浏览器没有自动跳转，请点击此链接</a></p>\n        <p style="margin-top:25p;"><a href="#" style="background-color:#08a1ef;font-size:14px;padding:4px 8px;color:#fff;text-decoration:none;">进首页看看</a></p>\n    </div>\n</body>\n</html>')
            }]),
        b.module("usercenter/console/register.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/register.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>创建账号</h1>\n        <p ng-show="relErr">{{relErr}}</p>\n    </div>\n    <div class="dialog-content registerForm">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label" translate="usercenter.account.ACCOUNT">登录账号</label>\n                <div class="form-input">\n                    <input type="text" class="third-name" ng-model="user.email" ng-blur="checkUsername();" placeholder="{{\'usercenter.account.ACCOUNT_TIP\' | translate}}"/>\n                    <span ng-show="usernameError" class="error_text">\n                        {{usernameError}}\n                    </span>\n                </div>\n            </div>  \n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label" translate="usercenter.account.PASSWORD">密码</label>\n                <div class="form-input">\n                    <input type="password" class="third-pwd" style="float:right;" maxlength = "12" ng-model="user.password" ng-blur="checkPassword()" placeholder="{{\'usercenter.account.NEW_PASSWORD_TIP\' | translate}}"/>\n                    <span ng-show="passError" class="error_text">\n                    {{passError}}\n                  </span>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label" translate="usercenter.account.REPEAT_PASSWORD">确认密码</label>\n                <div class="form-input">\n                    <input type="password" class="third-pwd" style="float:right;" maxlength = "12" ng-model="user.repeatPassword" ng-blur="checkRepeatPassword()" placeholder="{{\'usercenter.account.REPEAT_PASSWORD\' | translate}}"/>\n                    <span ng-show="rPassError" class="error_text">\n                    {{rPassError}}\n                  </span>\n                </div>\n            </div>\n            <div class="login-form-action clearfix mt20">\n              <div class="checkbox pull-left">\n                <!-- <div class="square pull-left">\n                  <div class="checkbox-square" ng-class="{checked: user.agreement}">\n                    <em class="eqf-right4"></em> -->\n                    <input type="checkbox" ng-model="user.agreement" />\n                  <!-- </div>\n                </div> -->\n                <span class="checkbox-text pull-left">&nbsp;<em  translate="usercenter.account.AGREE">我已阅读并同意</em><a href="#/agreement" target = "_blank" translate="usercenter.account.AGREEMENT">《易企秀用户注册协议》</a></span>\n              </div>\n              <div class = "pull-right">\n                <a ng-click = "cancel();relAccount();"><ins translate="usercenter.account.HAVE_ACCOUNT">已有账户?</ins></a>\n              </div>\n            </div>\n            <div class="btn-contain btn-big">\n                <a class="btn-main login" ng-click="registerAccount()" translate="usercenter.account.REGISTER">立即注册</a>\n                <a class="btn-grey0 cancel" ng-click="cancel()" translate="usercenter.account.CANCEL">取消</a>\n            </div>                                  \n        </form>\n    </div>\n</div>')
            }]),
        b.module("usercenter/console/relAccount.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/relAccount.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="usercenter.account.BIND_ACCOUNT">绑定账号</h1>\n        <p ng-show="!relErr" translate="usercenter.account.BIND_EXISTED_ACCOUNT">绑定已有账号</p>\n        <p ng-show="relErr">{{relErr}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label" translate="usercenter.account.LOGIN_ACCOUNT">登录账号</label>\n                <div class="form-input">\n                    <input type="text" class="third-name" ng-model="user.email" ng-blur="checkUpperCase();" placeholder="{{\'usercenter.account.ENTRY_BIND_ACCOUNT\' | translate}}"/>\n                </div>\n            </div>  \n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label" translate="usercenter.account.PASSWORD">密码</label>\n                <div class="form-input">\n                    <input type="password" class="third-pwd" style="float:right;" ng-model="user.password" placeholder="{{\'usercenter.account.ENTRY_BIND_ACCOUNT_PWD\' | translate}}"/>\n                </div>\n            </div>\n            <div class="btn-contain btn-big">\n                <a class="btn-main login" ng-click="bindAccount()" translate="usercenter.account.IMMEDIATE_BIND">立即绑定</a>\n                <!--<a class="btn-grey0 cancel" ng-click="cancel()">取消</a>-->\n                <a class="btn-grey0 cancel" ng-click="cancel();createAccount();" translate="usercenter.account.CREATE_ACCOUNT">创建账号</a>\n            </div>                                  \n        </form>\n    </div>\n</div>')
            }]),
        b.module("usercenter/console/relEmail.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/relEmail.tpl.html", '<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n    <h4 class="modal-title">{{title || (\'usercenter.account.REL_EMAIL\' | translate)}}</h4>\n</div>\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label for="inputMail" class="col-sm-3 control-label" translate="usercenter.account.EMAIL">邮箱</label>\n            <div class="col-sm-7">\n                <input id="inputMail" type="text" class="form-control" ng-model="userinfo.email" ng-class="{error: emailFormatErr}" ng-blur="checkUpperCase();checkEmailFormat(userinfo)" placeholder="{{\'usercenter.account.ENTRY_EMAIL\' | translate}}">\n                <p class="error" ng-show="emailFormatErr">{{emailFormatErr}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="inputPass" class="col-sm-3 control-label" translate="usercenter.account.PASSWORD">密码</label>\n            <div class="col-sm-7">\n                <input id="inputPass" type="password" class="form-control" ng-model = "userinfo.password" placeholder="{{\'usercenter.account.ENTRY_PASSWORD_ACCOUNT\' | translate}}" ng-class="{error: passFormatErr}" ng-blur="checkPassFormat(userinfo)">\n                <p class="error" ng-show="passFormatErr">{{passFormatErr}}</p>\n                <p class="error" ng-show="relErr">{{relErr}}</p>\n            </div>\n        </div>\n    </form>\n</div>\n<div class="modal-footer">\n    <a class="modal-cancle" ng-click="cancel()" translate="usercenter.account.CANCEL">取消</a>\n    <a type="button" class="btn btn-primary"  ng-click="relEmail(userinfo)" translate="usercenter.account.IMMEDIATE_BIND">立即绑定</a>\n</div>')
            }]),
        b.module("usercenter/console/resetbranchpass.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/resetbranchpass.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 translate="usercenter.account.CHANGE_PASSWORD">修改密码</h1>\n        <p ng-show="!authError" translate="usercenter.account.CHANGE_PASSWORD_TIP">在此修改密码，退出再登录后及成功</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label" translate="usercenter.account.BRANCH_LABEL">分账号：</label>\n                <div class="form-input" style="top: 6px;">{{branch.loginName}}</div>\n            </div>\n            <div class="tip" style="padding-left: 30px;margin: 20px 0;">\n                <span translate="usercenter.account.RESET_PASSWORD_TIP">重置密码后，密码将恢复为初始密码:</span>\n                <span style="color: #ff0000;">eqxiu</span>\n            </div>\n            <div class="btn-contain btn-big">\n                <a class="btn-main login" ng-click="reset()" translate="usercenter.account.RESET_PASSWORD">重置为初始密码</a>\n                <a class="btn-grey0 cancel" ng-click="cancel()" translate="usercenter.account.CANCEL">取消</a>\n            </div>\n        </form>\n    </div>\n</div>\n')
            }]),
        b.module("usercenter/console/upgrade_company.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/console/upgrade_company.tpl.html", '<div class="dialog-contain upgrade">\n	<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="quXiao()">\n        <span aria-hidden="true">×</span>\n    </button>\n		<h4 class="modal-title" translate="usercenter.account.COMPANY_INFO">企业信息</h1>\n	</div>\n	<div class="modal-body">\n		<form class="form-horizontal">\n		    <div class="form-group clearfix">\n		        <label for="inputPassword3" class="col-sm-3 control-label">企业名称</label>\n		        <div class="col-sm-7">\n		            <input type="text" class="form-control" ng-model="companyInfo.name" placeholder="{{\'usercenter.account.COMPANY_NAME\' | translate}}" ng-blur="checkName(companyInfo)" ng-class="{error:nameError}" maxlength="40">\n		            <p ng-show="nameError">{{nameError}}</p>\n		        </div>\n		        <div class="col-sm-2 tips" translate="usercenter.account.REQUIRED">必填</div>\n		    </div>\n	        <div class="form-group clearfix">\n	            <label for="inputPassword3" class="col-sm-3 control-label" translate="usercenter.account.COMPANY_EMAIL">企业邮箱</label>\n	            <div class="col-sm-7">\n	                <input type="text" class="form-control" ng-model="companyInfo.email" placeholder="{{\'usercenter.account.COMPANY_EMAIL\' | translate}}" ng-blur="checkEmail(companyInfo)" ng-class="{error:emailError}">\n	                <p ng-show="emailError">{{emailError}}</p>\n	            </div>\n	            <div class="col-sm-2 tips" translate="usercenter.account.REQUIRED">必填</div>\n	        </div>	 \n	        <div class="form-group clearfix">\n	            <label for="inputPassword3" class="col-sm-3 control-label" translate="usercenter.account.CONTACTS">联系人</label>\n	            <div class="col-sm-7">\n	                <input type="text" class="form-control" ng-model="companyInfo.contacts" placeholder="{{\'usercenter.account.CONTACTS\' | translate}}" ng-class="{error:contactsError}" ng-blur="checkcontacts(companyInfo)" maxlength="10">\n	                <p ng-show="contactsError">{{contactsError}}</p>\n	            </div>\n	            <div class="col-sm-2 tips" translate="usercenter.account.REQUIRED">必填</div>\n	        </div>\n	        <div class="form-group clearfix">\n	            <label for="inputPassword3" class="col-sm-3 control-label">手机号</label>\n	            <div class="col-sm-5">\n	                <input type="type" class="form-control" ng-model="companyInfo.mobile" placeholder="{{\'usercenter.account.MOBILE\' | translate}}" ng-class="{error:telError}" >\n	                <p ng-show="telError">{{telError}}</p>\n	            </div>\n	            <div class="col-sm-2" style="padding:0;">\n	            	<span class="code" ng-show="!isCodeAccessiable" ng-click="getCode(companyInfo)">验证码</span>\n	            	<span class="code enble" ng-show="isCodeAccessiable">{{codeTip}}</span>\n	            </div>\n	            <div class="col-sm-2 tips" translate="usercenter.account.REQUIRED">必填</div>\n	        </div>\n	        <div class="form-group clearfix">\n	            <label for="inputPassword3" class="col-sm-3 control-label">验证码</label>\n	            <div class="col-sm-7">\n	                <input type="type" class="form-control" ng-class="{error:codeError}" placeholder="验证码" ng-model="companyInfo.code" ng-blur="checkCode(companyInfo)">\n	                <p ng-show="codeError">{{codeError}}</p>\n	            </div>\n	            <div class="col-sm-2 tips" translate="usercenter.account.REQUIRED">必填</div>\n	        </div>\n	        \n        	<div class="modal-footer">\n        		<a class="modal-cancle" ng-click="quXiao()" translate="usercenter.account.CANCEL">取消</a>\n            	<a type="button" class="btn btn-primary" ng-click="upgradeCompanyMessage(companyInfo)" translate="usercenter.account.CONFIRM_SUBMIT">提交</a>\n            </div>	        \n		</form>		\n	</div>\n</div>');
            }]),
        b.module("usercenter/payment.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/payment.tpl.html", '<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n    <h4 class="modal-title" translate="usercenter.privilege.QR_CODE">请使用微信扫一扫二维码进行</h4>\n</div>\n<div ng-init="method=\'alipay\'">\n	<ul class="nav nav-bg">\n		<li ng-class="{active:method==\'alipay\'}"><a ng-click="method=\'alipay\'">支付宝</a></li>\n		<li ng-class="{active:method==\'wechat\'}"><a ng-click="getWeChatUrl();method=\'wechat\';" ng-hide="type==3">微信</a></li>\n		<!-- <li ng-class="{active:method==\'onlineBank\'}"><a ng-click="method=\'onlineBank\'">网银支付</a></li> -->\n	</ul>\n    <div class="tab-content">\n        <div class="tab-pane" ng-class="{active:method==\'alipay\'}" >\n        	<h4 class="text-center mt20">扫一扫二维码支付</h4>\n        	<h3 class="text-center" style="color:red;margin-top:15px;">{{money}}</h3>\n            <div class="qrcode" style="width:100%;padding:12px 0" qr-code qr-url="{{qrCodeUrl}}"></div>\n        </div>\n        <div class="tab-pane" ng-class="{active:method==\'wechat\'}" >\n        	<h4 class="text-center mt20">扫一扫二维码支付</h4>\n        	<h3 class="text-center" style="color:red;margin-top:15px;">{{money}}</h3>\n            <div class="qrcode" style="width:100%;padding:12px 0" qr-code qr-url="{{wechatUrl}}"></div>\n        </div>\n        <div class="tab-pane" ng-class="{active:method==\'onlineBank\'}" >\n            <h4 class="text-center mt20">选择一家银行机构支付</h4>\n        	<h3 class="text-center">{{money}}</h3>\n            <div class="bank-contain">\n                <div><span class="bank-icbc"></span></div>\n                <div><span class="bank-cmb"></span></div>\n                <div><span class="bank-cbc"></span></div>\n                <div><span class="bank-abc"></span></div>\n                <div><span class="bank-bc"></span></div>\n                <div><span class="bank-psbc"></span></div>\n                <div><span class="bank-spdb"></span></div>\n                <div><span class="bank-cgb"></span></div>\n                <div><span class="bank-ceb"></span></div>\n                <div><span class="bank-cmbc"></span></div>\n                <div><span class="bank-ecitic"></span></div>\n                <div><span class="bank-cib"></span></div>\n                <div><span class="bank-pab"></span></div>\n                <div><span class="bank-pab2"></span></div>\n                <div><span class="bank-bocom"></span></div>\n                <div><span class="bank-bob"></span></div>\n                <div><span class="bank-shbank"></span></div>\n                <div><span class="bank-nbbank"></span></div>\n                <div><span class="bank-srcb"></span></div>\n                <div><span class="bank-hzcb"></span></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="modal-footer">\n    <a class="btn btn-primary" ng-click="paymented()">完成支付</a>\n</div>')
            }]),
        b.module("usercenter/paymentxd.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/paymentxd.tpl.html", '<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n    <h4 class="modal-title" translate="usercenter.privilege.QR_CODE">请使用微信扫一扫二维码进行</h4>\n</div>\n<div class="modal-body">\n    <div class="qrcode" style="width:100%" qr-code qr-url="{{qrCodeUrl}}"></div>\n</div>\n<div class="modal-footer">\n    <a class="btn btn-primary" ng-click="paymented()" translate="usercenter.privilege.PAYED">完成支付</a>\n</div>')
            }]),
        b.module("usercenter/request_reg.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/request_reg.tpl.html", '<div class="request_reg">\n	<div class="close" ng-click="cancel()">x</div>\n	<div class="erwei" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/m/#/wxLogin?id=\' + currentUser.id}}"></div>\n<!-- 	<div class="erwei" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/m/#/wxreg?id=\' + currentUser.id}}"></div>	 -->	\n</div>')
            }]),
        b.module("usercenter/tab/account.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/account.tpl.html", '<div class="account-contain">\n    <div class="account-items clearfix" ng-if="userinfo.noRel">\n        <div class="item-one" >\n            <em class="red eqf-exclamation-sign"></em>\n            <span translate="usercenter.account.ACCOUNT">登陆账号</span>\n        </div>\n        <div class="item-two">\n            <span class="red" translate="usercenter.account.NO_REL">未绑定</span>\n        </div>\n        <div class="item-three">\n              <a ng-click="createAccount()" class="text-primary" translate="usercenter.account.REL_ACCOUNT">绑定账号</a>\n        </div>\n    </div>\n    <div class="account-items clearfix">\n        <div class="item-one">\n            <em ng-class="{\'eqf-yes green\':userinfo.email && userinfo.checkEmail == 1,\'eqf-exclamation-sign red\': userinfo.checkEmail != 1}"></em>\n            <span translate="usercenter.account.SECRECY_EMAIL">保密邮箱</span>\n        </div>\n        <div class="item-two">\n            <span  ng-if="userinfo.email &&( userinfo.checkEmail == 0 || userinfo.checkEmail==null)">\n                <em class="red" translater="usercenter.account.CHECK_EMAIL_TIP" translate-value-email="{{userinfo.email}}">您的邮箱：{{ userinfo.email}}尚未验证，请尽快登录邮箱进行验证。</em>\n                <a ng-click="verifyEmail()" translate="usercenter.account.SEND_AGGIN">点此再次发送验证邮件。</a></span>\n            </span>\n            <span ng-if="userinfo.email && userinfo.checkEmail == 1">\n                <span class="action" translate="usercenter.account.CHECKED_EMAIL_TIP" translate-value-email="{{userinfo.email}}">您的邮箱：{{ userinfo.email}}已验证，请放心使用</span>\n            </span>\n            <span class="red" ng-if="userinfo.email==null" translate="usercenter.account.EMAIL_STATUS3">未绑定</span>\n        </div>\n        <div class="item-three">\n              <a ng-click="relEmail((\'usercenter.account.REL_EMAIL\' | translate))" ng-if="userinfo.email==null" translate="usercenter.account.REL_EMAIL" class="text-primary">绑定邮箱</a>\n              <a ng-click="relEmail((\'usercenter.account.CHANGE_EMAIL\' | translate))" ng-if="userinfo.email" class="action text-primary" translate="usercenter.account.CHANGE_EMAIL">修改邮箱</a>\n        </div>\n    </div>\n    <div class="account-items clearfix">\n        <div class="item-one">\n            <em class="eqf-yes green"></em><span translate="usercenter.account.ACCOUNT_TYPE">账号类型</span>\n        </div>\n        <div class="item-two">\n            <span ng-show="userinfo.type ==1" translate="usercenter.account.ACCOUNT_TYPE1">普通用户</span>\n            <span ng-show="userinfo.type ==2" translate="usercenter.account.ACCOUNT_TYPE2">企业用户</span>\n            <span ng-show="userinfo.type ==21" translate="usercenter.account.ACCOUNT_TYPE3">企业子用户</span>\n            <span ng-show="userinfo.type ==3" translate="usercenter.account.ACCOUNT_TYPE4">高级用户</span>\n            <span ng-show="userinfo.type ==4" translate="usercenter.account.ACCOUNT_TYPE5">服务用户</span>\n            <span ng-show="userinfo.type ==99" translate="usercenter.account.ACCOUNT_TYPE6">运营用户</span>\n            <span class="account-action" translate="usercenter.account.UPGRADE_PRIVILEGE">，升级账号可以尊享更多特权</span></div>\n        <div class="item-three">\n            <span ng-show="userinfo.type ==1 && !emailAccount && !userinfo.noRel">\n                <a ng-click="upgradeCompany()" class="text-primary" translate="usercenter.account.UPGRADE_ACCOUNT">升级为企业账号</a>\n            </span>\n<!--             <span ng-show="companyInfo.status == 0" translate="usercenter.account.COMPANY_STATUS1">企业账号申请中</span> -->\n            <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77" class="action text-primary" target="_blank" translate="usercenter.account.MY_PRIVILEGE">我的特权</a>\n          </div>\n    </div>\n    <div class="account-items clearfix">\n        <div class="item-one">\n            <em class="eqf-yes green"></em><span translate="usercenter.account.LOGIN_PASSWORD">登录密码</span>\n        </div>\n        <div class="item-two"><span class="account-action" translate="usercenter.account.PASSWORD_ADVICE">建议使用6-16个字符，可包括大小写字母和数字</span>\n        </div>\n        <div class="item-three">\n            <a ng-if="!userinfo.noRel" class="text-primary" ng-click="goReset()" translate="usercenter.account.CHANGE_PASSWORD">修改密码</a>\n        </div>\n    </div>\n    <div class="account-items clearfix" ng-if="userinfo.type ==2">\n        <div class="item-one">\n            <em ng-class="{\'eqf-yes green\':userinfo.phone && userinfo.checkPhone == 1,\'eqf-exclamation-sign red\': userinfo.checkPhone != 1}"></em><span translate="usercenter.account.VALIDATE_MOBILE">手机验证</span>\n        </div>\n        <div class="item-two">\n            <span class="red" ng-if="!userinfo.phone" translate="usercenter.account.MOBILE_STATUS1">未绑定</span>\n            <span ng-if="userinfo.phone && userinfo.checkPhone == 0" class="red" translate="usercenter.account.MOBILE_STATUS2">\n                未验证\n            </span>\n            <span ng-if="userinfo.phone && userinfo.checkPhone == 1" >\n                <em class="green" translate="usercenter.account.MOBILE_STATUS3">已验证</em>\n                <span class="account-action action" translate-value-phone="{{userinfo.phone}}" translate="usercenter.account.VALIDATE_MOBILE_TIP">您验证的手机：{{userinfo.phone}}，若已丢失或停用，请立即更换，避免账户被盗</span>\n            </span> \n        </div>\n        <div class="item-three">\n            <a ng-if="!userinfo.phone" ng-click="checkMobile((\'usercenter.account.REL_MOBILE\' | translate))" translate="usercenter.account.REL_MOBILE" class="text-primary">绑定手机</a>\n            <a class="text-primary" ng-if="userinfo.phone && userinfo.checkPhone == 0" ng-click="checkMobile((\'usercenter.account.VALIDATE_MOBILE\' | translate))" translate="usercenter.account.VALIDATE_MOBILE">手机验证</a>\n            <a ng-if="userinfo.phone" class="action text-primary" ng-click="checkMobile((\'usercenter.account.CHANGE_MOBILE\' | translate))" translate="usercenter.account.CHANGE_MOBILE" >修改手机号</a>\n        </div>\n    </div>\n    <div class="account-items clearfix" ng-if="weixinShow">\n        <div class="item-one">\n            <em ng-class="{\'eqf-exclamation-sign red\': !wxRel,\'eqf-yes green\':wxRel}"></em><span translate="usercenter.account.WECHAT">微信账号</span>\n        </div>\n        <div class="item-two">\n            <span ng-if="!wxRel" class="red" translate="usercenter.account.WECHAT_STATUS1">未绑定</span>\n            <span ng-if="wxRel" class="green" translate="usercenter.account.WECHAT_STATUS2">已绑定</span>\n        </div>\n        <div class="item-three">\n            <a class="no-relate text-primary" ng-if="!wxRel" ng-click="bindThirdAccount(\'weixin\');" translate="usercenter.account.REL_WECHAT">绑定微信</a>\n            <a class="related text-primary" ng-if="wxRel && !userinfo.noRel" ng-click="unbindRelation(\'weixin\')" translate="usercenter.account.UNREL_WEHCHAT">解除绑定</a>\n        </div>\n    </div>\n    <div class="account-items clearfix" ng-if="qqShow">\n        <div class="item-one">\n            <em ng-class="{\'eqf-exclamation-sign red\':!qqRel,\'eqf-yes green\': qqRel}"></em><span translate="usercenter.account.QQ_COUNT">QQ账号</span>\n        </div>\n        <div class="item-two">\n            <span ng-if="!qqRel" class="red" translate="usercenter.account.QQ_COUNT_STATUS1">未绑定</span>\n            <span ng-if="qqRel" class="green" translate="usercenter.account.QQ_COUNT_STATUS2">已绑定</span>\n        </div>\n        <div class="item-three">\n            <a class="no-relate text-primary" ng-if="!qqRel" ng-click="bindThirdAccount(\'qq\');" translate="usercenter.account.REL_QQ">绑定QQ</a>\n            <a class="related text-primary" ng-if="qqRel && !userinfo.noRel" ng-click="unbindRelation(\'qq\')" translate="usercenter.account.UNREL_QQ">解除绑定</a>\n        </div>\n    </div>\n    <div class="branches pt20" ng-show="userinfo.type==2">\n        <h2 class="subhead mb20">\n        <em translate="usercenter.account.BRANCH_MANAGE">分账号管理</em>\n            <a class="fr text-center" ng-click="manageBranch()">\n                <i translate="usercenter.account.ADD_ACCOUNT" translate="usercenter.account.ADD_ACCOUNT">添加分账号</i>\n                <em class="eqf-plus2"></em>\n            </a>\n        </h2>\n        <div class="branch-list">\n            <table class = "table table-hover mb20">\n                <tr>\n                    <th class="col-sm-3" translate="usercenter.account.ACCOUNT_BRANCH">分账号</th>\n                    <th class="col-sm-2" translate="usercenter.account.BRANCH_NAME">用户名</th>\n                    <th class="col-sm-2" translate="usercenter.account.BRANCH_DEPT_NAME">部门</th>\n                    <th class="col-sm-2" translate="usercenter.account.BRANCH_REG_TIME">创建时间</th>\n                    <th class="col-sm-2" translate="usercenter.account.MANAGE_BRANCH">管理</th>\n                </tr>\n                <tr ng-repeat="branch in branches">\n                    <td>{{branch.loginName}}</td>\n                    <td>{{branch.name}}</td>\n                    <td>{{branch.deptName}}</td>\n                    <td>{{branch.regTime | date:\'yyyy-MM-dd\'}}</td>\n                    <td>\n                        <a class="branch-close" ng-show="branch.status==1" ng-click="openBranch(branch, false);"><em translate="usercenter.account.BRANCH_STATUS1">关闭</em></a>\n                        <a class="branch-close" translater="usercenter.account.BRANCH_STATUS2" ng-show="branch.status==2" ng-click="openBranch(branch, true);"><em>开放</em></a>\n                        <a ng-click="manageBranch(branch)" translate="usercenter.account.UPDATE_BRANCH">修改</a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="clearfix" ng-show = "branchesCount > 10">\n            <pagination style="float: left" first-text="{{\'usercenter.account.FIRST_PAGE\' | translate}}" last-text="{{\'usercenter.account.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="5" items-per-page="XdpageSize" total-items="branchesCount" ng-model="currentPage.branchCurrentPage" boundary-links="true" rotate="true" num-pages="branchesNumPages"></pagination>\n            <div class="current_page">\n                <input type="text" ng-model="branchToPage" ng-keyup="$event.keyCode == 13 ? pageChanged(branchToPage, \'branchCurrentPage\') : null">\n                <a ng-click="pageChanged(branchToPage, \'branchCurrentPage\')" class="go">GO</a>\n                <span><span translate="usercenter.account.CURRENT_PAGE1">当前</span>: {{currentPage.branchCurrentPage}} / {{branchesNumPages}} <span translate="usercenter.account.CURRENT_PAGE2">页</span></span>\n            </div>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("usercenter/tab/domain.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/domain.tpl.html", '<div class="dialog-contain domain-xiudian">\n    <div class="dialog-head">\n        <h1 translate="usercenter.server.REL_DNS">绑定域名</h1>\n        <p ng-show="!actionerror" translate="usercenter.server.ERROR_DNS">请您输入正确的域名地址</p>\n        <p ng-show="actionerror">{{actionerror}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label class="form-label" translate="usercenter.server.REL_DNS">绑定域名</label>\n                <div class="form-input">\n                    <input type="text" class="dns" ng-model="domainMess.url" placeholder="{{\'usercenter.server.DOMAIN_TIP\' | translate}}">\n                </div>\n            </div>\n        </form>\n        <div class="clearfix xiudian-time" ng-init="someVariable = null">\n            <span class="form-label" style="font-size:16px" translate="usercenter.server.SELECT_DATA">选择有效期</span>\n            <span ng-repeat="type in domainMess.typeList" style="padding-left:10px;">\n                <input type="radio" ng-model="$parent.someVariable" id="\'{{type.value}}\'" ng-value="domainMess.type">\n                <label for="\'{{type.value}}\'">{{type.label}}<span translate="usercenter.server.XD">秀点</span>{{type.value}}<span translate="usercenter.server.DAY">天</span></label>\n            </span>\n        </div>\n        <div class="btn-contain btn-big">\n            <a class="btn-main login" ng-click="submit(domainMess.url,someVariable.value,someVariable.label)" translate="usercenter.server.CONFIRM">确认</a>\n            <a class="btn-grey0 cancel" ng-click="quXiao()" translate="usercenter.server.CANCEL">取消</a>\n        </div>\n    </div>\n    <div class="xiudian clearfix" ng-show="xiudian">\n        <div class="chongzhi">\n            <h1 translate="usercenter.server.XD_INSUFFICIENT">秀点不足</h1>\n            <p translate="" translate-value-xdCounts="{{xdCounts}}" translate-value-count="{{count}}">我的秀点：{{xdCounts}}，需消耗{{count}}秀点</p>\n            <div class="erweima">\n                <span translate="usercenter.server.QR_CODE1">微信扫描二维码，</span></br><span translate="usercenter.server.QR_CODE2">关注易起秀微信账号，马上充值</span>\n            </div>\n        </div>\n        <img ng-src="{{CLIENT_CDN}}assets/images/111.jpg" >\n        <div class="know"><a class="btn-main" ng-click="know()" translate="usercenter.server.KNOW">知道了</a></div>\n    </div>\n</div>')
            }]),
        b.module("usercenter/tab/history.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/history.tpl.html", '<ul class="nav nav-tabs clearfix history-nav">\n    <li role="presentation" ng-class="{active:sceneHistory == \'scene\'}">\n        <a ng-click="getMyScenes(1,\'scene\')">场景回收站</a>\n    </li>\n    <li role="presentation" ng-class="{active:sceneHistory == \'image\'}">\n        <a ng-click="getImages(1,\'image\')">素材回收站</a>\n    </li>    \n</ul>\n\n<div class="history-scene" ng-show="sceneHistory == \'scene\'">\n    <ul class="clearfix" ng-show="myScenes && myScenes.length >0">\n        <li ng-repeat="scene in myScenes track by $index">\n            <div class="scene-cover">\n                <img ng-src="{{PREFIX_FILE_HOST + scene.cover}}" width="235px" height="235px" />\n                <div class="scene-operate mask">\n                    <div class="operate">\n                        <span class=" hint--top hint--rounded" ng-click="deleteScene(scene.id,\'false\')" data-hint="彻底删除"><em class="eqf-delete"></em></span>\n                        <span class=" hint--top hint--rounded" ng-click="revoke(scene.id)" data-hint="还原"><em class="eqf-bg"></em></span>\n                    </div>\n                    <div class="scene-time">{{scene.history}}天</div>\n                </div>\n            </div>\n            <div class="scene-name ellipsis">{{scene.name}}</div>\n        </li>\n    </ul>\n    <p style="padding:20px 0" ng-show="myScenes.length <= 0">暂无回收内容</p>\n</div>\n<div class="history-image" style="min-height:300px" ng-show="sceneHistory == \'image\'">\n    <ul class="clearfix" ng-show="images && images.length > 0">\n        <li ng-repeat="img in images track by $index">\n            <img ng-src="{{PREFIX_FILE_HOST + img.tmbPath}}" responsive-image />\n            <div class="image-operate mask">\n                <div class="operate">\n                    <span class=" hint--top hint--rounded" ng-click="deleteImg(img.id,\'false\')" data-hint="彻底删除"><em class="eqf-delete"></em></span>\n                    <span class=" hint--top hint--rounded" ng-click="imageRevoke(img.id)" data-hint="还原"><em class="eqf-bg"></em></span>\n                </div>\n                <div class="scene-time">{{img.history}}天</div>\n            </div>\n        </li>\n    </ul>\n    <p style="padding:20px 0" ng-show="images.length <= 0">暂无回收内容</p>\n</div>\n<div class="clearfix" ng-show="historyTab.pages.totalItems > historyTab.pages.pageSize" style="margin-top:20px;">\n    <pagination style="float: left" first-text="{{\'main.FIRST_PAGE\' | translate}}" last-text="{{\'main.LAST_PAGE\' | translate}}" previous-text="{{\'main.PREVIOUS_PAGE\' | translate}}" next-text="{{\'main.NEXT_PAGE\' | translate}}" max-size="10" items-per-page="pageSize" total-items="historyTab.pages.totalItems" ng-model="historyTab.pages.currentPage" ng-change="pageChanged(historyTab.pages.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n    <div class="current_page">\n        <input type="text" ng-model="historyTab.pages.currentPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n        <a ng-click="pageChanged(toPage)" class="go">GO</a>\n        <span><span translate="main.CURRENT_PAGE1">当前</span>: {{historyTab.pages.currentPage}} / {{numPages}} <span translate="main.CURRENT_PAGE2">页</span></span>\n    </div>\n</div>')
            }]),
        b.module("usercenter/tab/invitation.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/invitation.tpl.html", '<div class="invitation-contain text-center mt20">\n	<h3 translate="usercenter.invitation.INVITATION_TIP">快快邀请小伙伴们一起来秀吧!</h3>\n	<!-- <h1 translate="usercenter.invitation.INVITATION_TIP1">你的朋友需要易企秀</h1> -->\n	<div class="link-content">\n		<div class="method">\n			<div class="circle">1</div>\n			<div class="line"></div>\n			<div class="circle">2</div>\n		</div>\n		<div class="url-contaion">\n			<div class="title">复制分享链接，通过微信、QQ等方式将链接分享给您的小伙伴，邀请他们加入易企秀</div>\n			<p class="copy-url mb20"><em translate="usercenter.invitation.INFO">我做的企业秀，用的是易企秀，免费好用，你试试吧：</em><br/>{{showUrl}}</p>\n		<a class="text-primary ml20 copy-btn" copy-button translate="usercenter.invitation.COPY">复制链接分享</a>\n		</div>\n		<div class="share-containt">\n			<span class="tip mt20 ml20">也可以直接发送邮件给您的小伙伴或者扫一扫下面的二维码邀请他们加入易企秀</span>\n			<div class="tab-div">\n				<ul class="nav nav-tabs">\n					<li ng-class="{active: tabid == \'email\'}"><a href="" ng-click="tabid = \'email\'"><i>Email</i></a></li>\n					<li ng-class="{active: tabid == \'wechat\'}"><a href="" ng-click="tabid = \'wechat\'"><i>微信</i></a></li>\n					<li ng-class="{active: tabid == \'qq\'}"><a href="" ng-click="tabid = \'qq\'"><i>QQ</i></a></li>\n				</ul>\n				<div class="tab-content">\n		            <div class="tab-pane" ng-class="{active: tabid == \'qq\'}">\n		            	<div class="view">\n			            	<div class="info">\n			            		<h2>QQ分享</h2>\n  			             		<span>用QQ扫描右侧二维码</span>\n			             	</div>\n			             	<div class="qrcode" qr-code qr-url="{{showUrl}}"></div>\n			             	<img ng-src="{{CLIENT_CDN}}assets/images/usercenter/qq.png" />\n			            </div>\n		            </div>\n		             <div class="tab-pane" ng-class="{active: tabid == \'wechat\'}">\n		             	<div class="view">\n			             	<div class="info">\n			             		<h2>微信分享</h2>\n			             		<span>用微信扫描右侧二维码分享到朋友圈</span>\n			             	</div>\n			             	<div class="qrcode" qr-code qr-url="{{showUrl}}"></div>\n			             	<img ng-src="{{CLIENT_CDN}}assets/images/usercenter/pic.png" />\n			            </div>\n		            </div>\n		             <div class="tab-pane" ng-class="{active: tabid == \'email\'}">\n		             	<h2 class="ml20">发送邮件给你的小伙伴</h2>\n		             	<div class="form-group mt20">\n			             	<div class="col-sm-9">\n			             		<input type="text" ng-blur="checkEmailFormat(email)" class="form-control input-lg" placeholder="输入小伙伴的邮箱" ng-model="email" />\n			             		<p class="error" ng-show="emailFormatErr">{{emailFormatErr}}</p>\n			             	</div>\n			             	<a class="btn-primary btn colsm-2" ng-disabled="emailFormatErr" ng-click="sendEmail(email)">发送邀请</a>\n		             	</div>\n		            </div>\n		        </div>\n	        </div>\n	    </div>\n	</div>\n	<!-- <iframe src="assets/web/PC.html" scrolling="no" class="mt20" frameborder="0"></iframe> -->\n</div>')
            }]),
        b.module("usercenter/tab/message.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/message.tpl.html", '<div class="message-contain">\n    <div class="mes-header text-right pb20">\n        <a class="reject-issue" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=890" target="_blank" translate="usercenter.message.REJECT_ISSUE ">审核问题</a>\n        <a ng-show="newMsgs.length > 0" ng-click="setRead(newMsgs)" translate="usercenter.message.SET_READ">全部设为已读</a>\n    </div>                \n    <div class="message-panel clearfix" ng-repeat="newMsg in newMsgs">\n        <div class="mes-content mes-type col-sm-2" ng-class="{new_msg: newMsg.status == 1,yidu_msg: newMsg.status == 2}">\n            <span ng-class="{\'eqf-voice\': newMsg.bizType==1,\'eqf-fobden2\': newMsg.bizType==2, \'eqf-star\': newMsg.bizType == 3}">\n            </span> \n            {{newMsg.type}}\n        </div>\n        <div class="mes-content col-sm-7" ng-bind-html="newMsg.content">\n        </div>\n        <div class="mes-content col-sm-3 text-right">\n            {{newMsg.sendTime | date:\'yyyy-MM-dd HH:mm:ss\'}}\n        </div>\n    </div>\n    <div class="mt20" ng-show="newMsgs.length == 0" translate="usercenter.message.NONE_MESSAGE"> 您暂时还没有消息！\n    </div>\n    <div class="clearfix mt20" ng-show="msgCount > 5">\n        <pagination style="float: left" first-text="{{\'usercenter.message.FIRST_PAGE\' | translate}}" last-text="{{\'usercenter.message.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="5" items-per-page="pageSize" total-items="msgCount" ng-model="currentPage.msgCurrentPage" boundary-links="true" rotate="true" num-pages="msgNumPages"></pagination>\n        <div class="current_page">\n            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage, \'msgCurrentPage\') : null">\n            <a ng-click="pageChanged(toPage, \'msgCurrentPage\')" class="go">GO</a>\n            <span translate="{{\'usercenter.message.CURRENT_PAGE1\'}}">当前</span>\n                : {{currentPage.msgCurrentPage}} / {{msgNumPages}} \n            <span translate="{{\'usercenter.message.CURRENT_PAGE2\' | translate}}">页</span>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("usercenter/tab/privilege.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/privilege.tpl.html", '<div class="privilege-contain">\n	<div class="info">\n		<div class="heard" ng-switch="currentUser.type">\n			<div class="eqf-nomarluser" ng-switch-when="1"></div>\n			<div class="eqf-vipuser" ng-switch-when="3"></div>\n			<div class="eqf-companyuser free-companyuser" ng-show="!currentUser.memberType" ng-switch-when="2"></div>\n			<div class="eqf-companyuser base-companyuser" ng-show="currentUser.memberType==\'1\'" ng-switch-when="2"></div>\n			<div class="eqf-companyuser pri-companyuser" ng-show="currentUser.memberType==\'2\'" ng-switch-when="2"></div>\n			<div class="eqf-companyuser pro-companyuser" ng-show="currentUser.memberType==\'3\'" ng-switch-when="2"></div>\n			<div class="eqf-companyuser free-companyuser" ng-switch-when="21"></div>\n			<div class="eqf-serviceuser" ng-switch-when="4"></div>\n		</div>\n		<div class="detail">\n			<span>{{userType}}</span>{{userPay}}\n			<p class="mt20"><i translate="usercenter.privilege.UPGRADE_TIME">开通日期：</i>{{currentUser.joinTime || currentUser.regTime | date:\'yyyy年MM月dd日 HH:mm\'}}     <em ng-show="currentUser.expiryTime"><i translate="usercenter.privilege.EXPIRY_TIME">到期日期：</i>{{ currentUser.expiryTime | date:\'yyyy年MM月dd日 HH:mm\'}}</em></p>\n		</div>\n	</div>\n	<div>\n		<ul class="nav nav-tabs">\n			<li ng-class="{active: tabid == \'ordinaryMember\'}"><a href="" ng-click="tabid = \'ordinaryMember\'"><i translate="usercenter.privilege.ORDINARY_MEMBER">普通会员</i></a></li>\n			<li ng-class="{active: tabid == \'corporateMember\'}"><a href="" ng-click="tabid = \'corporateMember\'"><i translate="usercenter.privilege.CORPORATE_MEMBER">企业会员</i></a></li>\n		</ul>\n		<div class="tab-content">\n            <div class="tab-pane" ng-class="{active: tabid == \'ordinaryMember\'}">\n                <div class="mt20">\n                	<h4 translate="usercenter.privilege.MORE_PRIVILEGE_SERVICE_TIP">更多特权服务，易企秀正在为您量身定制，敬请期待。</h4>\n                </div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'corporateMember\'}">\n                <h4 class="text-center mt20 mb20" translate="usercenter.privilege.UPGRADE_ENTERPRISE_MEMBER_TIP">立即升级为企业会员，尊享周到的企业级服务和易企秀专属特权</h4>\n                <div>\n                	<div class="versions" style="margin-left:0">\n                		<div class="title1" translate="usercenter.privilege.FREE_EDITION">免费版</div>\n                		<div class="content">\n                			<div class="price">　　<span>0</span><em translate="usercenter.privilege.FREE_EDITION_PRICE_UNIT">元/365天</em></div>\n                			<div><a class="btn btn-primary" ng-click="upgradeAccount($event)" ng-disabled="(currentUser.type==1 && companyInfo.status==0) || currentUser.type==2">{{upgradeInfo || (companyInfo.status==0 ? \'正在升级\' : \'立即升级\')}}</a></div>\n                		</div>\n                	</div>\n                	<div class="versions">\n                		<div class="title2" translate="usercenter.privilege.BASIC_EDITION">基础版</div>\n                		<div class="content">\n                			<div class="price">　　<span>99</span><em translate="usercenter.privilege.BASIC_EDITION_PRICE_UNIT">元/30天</em></div>\n                			<div>\n                			<a class="btn btn-primary" ng-show="currentUser.memberType==1 || currentUser.memberType==2 " ng-click="upgradeAccount($event,1)" translate="usercenter.privilege.UPGRADE_CONTINUE_TIP"></a>\n                			<a class="btn btn-primary" ng-show="!currentUser.memberType" ng-click="upgradeAccount($event,1)" translate="usercenter.privilege.UPGRADE_BTN_TIP"></a>\n                			<a class="btn btn-primary" ng-show="currentUser.memberType==3" ng-disabled="true" translate="usercenter.privilege.NOT_BUY"></a>\n                			</div>\n                		</div>\n                	</div>\n                	<div class="versions">\n                		<div class="title3" translate="usercenter.privilege.ADVANCE_EDITION">高级版</div>\n                		<div class="content">\n                			<div class="price">　　<span>500</span><em translate="usercenter.privilege.ADVANCE_EDITION_PRICE_UNIT">元/180天</em></div>\n                			<div>\n                			<a class="btn btn-primary" ng-click="upgradeAccount($event,2)" ng-show="currentUser.memberType==\'1\' || !currentUser.memberType" translate="usercenter.privilege.UPGRADE_BTN_TIP"></a>\n                			<a class="btn btn-primary" ng-click="upgradeAccount($event,2)" ng-show="currentUser.memberType==\'2\'" translate="usercenter.privilege.UPGRADE_CONTINUE_TIP"></a>\n                			<a class="btn btn-primary" ng-click="upgradeAccount($event,2)" ng-disabled="true" ng-show="currentUser.memberType==\'3\'" translate="usercenter.privilege.NOT_BUY"></a>\n                			</div>\n                		</div>\n                	</div>\n                	<div class="versions" style="margin-right:0">\n                		<div class="title4" translate="usercenter.privilege.PROFESSIONAL_EDITION">专业版</div>\n                		<div class="content">\n                			<div class="price">　　　<span>1.9</span><em>万元/365天</em></div>\n                			<div><a class="btn btn-primary" ng-show="currentUser.memberType!=\'3\'" ng-click="upgradeAccount($event,3)">立即升级</a>\n                			<a class="btn btn-primary" ng-show="currentUser.memberType==\'3\'" ng-click="upgradeAccount($event,3)">再次购买</a>\n                			</div>\n                		</div>\n                	</div>\n                </div>\n                <div class="help mt20 mb20">\n                	<h4 translate="usercenter.privilege.ENTERPRISE_MEMBER_SERVICE">易企秀企业会员服务</h4>\n                	<a class="text-primary" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324" target="_blank" translate="usercenter.privilege.BEFORE_UPGRADE_TIP">购买前必读</a>\n                	<!-- <a class="text-primary mr20">常见问题</a> -->\n                </div>\n                <div>\n				    <table class = "table table-bordered" >\n				        <tr>\n				            <td colspan="2" class="col-th" translate="usercenter.privilege.SERVICE_ITEMS">服务内容</td>\n				            <td class="th3" translate="usercenter.privilege.FREE_EDITION">免费版</td>\n				            <td class="th4" translate="usercenter.privilege.BASIC_EDITION">基础版</td>\n				            <td class="th5" translate="usercenter.privilege.ADVANCE_EDITION">高级版</td>\n				            <td class="th6" translate="usercenter.privilege.PROFESSIONAL_EDITION">专业版</td>\n				        </tr>\n				        <tr>\n				            <td class="th1 td1" translate="usercenter.privilege.MEMBER_PRICE">会员价格</td>\n				            <td class="th2 td2"></td>\n				            <td class="td1" translate="usercenter.privilege.FREE_EDITION_PRICE">0元/365天</td>\n				            <td class="td2" translate="usercenter.privilege.BASIC_EDITION_PRICE">99元/30天</td>\n				            <td class="td1" translate="usercenter.privilege.ADVANCE_EDITION_PRICE">500元/180天</td>\n				            <td class="td2" translate="usercenter.privilege.PRO_EDITION_PRICE">19,000元/365天</td>\n				        </tr>\n				        <tr>\n				            <td rowspan="3" class="td2" translate="usercenter.privilege.LAST_PAGE_BOTTOM_LABEL">尾页/底标</td>\n				            <td class="ltd" translate="usercenter.privilege.TECH_SUPPORT_LABEL">15秀点“易企秀技术支持”底标</td>\n				            <td class="td2" translate="usercenter.privilege.FREE">免费</td>\n				            <td translate="usercenter.privilege.FREE">免费</td>\n				            <td class="td2" translate="usercenter.privilege.FREE">免费</td>\n				            <td translate="usercenter.privilege.FREE">免费</td>\n				        </tr>\n				        <tr>\n				            <td class="td2 ltd" translate="usercenter.privilege.UNION_LABEL">30秀点品牌联合底标</td>\n				            <td class="td1" translate="usercenter.privilege.FREE">免费</td>\n				            <td class="td2" translate="usercenter.privilege.FREE">免费</td>\n				            <td class="td1" translate="usercenter.privilege.FREE">免费</td>\n				            <td class="td2" translate="usercenter.privilege.FREE">免费</td>\n				        </tr>\n				        <tr>\n				            <td class="ltd" translate="usercenter.privilege.NONE_AD">服务期去除易企秀友情展示尾页(100秀点/个)</td>\n				            <td class="td2" translate="usercenter.privilege.WHOLE_PRICE">全价</td>\n				            <td translate="usercenter.privilege.DISCOUNT_BASIC_EDITION">9.5折</td>\n				            <td class="td2" translate="usercenter.privilege.DISCOUNT_ADVANCE_EDITION">9折</td>\n				            <td translate="usercenter.privilege.DISCOUNT_PRO_EDITION">300次</td>\n				        </tr>\n				        <tr>\n				            <td class="td1" translate="usercenter.privilege.LOADING_LOGO">载入logo</td>\n				            <td class="td2 ltd" translate="usercenter.privilege.LOADING_LOGO_TIP">服务期内替换场景载入logo图标(100秀点/个)</td>\n				            <td class="td1" translate="usercenter.privilege.WHOLE_PRICE">全价</td>\n				            <td class="td2" translate="usercenter.privilege.DISCOUNT_BASIC_EDITION">9.5折</td>\n				            <td class="td1" translate="usercenter.privilege.DISCOUNT_ADVANCE_EDITION">9折</td>\n				            <td class="td2" translate="usercenter.privilege.DISCOUNT_PRO_EDITION">300次</td>\n				        </tr>\n				        <tr>\n				            <td class="td2" translate="usercenter.privilege.PRESENT_XD">赠送秀点</td>\n				            <td class="ltd" translate="usercenter.privilege.UPGRADE_PRESENT_XD">购买赠送秀点</td>\n				            <td class="td2">0</td>\n				            <td>100</td>\n				            <td class="td2">500</td>\n				            <td translate="usercenter.privilege.NONE">无</td>\n				        </tr>\n				        <tr>\n				            <td class="td1" translate="usercenter.privilege.CDN_SERVICE">访问提速</td>\n				            <td class="td2 ltd" translate="usercenter.privilege.CDN_SERVICE_WHOLE_COUNTRY">场景访问全国CDN加速服务</td>\n				            <td class="td1" translate="usercenter.privilege.CDN_SERVICE_1">1倍</td>\n				            <td class="td2" translate="usercenter.privilege.CDN_SERVICE_1">1倍</td>\n				            <td class="td1" translate="usercenter.privilege.CDN_SERVICE_1">1倍</td>\n				            <td class="td2" translate="usercenter.privilege.CDN_SERVICE_2">2倍</td>\n				        </tr>\n				        <tr>\n				            <td rowspan="2" class="td2" translate="usercenter.privilege.PRODUCT_FUNCTIONS">产品功能</td>\n				            <td class="ltd" translate="usercenter.privilege.CREATE_ENTERPRISE_SUB_ACCOUNT">可以创建企业子账号</td>\n				            <td class="td2">30</td>\n				            <td>30</td>\n				            <td class="td2">50</td>\n				            <td>100</td>\n				        </tr>\n				        <tr>\n				            <td class="ltd td2" translate="usercenter.privilege.ENTERPRISE_SCENE_TEMPLATE">定制专属企业样例场景和模板</td>\n				            <td class="eqf-right4 td1"></td>\n				            <td class="eqf-right4 td2"></td>\n				            <td class="eqf-right4 td1"></td>\n				            <td class="eqf-right4 td2"></td>\n				        </tr>\n				        <tr>\n				            <td class="td2" translate="usercenter.privilege.UPGRADE_METHOD">开通方式</td>\n				            <td class="td3"></td>\n				            <td class="td2"><a class="text-primary" ng-click="upgradeAccount($event)" ng-class="{disabled:(currentUser.type==1 && companyInfo.status==0) || currentUser.type==2}" ng-disabled="(currentUser.type==1 && companyInfo.status==0) || currentUser.type==2">{{upgradeInfo || (companyInfo.status==0 ? \'正在升级\' : \'立即升级\')}}</a></td>\n				            <td class="td3">\n				              <a class="text-primary" ng-click="upgradeAccount($event,1)" translate="usercenter.privilege.UPGRADE_BTN_TIP" ng-show="!currentUser.memberType"></a>\n				              <a class="text-primary" ng-click="upgradeAccount($event,1)" translate="usercenter.privilege.UPGRADE_CONTINUE_TIP" ng-show="currentUser.memberType==\'1\' || currentUser.memberType==\'2\'"></a>\n				              <a class="text-primary disabled" translate="usercenter.privilege.NOT_BUY" ng-show="currentUser.memberType==\'3\'"></a>\n				            </td>\n				            <td class="td2">\n				            	<a class="text-primary" ng-click="upgradeAccount($event,2)" translate="usercenter.privilege.UPGRADE_BTN_TIP" ng-show="currentUser.memberType==\'1\' || !currentUser.memberType"></a>\n				              	<a class="text-primary" ng-click="upgradeAccount($event,2)" translate="usercenter.privilege.UPGRADE_CONTINUE_TIP" ng-show="currentUser.memberType==\'2\'"></a>\n				              	<a class="text-primary disabled" translate="usercenter.privilege.NOT_BUY" ng-show="currentUser.memberType==\'3\'"></a>\n				            </td>\n				            <td class="td3"><a class="text-primary" ng-show="currentUser.memberType!=\'3\'" ng-click="upgradeAccount($event,3)">立即升级</a>\n				            <a class="text-primary" ng-show="currentUser.memberType==\'3\'" ng-click="upgradeAccount($event,3)">再次购买</a>\n				            </td>\n				        </tr>\n				    </table>\n				</div>\n            </div>\n        </div>\n	</div>\n</div>');
            }]),
        b.module("usercenter/tab/reset.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/reset.tpl.html", '<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="quXiao()">\n        <span aria-hidden="true">×</span>\n    </button>\n    <h4 class="modal-title">{{title || (\'usercenter.account.CHANGE_PASSWORD\' | translate)}}</h4>\n</div>\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label for="inputMail" class="col-sm-3 text-right" translate="usercenter.account.EMAIL">邮箱</label>\n            <div class="col-sm-7">\n                <span>\n                    {{userinfo.noRel || userinfo.loginName}}\n                </span>\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="inputPassword3" class="col-sm-3 control-label" translate="usercenter.account.ORIGINAL_PASSWORD">原始密码</label>\n            <div class="col-sm-7">\n                <input type="password" class="form-control" ng-model="password.old" placeholder="原始密码" ng-keyup="$event.keyCode == 13 ? reset() : null" ng-class="{error: oldPassError}" ng-blur="checkOldPassword()" class="form-control">\n                <p class="error" ng-show="oldPassError">{{oldPassError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="inputNewPass" class="col-sm-3 control-label" translate="usercenter.account.NEW_PASSWORD">新密码</label>\n            <div class="col-sm-7">\n                <input id="inputNewPass" type="password" class="form-control" ng-model="password.newPw"  placeholder="{{\'usercenter.account.NEW_PASSWORD_TIP\' | translate}}" ng-keyup="$event.keyCode == 13 ? reset() : null" ng-class="{error: passError}" ng-blur="checkPassword()" required>\n                <p class="error" ng-show="passError">{{passError}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="inputRepeatPassword" class="control-label col-sm-3" translate="usercenter.account.REPEAT_PASSWORD">确认密码</label>\n            <div class="col-sm-7">\n                <input id="inputRepeatPassword" type="password" class="form-control" ng-model = "password.confirm" placeholder="{{\'usercenter.account.REPEAT_PASSWORD\' | translate}}" ng-keyup="$event.keyCode == 13 ? reset() : null" ng-blur="checkRepeatPassword()">\n                <p class="error" ng-show="rPassError">{{rPassError}}</p>\n            </div>\n        </div>\n    </form>     \n</div>\n<div class="modal-footer">\n    <a class="modal-cancle" ng-click="quXiao()" translate="usercenter.account.CANCEL">取消</a>\n    <a class="btn btn-primary" ng-click="reset()" translate="usercenter.account.SAVE">保存</a>\n</div>')
            }]),
        b.module("usercenter/tab/server.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/server.tpl.html", '        <div class="server-contain clearfix" ng-controller="ServerTabCtrl">\n            <div class="server-dns server-same p20">\n                <h3 translate="usercenter.server.REL_DNS">\n                    绑定域名\n                </h3>\n                <!--status: 1 正常使用\n                    status: 2 审核中\n                    status: 3 审核失败\n                    status: 4 停用\n                    status: 5 到期-->\n                <div class="mt20" ng-show="!isShowBindPanel">\n                    <div ng-show="status==1">\n                        <div class="pass-check">\n                            <div class="check-icon">\n                                <span class="eqf-yes2"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span translate="usercenter.server.DNS_PASSED" translate-value-url="{{domainInfo.url}}">您申请的绑定域名{{domainInfo.url}}已经通过审核</span>\n                                <div class="line"></div>\n                                <h3 translate="usercenter.server.CHECK_PASSED" translate-value-restTime="{{domainInfo.restTime}}">\n                                    已通过审核，可放心使用，剩余有效期{{domainInfo.restTime}}天\n                                </h3>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="status==2">\n                        <div class="is-in-check">\n                            <div class="check-icon">\n                                <span class="eqf-clock-o"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span translate="usercenter.server.SUBMITTED_AUDIT" translate-value-url="{{domainInfo.url}}">您申请的绑定域名{{domainInfo.url}}已经提交审核</span>\n                                <div class="line"></div>\n                                <h3 translate="usercenter.server.AUDIT" \n                                translate-value-ipAddress="{{domainInfo.ipAddress}}">审核中，请确保申请的域名解析指向指定IP地址：{{domainInfo.ipAddress}}</h3>\n                                <div class="check-tip" translate-value-ipAddress="{{domainInfo.ipAddress}}">\n                                    申请的域名需要解析至指定的IP地址：{{domainInfo.ipAddress}}，才能通过审核并正常使用。\n                                    <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8604" target="_blank"><ins>如何操作？</ins></a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="status==3">\n                        <div class="is-in-fail">\n                            <div class="check-icon">\n                                <span class="eqf-fobden2"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span translate-value-url="{{domainInfo.url}}" translate="usercenter.server.DNS_UN_PASSED">您申请的绑定域名{{domainInfo.url}}未通过易企秀审核，请重新申请</span>\n                                <div class="line"></div>\n                                <h3>\n                                    {{domainInfo.remark}}\n                                </h3>\n                            </div>\n                        </div>\n                        <div class="btn-dns">\n                            <a class="btn btn-primary btn-small" ng-click="reApply()" translate="usercenter.server.RE_APPLY">重新申请</a>\n                        </div>\n                    </div>\n                    <div ng-show="status==5 ||status == 4">\n                        <div class="is-in-fail">\n                            <div class="check-icon">\n                                <span class="eqf-fobden2"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span translate-value-url="{{domainInfo.url}}" translate="usercenter.server.DNS_EXPIRE">您申请的绑定域名{{domainInfo.url}}已到期</span>\n                                <div class="line"></div>\n                                <h3 translate="usercenter.server.DNS_OVERDUE">\n                                    域名已到期，需要重新申请\n                                </h3>\n                            </div>\n                        </div>\n                        <div class="btn-dns">\n                            <a style="margin-top: 360px;" ng-click="reApply()" translate="usercenter.server.RE_APPLY">重新申请</a>\n                        </div>\n                    </div>\n                </div>\n                <div ng-show="isShowBindPanel">\n                    <div class="step-bar mt20" ng-init="step=1;">\n                        <span class="circle fl" ng-class="{\'fill-color\': step == 1}" ng-click="goStep(1);">1</span>\n                        <span class="line"></span>\n                        <span class="circle circle-center" ng-class="{\'fill-color\': step == 2}" ng-click="goStep(2);">2</span>\n                        <span class="line"></span>\n                        <span class="circle fr" ng-class="{\'fill-color\': step == 3}" ng-click="goStep(3);">3</span>\n                    </div> \n                    <div class="step1-container" ng-show="step==1;">\n                        <span class="mt20" translate="usercenter.server.REL_DNS_TIP1">域名绑定通过审核后，绑定后的场景即可以使用新域名进行分享</span>\n                        <span translate="usercenter.server.REL_DNS_TIP2">场景网址显示为：申请得绑定域名＋场景编码</span>\n                        <div class="scene-exp">\n                            <img src="{{CLIENT_CDN}}assets/images/usercenter/beforebind.png">\n                        </div>\n                        <div class="scene-exp new-dom">\n                            <img src="{{CLIENT_CDN}}assets/images/usercenter/afterbind.png">\n                        </div>\n                        <div class="btn-dns">\n                            <a class="btn btn-primary btn-small" ng-click="goStep(step+1)" translate="usercenter.server.REL_DNS">绑定域名</a>\n                        </div>\n                    </div>\n                    <div class="step2-container" ng-show="step==2;">\n                        <p class="line-height36">\n                            <span translate="usercenter.server.DECLARE">声明：</span>\n                            <br/>\n                            <span translate="usercenter.server.DECLARE1">\n                                1.申请绑定得域名需要经过工信部网站备案。\n                            </span>\n                            <br/>\n                            <span translate="usercenter.server.DECLARE2">\n                                2.若域名所属放在使用中违反相关法律法规，易企秀有权随时取消域名绑定。\n                            </span>\n                            <br/>\n                            <span translate="usercenter.server.DECLARE3">\n                                3.您提供的信息仅会在域名绑定环节中使用。\n                            </span>\n                            <br/>\n                            <span>\n                                4.达到一定申请条件的用户，方可免费获得域名绑定授权。\n                            </span>\n                            <span class="tip"><a class="enable" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8604&page=1&extra=#pid64503" target="_blank">查看申请条件</a></span>\n                        </p>\n                        <div class="btn-dns">\n                            <a class="modal-cancle" ng-click="goStep(step-1);" translate="usercenter.server.DISAGREE">不同意</a>\n                            <a class="btn btn-primary" ng-click="goStep(step+1);" translate="usercenter.server.AGREE">同意</a>\n                        </div>\n                    </div>\n                    <div class="step3-container" ng-show="step==3;">\n                        <form class="form-horizontal mt20" role="form">\n                            <div class="form-group">\n                                <label class="col-sm-2 control-label" translate="usercenter.server.DOMAIN">域名网址</label>\n                                <div class="col-sm-7">\n                                    <input type="text" class="form-control" ng-model="model.url" placeholder="{{\'usercenter.server.DOMAIN_TIP\' | translate}}" autofocus ng-class="{error: domainFormatErr}" ng-blur="checkDomainFormat(model)">\n                                    <p class="error" ng-show="domainFormatErr">{{domainFormatErr}}</p>\n                                </div>\n                                <div class="col-sm-2 tip">\n                                    <a ng-click="isOpenDomain = true;isOpenTip = false;">   <span class="enable" translate="usercenter.server.DOMAIN_IS">什么是域名?</span>\n                                    </a>\n                                </div>\n                            </div>\n                            <div class="form-group" ng-init="someVariable = null">\n                                <label class="col-sm-2 text-right" translate="usercenter.server.SELECT_DATA">选择有效期</label>\n                                <div class="col-sm-7">\n                                    <div class="square" ng-repeat="type in domainInfo.typeList">\n                                        <div class="radio-square checked">\n                                            <em></em>\n                                            <input type="radio" ng-model="model.day" id="\'{{type.value}}\'" ng-value="type" ng-disabled="true">\n                                        </div>\n                                        <label for="\'{{type.value}}\'">{{type.label}}<span translate="usercenter.server.XD">秀点</span>{{type.value}}<span translate="usercenter.server.DAY">天</span></label>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label class="control-label col-sm-2" translate="usercenter.server.APPLICATION_ID">应用ID</label>\n                                <div class="col-sm-7">\n                                    <input type="text" class="form-control" ng-model="model.appId" placeholder="{{usercenter.server.WECHAT_ID | translate}}">\n                                </div>\n                                <div class="col-sm-2 tip">\n                                    <a ng-click="isOpenTip = true;isOpenDomain = false;">   <span class="enable" translate="usercenter.server.WHAT_KEY">什么是应用ID和应用密钥</span>\n                                    </a>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label class="control-label col-sm-2" translate="usercenter.server.APPLICATION_KEY">应用密钥</label>\n                                <div class="col-sm-7">\n                                    <input type="password" class="form-control" ng-model="model.secretId" placeholder="{{\'usercenter.server.WECHAT_APPSECRECT\' | translate}}">\n                                </div>\n                                <div class="col-sm-3 tip">\n                                    <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8604" target="_blank" translate="usercenter.server.WHY_WRITE_KEY">   \n                                        <span class="enable" translate="usercenter.server.WHY_WRITE_KEY">为什么填写应用ID和应用密钥\n                                        </span>\n                                    </a>\n                                </div>\n                            </div>\n                        </form>\n                        <div class="clearfix">\n                            <div class="operation col-sm-offset-2 text-right">\n                                <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=8604" target="_blank"><ins translate="usercenter.server.OPTION">不会操作？</ins></a>\n                            </div>\n                            <div class="btn-dns">\n                                <a class="modal-cancle" ng-click="goStep(step-1)" translate="usercenter.server.LAST_STEP">上一步</a>\n                                <button class="btn btn-primary" ng-click="submit()" translate="usercenter.server.SUBMIT_APPLY">提交申请</button>\n                            </div>\n                        </div>\n                        <div ng-show="isOpenTip" class="tip-modal">\n                            <div style="margin: 30px 45px;">\n                                <span style="font-size: 24px;color:#66666" translate="usercenter.server.WHAT_KEY_ANSWER">\n                                    应用ID和应用密钥是微信公众号得开发者信息\n                                </span>\n                            </div>\n                            <div>\n                                <div style="margin:0 45px;">\n                                    <img src="{{CLIENT_CDN}}assets/images/usercenter/OR3.png">\n                                    <span style="margin-left: 10px;" translate="usercenter.server.WHAT_KEY_ANSWER1">绑定域名后，场景可以使用得地址</span>\n                                </div>\n                                <div style="margin:45px 45px 20px 45px;">\n                                    <img style="position:absolute;" src="{{CLIENT_CDN}}assets/images/usercenter/OR4.png">\n                                    <p>\n                                        <span translate="usercenter.server.WHAT_KEY_ANSWER2">\n                                        您只需要做以下操作即可实现这样得效果：\n                                        </span>\n                                        <br/>\n                                        <span translate="usercenter.server.WHAT_KEY_ANSWER3">\n                                        1.申请微信公众号\n                                        </span>\n                                        <br/>\n                                        <span translate="usercenter.server.WHAT_KEY_ANSWER4">\n                                        2.将申请得域名网址提交到公众号--js安全域名接口\n                                        </span>\n                                        <br/>\n                                        <span translate="usercenter.server.WHAT_KEY_ANSWER5">\n                                        3.在公众号开发者信息中获取应用ID和应用密钥，并在申\n                                        </span>\n                                        <br/>\n                                        <!--请绑定域名时添加他们\n                                        <br/>-->\n                                        <span translate="usercenter.server.WHAT_KEY_ANSWER6">\n                                        4.提交至易企秀审核，并由易企秀提交至工信部备案\n                                        </span>\n                                    </p>\n                                </div>\n                                <div class="btn-dns1" style="text-align:center;">\n                                    <a class="btn btn-primary" ng-click="isOpenTip = false;"><span translate="usercenter.server.ENSURE">确定</span></a>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-show="isOpenDomain" class="tip-modal" style="height: 400px;">\n                            <div style="margin: 30px 45px;">\n                                <span style="font-size: 24px;color:#66666" translate="usercenter.server.DOMAIN_IS">\n                                    什么是域名\n                                </span>\n                            </div>\n                            <div>\n                                <div style="margin:45px 45px 20px 45px;">\n                                    <p style="margin-left: 0;" translate="usercenter.server.DOMAIN_IS_ANSWER">\n                                        域名级数是指一个域名由多少级组成，域名的各个级别被“.”分开，简而言之，有多少个点就是几级域名。如：eqxiu.com为一级域名，而bbs.eqxiu.com为二级域名。\n                                    </p>\n                                </div>\n                                <div class="btn-dns1" style="text-align:center;">\n                                    <a class="btn btn-primary" ng-click="isOpenDomain = false;"><span translate="usercenter.server.ENSURE">确定</span></a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>')
            }]),
        b.module("usercenter/tab/userinfo.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/userinfo.tpl.html", '<div class="userinfo-contain">             \n    <form class="form-horizontal">\n        <fieldset ng-disabled="!editInfo.isEditable">  \n            <div class="form-group">\n                <label class="col-sm-2 text-right" translate="usercenter.userinfo.LOGIN_NAME">\n                    登录帐号\n                </label>\n                <div class="col-sm-10">\n                    <span>\n                        {{userinfo.noRel || userinfo.loginName}}\n                    </span>\n                </div>\n            </div>\n            <div ng-if="userProperty.type !==2">\n                <div class="form-group">\n                    <label for="username" class="col-sm-2 control-label" translate="usercenter.userinfo.NAME">\n                        用户名\n                    </label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control" ng-model = "userinfo.name" id="username" placeholder="{{\'usercenter.userinfo.NAME\' | translate}}" maxlength = "12">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label class="col-sm-2 text-right" translate="usercenter.userinfo.SEX">性别</label>\n                    <div class="col-sm-6">\n                        <div class="square fl">\n                            <div class="radio-square" ng-class="{checked: userinfo.sex==1}">\n                                <em></em>\n                                <input type="radio" ng-model = "userinfo.sex" id="inlineRadio1" value="1">\n                            </div>\n                            <label translate="usercenter.userinfo.SEX_MALE">男</label>\n                        </div>\n                        <div class="square ml20 fl">\n                            <div class="radio-square" ng-class="{checked: userinfo.sex==2}">\n                                <em></em>\n                                <input type="radio" ng-model = "userinfo.sex" id="inlineRadio2" value="2">\n                            </div>\n                            <label translate="usercenter.userinfo.SEX_FEMALE">女</label>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="inputPhone" class="col-sm-2 control-label" translate="usercenter.userinfo.PHONE">手机</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control usertel" ng-model = "\n                        userinfo.phone" id="inputPhone" placeholder="{{\'usercenter.userinfo.PHONE\' | translate}}" ng-class="{error: userPhoneFormatErr}" ng-blur="checkUserPhone(userinfo)">\n                        <p class="error" ng-show="userPhoneFormatErr">{{userPhoneFormatErr}}</p>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="inputQQ" class="col-sm-2 control-label" translate="usercenter.userinfo.QQ">QQ</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control userqq" ng-model = "userinfo.qq" id="inputQQ" placeholder="{{\'usercenter.userinfo.QQ\' | translate}}" ng-class="{error: qqFormatErr}" ng-blur="checkUserQQ(userinfo);">\n                        <p class="error" ng-show="qqFormatErr">{{qqFormatErr}}</p>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="inputMobile" class="col-sm-2 control-label" translate="usercenter.userinfo.TEL">座机</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control usermobile" ng-model = "\n                        userinfo.tel" id="inputMobile" placeholder="{{\'usercenter.userinfo.TEL\' | translate}}" ng-class="{error: userTelFormatErr}"\n                        ng-blur="checkUserTel(userinfo)">\n                        <p class="error" ng-show="userTelFormatErr">{{userTelFormatErr}}</p>\n                    </div>\n                </div>\n            </div>\n            <div ng-show="userProperty.type == 2">\n                <div class="form-group">\n                    <label for="inputCompany" class="col-sm-2 control-label" translate="usercenter.userinfo.COMPANY_NAME">企业</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control" ng-model = "companyInfo.name" id="inputCompany" placeholder="{{\'usercenter.userinfo.COMPANY_NAME\' | translate}}">\n                    </div>\n                </div> \n                <div class="form-group">\n                    <label for="inputWeb" class="col-sm-2 control-label" translate="\n                    usercenter.userinfo.COMPANY_WEBSITE">网址</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control" ng-model = "companyInfo.website" id="inputWeb" placeholder="{{\'usercenter.userinfo.COMPANY_WEBSITE\' | translate}}">\n                    </div>\n                </div> \n                <div class="form-group">\n                    <label for="inputAddress" class="col-sm-2 control-label" translate="usercenter.userinfo.COMPANY_ADDRESS">地址</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control" ng-model = "companyInfo.address" id="inputAddress" placeholder="{{\'usercenter.userinfo.COMPANY_ADDRESS\' | translate}}">\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="inputcontacts" class="col-sm-2 control-label" translate="usercenter.userinfo.COMPANY_CONTACTS">联系人</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control" ng-model = "companyInfo.contacts" id="inputcontacts" placeholder="{{\'usercenter.userinfo.COMPANY_CONTACTS\' | translate}}" maxlength = "12">\n                    </div>\n                </div> \n                <div class="form-group">\n                    <label for="inputCompPhone" class="col-sm-2 control-label" translate="\n                    usercenter.userinfo.COMPANY_MOBILE">手机</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control tel" ng-model = "companyInfo.tel" id="inputCompPhone" placeholder="{{\'usercenter.userinfo.COMPANY_MOBILE\' | translate}}" ng-class="{error: telFormatErr}" ng-blur="checkCompanyTel(companyInfo)">\n                        <p class="error" ng-show="telFormatErr">{{telFormatErr}}</p>\n                    </div>\n                </div>  \n                <div class="form-group">\n                    <label for="inputCompTel" class="col-sm-2 control-label" translate="\n                    usercenter.userinfo.COMPANY_TEL">座机</label>\n                    <div class="col-sm-6">\n                        <input type="text" class="form-control mobile" ng-model = "\n                        companyInfo.mobile" id="inputCompTel" placeholder="\n                        {{\'usercenter.userinfo.COMPANY_TEL\' | translate}}" ng-class="{error: mobileFormatErr}" ng-blur="checkCompanyMobile(companyInfo);">\n                        <p class="error" ng-show="mobileFormatErr">{{mobileFormatErr}}</p>\n                    </div>\n                </div>                                                        \n            </div>\n        </fieldset>  \n        <div class="form-group">\n            <div class="col-sm-offset-2 col-sm-10">\n                <a class="btn btn-primary btn-small" ng-show = "editInfo.isEditable \n                && userProperty.type !==2" ng-click = "saveUserInfo(userinfo)" translate="usercenter.userinfo.SAVE">保存</a>\n                <a class="btn btn-primary btn-small" ng-show = "editInfo.isEditable \n                && userProperty.type ==2" ng-click = "saveCompanyInfo(companyInfo)" translate="usercenter.userinfo.SAVE">保存</a>\n                <a class="btn" ng-click = "cancel();" ng-show = "editInfo.isEditable" translate="usercenter.userinfo.CANCEL">取消</a>\n            </div>\n            <div class="col-sm-offset-2 col-sm-10">\n                <a class="btn btn-primary btn-small" ng-click = "\n                editInfo.isEditable = true;" ng-disable="false" ng-show="!editInfo.isEditable"><span translate="usercenter.userinfo.EDIT">编辑</span></a>\n            </div>\n        </div>\n    </form>\n</div>')
            }]),
        b.module("usercenter/tab/xd.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/tab/xd.tpl.html", '<div class="xd-contain">\n    <div class="xd-desc pb20">\n        <p class="fr"><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=297&extra=page%3D1" target="_blank" translate="usercenter.xd.XD_LINK">什么是秀点？</a></p>\n        <div><span translate="usercenter.xd.MY_XD">我的秀点</span>: <h3>{{xdCounts}}</h3>\n            &nbsp;个\n    </div>\n    <div class="xiudian mt20 clearfix">\n        <div class="zhuansong fr">\n            <div><a class="btn btn-primary" ng-click="buyXd()" translate="usercenter.xd.BUY_XD">购买秀点</a></div>\n            <div><a class="btn btn-green mt20" ng-click="openXd()" translate="usercenter.xd.GIVE_XD">购买秀点</a></div>\n            <!-- <img ng-click="openXd()" ng-src="{{CLIENT_CDN}}assets/images/zengsong.png" title="{{\'usercenter.xd.GIVE_XD\' | translate}}" /> -->\n        </div>\n        <div class="shiyong_xd">\n            <ul class="clearfix">\n                <li class="huode"><span translate="usercenter.xd.ADD_XD">获得秀点</span><p>{{getXdStat.add | fixnum}}</p></li>\n                <li class="song"><span translate="usercenter.xd.GIVE_XD">转送秀点</span><p>{{getXdStat.give | fixnum}}</p></li>\n                <li class="shiyong"><span translate="usercenter.xd.PAY_XD">使用秀点</span><p>{{getXdStat.pay | fixnum}}</p></li>\n                </ul>\n        </div>\n    </div>\n    <div class="xd-table">\n        <p class="xd-detail" translate="usercenter.xd.XD_DETAIL">秀点详情：</p>\n        <table class = "table table-bordered">\n            <tbody>\n                <tr>\n                    <th class = "col-sm-2" translate="usercenter.xd.XD_TYPE">类型</th>\n                    <th class = "col-sm-2" translate="usercenter.xd.XD_TIMES">时间</th>\n                    <th class = "col-sm-2" translate="usercenter.xd.XD_COUNT">数量</th>\n                    <th class = "col-sm-6" translate="usercenter.xd.XD_USE">使用详情</th>\n                </tr>\n                <tr ng-repeat = "xd in xdLogs" style = "text-valign:middle;">\n                    <td>{{xd.bizTitle}}</td>\n                    <td>{{xd.optTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</td>\n                    <td>{{xd.xd | fixnum}}</td>\n                    <td>{{xd.remark}}</td>\n                </tr>\n            </tbody>\n        </table>\n        <div class="clearfix" ng-show = "XdCount > 10">\n            <pagination style="float: left" first-text="{{\'usercenter.xd.FIRST_PAGE\' | translate}}" last-text="{{\'usercenter.xd.LAST_PAGE\' | translate}}" previous-text="&lsaquo;" next-text="&rsaquo;" max-size="5" items-per-page="XdpageSize" total-items="XdCount" ng-click="XdpageChanged(XdcurrentPage)" ng-model="XdcurrentPage" boundary-links="true" rotate="true" num-pages="XdNumPages"></pagination>\n            <div class="current_page">\n                <input type="text" ng-model="XdcurrentPage" ng-keyup="$event.keyCode == 13 ? XdpageChanged(XdcurrentPage) : null">\n                <a ng-click="XdpageChanged(XdcurrentPage)" class="go">GO</a>\n                <span><span translate="usercenter.xd.CURRENT_PAGE1">当前</span>: {{XdcurrentPage}} / {{XdNumPages}} <span translate="usercenter.xd.CURRENT_PAGE2">页</span></span>\n            </div>\n        </div>                                    \n    </div>\n</div>\n')
            }]),
        b.module("usercenter/transfer.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/transfer.tpl.html", '<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n    <h4 class="modal-title" translate="usercenter.xd.GIVE_XD">转送秀点</h4>\n</div>\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label class="col-sm-3 text-right" translate="usercenter.xd.MY_XD">我的秀点</label>\n            <div class="col-sm-7">\n                <span>{{xdCount}}</span><span translate="usercenter.xd.XD_COUNT_UNIT">个</span>\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="inputMail" class="col-sm-3 control-label" translate="usercenter.xd.TRANSFER_ACCOUNT">转送账号</label>\n            <div class="col-sm-7">\n                <input id="inputMail" type="text" class="form-control" ng-model="userXd.toUser" placeholder="{{\'usercenter.xd.TRANSFER_ACCOUNT_TIP\' | translate}}" ng-class="{error: mailFormatErr}" ng-blur="checkEmailFormat(userXd)">\n                <p class="error" ng-show="mailFormatErr">{{mailFormatErr}}</p>\n            </div>\n        </div>\n        <div class="form-group">\n            <label for="inputPass" class="col-sm-3 control-label" translate="usercenter.xd.TRANSFER_COUNT">转送数目</label>\n            <div class="col-sm-7">\n                <input id="inputPass" type="text" class="form-control" maxlength = "12" ng-model="userXd.xdCount" placeholder="{{\'usercenter.xd.TRANSFER_COUNT_TIP\' | translate}}" ng-class="{error: xdFormatErr}" ng-blur="checkXdFormat(userXd)">\n                <p class="error" ng-show="xdFormatErr">{{xdFormatErr}}</p>\n                <p class="error" ng-show="relErr">{{relErr}}</p>\n            </div>\n        </div>\n    </form>\n</div>\n<div class="modal-footer">\n    <a class="modal-cancle" ng-click="cancel()">取消</a>\n    <a type="button" class="btn btn-primary" ng-click="confirm()" translate="usercenter.xd.CONFIRM">确认</a>\n</div>\n<div class="action" style="text-align:center;background-color:#CCC;padding:3px 0;"><a style="font-size:12px;" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1959&extra=page%3D1" target="_blank" translate="usercenter.xd.XD_TRANSFER_TIP">秀点转送是用户个人行为，请注意防范风险！</a></div>');
            }]),
        b.module("usercenter/upgrade.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/upgrade.tpl.html", '<div class="modal-body">\n	<button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">\n        <span aria-hidden="true">×</span>\n    </button>\n	<div class="confirm-msg">\n		<h4 class="text-left" translate="usercenter.privilege.TITLE">尊敬的易企秀用户</h4>\n    	<p class="mt20 text-left ml20 mr20" style="line-height: 1.5em;">感谢您对易企秀的支持，在您继续升级账号前，请事先阅读下<a class="text-primary" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324" target="_blank">支付说明</a>，以免在升级过程中出现不必要的问题。</p>\n	</div>\n</div>\n<!-- <div class="btn-contain btn-small" style="text-align:right">\n    <a class="btn btn-primary mr20" ng-click="confirm()">我知道了</a>\n</div> -->\n<div class="text-right pb20 btn-small">\n    <a class="btn btn-primary mr20" ng-click="confirm()">立即购买</a>\n</div>')
            }]),
        b.module("usercenter/upgradeTip.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/upgradeTip.tpl.html", '<div class="modal-header">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <span>{{msgObj.title || (\'dialog.TIP\' | translate)}}</span>\n</div>\n<div class="modal-body">\n    <div class="msg">   由于涉及到的会员权益较多、金额较大，为保障会员利益请联系我们进行线下支付并升级!联系电话：010-58813666\n    </div>\n</div>\n<div class="btn-contain btn-small">\n	<a class="btn btn-primary" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324&extra=page%3D1" target="_blank" translate="usercenter.privilege.KNOW_DETAIL"></a>\n	<a ng-click="cancel();" class="btn btn-primary" translate="usercenter.privilege.CONFIRM_TO_KNOW"></a>\n</div>')
            }]),
        b.module("usercenter/userCenterGuid.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/userCenterGuid.tpl.html", '<div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0;z-index:10000" ng-click="showGuide()" ng-show="isFirstLogin" ng-controller="userCenterGuideCtrl" id="companyVip" >\n\n    <!--场景列表页面-用户引导1-->\n\n    <div class="bind-email-guide"  ng-if="isCompanyVip" >\n        <h1><em translate="usercenter.guide.DEAR">亲爱的易企秀会员：</em><span ng-click="showNextGuide()">&times;</span></h1>\n        <p translate="usercenter.guide.CONGRATULATE">恭喜您成为易企秀企业会员，现在您将尊享以下特权：</p>\n        <ul class="guide-describe">\n            <li>\n                <ul>\n                    <li style="list-style:disc" translate="usercenter.guide.CREATE_BRANCH">创建子账号、管理子账号，做好企业场景安全</li>\n                    <li style="list-style:disc" translate="usercenter.guide.CREATE_TPL"> 创建企业独享的场景模板、页面模板</li>\n                    <li style="list-style:disc" translate="usercenter.guide.BOTTOM_MARK"> 15秀点“易企秀技术支持”底标免费用</li>\n                    <li style="list-style:disc" translate="usercenter.guide.COMBINED_MARK"> 30秀点品牌联合底标免费用</li>\n                    <li style="list-style:disc" translate="usercenter.guide.SELF_LOGO"> 场景加载LOGO自定义（100秀点付费）</li>\n                    <li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77" target="_blank" translate="usercenter.guide.KNOW_DETAIL">了解详情</a></li>\n                </ul>\n            </li>\n        </ul>\n        <div class="user-select">\n            <p><input type="checkbox" style="margin: 4px; font-size:14px" checked="checked" ng-click="isShow()" /><em translate="usercenter.guide.NO_TIP">不在提示</em></p>\n            <button class="btn btn-main operation" style="line-height: 20px;" ng-click="showNextGuide()" translate="usercenter.guide.KNEW">知道了</button>\n        </div>\n    </div>\n\n    <div class="bind-email-guide" ng-if="!isCompanyVip" >\n        <h1><em translate="usercenter.guide.DEAR">亲爱的易企秀会员：</em><span ng-click="showNextGuide()">&times;</span></h1>\n        <p translate="usercenter.guide.THANKS">感谢您成为易企秀会员，现在您可以免费升级为企业会员，升级后您将尊享以下特权：</p>\n        <ul class="guide-describe">\n            <li>\n                <ul>\n                    <li style="list-style:disc" translate="usercenter.guide.CREATE_BRANCH">创建子账号、管理子账号，做好企业场景安全</li>\n                    <li style="list-style:disc" translate="usercenter.guide.CREATE_TPL"> 创建企业独享的场景模板、页面模板</li>\n                    <li style="list-style:disc" translate="usercenter.guide.BOTTOM_MARK"> 15秀点“易企秀技术支持”底标免费用</li>\n                    <li style="list-style:disc" translate="usercenter.guide.COMBINED_MARK"> 30秀点品牌联合底标免费用</li>\n                    <li style="list-style:disc" translate="usercenter.guide.SELF_LOGO"> 场景加载LOGO自定义（100秀点付费）</li>\n                    <li><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=77" target="_blank" translate="usercenter.guide.KNOW_DETAIL">了解详情</a></li>\n                </ul>\n            </li>\n\n        </ul>\n        <div class="user-select">\n            <p><input type="checkbox" style="margin: 4px; font-size:14px" ng-click="isShow()" /><em translate="usercenter.guide.NO_TIP">不再提示</em></p>\n            <button class="btn btn-main operation" style="line-height: 20px;" ng-click="showNextGuide()" translate="usercenter.guide.KNEW">知道了</button>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("usercenter/usercenter.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("usercenter/usercenter.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id = "usercenter" class="min-contain">\n  <div class = "main clearfix">\n    <div class = "user-contain p20 clearfix">\n        <div class = "user-img mr20">\n            <img ng-src="{{userinfo.headImg.indexOf(\'http\') < 0 ? (PREFIX_FILE_HOST + userinfo.headImg) : headImg }}" width="160px" height="160px" />\n            <div class = "upload_button text-center" ng-click = "customerUpload()" translate="usercenter.userinfo.UPLOAD_AVATAR">上传头像</div>\n        </div>\n        <div class="user-message">\n            <p>用户名 ：{{userinfo.name}}</p>\n            <p>\n                <span translate="usercenter.userinfo.XD_COUNT">我的秀点</span>\n                    ：{{xdCounts}}\n                <span translate="usercenter.userinfo.XD_COUNT_UNIT">\n                    个\n                </span> \n                <a ng-click="buyXd()" translate="usercenter.userinfo.XD_GET">     获取秀点\n                </a>\n            </p>\n            <p>\n                <em translate="usercenter.userinfo.MESSAGE">站内信息 ：</em>\n                <a href="#/usercenter/message">\n                    {{msgCount}}\n                </a><em translate="usercenter.userinfo.MSG_COUNT">条</em>\n            </p>\n            <p>\n                <a ng-if="applyInfo == 0" ng-click="applyShow()" style="padding-left:0" translate="usercenter.APPLY_NAME_TIP">申请成为秀客</a>\n                <span ng-if="applyInfo == 1" translate="usercenter.userinfo.APPLY_INFO1">您已成为秀客</span>\n                <span ng-if="applyInfo == 2" translate="usercenter.userinfo.APPLY_INFO2">秀客审核中</span>\n                <span ng-if="applyInfo == 3"><em translate="usercenter.userinfo.APPLY_INFO3">秀客申请未通过</em>\n                    <a ng-click="applyShow()" style="padding-left:10px" translate="usercenter.userinfo.APPLY_AGGIN">再次申请秀客</a>\n                </span>\n                <!-- <a ng-if="applyInfo !== 0" ng-click="applyShow()" style="padding-left:0">编辑秀客信息</a> -->\n                <a style="padding-left:10px;" href="#/active" target="_blank">2亿资源秀客扶持计划<em class="fail" style="font-size:12px;">Hot</em></a>\n            </p>\n        </div>\n    </div>\n    <div class = "content mt20">\n        <ul class="nav nav-bg">\n            <li ng-class="{active: tabid == \'userinfo\'}"><a ng-click="goBaseInfo()" translate="usercenter.userinfo.BASE_INFO">基础信息</a></li>\n            <li ng-class="{active: tabid == \'account\'}"><a ng-click="goAccount()" translate="usercenter.userinfo.ACCOUNT_SAFE">账号安全</a></li>\n            <li ng-class="{active: tabid == \'xd\'}"><a ng-click="goXd()" translate="usercenter.userinfo.XD_COUNT">我的秀点</a></li>\n            <li ng-class="{active: tabid == \'privilege\'}"><a ng-click="goPrivilege()" translate="usercenter.userinfo.PRIVILEGE">我的特权</a></li>\n            <li ng-class="{active: tabid == \'invitation\'}"><a ng-click="goInvitation()" translate="usercenter.userinfo.INVITATION">我的邀请</a></li>\n            <li ng-class="{active: tabid == \'message\'}"><a ng-click="goMessage()" translate="usercenter.userinfo.MESSAGE">站内消息</a></li>\n            <li ng-if="isDomainAccessable" ng-class="{active: tabid == \'server\'}"><a ng-click="goServer()" translate="usercenter.userinfo.ADVANCE_SERVICE">高级服务</a></li>\n            <li ng-if="isAllowedHistory" ng-class="{active: tabid == \'history\'}"><a ng-click="goHistory()">我的回收站</a></li>\n        </ul>        \n        <div class="tab-content">\n            <div class="tab-pane" ng-class="{active: tabid == \'userinfo\'}" id="userinfo">\n                <div ng-include="\'usercenter/tab/userinfo.tpl.html\'"></div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'account\'}" id="account">\n                <div ng-include="\'usercenter/tab/account.tpl.html\'" ng-controller="UsercenterAccountCtrl"></div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'xd\'}">\n                <div ng-include="\'usercenter/tab/xd.tpl.html\'"></div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'invitation\'}">\n                <div ng-include="\'usercenter/tab/invitation.tpl.html\'" ng-controller="InvitationCtrl"></div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'message\'}" style = "background-color: #fff">\n                <div ng-include="\'usercenter/tab/message.tpl.html\'"></div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'privilege\'}">\n                <div ng-include="\'usercenter/tab/privilege.tpl.html\'" ng-controller="PrivilegeCtrl"></div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'server\'}">\n                <div ng-include="\'usercenter/tab/server.tpl.html\'"></div>\n            </div>\n            <div class="tab-pane" ng-class="{active: tabid == \'history\'}">\n                <div ng-include="\'usercenter/tab/history.tpl.html\'" ng-controller="UsercenterHistoryCtrl"></div>\n            </div>            \n        </div>\n    </div>\n  </div>\n</div>\n<div ng-include="\'usercenter/userCenterGuid.tpl.html\'"></div>\n<div ng-include="\'footer.tpl.html\'"></div>')
            }]),
        b.module("templates-common", ["directives/inputColor.tpl.html", "directives/lineChart.tpl.html", "directives/mapeditor.tpl.html", "directives/page-tpl-types.tpl.html", "directives/pieChart.tpl.html", "directives/select.tpl.html", "directives/toolbar.tpl.html", "security/login/form.tpl.html", "security/login/reset.tpl.html", "security/login/toolbar.tpl.html", "security/register/otherregister.tpl.html", "security/register/register.tpl.html"]),
        b.module("directives/inputColor.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("directives/inputColor.tpl.html", '<div class="eqc-input-color" ng-style="{backgroundColor: selectColor}">\n    <div x="{{x}}" y="{{y}}" ng-model="selectColor" colorpicker="{{colorMode}}" colorpicker-position="right"></div>\n    <a class="eqf-bg" ng-click="selectColor = defaultColor"></a>\n</div>')
            }]),
        b.module("directives/lineChart.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("directives/lineChart.tpl.html", '<canvas id="chart-area" width="300" height="300"/>')
            }]),
        b.module("directives/mapeditor.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("directives/mapeditor.tpl.html", '\n\n<div class="col-lg-6">\n	<div class="input-group">\n	  <input type="text" class="form-control" ng-model="address" placeholder="{{\'common.mapeditor.ADDRESS_PLACEHOLDER\' | translate}}">\n	  <span class="input-group-btn">\n	    <button ng-click="searchAddress()" class="btn btn-default" type="button">\n            <span translate="common.mapeditor.SEARCH">搜索</span>\n        </button>\n	  </span>\n	</div><!-- /input-group -->\n</div><!-- /.col-lg-6 -->\n<div id="r-result"></div>')
            }]),
        b.module("directives/page-tpl-types.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("directives/page-tpl-types.tpl.html", '<div class="btn-group" style="padding: 0;">\n    <div class="dropdown">\n        <a class="btn dropdown-toggle first-child" data-toggle="dropdown" title="{{\'common.template.TPL\' | translate}}" style=" color: #fff;" translate="common.template.TPL">\n            页面模板\n            &nbsp;\n            <b class="caret">\n            </b>\n        </a>\n        <ul class="dropdown-menu size-menu">\n            <li ng-repeat="type in pageTplTypes">\n                <a ng-href="#/scene/create/{{type.value}}?pageId=1">\n                    {{type.name}}\n                </a>\n            </li>\n        </ul>\n    </div>\n</div>')
            }]),
        b.module("directives/pieChart.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("directives/pieChart.tpl.html", '<canvas id="chart-area" width="300" height="300"/>')
            }]),
        b.module("directives/select.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("directives/select.tpl.html", '<div class="">\n    \n    <div class="eqc-mask" ng-click="showList($event)">\n        <div class="eqc-name">{{current.name}}</div>\n        <span class="more eqf-clickmore"></span>\n    </div>\n    <div class="eqc-drop-down-list">\n        <div class="list">\n            <div class="eqc-scroll" eqd-scroll="{{scrollType}}">\n                <ul class="clearfix" ng-click="selectItem($event)">\n                    <li ng-repeat="item in list"\n                        ng-class="{active: item == current}"\n                        ng-style="{fontFamily: item.fontFamily}" class="eqc-target">{{item.name}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>')
            }]),
        b.module("directives/toolbar.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("directives/toolbar.tpl.html", '<div class="btn-toolbar" id="btn-toolbar"  data-role="editor-toolbar">\n    <div id="fontFamily" class="btn-group" ng-show="showCustomFamilyFont">\n        <div class="dropdown font-dropdown">\n            <a class="btn dropdown-toggle hint--bottom hint--rounded" data-toggle="dropdown" data-hint="{{\'common.toolbar.XIU_TEXT\' | translate}}"><i class="eqf-brush"></i><b class="caret"></b></a>\n            <ul class="dropdown-menu fontname-menu" style="max-height: 350px;overflow-y:auto;">\n            </ul>   \n        </div>      \n    </div>\n    <div class="btn-group">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle first-child hint--bottom hint--rounded" data-toggle="dropdown" data-hint="{{\'common.toolbar.FONT_SIZE\' | translate}}">\n                <i class="eqf-text-word2">\n                </i>\n                &nbsp;\n                <b class="caret">\n                </b>\n            </a>\n            <ul class="dropdown-menu size-menu">\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 96px">\n                        96px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 64px">\n                        64px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 48px">\n                        48px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 32px">\n                        32px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 24px">\n                        24px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 20px">\n                        20px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 18px">\n                        18px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 16px">\n                        16px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 14px">\n                        14px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 13px">\n                        13px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 12px">\n                        12px\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="btn-group">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle hint--bottom hint--rounded" data-toggle="dropdown" data-hint="{{\'common.toolbar.FONT_COLOR\' | translate}}">\n                <i class="eqf-a">\n                </i>\n                &nbsp;\n                <b class="caret">\n                </b>\n            </a>\n            <ul class="dropdown-menu color-menu">\n            </ul>\n        </div>\n    </div>\n    <div class="btn-group">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle hint--bottom hint--rounded" data-toggle="dropdown" data-hint="{{\'common.toolbar.BACKGROUND_COLOR\' | translate}}">\n                <i class="eqf-a text-bg">\n                </i>\n                &nbsp;\n                <b class="caret">\n                </b>\n            </a>\n            <ul class="dropdown-menu bgcolor-menu">\n            </ul>\n        </div>\n    </div>\n    <div class="btn-group">\n        <a class="btn hint--bottom hint--rounded" data-edit="bold" data-hint="{{\'common.toolbar.FONT_BOLD\' | translate}}">\n            <i class="eqf-b">\n            </i>\n        </a>\n    </div>\n    <div class="btn-group">\n        <a class="btn hint--bottom hint--rounded" data-edit="justifyleft" data-hint="{{\'common.toolbar.FONT_LEFT\' | translate}}">\n            <i class="eqf-left3">\n            </i>\n        </a>\n        <a class="btn hint--bottom hint--rounded" data-edit="justifycenter" data-hint="{{\'common.toolbar.FONT_CENTER\' | translate}}">\n            <i class="eqf-minddle">\n            </i>\n        </a>\n        <a class="btn hint--bottom hint--rounded" data-edit="justifyright" data-hint="{{\'common.toolbar.FONT_RIGHT\' | translate}}">\n            <i class="eqf-right3">\n            </i>\n        </a>\n    </div>\n    <div class="btn-group">\n        <a class="btn hint--bottom hint--rounded" ng-click="increaseLineHeight()" data-hint="{{\'common.toolbar.INCREASE_LINEHEIGHT\' | translate}}">\n            <i class="eqf-linebig"></i>\n        </a>\n        <a class="btn hint--bottom hint--rounded" ng-click="decreaseLineHeight()" data-hint="{{\'common.toolbar.DECREASE_LINEHEIGHT\' | translate}}">\n            <i class="eqf-linesmall"></i>\n        </a>\n    </div>\n    <div class="btn-group" ng-show="showLinkOption">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle createLink hint--bottom hint--rounded" data-toggle="dropdown" sceneid = "{{sceneId}}" data-hint="{{\'common.toolbar.CREATE_LINK_TITLE\' | translate}}"><i class="eqf-link3"></i></a>\n            <div class="dropdown-menu input-append" style="min-width: 335px;padding:4px 4px 14px 19px;">\n                <div class = "span4" style="margin-top:10px;">\n                    <input name = "external" ng-model = "link" class = "span2" type = "radio" value = "external" style="vertical-align:middle;margin:0px;"> <span translate="common.toolbar.WEBSITE">网站地址：</span>\n                    <input class="span2" placeholder="URL" sceneid="{{sceneId}}" type="text" data-edit="createLink" value = "http://" style="border-radius:0px;width:200px;height:35px;" />\n                </div>\n                <div class="span4" style="margin-top: 10px;text-align: right;">\n                    <a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;margin-right: 30px;" target="_blank">\n                        <span translate="common.toolbar.CREATE_SHORT_LINK">生成短链接</span>\n                    </a>\n                </div>\n                <!-- <input class="span2" placeholder="URL" sceneid="{{sceneId}}" type="text" data-edit="createLink" value="http://"/>   -->\n                <div class = "span4" style = "margin-top: 10px;">\n                     <input name = "internal" ng-model = "link" class = "span2" type = "radio" value = "internal" style="vertical-align:middle;margin:0px;"> <span translate="common.toolbar.SCENE_PAGE">场景页面：</span>\n                    <select class = "span2" style = "width: 200px;height:35px;" ng-options = "page.name for page in internalLinks" sceneid="{{sceneId}}" data-edit = "createLink" pageid="{{internalLink.id}}" ng-model = "internalLink"></select> \n                </div>           \n                <div style="text-align:center"><a class="btn-main" style="color:#FFF; margin-top:20px;" dropdown-toggle><span translate="common.toolbar.CONFIRM">确定</span></a></div>\n            </div>\n        </div>        \n    </div>\n    <div class="btn-group" ng-show="showLinkOption">\n        <a class="btn hint--bottom hint--rounded" data-edit="unlink" data-hint="清除超链接"><i class="eqf-linkout"></i></a>\n    </div>\n    <div class="btn-group">\n        <a class="btn last-child hint--bottom hint--rounded" data-edit="RemoveFormat"  data-hint="清除样式">\n            <i class="eqf-clear">\n            </i>\n        </a>\n    </div>\n</div>')
            }]),
        b.module("security/login/form.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("security/login/form.tpl.html", '<div class = "login-form-section">\n  <div class = "login-content">\n    <form class = "loginForm" novalidate ng-show = "showLogin && !sendPassword">\n      <div class = "section-title">\n        <h3 translate="login.TITLE">登录</h3>\n        <a class="bbs-help-tip" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1903&extra=">\n          <span class="eqf-exclaquestion-sign"></span></a>\n      </div>\n      <div class="error-wrap">\n        <div class="alert alert-danger" role="alert" ng-show="authReason">\n            {{authReason}}\n        </div>\n        <div class="alert alert-danger" role="alert" ng-show="authError">\n            {{authError}}\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-envelope"></i></span>\n          <input class = "form-control" id = "username" name="userEmail" placeholder="{{\'login.ACCOUNT\' | translate}}" type="text" ng-model="user.email" ng-keyup="$event.keyCode == 13 ? login() : null" required autofocus add-class/>\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="pass" placeholder="{{\'login.PASS\' | translate}}" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? login() : null" required add-class/>\n        </div>\n      </div>\n      <div class="textbox-wrap validate clearfix" ng-if="isValidateCodeLogin">\n        <div>\n          <script type="text/javascript" load-script ng-src="{{validateCodeUrl}}"></script>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <div class = "pull-left">\n          <!-- <a ng-click = "openRegister()"><ins>还没注册？</ins></a> -->\n          <input style="margin-top:0px;"  name="rememberAcc" ng-model="user.rememberAcc" type="checkbox" value="true" />&nbsp;<span translate="login.REMEMBER_ACCOUNT">记住账号</span>\n          <input style="margin-top:0px; margin-left: 20px;" name="rememberMe" ng-model="user.rememberMe" type="checkbox" value="true" />&nbsp;<span translate="login.REMEMBER_PASS">记住密码</span>\n        </div>\n        <div class = "pull-right">\n          <!-- <a ng-click = "showLogin = false;"><ins>忘记密码?</ins></a> -->\n          <a ng-click = "rotate(showLogin)"><ins translate="login.FORGET_PASS">忘记密码？</ins></a>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <a class="btn pull-left btn-main" ng-click="login()">\n          <span translate="login.LOGIN_ACTION">登录</span>\n        </a>\n        <a class="btn pull-right btn-grey0" ng-click="openRegister()">\n          <span translate="login.REGISTER_ACTION">注册</span>\n        </a>\n      </div>\n      <div class="login-form-action clearfix third-party" style="line-height:30px;">\n        <span translate="login.THIRDPARTY_LOGIN">第三方账号登录</span>\n        <a class="wx_login" ng-click="openThirdPatyWindow(\'weixin\')"><span class="wx_title"></span></a>\n        <a class="qq_login" ng-click="openThirdPatyWindow(\'qq\')"><span class="qq_title"></span></a>\n        <!-- <a ng-href="{{weiboUrl}}" class="weibo_login"><span class="weibo_title"></span></a> -->\n      </div>\n    </form>\n    <form class = "retrieveForm" ng-show = "!showLogin && !sendPassword" novalidate>\n      <div class = "section-title">\n        <h3 translate="login.FIND_PASS">找回密码</h3>\n      </div>\n      <div class="error-wrap">\n        <div class="alert alert-danger" role="alert" ng-show="retrieveError">\n            {{retrieveError}}\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-envelope"></i></span>\n          <input class = "form-control" id = "retrieveUsername" name="userEmail" placeholder="{{\'login.EMAIL\' | translate}}" type="text" ng-model="retrieve.email" ng-keyup="$event.keyCode == 13 ? retrievePassword() : null" required autofocus add-class/>\n        </div>\n      </div>\n      <!-- <div class="textbox-wrap validate">\n        <label class="input-label mid" for="validateCode">验证码</label>&nbsp;\n        <div class = "input-group" style = "display:inline-block;">\n          <input name="validateCode" id="retrieveretrieveValidateCode" ng-model="retrieveretrieve.validateCode" style="width: 100px; font-weight: bold; display: inline-block; height: 32px;" type="text" ng-keyup="$event.keyCode == 13 ? retrieveretrievePassword() : null" add-class>\n        </div>&nbsp;\n        <img class="mid validateCode" onclick="$(\'.validateCodeRefresh\').click();" ng-src="{{validateCodeSrc}}">&nbsp;\n        <a class="mid validateCodeRefresh" onclick="$(\'.validateCode\').attr(\'src\', PREFIX_URL + \'servlet/validateCodeServlet?\'+new Date().getTime());" href="javascript:">看不清楚</a>\n      </div> -->\n      <div class="login-form-action clearfix">\n        <div>\n          <script type="text/javascript" load-script ng-src="{{validateCodeUrl}}"></script>\n        </div>\n        <div class = "pull-right" style = "padding-top: 5px;">\n          <a ng-click = "rotate(showLogin)"><ins translate="login.REMEMBERED">我想起来了</ins></a>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <button type="button" class="btn btn-success pull-left btn-main" ng-click="retrievePassword()"><span translate="login.FIND_PASS">找回密码</span></button>\n        <button type="button" class="btn btn-success pull-right btn-grey0" ng-click="reset()"><h3 translate="login.RESET_PASS">重置</h3></button>\n      </div>\n    </form>\n    <div ng-show = "sendPassword" class = "section-title text-center">\n        <h3 translate="login.CONGRATIDUATION">恭喜你，找回密码成功。</h3>\n    </div>\n    <div class = "send_email" ng-show = "sendPassword">\n      <span translate="login.HAS_SEND">重置密码的链接已发送到你的 {{retrieve.email}}邮箱，登录邮箱重置密码吧！</span>\n    </div>\n    <div class = "login-form-tip" ng-show = "!sendPassword && !unExist">\n      <h6 translate="login.BROWSER_TIP">为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</h6>\n    </div>\n  </div>\n</div>')
            }]),
        b.module("security/login/reset.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("security/login/reset.tpl.html", '<div class = "login-form-section">\n  <div class = "login-content">\n    <form class = "loginForm" novalidate>\n      <div class = "section-title">\n        <h3>重设密码</h3>\n      </div>\n      <div class="error-wrap">\n        <div class="alert alert-danger" role="alert" ng-show="authReason">\n            {{authReason}}\n        </div>\n        <div class="alert alert-danger" role="alert" ng-show="authError">\n            {{authError}}\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="pass" placeholder="新密码" type="password" ng-model="password.newPw" placeholder="密码6~16个字符(英文字母或数字 区分大小写)" ng-keyup="$event.keyCode == 13 ? reset() : null" ng-blur="checkPassword()" required add-class/>\n          <div ng-show="passError" class="error_text">\n              {{passError}}\n          </div>\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="confirmPassword" placeholder="确认密码" type="password" ng-model="password.confirm" ng-keyup="$event.keyCode == 13 ? reset() : null" ng-blur="checkRepeatPassword()" required add-class/>\n          <div ng-show="rPassError" class="error_text">\n              {{rPassError}}\n          </div>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <button type="button" class="btn btn-success pull-left blue-btn" ng-click="reset()">确认</button>\n        <button type="button" class="btn btn-success pull-right reset-btn" ng-click="cancel()">取消</button>\n      </div>\n    </form>\n    <div class = "login-form-tip">\n      <h6>为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</h6>\n    </div>\n  </div>\n</div>')
            }]),
        b.module("security/login/toolbar.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("security/login/toolbar.tpl.html", '<ul class="nav pull-right" style="margin-right:0px;"><!-- \n    <li class="divider-vertical" ng-click="goCats =!goCats" ></li> -->\n    <li class="" style="width:150px;margin-top:-2px;cursor:pointer;" ng-show="sendXd.state"><img ng-click="openReg()" ng-src="{{CLIENT_CDN}}assets/images/xiudianyaoqing.png" /></li>\n\n    <li class="mes_con dropdown hint--bottom hint--rounded" data-hint="{{\'header.MESSAGE_CENTER\' | translate}}">\n        <a class = "mes_content eqf-envelope dropdown-toggle" style ="position: relative;" ng-click = "openMsgPanel()">     \n        </a>\n        <span class = "mes_count" ng-if = "newMsgCount">{{newMsgCount}}</span>\n        <div class="dropdown-menu msg_pannel" role="menu" forbidden-close>\n            <div class = "clearfix">\n                <div class = "panel_title pull-left">\n                <em translate="header.MESSAGE_TIP_PREFIX">您有</em><span class = "mes_new">{{count}}</span><em translate="header.MESSAGE_TIP_SUFFIX">新消息</em>\n            </div>\n            <div class = "panel_title text-right" style = "margin-left:0px;">\n                <a ng-click = "setRead()" ng-if = "false" translate="header.SET_AS_READ">设为已读消息</a>\n            </div>\n            </div>\n            <div class = "panel_content head_list_newMsg" ng-class = "{content_status_new: newMsg.status == 1,content_status_yidu: newMsg.status == 2}" ng-repeat = "newMsg in newMsgs"><a href="#/usercenter/message" class="ellipsis" ng-bind-html="newMsg.content"></a></div>\n            <div class = "panel_more text-center">\n                <a href="#/usercenter/message" translate="header.READ_ALL">查看全部消息 >></a>\n            </div>\n        </div>\n    </li>\n    <li ng-show="isAuthenticated()" class="custom_img">\n        <div style="height:200px;" class="head_hover" ng-mouseover="showCode = true" ng-mouseleave="showCode = false"><!-- <span>{{currentUser.loginName}}</span> -->\n            <div class="vip_c">\n                <span style="text-align:left;">\n                    <img ng-src="{{currentUser.headImg.indexOf(\'http\') < 0 ? (PREFIX_FILE_HOST + currentUser.headImg):headImg }}" style = "width: 30px; height: 30px;"/>\n                    <span class="userLevel-icon" ng-switch="currentUser.type">\n                        <span class="eqf-nomarluser" ng-switch-when="1"></span>\n                        <span class="eqf-vipuser" ng-switch-when="3"></span>\n                        <span class="eqf-companyuser" ng-switch-when="2"></span>\n                        <span class="eqf-companyuser" ng-switch-when="21"></span>\n                        <span class="eqf-serviceuser" ng-switch-when="4"></span>\n                    </span>\n                </span>\n                <span class="vip_po" style = "top:0px;" ng-show = "isVendorUser">\n                    <img ng-src="{{CLIENT_CDN}}assets/images/main/fuwushang.png" style = "width:18px; height: 23px;"/>\n                </span>\n            </div>\n            <div class="head_click box-shadow" style="z-index:10000;" ng-show="showCode == true"> \n                <div>\n                    <a href = "#/usercenter/account">\n                        <span translate="header.USER_CENTER">用户中心</span>\n                    </a>\n                </div>\n                <div>\n                    <a href = "#/usercenter/xd">\n                        <span translate="header.MY_XD">我的秀点</span>\n                    </a>\n                </div>\n                <div><a ng-click="logout()" translate="header.LOGOUT">退出</a></div> \n            </div>\n        </div>\n    </li>\n</ul>  ');
            }]),
        b.module("security/register/otherregister.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("security/register/otherregister.tpl.html", '<form name="formName" novalidate class="login-form">\n    <div class = "text-center">\n        <div style = "position: relative; top: 0px; font-size: 15px;">第三方账号已授权</div>\n        <div style = "margin-top: 15px;">欢迎您&nbsp;<code>{{otherUserInfo.nickname}}</code>&nbsp;<img ng-src = "{{otherUserInfo.figureUrl}}"/>，完善以下信息，就可以使用我们的服务!</div>\n    </div>\n    <div class="login_form">\n        <div class="alert alert-danger" role="alert" ng-show="regErr">\n            {{regErr}}\n        </div>\n\n        <div class="input-wrap">\n            <input name="userEmail" placeholder="邮箱 " type="email" ng-model="user.email" ng-keyup="$event.keyCode == 13 ? fullfil() : null"  required autofocus>       \n        </div>\n        \n        <div class="input-wrap">\n            <input name="pass" placeholder="密码" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? fullfil() : null" required>\n        </div>\n\n        <div class="input-wrap">\n            <input name="repeatPass" placeholder="确认密码" type="password" ng-model="user.repeatPassword" ng-keyup="$event.keyCode == 13 ? fullfil() : null" required>\n        </div>\n\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" ng-model = "user.agreement"> 我已阅读并同意<a href="#/agreement" target = "_blank">《易企秀用户注册协议》</a>\n          </label>\n        </div>\n\n        <div class="login-btn btn-main" ng-click="fullfil()" ng-disabled=\'form.$invalid\'>完&nbsp;&nbsp;善</div>\n        \n    </div>\n</form>\n    \n')
            }]),
        b.module("security/register/register.tpl.html", []).run(["$templateCache",
            function(a) {
                a.put("security/register/register.tpl.html", '<div class = "login-form-section">\n  <div class = "login-content">\n    <form name="regForm" novalidate>\n      <div class = "section-title">\n        <h3 translate="register.TITLE">注册</h3>\n        <a class="bbs-help-tip" id="registerHelp" target="_blank" href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1903&extra=">\n          <span class="eqf-exclaquestion-sign"></span></a>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-user"></i></span>\n          <input class = "form-control" id = "registerName" name="userEmail" placeholder="{{\'register.ACCOUNT\' | translate}}" type="text" ng-model="user.email" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkUsername()" required autofocus add-class />\n          <span ng-show="usernameError" class="error_text">\n            {{usernameError}}\n          </span>\n        </div>\n\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" id="password" name="pass" placeholder="{{\'register.PASS_PLACEHOLDER\' | translate}}" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkPassword()"  required add-class/>\n          <span ng-show="passError" class="error_text">\n            {{passError}}\n          </span>\n        </div>\n      </div>\n\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" id="confirmPassword" name="repeatPass" placeholder="{{\'register.CONFIRM_PLACEHOLDER\' | translate}}" type="password" ng-model="user.repeatPassword" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkRepeatPassword()" required add-class/>\n          <span ng-show="rPassError" class="error_text">\n            {{rPassError}}\n          </span>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <div class="checkbox pull-left">\n          <div class="custom-checkbox">\n            <div class="icheckbox_square-blue" ng-class = "{checked: user.agreement == true, hover: user.agreement == false && hovered == true}">\n              <input id="agreeArgument" class="check-box" type="checkbox" ng-mouseenter = "hovered = true;" ng-mouseleave = "hovered = false;" ng-model = "user.agreement" name="iCheck">\n            </div>\n          </div>\n          <span class="checkbox-text pull-left" translate="register.AGGREMENT">&nbsp;我已阅读并同意<a href="#/agreement" target = "_blank"><span translate="register.PROPOSAL">《易企秀用户注册协议》</span></a></span>\n        </div>\n        <div class = "checkbox pull-right">\n          <a ng-click = "openLogin()" id="havaAccount"><ins translate="register.HAS_ACCOUNT">已有账户?</ins></a>\n        </div>\n      </div>\n      <div class = "login-form-action clearfix">\n        <button type="submit" id="registerBtn" ng-click="register()" class="btn btn-success pull-left btn-main"><span translate="register.REGISTER_ACTION">注册</span></button>\n        <button type="button" id="loginBtn" ng-click="openLogin()" class="btn btn-success pull-right btn-grey0"><span translate="register.LOGIN_ACTION">登录</span>\n        </a></button>\n      </div>\n      <div class="login-form-action clearfix third-party" style="line-height:30px;">\n        <span translate="register.THIRDPARTY_LOGIN">第三方账号登录</span>\n        <a id="wechatLoginBtn" ng-click="openThirdPatyWindow(\'weixin\')" class="wx_login"><span class="wx_title"></span></a>\n        <a id="qqLoginBtn" ng-click="openThirdPatyWindow(\'qq\')" class="qq_login"><span class="qq_title"></span></a>\n        <!-- <a ng-href="{{weiboUrl}}" class="weibo_login"><span class="weibo_title"></span></a> -->\n      </div>\n      <div class = "login-form-tip">\n        <h6 translate="register.BROWSER_TIP">为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</h6>\n      </div>\n    </form>\n  </div>\n</div>')
            }])
    } (window, window.angular);