define(["app"],function(app){app.directive('hoverablePopover',['$rootScope','$timeout','$popover',function($rootScope,$timeout,$popover){return{restrict:"A",scope:true,link:function(scope,element,attrs){element.bind('mouseenter',function(e){$timeout(function(){if(!scope.insidePopover){scope.popover.show();scope.attachEventsToPopoverContent();}},200);});element.bind('mouseout',function(e){$timeout(function(){if(!scope.insidePopover){scope.popover.hide();}},400);});},controller:['$scope','$element','$attrs',function($scope,$element,$attrs){$attrs.scope=$scope;var popover=$popover($element,$attrs);$scope.popover=popover;$scope.insidePopover=false;$scope.attachEventsToPopoverContent=function(){$($scope.popover.$element).on('mouseenter',function(){$scope.insidePopover=true;});$($scope.popover.$element).on('mouseleave',function(){$scope.insidePopover=false;$scope.popover.hide();});};}]};}]);});