define(["app"],function(app){app.directive("areaCascade",function(){return{restrict:'AE',require:'?ngModel',transclude:true,scope:{'province':'=','city':'='},controller:['$scope','$http',function(scope,http){http.post("/area/list?code="+ 100).success(function(data){scope.provinces=data;http.post("/area/list?code="+scope.province).success(function(data){scope.cities=data;})});scope.changeCities=function(){http.post("/area/list?code="+scope.province).success(function(data){scope.cities=data;scope.city=data[0].code;})};}],link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone,scope){element.append(clone);});}}});});